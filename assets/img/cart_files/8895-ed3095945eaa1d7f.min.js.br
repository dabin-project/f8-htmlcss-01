"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2ce77983-d6ce-5c17-a69d-4ded8aa9bf67")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[8895],{48895:(n,e,t)=>{t.d(e,{b:()=>aG});var a=t(239976),o=t(105652),i=t(692376),r=t(854225),l=t(270450),s=t(445019),d=t(7857),c=t(151370),u=t(384203),p=t(157750),g=t(222799),h=t(20002),f=t(798913),x=t(582300),m=t(466082),v=t(222175),b=t(723850),y=t(623002),_=t(598066),w=t(811804),A=t(772293),I=t(323747),N=t(456556);function j(n){let e=(0,h.d4)(n=>n.mirror.appModel.currentPage),t=(0,_.hA)();return(0,N.wA)((n,e,t,a)=>e.flatMap(e=>{let o=n.get(e);if(!o)return null;if(o.containingCanvas===t){if(!a)return e;{let t=[];return(0,x.hD)(n,e,n=>{n.guid===a&&t.push(e)}),t}}}).filter(y.t),n,e,t)}function C(){let n=(0,b.IL)(),e=(0,s.Xr)(g.m),t=!!(0,_.hA)();return o.useCallback((a,o)=>{f.l7.user("clear-annotations",()=>{let i=(0,m.UN)().get(a);if(!i)return;i.removeAnnotation(o);let r=(0,x.kh)((0,m.UN)(),a);n("delete_annotation",{nodeId:a,nodeType:i.type,tlfId:r?.guid,isDevModeFocusView:t}),e(null),A.Y5.triggerAction("commit")})},[e,n,t])}function S(n){return(0,N.Fk)((n,e)=>{let t=n.get(e);if(t?.isInstanceSublayer){let n=(0,v.m)(t);return n?.guid??e}return e},n)}var k=t(142037),L=t(805242),E=t(449979),V=t(687994),T=t(677394),P=t(224542),R=t.n(P),M=t(40297),B=t(393463),O=t(1007),D=t(652154),W=t(819316),F=t(304315),H=t(324880),G=t(294407),z=t(562418),U=t(335793),X=t(105825),$=t(576116),K=t(351525),Y=t(191770),q=t(379141),Q=t(847923),J=t(17453),Z=t(643444),nn=t(223487),ne=t(394396),nt=t(1681),na=t(52465),no=t(910496),ni=t(469543);let nr="ANNOTATIONS_CONTEXT_MENU";function nl(n){let{nodeId:e,annotationIndex:t,parentRect:r}=n,l=(0,nn.q5)(),d=(0,h.wA)(),c=C(),u=function(){let n=(0,s.Xr)(g.m);return o.useCallback(e=>{n(e)},[n])}(),f=(0,o.useMemo)(()=>i.w3z.isReadOnly(i.SES.ANNOTATIONS),[]),x=(0,Q.R)(n=>n.mirror.appModel.keyboardShortcuts),m=(0,K.XR)(),v=(0,b.am)(),y=S(e),_=(0,p.J2)(i.Ez5.uiState().filterAnnotationCategoryId),w={displayText:(0,q.t)("dev_handoff.annotations.hide_annotations"),shortcut:(0,no.c1)(x,"toggle-show-annotations"),callback:()=>{Z.VU.get("toggle-show-annotations","context-menu")()},recordingKey:"hideAnnotations"},A=[{displayText:(0,q.t)("dev_handoff.annotations.copy_link"),callback:()=>{if(null===l)return;let n=(0,ne.jN)({file:l,nodeId:y,isDevHandoff:!0});d(J.S({fileKey:l.key,url:n,source:nt.d.ANNOTATION_CONTEXT_MENU,visualBellMessageOverride:(0,q.t)("dev_handoff.annotations.copied_link_to_clipboard")}))},recordingKey:"copy"},...f?[]:[{displayText:(0,q.t)("dev_handoff.layers.edit_annotation"),callback:()=>{u(t)},recordingKey:"edit"},{displayText:(0,q.t)("dev_handoff.annotations.delete"),callback:()=>{c(e,t)},recordingKey:"delete"}],...m.length>0?[na.w,{displayText:(0,q.t)("dev_handoff.annotations.filter_by"),recordingKey:"filterBy",children:[{displayText:(0,q.t)("fullscreen_actions.show-all-annotation-categories"),callback:()=>{v("filter_annotation_category",{categoryLabel:"all",source:"context_menu"}),i.Ez5?.uiState().filterAnnotationCategoryId.set(null)},icon:(0,a.jsx)(Y.y,{className:"annotation_context_menu--annotationsCategoryAllIcon--VfOWN"}),isChecked:!_,recordingKey:"showAllAnnotationCategories"},na.w,...m.map(n=>{let e=(0,K.uA)(n);return{displayText:e,displayTextClassName:"annotation_context_menu--annotationCategoryLabel--zXECv",icon:(0,a.jsx)("div",{className:"annotation_context_menu--annotationsCategoryIcon--kFXu8",style:{backgroundColor:(0,K.FQ)(n)}}),isChecked:n.id===_,callback:()=>{v("filter_annotation_category",{categoryLabel:e,source:"context_menu"}),i.Ez5?.uiState().filterAnnotationCategoryId.set(n.id)},recordingKey:`showAnnotationCategory-${e}`}})]}]:[],...m.length>0?[w]:[na.w,w]];return(0,a.jsx)(ni.j,{items:A,showPoint:!1,parentRect:r,onSelectItem:n=>n.callback?.(),dispatch:d,lean:"right",leanPadding:0,recordingKey:"viewAnnotationContextMenu"})}var ns=t(735786),nd=t(463297),nc=t(796557),nu=t(254056),np=t(943360),ng=t(415839),nh=t(378721),nf=t(4245),nx=t(730436),nm=t(987368),nv=t(239620),nb=t(379283),ny=t(791330),n_=t(504864),nw=t(96295),nA=t(493083),nI=t(502040),nN=t(600643);function nj({onEnterPressed:n}){let[e]=(0,nA.DF)();return o.useEffect(()=>(0,nI.Sd)(e.registerCommand(nN.if,t=>{if(t&&t.shiftKey)return t.preventDefault(),e.dispatchCommand(nN.XK,void 0);let a=(0,nN.vJ)();if((0,nN.I2)(a)){let n=a.anchor.getNode().getParent();if(n&&(0,nw.Mz)(n)||n&&(0,nw.HY)(n))return!1}return n(t??void 0),!0},nN.Jj)),[e,n]),null}var nC=t(499735),nS=t(577225),nk=t(259714),nL=t(938892),nE=t(536378),nV=t(136393),nT=t(634224),nP=t(236410),nR=t(508902),nM=t(535651),nB=t(245814),nO=t(655793),nD=t(517478),nW=t(363754),nF=t(942356),nH=t(870948),nG=t(497503),nz=t(324753),nU=t(545414),nX=t(318584),n$=t(297860),nK=t(609693),nY=t(747079);let nq="annotation_categories_edit_window--colorCircle--wGE5I",nQ="annotation_categories_edit_window--selected--tPd4M";var nJ=t(493795),nZ=t(208359),n0=(n=>(n[n.INVALID_LABEL=0]="INVALID_LABEL",n[n.INVALID_COLOR=1]="INVALID_COLOR",n[n.DUPLICATE_CATEGORIES=2]="DUPLICATE_CATEGORIES",n))(n0||{});let n5=[r.RN1.YELLOW,r.RN1.ORANGE,r.RN1.RED,r.RN1.PINK,r.RN1.VIOLET,r.RN1.BLUE,r.RN1.TEAL,r.RN1.GREEN];function n1(n){return n.preset!==r.Bll.NONE||null!=n.custom&&null!=n.custom.label&&n.custom.label.trim().length>0&&null!=n.custom.color}function n2({recordingKey:n,index:e,isSelected:t,isLastItem:i,categoryId:r,label:l,color:s,onRemove:d,onColorChange:c,onLabelChange:u,showDraggingIndicator:p}){let g=(0,o.useRef)(null),h=(0,o.useRef)(null),f=(0,o.useCallback)(n=>{("ArrowLeft"===n.key||"ArrowRight"===n.key)&&n.stopPropagation()},[]),x=(0,o.useCallback)(n=>{u(r,n)},[r,u]),m=nd.b({offset:{mainAxis:4}}),v=nH.V6(g),b=ns.b(),y=(0,o.useCallback)(n=>{c(r,n)},[r,c]),_=(0,o.useMemo)(()=>"above"===p?0===e?"annotation_categories_edit_window--withInsertBeforeTop--ejOmF":"annotation_categories_edit_window--withInsertBefore--96uOH":"below"===p?i?"annotation_categories_edit_window--withInsertAfterBottom--ftYiR":"annotation_categories_edit_window--withInsertAfter--1xr2m":null,[p,e,i]),[w,A]=(0,o.useState)(!1),{getTriggerProps:I,getContainerProps:N,getArrowProps:j}=nG.fP({type:"dialog",isOpen:w,onOpenChange:A});return(0,a.jsxs)(nH.fI,{ref:g,className:R()("annotation_categories_edit_window--draggableRowContainer--1sGfa",_,{[nQ]:t}),recordingKey:n,"data-testid":n,children:[(0,a.jsxs)(nz.fh,{children:[(0,a.jsx)(ns.bL,{manager:b.manager,children:(0,a.jsxs)(ns.mc,{...v.getMenuContainerProps(),children:[...v.menuItems]})}),(0,a.jsx)("div",{...b.getContextMenuTriggerProps(),children:(0,a.jsx)(nk.B,{className:"annotation_categories_edit_window--grabber--kupK-",svg:nZ.A})})]}),(0,a.jsx)(nz.fh,{className:"annotation_categories_edit_window--colorSelectCell--p6yy5",children:(0,a.jsxs)(nd.bL,{manager:m.manager,children:[(0,a.jsx)(np.E,{className:R()("annotation_categories_edit_window--colorSelectTrigger--UDIEH",{"annotation_categories_edit_window--active--olAMu":m.manager.isOpen}),recordingKey:nC.Pt(n,"colorSelectTrigger"),...m.getTriggerProps({}),"aria-label":s?(0,q.t)("dev_handoff.annotations.categories_edit_window.category_color_selector.aria_label",{color:s.label()}):(0,q.t)("dev_handoff.annotations.categories_edit_window.category_color_tooltip"),...m.getContextMenuTriggerProps(),"data-tooltip-type":"text","data-tooltip-show-above":!0,"data-tooltip":(0,q.t)("dev_handoff.annotations.categories_edit_window.category_color_tooltip"),children:(0,a.jsxs)("div",{className:"annotation_categories_edit_window--triggerContainer--cbX56",children:[(0,a.jsx)("div",{className:R()(nq,{"annotation_categories_edit_window--noCategoryColor--wyNhk":!s}),style:{backgroundColor:s?.color}}),(0,a.jsx)(nk.B,{className:"annotation_categories_edit_window--caret--OFRN2",svg:nJ.A})]})}),(0,a.jsx)(nd.mc,{className:"annotation_categories_edit_window--colorOptions--2aoXS",children:(0,a.jsx)(nd.B8,{children:n5.map(n=>{let e=K.yu[n];return(0,a.jsx)(nd.q7,{"aria-label":e.label(),onClick:()=>y(n),className:R()("annotation_categories_edit_window--colorOption--0M8ie",{[nQ]:s?.color===e.color}),children:(0,a.jsx)("div",{className:nq,style:{backgroundColor:e.color}})},n)})})})]})}),(0,a.jsx)(nz.fh,{children:(0,a.jsx)("div",{className:"annotation_categories_edit_window--labelInputContainer--G2acb",children:(0,a.jsx)(nU.p,{"aria-label":(0,q.t)("dev_handoff.annotations.categories_edit_window.category_label_aria_label"),ref:h,value:l??"",className:"annotation_categories_edit_window--labelInput--wRqnF",onKeyDown:f,onChange:x,recordingKey:nC.Pt(n,"labelInput"),placeholder:(0,q.t)("dev_handoff.annotations.categories_edit_window.category_label_placeholder")})})}),(0,a.jsx)(nz.fh,{children:(0,a.jsxs)("div",{className:"annotation_categories_edit_window--removeButtonContainer--RzQ1Q",children:[(0,a.jsx)(nh.K,{"aria-label":(0,q.t)("dev_handoff.annotations.categories_edit_window.remove_category_button_label",{category:l??""}),"data-tooltip":(0,q.t)("dev_handoff.annotations.categories_edit_window.remove_category_button"),"data-tooltip-type":"text",recordingKey:nC.Pt(n,"removeButton"),...I({}),children:(0,a.jsx)(n$.r,{})}),(0,a.jsxs)(nG.mc,{...N({style:{width:"calc(320rem / 16)"}}),children:[(0,a.jsx)(nG.i3,{...j()}),(0,a.jsxs)(nD.vo,{children:[(0,a.jsx)(nD.Y9,{children:(0,a.jsx)(nD.hE,{children:(0,q.t)("dev_handoff.annotations.categories_edit_window.remove_category_dialog_title")})}),(0,a.jsx)(nD.nB,{children:(0,q.t)("dev_handoff.annotations.categories_edit_window.remove_category_dialog_body")}),(0,a.jsx)(nD.wi,{children:(0,a.jsxs)(nD.jk,{children:[(0,a.jsx)(nF.$n,{variant:"secondary",recordingKey:nC.Pt(n,"removeCategoryCancel"),onClick:()=>A(!1),children:(0,q.t)("general.cancel")}),(0,a.jsx)(nF.$n,{autoFocus:!0,variant:"destructive",recordingKey:nC.Pt(n,"removeCategoryConfirm"),onClick:()=>{d(r),A(!1)},children:(0,q.t)("general.delete")})]})})]})]})]})})]})}let n4=(0,nY.Ju)(function(n){let e=(0,b.IL)(),{open:t,onClose:i,recordingKey:l}=n,s=nB.hS({open:t,onClose:i}),d=(0,K.XR)(),c=(0,K.mi)(),[u,p]=(0,o.useState)([]),[g,h]=(0,o.useState)({}),[f,x]=(0,o.useState)([]),[v,y]=(0,o.useState)([]);(0,o.useEffect)(()=>{d&&(p(d.map(n=>n.id)),h(d.reduce((n,e)=>(n[e.id]=e,n),{})))},[d]);let _=(0,o.useMemo)(()=>{let n=new Set(Object.values(g).map(n=>n.preset===r.Bll.NONE?n.custom?.color:(0,K.AP)(n.preset)).filter(E.Vq));return n5.find(e=>!n.has(e))??r.RN1.GREEN},[g]),[w,A]=(0,o.useState)(null);(0,o.useEffect)(()=>{A(function(n){let e=new Set;for(let t of n)if(e.add(`${t.preset}-${t.custom?.label}-${t.custom?.color}`),t.preset===r.Bll.NONE&&null!=t.custom){if(null==t.custom.label||0===t.custom.label.trim().length)return{type:0,message:(0,q.t)("dev_handoff.annotations.category_custom.invalid_label")};if(null==t.custom.color)return{type:1,message:(0,q.t)("dev_handoff.annotations.category_custom.invalid_color")}}return e.size!==n.length?{type:2,message:(0,q.t)("dev_handoff.annotations.categories_edit_window.duplicate_categories_message")}:null}(u.map(n=>g[n]).filter(E.Vq)))},[g,u]);let I=(0,o.useRef)(null),[N,j]=(0,o.useState)(null),[C,S]=(0,o.useState)(null),[k,L]=(0,o.useState)(()=>new Set),V=(0,o.useCallback)(n=>{"above"===n.position?(j(n.draggingOverRowIndex),S(null)):(S(n.draggingOverRowIndex),j(null))},[]),T=(0,o.useCallback)(()=>{j(null),S(null)},[]),P=(0,o.useCallback)(n=>{let t=n.map(n=>u[n]).filter(E.Vq);p(t),j(null),S(null);let a=(k.size>0?[...k][0]:null)??null,o=null!==a?u[a]:null;if(o){let n=g[o];if(n){let a=u.indexOf(o),i=t.indexOf(o);a!==i&&e("reorder_annotation_category",{category:n.preset===r.Bll.NONE?n.custom?.label??null:(0,K.h9)(n.preset),oldRank:a,newRank:i})}}},[g,u,k,e]),R=(0,o.useCallback)(()=>{let n={id:(0,nK.fO)((0,m.UN)()),preset:r.Bll.NONE,custom:{label:"",color:_}};x(e=>[...e,n.id]),p(e=>[...e,n.id]),h(e=>({...e,[n.id]:n}))},[_]),M=(0,o.useCallback)(n=>{if(f.includes(n))x(e=>e.filter(e=>e!==n));else{let e=g[n];e&&y(n=>[...n,e.preset===r.Bll.NONE?e.custom?.label??"":(0,K.h9)(e.preset)])}p(e=>e.filter(e=>e!==n)),h(e=>{let{[n]:t,...a}=e;return a})},[f,g]),B=(0,o.useCallback)((n,t)=>{let a=g[n];a&&(h(e=>({...e,[n]:{...a,preset:r.Bll.NONE,custom:{...a.preset===r.Bll.NONE?a.custom:{label:(0,K.h9)(a.preset),color:(0,K.AP)(a.preset)},color:t}}})),e("edit_annotation_category_color",{category:a.preset===r.Bll.NONE?a.custom?.label??null:(0,K.h9)(a.preset),newColor:t,oldColor:a.preset===r.Bll.NONE?a.custom?.color:(0,K.AP)(a.preset)}))},[g,e]),O=(0,o.useCallback)((n,t)=>{let a=g[n];a&&(h(e=>({...e,[n]:{...a,preset:r.Bll.NONE,custom:{...a.preset===r.Bll.NONE?a.custom:{label:(0,K.h9)(a.preset),color:(0,K.AP)(a.preset)},label:t}}})),e("edit_annotation_category_name",{newCategory:t,oldCategory:a.preset===r.Bll.NONE?a.custom?.label:(0,K.h9)(a.preset)}))},[g,e]),D=(0,o.useCallback)(()=>{i()},[i]),W=(0,o.useCallback)(()=>{if(w)return;let n=u.map(n=>g[n]).filter(n1).map(n=>n.preset===r.Bll.NONE?{...n,custom:n.custom?{...n.custom,label:n.custom.label.trim()}:null}:n);if(n.length===d.length&&n.every((n,e)=>{let t=d[e];return!!t&&n.id===t.id&&n.preset===t.preset&&n.custom?.label===t.custom?.label&&n.custom?.color===t.custom?.color})){i();return}f.forEach(n=>{let t=g[n];t&&e("add_annotation_category",{categoryLabel:t.custom?.label??null})}),v.forEach(n=>{e("delete_annotation_category",{categoryLabel:n})}),c(n),i()},[w,u,d,c,i,g,f,v,e]);return(0,a.jsx)(nO.bL,{width:"md",manager:s,"data-testid":"annotation-categories-edit-window-root",children:(0,a.jsxs)(nD.vo,{children:[(0,a.jsxs)(nD.Y9,{children:[(0,a.jsx)(nD.hE,{children:(0,q.tx)("dev_handoff.annotations.categories_edit_window.title")}),(0,a.jsx)(nD.jk,{children:(0,a.jsx)(nh.K,{recordingKey:nC.Pt(l,"addCategory"),"aria-label":(0,q.t)("dev_handoff.annotations.categories_edit_window.add_category_button"),onClick:R,children:(0,a.jsx)(nX.e,{})})})]}),(0,a.jsx)(nD.nB,{padding:0===u.length?void 0:0,children:u.length>0?(0,a.jsx)(nW.bL,{onReorderRows:P,onDragOver:V,onCancelDrag:T,setSelectedRows:L,ref:I,children:u.map((n,e)=>{let t=g[n];return t?(0,a.jsx)(n2,{categoryId:n,color:t.preset===r.Bll.NONE?t.custom?.color!==void 0?K.yu[t.custom.color]:void 0:(0,K.Lw)(t.preset),index:e,isLastItem:e===u.length-1,isSelected:k.has(e),label:t.preset===r.Bll.NONE?t.custom?.label:(0,K.h9)(t.preset),onColorChange:B,onLabelChange:O,onRemove:M,recordingKey:nC.Pt(l,"annotationCategoryItem",e),showDraggingIndicator:N===e?"above":C===e?"below":null},n):null})}):(0,a.jsx)("div",{className:"annotation_categories_edit_window--noCategoriesMessage--Us2KP",children:(0,q.tx)("dev_handoff.annotations.categories_edit_window.no_categories_message")})}),(0,a.jsx)(nD.wi,{children:(0,a.jsxs)(nD.jk,{children:[(0,a.jsx)(nF.$n,{variant:"secondary",onClick:D,recordingKey:nC.Pt(l,"cancel"),children:(0,q.tx)("general.cancel")}),(0,a.jsx)(nF.$n,{onClick:W,disabled:!!w,recordingKey:nC.Pt(l,"done"),htmlAttributes:w?{"data-tooltip-type":"text","data-tooltip":w.message}:{},children:(0,q.tx)("general.done")})]})})]})})}),n3=(0,o.memo)(function(n){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...n,"data-fpl-icon-size":"24",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M9.5 6A1.5 1.5 0 0 1 11 7.5v9A1.5 1.5 0 0 1 9.5 18h-2l-.153-.008A1.5 1.5 0 0 1 6 16.5v-9a1.5 1.5 0 0 1 1.347-1.492L7.5 6zm-2 1a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5zm9-1A1.5 1.5 0 0 1 18 7.5v9a1.5 1.5 0 0 1-1.5 1.5h-2l-.153-.008A1.5 1.5 0 0 1 13 16.5v-9a1.5 1.5 0 0 1 1.347-1.492L14.5 6zm-2 1a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5z",clipRule:"evenodd"})})}),n7=(0,o.memo)(function(n){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...n,"data-fpl-icon-size":"24",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M16.5 13a1.5 1.5 0 0 1 1.5 1.5v2l-.008.153A1.5 1.5 0 0 1 16.5 18h-9a1.5 1.5 0 0 1-1.492-1.347L6 16.5v-2A1.5 1.5 0 0 1 7.5 13zm-9 1a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5zm9-8A1.5 1.5 0 0 1 18 7.5v2l-.008.153A1.5 1.5 0 0 1 16.5 11h-9a1.5 1.5 0 0 1-1.492-1.347L6 9.5v-2A1.5 1.5 0 0 1 7.5 6zm-9 1a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"})})});var n6=t(474164),n9=t(12484),n8=t(997594),en=t(939140),ee=t(434183),et=t(14248),ea=t(157998);let eo="annotation--viewAnnotation--IGiC3 annotation--_annotationBase---1DgM",ei="annotation--wrapperEditing--tgw-m",er="annotation--annotationLine--3ZwO6",el="annotation--annotationLineEndDot--i-FNn",es="annotation--withCategory--NZ3XL",ed="annotation--contentContainer--VILBd",ec="annotation--innerWrapper--VAyRd",eu="annotation--viewAnnotationFadedOut---vfCz",ep="annotation--darkText--DDQkT",eg="annotation--properties--BAhPP",eh="annotation--noValue--ynOiw",ef="annotation--propertyOptionIconSvg--Hk7qw",ex="annotation--icon---g0jy",em="annotation--chit--HkXWE",ev="annotation--solidPaint--kQ7oa",eb="annotation--solidPaintValue--GyCU- annotation--_ellipsis--rAG2o",ey="annotation--variablePill--FKHCg",e_="annotation--viewAnnotationSelected--kg3YJ",ew="annotation--categoryOptionLabel--4t7ln",eA="annotation--buttonReset--OM-MC";function eI({valueProps:n,isHovered:e,variableContainerClassName:t}){let o=(0,ee.u)(n?.variableId);if("mixed"===n.format){let o=n.value.some(n=>!!n.variableId);return(0,a.jsx)("div",{className:R()("annotation--multipleVariableWrapper--6yCpL",o&&"annotation--vertical--zzk-u"),children:n.value.map((i,r)=>(0,a.jsxs)("div",{className:"annotation--multipleVariableValue--dNbtx",children:[(0,a.jsx)(eI,{valueProps:i,isHovered:e,variableContainerClassName:t}),r<n.value.length-1&&!o&&(0,a.jsx)("span",{children:", "})]},r))})}let i=`${(0,et.m3)(n)}`;return o?(0,a.jsx)(ea.wG,{dataTestId:"styledValueVariable",containerClassName:R()(ey,t),text:o.name,disableHover:!0,isHovered:e,tooltip:i}):(0,a.jsx)(a.Fragment,{children:i})}var eN=t(339838),ej=t(466284),eC=t(533472),eS=t(719680);function ek({svg:n}){return(0,a.jsx)(nk.B,{svg:n,className:R()(ex,ef)})}var eL=t(93536);let eE=n=>(0,et.nd)(n,"");function eV({nodeFields:n,variable:e,isPreview:t=!1}){let o=(0,n8.v4)(),i=(0,en.qM)(o,n?.stackSpacing,eE);return e?t?(0,a.jsx)(a.Fragment,{children:e.name}):(0,a.jsx)(ea.wG,{containerClassName:ey,text:e.name,disableHover:!0}):(0,eS.rO)(n?.stackPrimaryAlignItems)?(0,q.tx)("dev_handoff.annotations.auto"):(0,a.jsx)(a.Fragment,{children:i})}function eT({nodeFields:n,isPreview:e=!1}){let t=(0,ee.u)(n?.itemSpacingVariableId);return e?(0,a.jsx)(eV,{nodeFields:n,variable:t,isPreview:!0}):(0,a.jsx)("div",{className:t?void 0:"annotation--spacingProperty--x9hxx annotation--coloredProperty--aLpNu",children:(0,a.jsx)("span",{children:(0,a.jsx)(eV,{nodeFields:n,variable:t})})})}function eP({rawValues:n,variables:e,isPreview:t=!1,isTextProperty:o=!1}){let i=(0,n8.v4)(),r=(0,en.Fm)(i,n,eE,{isTextProperty:o});if(n.length!==e.length)throw Error("<ManySidedProperty /> must have the same number of rawValues and variables");let l=e.map((n,e)=>({value:r[e],format:"pixels",variableId:n?.node_id})),s=l[0]?.variableId;for(let n of l)if(n.variableId!==s){if(t)return(0,q.tx)("fullscreen.mixed");return(0,a.jsx)(eI,{variableContainerClassName:ey,valueProps:{format:"mixed",value:l}})}return s?t?(0,a.jsx)(a.Fragment,{children:s}):(0,a.jsx)(eI,{variableContainerClassName:ey,valueProps:l[0]}):n.some(e=>e!==n[0])?t?(0,q.tx)("fullscreen.mixed"):(0,a.jsx)(eI,{variableContainerClassName:ey,valueProps:{format:"pixels",value:r.join(", ")}}):(0,a.jsx)(eI,{variableContainerClassName:ey,valueProps:{format:"pixels",value:r[0]}})}function eR({nodeFields:n,isPreview:e=!1}){let t=(0,ee.u)(n.paddingTopVariableId),o=(0,ee.u)(n.paddingRightVariableId),i=(0,ee.u)(n.paddingBottomVariableId),r=(0,ee.u)(n.paddingLeftVariableId),{stackTopPadding:l,stackRightPadding:s,stackBottomPadding:d,stackLeftPadding:c}=n,u=[t,o,i,r].some(n=>!!n);return e?(0,a.jsx)(eP,{rawValues:[l,s,d,c],variables:[t,o,i,r],isPreview:!0}):(0,a.jsx)("div",{className:R()(u?void 0:"annotation--paddingProperty--Akapu annotation--coloredProperty--aLpNu"),children:(0,a.jsx)("span",{children:(0,a.jsx)(eP,{rawValues:[l,s,d,c],variables:[t,o,i,r]})})})}function eM({nodeId:n}){let e=(0,N.wA)(e=>{let t=e.get(n);return t?{stackWrap:t.stackWrap,stackMode:t.stackMode}:null},n);if(e?.stackWrap==="WRAP")return(0,a.jsx)(ek,{svg:eL.A});switch(e?.stackMode){case"HORIZONTAL":return(0,a.jsx)(eN.Z,{"data-testid":"Icon24AlLayoutGridHorizontalSmall",className:R()(ex,ef)});case"VERTICAL":return(0,a.jsx)(ej.z,{"data-testid":"Icon24AlLayoutGridVerticalSmall",className:R()(ex,ef)});case"GRID":return(0,a.jsx)(eC.t,{"data-testid":"Icon24GridView",className:R()(ex,ef)});default:return null}}function eB({nodeFields:n}){if("WRAP"===n.stackWrap)return(0,q.tx)("fullscreen.properties_panel.stack_panel.wrap");switch(n.stackMode){case"HORIZONTAL":return(0,q.tx)("dev_handoff.annotations.autolayout_horizontal");case"VERTICAL":return(0,q.tx)("dev_handoff.annotations.autolayout_vertical");case"GRID":return(0,q.tx)("inspect_panel.properties.flow.grid");default:return null}}function eO({nodeFields:n}){if(!n||!n.isStack)return null;if("HORIZONTAL"===n.stackMode)switch(n.stackPrimaryAlignItems){case"MIN":switch(n.stackCounterAlignItems){case"MIN":return(0,q.tx)("dev_handoff.annotations.alignment.top_left");case"CENTER":return(0,q.tx)("dev_handoff.annotations.alignment.left");case"MAX":return(0,q.tx)("dev_handoff.annotations.alignment.bottom_left");case"BASELINE":return(0,q.tx)("dev_handoff.annotations.alignment.baseline_left")}case"CENTER":case"SPACE_BETWEEN":case"SPACE_EVENLY":switch(n.stackCounterAlignItems){case"MIN":return(0,q.tx)("dev_handoff.annotations.alignment.top_center");case"CENTER":return(0,q.tx)("dev_handoff.annotations.alignment.center");case"MAX":return(0,q.tx)("dev_handoff.annotations.alignment.bottom_center");case"BASELINE":return(0,q.tx)("dev_handoff.annotations.alignment.baseline_center")}case"MAX":switch(n.stackCounterAlignItems){case"MIN":return(0,q.tx)("dev_handoff.annotations.alignment.top_right");case"CENTER":return(0,q.tx)("dev_handoff.annotations.alignment.right");case"MAX":return(0,q.tx)("dev_handoff.annotations.alignment.bottom_right");case"BASELINE":return(0,q.tx)("dev_handoff.annotations.alignment.baseline_right")}}switch(n.stackPrimaryAlignItems){case"MIN":switch(n.stackCounterAlignItems){case"MIN":return(0,q.tx)("dev_handoff.annotations.alignment.top_left");case"CENTER":return(0,q.tx)("dev_handoff.annotations.alignment.top_center");case"MAX":return(0,q.tx)("dev_handoff.annotations.alignment.top_right");case"BASELINE":return null}case"CENTER":case"SPACE_BETWEEN":case"SPACE_EVENLY":switch(n.stackCounterAlignItems){case"MIN":return(0,q.tx)("dev_handoff.annotations.alignment.left");case"CENTER":return(0,q.tx)("dev_handoff.annotations.alignment.center");case"MAX":return(0,q.tx)("dev_handoff.annotations.alignment.right");case"BASELINE":return null}case"MAX":switch(n.stackCounterAlignItems){case"MIN":return(0,q.tx)("dev_handoff.annotations.alignment.bottom_left");case"CENTER":return(0,q.tx)("dev_handoff.annotations.alignment.bottom_center");case"MAX":return(0,q.tx)("dev_handoff.annotations.alignment.bottom_right");case"BASELINE":return null}}}function eD({value:n,variableAlias:e,isPreview:t}){let o=(0,ee.u)(e?.id);return o&&t?(0,a.jsx)(a.Fragment,{children:o.name}):(0,a.jsx)(eI,{variableContainerClassName:ey,valueProps:{value:n}})}var eW=t(890030),eF=t(596611),eH=t(206390),eG=t(450332),ez=t(887412);function eU(n,e){let t=(0,h.d4)(n=>n.library),a=(0,ez.f$)(n),o=(0,D.mJ)(a);if(!n||!a||!o)return null;let i=(0,eW.Gp)(n.key,[a],t);if(!i)return null;let r=i.value;return"SUBSCRIBED_WITHOUT_LIBRARY"===i.kind&&(r.style_type=e),r.description=o.description,r.name=o.name,r.isLocal="LOCAL"===i.kind,r}function eX(n,e){if(1===e)return n;let t=(100*e).toLocaleString("en",{maximumFractionDigits:2})+"%";return`${n} \xb7 ${t}`}function e$(n,e,t){let{opacity:a=1}=n;switch(n.type){case"SOLID":{if(!n.color)return null;let{color:o}=n,{a:i=1}=o,r=t({...o,a:i*a},{alphaInPercent:!0});return e?e.name:r}case"GRADIENT_LINEAR":return eX((0,q.t)("dev_handoff.selection_colors.gradient_linear"),a);case"GRADIENT_ANGULAR":return eX((0,q.t)("dev_handoff.selection_colors.gradient_angular"),a);case"GRADIENT_DIAMOND":return eX((0,q.t)("dev_handoff.selection_colors.gradient_diamond"),a);case"GRADIENT_RADIAL":return eX((0,q.t)("dev_handoff.selection_colors.gradient_radial"),a);case"IMAGE":return eX((0,q.t)("dev_handoff.annotations.image"),a);case"VIDEO":return eX((0,q.t)("dev_handoff.annotations.video"),a);default:return null}}function eK({paints:n,styleRef:e,variables:t}){let o=t?.[0],i=(0,eH.Ig)(),r=(0,ee.u)(o?.id),l=eU(e,"FILL");return 0===n.length?null:l?(0,a.jsx)(a.Fragment,{children:l.name}):n.length>1?(0,q.tx)("dev_handoff.annotations.multiple"):(0,a.jsx)(a.Fragment,{children:e$(n[0],r,i)})}function eY({paints:n}){let e=n[0];return(0,a.jsx)(eF.J,{className:em,tabIndex:-1,paint:e,allowMouseDownPropagation:!0})}function eq({paint:n,variableAlias:e}){let t=(0,eH.Ig)(),o=(0,ee.u)(e?.id),i=e$(n,o,t);return i?(0,a.jsxs)("div",{className:ev,children:[(0,a.jsx)(eF.J,{className:em,paint:n,tabIndex:-1,allowMouseDownPropagation:!0}),(0,a.jsx)("span",{className:eb,title:i,children:o?(0,a.jsx)(ea.wG,{containerClassName:ey,text:i,disableHover:!0}):i})]}):null}function eQ({styleRef:n,styleType:e,hideIcon:t=!1}){let o=eU(n,e);return(!function(n){let e=(0,h.d4)(n=>n.library),t=(0,ez.f$)(n),a=t?(0,eW.Gp)(n.key,[t],e):void 0;(0,eW.w$)(a)}(n),o)?(0,a.jsxs)("div",{className:ev,children:[!t&&(0,a.jsx)("div",{className:R()("annotation--styleChit--IT4tL annotation--chit--HkXWE",ex),children:(0,a.jsx)(eG.zi,{dsStyle:o})}),(0,a.jsx)("span",{className:eb,title:o.name,children:o.name})]}):null}function eJ({paints:n,styleRef:e,variables:t}){return e?(0,a.jsx)(eQ,{styleRef:e,styleType:"FILL"}):0===n.length?null:(0,a.jsx)("div",{className:"annotation--mixedValues--HOTi6",children:n.map((n,e)=>(0,a.jsx)(eq,{paint:n,variableAlias:t?.[e]},e))})}var eZ=t(109965),e0=t(104626),e5=t(335298),e1=t(686372);function e2({effects:n,styleRef:e}){let t=eU(e,"EFFECT");if(t)return(0,a.jsx)(a.Fragment,{children:t.name});if(n.length>1)return(0,q.tx)("dev_handoff.annotations.multiple");let o=n[0];return o?(0,a.jsx)(e4,{effect:o}):null}function e4({effect:n}){switch(n.type){case"DROP_SHADOW":return(0,q.tx)("dev_handoff.annotations.shadow");case"BACKGROUND_BLUR":return(0,q.tx)("fullscreen.properties_panel.effects.background_blur");case"FOREGROUND_BLUR":return(0,q.tx)("fullscreen.properties_panel.effects.layer_blur");case"INNER_SHADOW":return(0,q.tx)("fullscreen.properties_panel.effects.inner_shadow");case"GRAIN":return(0,q.tx)("fullscreen.properties_panel.effects.texture");case"NOISE":return(0,q.tx)("fullscreen.properties_panel.effects.noise");case"GLASS":return(0,q.tx)("fullscreen.properties_panel.effects.glass");case"REPEAT":case"SYMMETRY":case void 0:return null}}function e3({effects:n,styleRef:e}){return(0,a.jsx)(a.Fragment,{children:n.map((n,t)=>(0,a.jsx)(e8,{effect:n,styleRefHeader:0===t?e:null},t))})}function e7({effect:n,variables:e}){let t=[n.offset?.x,n.offset?.y,n.radius,n.spread];return t.some((n,t)=>e[t]?.name)?(0,a.jsx)("div",{children:t.map((n,t)=>{if(void 0===n)return null;let o=e[t];return o?.name?(0,a.jsx)(ea.wG,{text:o.name,disableHover:!0},t):(0,a.jsx)("div",{children:n},t)}).filter(n=>null!==n)}):(0,a.jsx)("span",{children:t.filter(n=>void 0!==n).join(", ")})}function e6({effect:n,radiusVariable:e}){return e?.name?(0,a.jsx)("span",{className:"annotation--effectBlurVariable--8Oxdy",children:(0,a.jsx)(ea.wG,{text:e.name,disableHover:!0})}):void 0===n.radius?null:(0,a.jsx)("span",{children:` ${(0,et.nd)(n.radius,"px")}`})}let e9=new e5.SU;function e8({effect:n,styleRefHeader:e}){let t=(0,eH.Ig)(),o=e&&(0,a.jsx)(tn,{styleRef:e}),i=[n.xVar,n.yVar,n.radiusVar,n.spreadVar,n.colorVar].map(n=>{if(n?.value?.alias){let e=e0.sD.fromKiwi(n.value.alias);if(e)return e0.sD.toString(e)}return null}),r=(0,ee.hg)(i);switch(n.type){case"DROP_SHADOW":case"INNER_SHADOW":{let{color:e}=n,i=r[4],l=e?t(e,{alphaInPercent:!0}):null;return(0,a.jsxs)("div",{children:[o,(0,a.jsx)("span",{children:(0,a.jsx)(e4,{effect:n})}),e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{}),(0,a.jsxs)("div",{className:ev,children:[(0,a.jsx)(eF.J,{className:R()(em,"annotation--chitInline--xdOUZ"),color:e,allowMouseDownPropagation:!0}),i?(0,a.jsx)(ea.wG,{text:i.name,disableHover:!0}):(0,a.jsx)("span",{className:eb,title:l||void 0,children:l})]})]}),(0,a.jsx)("span",{}),(0,a.jsx)(e7,{effect:n,variables:r}),n.blendMode&&"NORMAL"!==n.blendMode&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{}),(0,a.jsx)("span",{children:e9.format(n.blendMode)})]})]})}case"BACKGROUND_BLUR":case"FOREGROUND_BLUR":return(0,a.jsxs)("div",{children:[o,(0,a.jsx)("span",{children:(0,a.jsx)(e4,{effect:n})}),(0,a.jsx)(e6,{effect:n,radiusVariable:r[2]})]});case"REPEAT":case"SYMMETRY":case"GLASS":case"NOISE":case"GRAIN":case void 0:return null}}function tn({styleRef:n}){let e=(0,ez.f$)(n),t=(0,D.mJ)(e);return e&&t?(0,a.jsx)("div",{children:t.name}):null}var te=t(283055);let tt=n=>{switch(n){case"RIGHT":return(0,q.t)("inspect_panel.typography.align_right");case"CENTER":return(0,q.t)("inspect_panel.typography.align_center");case"JUSTIFIED":return(0,q.t)("inspect_panel.typography.align_justified");case"LEFT":return(0,q.t)("dev_handoff.annotations.align_left")}};function ta(){return(0,a.jsx)(nk.B,{svg:te.A,className:R()(ex,ef)})}function to({textAlignHorizontal:n}){return(0,a.jsx)(a.Fragment,{children:tt(n)})}let ti=n=>n.toLocaleString("en",{maximumFractionDigits:2,useGrouping:!1});function tr({lineHeightOrMixed:n,variableAlias:e,isPreview:t}){let o=(0,ee.u)(e?.id),i=(0,n8.v4)(),r="mixed"!==n&&"PIXELS"===n.units?n.value:void 0,l=(0,en.qM)(i,r,ti,{isTextProperty:!0});return"mixed"===n?(0,q.tx)("fullscreen.mixed"):o&&t?(0,a.jsx)(a.Fragment,{children:o.name}):"PERCENT"===n.units&&100===n.value?(0,q.tx)("dev_handoff.annotations.auto"):"RAW"===n.units?(0,a.jsx)(eI,{variableContainerClassName:ey,valueProps:{format:"fig_number",value:{value:100*n.value,units:"PERCENT"},variableId:o?.node_id}}):(0,a.jsx)(eI,{variableContainerClassName:ey,valueProps:{value:l,variableId:o?.node_id}})}function tl({fontNameOrMixed:n,variableAlias:e,isPreview:t}){let o=(0,ee.u)(e?.id);return"mixed"===n?(0,q.tx)("fullscreen.mixed"):o&&t?(0,a.jsx)(a.Fragment,{children:o.name}):(0,a.jsx)(eI,{variableContainerClassName:ey,valueProps:{value:n.family,variableId:o?.node_id}})}function ts({fontWeightOrMixed:n,variableAlias:e,isPreview:t}){let o=(0,ee.u)(e?.id);return"mixed"===n?(0,q.tx)("fullscreen.mixed"):(o&&o.resolvedType!==r.rXF.FLOAT&&(o=null),o&&t)?(0,a.jsx)(a.Fragment,{children:o.name}):(0,a.jsx)(eI,{variableContainerClassName:ey,valueProps:{value:n,variableId:o?.node_id}})}var td=t(426947),tc=t(680054),tu=t(583992),tp=t(755001),tg=t(884019),th=t(581940),tf=t(643852),tx=t(645869),tm=t(355508);let tv=new Map([[r.L5V.HEIGHT,{label:()=>(0,q.t)("fullscreen.properties_panel.transform_panel.height"),category:"dimension",Icon:()=>(0,a.jsx)(ek,{svg:tg.A}),extractNodeFields:n=>n?{height:n.size.y,heightVar:n.boundVariables.height}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tj,{value:n.height,variableAlias:n.heightVar,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tj,{value:n.height,variableAlias:n.heightVar}):null,index:0}],[r.L5V.MIN_HEIGHT,{label:()=>(0,q.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_tt"),category:"dimension",Icon:()=>(0,a.jsx)(ek,{svg:tg.A}),extractNodeFields:n=>n?{minHeight:n.minHeight,minHeightVar:n.boundVariables.minHeight}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tj,{value:n.minHeight,variableAlias:n.minHeightVar,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tj,{value:n.minHeight,variableAlias:n.minHeightVar}):null,index:0}],[r.L5V.MAX_HEIGHT,{label:()=>(0,q.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_tt"),category:"dimension",Icon:()=>(0,a.jsx)(ek,{svg:tg.A}),extractNodeFields:n=>n?{maxHeight:n.maxHeight,maxHeightVar:n.boundVariables.maxHeight}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tj,{value:n.maxHeight,variableAlias:n.maxHeightVar,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tj,{value:n.maxHeight,variableAlias:n.maxHeightVar}):null,index:0}],[r.L5V.WIDTH,{label:()=>(0,q.t)("fullscreen.properties_panel.transform_panel.width"),category:"dimension",Icon:()=>(0,a.jsx)(ek,{svg:tf.A}),extractNodeFields:n=>n?{width:n.size.x,widthVar:n.boundVariables.width}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tj,{value:n.width,variableAlias:n.widthVar,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tj,{value:n.width,variableAlias:n.widthVar}):null,index:0}],[r.L5V.MIN_WIDTH,{label:()=>(0,q.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_tt"),category:"dimension",Icon:()=>(0,a.jsx)(ek,{svg:tf.A}),extractNodeFields:n=>n?{minWidth:n.minWidth,minWidthVar:n.boundVariables.minWidth}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tj,{value:n.minWidth,variableAlias:n.minWidthVar,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tj,{value:n.minWidth,variableAlias:n.minWidthVar}):null,index:0}],[r.L5V.MAX_WIDTH,{label:()=>(0,q.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_tt"),category:"dimension",Icon:()=>(0,a.jsx)(ek,{svg:tf.A}),extractNodeFields:n=>n?{maxWidth:n.maxWidth,maxWidthVar:n.boundVariables.maxWidth}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tj,{value:n.maxWidth,variableAlias:n.maxWidthVar,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tj,{value:n.maxWidth,variableAlias:n.maxWidthVar}):null,index:0}],[r.L5V.CORNER_RADIUS,{label:()=>(0,q.t)("fullscreen.properties_panel.transform_panel.corner_radius"),category:"dimension",Icon:()=>(0,a.jsx)(ek,{svg:tc.A}),extractNodeFields:n=>n?{rectangleTopLeftCornerRadius:n.rectangleTopLeftCornerRadius,rectangleTopRightCornerRadius:n.rectangleTopRightCornerRadius,rectangleBottomRightCornerRadius:n.rectangleBottomRightCornerRadius,rectangleBottomLeftCornerRadius:n.rectangleBottomLeftCornerRadius,topLeftRadiusVariable:n.boundVariables.topLeftRadius?.id,topRightRadiusVariable:n.boundVariables.topRightRadius?.id,bottomRightRadiusVariable:n.boundVariables.bottomRightRadius?.id,bottomLeftRadiusVariable:n.boundVariables.bottomLeftRadius?.id}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(t_,{nodeFields:n,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(t_,{nodeFields:n}):null,index:0}],[r.L5V.STACK_MODE,{label:()=>(0,q.t)("dev_handoff.annotations.autolayout_mode"),category:"stack",Icon:({nodeId:n})=>(0,a.jsx)(eM,{nodeId:n}),extractNodeFields:n=>n?{stackMode:n.stackMode,stackWrap:n.stackWrap}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(eB,{nodeFields:n}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(eB,{nodeFields:n}):null,index:0}],[r.L5V.STACK_ALIGNMENT,{label:()=>(0,q.t)("dev_handoff.annotations.alignment"),category:"stack",Icon:({nodeId:n})=>{let e=(0,N.wA)(e=>{let t=e.get(n);return!t||t.isGrid?null:{stackMode:t.stackMode,stackPrimaryAlignItems:t.stackPrimaryAlignItems,stackCounterAlignItems:t.stackCounterAlignItems,stackWrap:t.stackWrap}},n);return e?(0,a.jsx)(ek,{svg:(0,eZ.GN)(e)}):null},extractNodeFields:n=>n?{isStack:n.isStack,stackMode:n.stackMode,stackPrimaryAlignItems:n.stackPrimaryAlignItems,stackCounterAlignItems:n.stackCounterAlignItems}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(eO,{nodeFields:n}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(eO,{nodeFields:n}):null,index:0}],[r.L5V.STACK_SPACING,{label:()=>(0,q.t)("inspect_panel.properties.gap"),category:"stack",Icon:({nodeId:n})=>{let e=(0,N.Fk)(e=>e.get(n)?.stackMode,n);return e&&"GRID"!==e?(0,a.jsx)(ek,{svg:"HORIZONTAL"===e?tu.A:tp.A}):null},extractNodeFields:n=>n?{itemSpacingVariableId:n?.boundVariables?.itemSpacing?.id,stackSpacing:n.stackSpacing,stackPrimaryAlignItems:n.stackPrimaryAlignItems}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eT,{nodeFields:n,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eT,{nodeFields:n}),index:0}],[r.L5V.GRID_COLUMN_COUNT,{label:()=>(0,q.t)("inspect_panel.properties.grid.columns"),category:"stack",Icon:()=>(0,a.jsx)(n3,{"data-testid":"Icon24AlColumnsSmall",className:R()(ex,ef)}),extractNodeFields:n=>n?{columnCount:n.gridColumnCount}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.columnCount:0,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.columnCount:0}),index:0}],[r.L5V.GRID_ROW_COUNT,{label:()=>(0,q.t)("inspect_panel.properties.grid.rows"),category:"stack",Icon:()=>(0,a.jsx)(n7,{"data-testid":"Icon24AlRowsSmall",className:R()(ex,ef)}),extractNodeFields:n=>n?{rowCount:n.gridRowCount}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.rowCount:0,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.rowCount:0}),index:0}],[r.L5V.GRID_COLUMN_GAP,{label:()=>(0,q.t)("inspect_panel.properties.grid.column_gap"),category:"stack",Icon:({nodeId:n})=>{let e=(0,N.Fk)(e=>e.get(n)?.stackMode,n);return e&&"GRID"===e?(0,a.jsx)(ek,{svg:tp.A}):null},extractNodeFields:n=>n?{itemSpacingVariableId:n?.boundVariables?.itemSpacing?.id,stackSpacing:n.gridColumnGap,stackPrimaryAlignItems:n.stackPrimaryAlignItems}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eT,{nodeFields:n,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eT,{nodeFields:n}),index:0}],[r.L5V.GRID_ROW_GAP,{label:()=>(0,q.t)("inspect_panel.properties.grid.row_gap"),category:"stack",Icon:({nodeId:n})=>{let e=(0,N.Fk)(e=>e.get(n)?.stackMode,n);return e&&"GRID"===e?(0,a.jsx)(ek,{svg:tu.A}):null},extractNodeFields:n=>n?{itemSpacingVariableId:n?.boundVariables?.itemSpacing?.id,stackSpacing:n.gridRowGap,stackPrimaryAlignItems:n.stackPrimaryAlignItems}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eT,{nodeFields:n,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eT,{nodeFields:n}),index:0}],[r.L5V.GRID_COLUMN_ANCHOR_INDEX,{label:()=>(0,q.t)("inspect_panel.properties.grid.column_start"),category:"stack",Icon:()=>(0,a.jsx)(n3,{"data-testid":"Icon24AlColumnsSmall",className:R()(ex,ef)}),extractNodeFields:n=>n?{columnIndex:n.gridColumnAnchorIndex}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.columnIndex+1:0,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.columnIndex+1:0}),index:0}],[r.L5V.GRID_ROW_ANCHOR_INDEX,{label:()=>(0,q.t)("inspect_panel.properties.grid.row_start"),category:"stack",Icon:()=>(0,a.jsx)(n7,{"data-testid":"Icon24AlRowsSmall",className:R()(ex,ef)}),extractNodeFields:n=>n?{rowIndex:n.gridRowAnchorIndex}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.rowIndex+1:0,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.rowIndex+1:0}),index:0}],[r.L5V.GRID_COLUMN_SPAN,{label:()=>(0,q.t)("inspect_panel.properties.grid.horizontal_span"),category:"stack",Icon:()=>(0,a.jsx)(n6.H,{"data-testid":"Icon24ArrowRightSmall",className:R()(ex,ef)}),extractNodeFields:n=>n?{columnSpan:n.gridColumnSpan}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.columnSpan:0,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.columnSpan:0}),index:0}],[r.L5V.GRID_ROW_SPAN,{label:()=>(0,q.t)("inspect_panel.properties.grid.vertical_span"),category:"stack",Icon:()=>(0,a.jsx)(n9.t,{"data-testid":"Icon24ArrowDownSmall",className:R()(ex,ef)}),extractNodeFields:n=>n?{rowSpan:n.gridRowSpan}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.rowSpan:0,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.rowSpan:0}),index:0}],[r.L5V.STACK_PADDING,{label:()=>(0,q.t)("inspect_panel.properties.padding"),category:"stack",Icon:()=>(0,a.jsx)(ek,{svg:th.A}),extractNodeFields:n=>n?{stackTopPadding:n.stackTopPadding,stackRightPadding:n.stackRightPadding,stackBottomPadding:n.stackBottomPadding,stackLeftPadding:n.stackLeftPadding,paddingTopVariableId:n.boundVariables?.paddingTop?.id,paddingRightVariableId:n.boundVariables?.paddingRight?.id,paddingBottomVariableId:n.boundVariables?.paddingBottom?.id,paddingLeftVariableId:n.boundVariables?.paddingLeft?.id}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(eR,{nodeFields:n,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(eR,{nodeFields:n}):null,index:0}],[r.L5V.TEXT_STYLE,{label:()=>(0,q.t)("dev_handoff.annotations.text_style"),category:"text",Icon:ta,extractNodeFields:n=>({inheritedTextStyle:n?.inheritedTextStyle}),PreviewValue:({nodeFields:n})=>n?.inheritedTextStyle?(0,a.jsx)(tS,{styleRef:n.inheritedTextStyle}):null,DisplayValue:({nodeFields:n})=>n?.inheritedTextStyle?(0,a.jsx)(eQ,{styleRef:n.inheritedTextStyle,styleType:"TEXT",hideIcon:!0}):null,index:0}],[r.L5V.FONT_FAMILY,{label:()=>(0,q.t)("inspect_panel.typography.font"),category:"text",Icon:ta,extractNodeFields:n=>n?{fontNameOrMixed:n.fontNameOrMixed,fontFamilyVariable:n.boundVariables.fontFamily?.[0]}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tl,{fontNameOrMixed:n.fontNameOrMixed,variableAlias:n.fontFamilyVariable,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tl,{fontNameOrMixed:n.fontNameOrMixed,variableAlias:n.fontFamilyVariable}):null,index:0}],[r.L5V.FONT_STYLE,{label:()=>(0,q.t)("inspect_panel.code.font_style"),category:"text",Icon:ta,extractNodeFields:n=>({fontStyle:n?.fontName.style}),PreviewValue:({nodeFields:n})=>(0,a.jsx)(a.Fragment,{children:n?.fontStyle}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(a.Fragment,{children:n?.fontStyle}),index:0}],[r.L5V.FONT_SIZE,{label:()=>(0,q.t)("dev_handoff.annotations.font_size"),category:"text",Icon:ta,extractNodeFields:n=>n?{fontSizeOrMixed:n.fontSizeOrMixed,fontSizeVariable:n.boundVariables.fontSize?.[0]}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tj,{value:n.fontSizeOrMixed,variableAlias:n.fontSizeVariable,isPreview:!0,isTextProperty:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tj,{value:n.fontSizeOrMixed,variableAlias:n.fontSizeVariable,isTextProperty:!0}):null,index:0}],[r.L5V.LINE_HEIGHT,{label:()=>(0,q.t)("fullscreen.type_panel.line_height"),category:"text",Icon:ta,extractNodeFields:n=>n?{lineHeightOrMixed:n.lineHeightOrMixed,lineHeightVariable:n.boundVariables.lineHeight?.[0]}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tr,{lineHeightOrMixed:n.lineHeightOrMixed,variableAlias:n.lineHeightVariable,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tr,{lineHeightOrMixed:n.lineHeightOrMixed,variableAlias:n.lineHeightVariable}):null,index:0}],[r.L5V.LETTER_SPACING,{label:()=>(0,q.t)("fullscreen.type_panel.letter_spacing"),category:"text",Icon:ta,extractNodeFields:n=>n?{letterSpacingOrMixed:n.letterSpacingOrMixed,letterSpacingVariable:n.boundVariables.letterSpacing?.[0]}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tC,{value:n.letterSpacingOrMixed,variableAlias:n.letterSpacingVariable,isPreview:!0,isTextProperty:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tC,{value:n.letterSpacingOrMixed,variableAlias:n.letterSpacingVariable,isTextProperty:!0}):null,index:0}],[r.L5V.TEXT_ALIGN_HORIZONTAL,{label:()=>(0,q.t)("dev_handoff.annotations.text_align"),category:"text",Icon:ta,extractNodeFields:n=>({textAlign:n?.textAlignHorizontal}),PreviewValue:({nodeFields:n})=>n?.textAlign?(0,a.jsx)(to,{textAlignHorizontal:n.textAlign}):null,DisplayValue:({nodeFields:n})=>n?.textAlign?(0,a.jsx)(to,{textAlignHorizontal:n.textAlign}):null,index:0}],[r.L5V.FONT_WEIGHT,{label:()=>(0,q.t)("inspect_panel.typography.weight"),category:"text",Icon:ta,extractNodeFields:n=>n?{fontWeightOrMixed:n.fontWeightOrMixed,fontStyleVariable:n.boundVariables.fontStyle?.[0]}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(ts,{fontWeightOrMixed:n.fontWeightOrMixed,variableAlias:n.fontStyleVariable,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(ts,{fontWeightOrMixed:n.fontWeightOrMixed,variableAlias:n.fontStyleVariable}):null,index:0}],[r.L5V.FILL,{label:()=>(0,q.t)("fullscreen.properties_panel.fill.fill"),category:"paint",Icon:({nodeId:n})=>{let e=(0,N.Fk)(e=>e.get(n)?.fills,n);return e?(0,a.jsx)(eY,{paints:e}):null},extractNodeFields:n=>n?{fills:n.fills,fillVariables:n.boundVariables.fills,inheritedFillStyle:n.inheritedFillStyle}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(eK,{paints:n.fills,variables:n.fillVariables,styleRef:n.inheritedFillStyle}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(eJ,{paints:n.fills,styleRef:n.inheritedFillStyle,variables:n.fillVariables}):null,index:0}],[r.L5V.STROKE,{label:()=>(0,q.t)("fullscreen.properties_panel.fill.stroke"),category:"paint",Icon:({nodeId:n})=>{let e=(0,N.Fk)(e=>e.get(n)?.strokePaints.data,n);return e?(0,a.jsx)(eY,{paints:e}):null},extractNodeFields:n=>n?{strokePaints:n.strokePaints,strokeVariables:n.boundVariables.strokes,inheritedFillStyle:n.inheritedFillStyle,inheritedFillStyleForStroke:n.inheritedFillStyleForStroke}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(eK,{paints:n.strokePaints.data,variables:n.strokeVariables,styleRef:n.inheritedFillStyle}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(eJ,{paints:n.strokePaints.data,styleRef:n.inheritedFillStyleForStroke,variables:n.strokeVariables}):null,index:0}],[r.L5V.STROKE_WIDTH,{label:()=>(0,q.t)("fullscreen.properties_panel.borders.stroke_width"),category:"paint",Icon:()=>(0,a.jsx)(ek,{svg:tx.A}),extractNodeFields:n=>n?{borderStrokeWeightsIndependent:n.borderStrokeWeightsIndependent,strokeWeight:n.strokeWeight,strokeWeightVariable:n.boundVariables.strokeWeight?.id,borderTopWeight:n.borderTopWeight,borderRightWeight:n.borderRightWeight,borderBottomWeight:n.borderBottomWeight,borderLeftWeight:n.borderLeftWeight,strokeTopWeightVariable:n.boundVariables.strokeTopWeight?.id,strokeRightWeightVariable:n.boundVariables.strokeRightWeight?.id,strokeBottomWeightVariable:n.boundVariables.strokeBottomWeight?.id,strokeLeftWeightVariable:n.boundVariables.strokeLeftWeight?.id}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tw,{nodeFields:n,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tw,{nodeFields:n}):null,index:0}],[r.L5V.EFFECT,{label:()=>(0,q.t)("inspect_panel.code.effect"),category:"paint",Icon:function(){return(0,a.jsx)(ek,{svg:e1.A})},extractNodeFields:n=>n?{effects:n.effects.filter(n=>n.visible),inheritedEffectStyle:n.inheritedEffectStyle}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(e2,{effects:n.effects,styleRef:n.inheritedEffectStyle}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(e3,{effects:n.effects,styleRef:n.inheritedEffectStyle}):null,index:0}],[r.L5V.OPACITY,{label:()=>(0,q.t)("fullscreen.scrubbable.opacity"),category:"paint",Icon:()=>(0,a.jsx)(ek,{svg:tm.A}),extractNodeFields:n=>n?{opacity:n.opacity,opacityVariable:n.boundVariables.opacity?.id}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(ty,{nodeFields:n,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(ty,{nodeFields:n}):null,index:0}],[r.L5V.COMPONENT,{label:()=>(0,q.t)("dev_handoff.annotations.component"),category:"component",Icon:()=>(0,a.jsx)(ek,{svg:td.A}),extractNodeFields:(n,e)=>{let t;let a=n?.symbolId;if(a){let n=e.get(a);n&&(n.isState&&n.parentNode?.name&&(t=`${n.parentNode.name} (${n.name})`),t=n.name)}return{symbolName:t}},PreviewValue:({nodeFields:n})=>(0,a.jsx)(a.Fragment,{children:n?.symbolName}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(a.Fragment,{children:n?.symbolName}),index:0}]]),tb=0;function ty({nodeFields:n,isPreview:e=!1}){let t=(0,ee.u)(n.opacityVariable);return t&&e?(0,a.jsx)(a.Fragment,{children:t.name}):(0,a.jsx)(eI,{variableContainerClassName:ey,valueProps:{format:"percent",value:n.opacity,variableId:t?.node_id}})}function t_({nodeFields:n,isPreview:e=!1}){let t=(0,ee.u)(n.topLeftRadiusVariable),o=(0,ee.u)(n.topRightRadiusVariable),i=(0,ee.u)(n.bottomRightRadiusVariable),r=(0,ee.u)(n.bottomLeftRadiusVariable);return(0,a.jsx)(eP,{rawValues:[n.rectangleTopLeftCornerRadius,n.rectangleTopRightCornerRadius,n.rectangleBottomRightCornerRadius,n.rectangleBottomLeftCornerRadius],variables:[t,o,i,r],isPreview:e})}function tw({nodeFields:n,isPreview:e=!1}){return n.borderStrokeWeightsIndependent?(0,a.jsx)(tI,{nodeFields:n,isPreview:e}):(0,a.jsx)(tA,{nodeFields:n,isPreview:e})}function tA({nodeFields:n,isPreview:e}){let t=(0,ee.u)(n.strokeWeightVariable);return t&&e?(0,a.jsx)(a.Fragment,{children:t.name}):(0,a.jsx)(eI,{variableContainerClassName:ey,valueProps:{value:n.strokeWeight,variableId:t?.node_id,format:"pixels"}})}function tI({nodeFields:n,isPreview:e}){let t=(0,ee.u)(n.strokeTopWeightVariable),o=(0,ee.u)(n.strokeRightWeightVariable),i=(0,ee.u)(n.strokeBottomWeightVariable),r=(0,ee.u)(n.strokeLeftWeightVariable);return n?(0,a.jsx)(eP,{rawValues:[n.borderTopWeight,n.borderRightWeight,n.borderBottomWeight,n.borderLeftWeight],variables:[t,o,i,r],isPreview:e}):null}tv.forEach(n=>{n.index=tb++});let tN=n=>n.toLocaleString("en",{maximumFractionDigits:5,useGrouping:!1});function tj({value:n,variableAlias:e,isPreview:t,isTextProperty:o=!1}){let i=(0,ee.u)(e?.id),r=(0,n8.v4)(),l=(0,en.qM)(r,"number"==typeof n?n:void 0,tN,{isTextProperty:o});return null===n?null:"mixed"===n?(0,q.tx)("fullscreen.mixed"):i&&t?(0,a.jsx)(a.Fragment,{children:i.name}):(0,a.jsx)(eI,{variableContainerClassName:ey,valueProps:{value:l,variableId:i?.node_id}})}function tC({value:n,variableAlias:e,isPreview:t,isTextProperty:o=!1}){let i=(0,ee.u)(e?.id),r=(0,n8.v4)(),l=(0,en.qM)(r,"mixed"===n?void 0:n.value,tN,{isTextProperty:o});return"mixed"===n?(0,q.tx)("fullscreen.mixed"):i&&t?(0,a.jsx)(a.Fragment,{children:i.name}):"PIXELS"===n.units?(0,a.jsx)(eI,{variableContainerClassName:ey,valueProps:{format:"pixels",value:l,variableId:i?.node_id}}):(0,a.jsx)(eI,{variableContainerClassName:ey,valueProps:{format:"fig_number",value:n,variableId:i?.node_id}})}function tS({styleRef:n}){let e=(0,ez.f$)(n),t=(0,D.mJ)(e);return t?(0,a.jsx)(a.Fragment,{children:t.name}):null}var tk=t(397519),tL=(n=>(n[n.MANUAL=0]="MANUAL",n[n.CODEBASE_SUGGESTIONS=1]="CODEBASE_SUGGESTIONS",n[n.MANAGED_STRING=2]="MANAGED_STRING",n[n.CMS_BINDING=3]="CMS_BINDING",n))(tL||{}),tE=(n=>(n[n.ALIGNED=0]="ALIGNED",n[n.ABOVE=1]="ABOVE",n[n.BELOW=2]="BELOW",n))(tE||{}),tV=t(955394),tT=t(563188),tP=t(862390),tR=t(964731),tM=t(673512),tB=t(738585),tO=t(881571),tD=t(512466),tW=t(54629),tF=t(245495),tH=t(97237),tG=t(693613),tz=t(92184),tU=t(830296),tX=t(235676),t$=t(440418),tK=t(322750);let tY={type:tL.CMS_BINDING,useShouldDisableHover(n){let e=(0,tU.Jv)();return(0,o.useMemo)(()=>i.$au?.validateBindingModeHoverTarget(n)!==r.iZU.SUCCESS,[e])},useSharedHooksContext(){let n=(0,h.d4)(n=>n.mirror.appModel.currentPage),e=(0,tz.eZ)();return(0,N.wA)((n,e,t)=>t?(n.get(e)?(0,x.Uj)(n,e):[]).reduce((n,e)=>{let t=function(n){let e=[],t=r.mSn?.buildNodeIdToAliasMap(m.UN().scene);return t&&(0,x.hV)(n,n=>{if(!n.visible)return;let a=t.get(n.guid);if(a)for(let t of a)e.push({annotationType:tL.CMS_BINDING,nodeId:n.guid,uniqueId:`${n.guid}-cms-binding-${t.fieldSchemaId}`,meta:{textContent:n.characters.trim(),collectionId:t.collectionId,fieldSchemaId:t.fieldSchemaId,alwaysShow:!n.isInRepeater||n.isInFirstRepeaterChild()}})}),e}(e);return t.length>0?{...n,[e.guid]:t}:n},{}):{},n,e)},useRelevantTLFs:n=>Object.keys(n),useNewAnnotationsByTlf(n,e){let t=(0,h.d4)(n=>n.mirror.appModel.hoveredNode),a=(0,h.d4)($.Sh),r=i.Ez5?.cmsState(),l=(0,p.ut)(r?.lastClickedNodeGuid,null);return(0,o.useMemo)(()=>n.reduce((n,o)=>({...n,[o]:e[o]?.filter(n=>n.meta.alwaysShow||a.includes(n.nodeId)&&n.nodeId===l||t===n.nodeId)||[]}),{}),[n,e,t,a,l])},annotationWrapperClassName:"annotation--annotationWrapperCmsBinding--Z75xB",AnnotationDisplayOverride({nodeInfo:n,isFadedOut:e}){let t=(0,h.d4)($.Sh).includes(n.nodeId),o=(0,h.d4)(n=>n.mirror.appModel.hoveredNode)===n.nodeId,i=(0,m.UN)().get(n.nodeId);return i?(0,a.jsx)(tq,{isFadedOut:e,isSelected:t,isHovered:o,collectionId:n.meta.collectionId,fieldSchemaId:n.meta.fieldSchemaId,node:i}):null}};function tq({isFadedOut:n,isSelected:e,isHovered:t,collectionId:l,fieldSchemaId:s,node:d}){let c=(0,t$.X)({fieldSchemaStableId:s,collectionStableId:l}),u=(0,tX.OC)(l,s),{status:p}=(0,tX.iL)(l),g=(0,o.useCallback)(()=>{if("loaded"!==c.status)return;u&&f.l7.user("cms-clear-dangling-binding",()=>{d&&d.getNodesForCmsBinding().forEach(n=>{n.clearCmsBindingByFieldSchemaId(s)})});let n=c.fieldSchema?.fieldType;n&&i.Egt&&(i.Egt.clearSelection(),i.Egt.addToSelection([d.guid]),A.Y5.triggerActionEnumInUserEditScope(i.rcl.UNBIND_SELECTION,{fieldSchemaId:s,fieldType:n,removeBoundData:!1,loggingSource:r.TsU.CMS_CONNECT_MODE}))},[d,c.status,s,c.fieldSchema?.fieldType,u]);if("loaded"!==c.status||"loaded"!==p)return null;let h=u?(0,q.t)("cms_binding.missing_field_binding"):c.fieldSchema.name,x=u?(0,a.jsx)(tF.R,{}):function(n){if(!(0,tK.K5)(n))return null;switch(n){case tK._j.PLAIN_TEXT:return(0,a.jsx)(tM.I,{});case tK._j.RICH_TEXT:return(0,a.jsx)(tB.G,{});case tK._j.LINK:case tK._j.SLUG:return(0,a.jsx)(tO.N,{});case tK._j.IMAGE:return(0,a.jsx)(tD._,{});case tK._j.DATE:return(0,a.jsx)(tW.p,{})}}(c.fieldSchema.fieldType);return(0,a.jsxs)(np.E,{className:R()(eo,ed,{[e_]:e,"annotation--viewAnnotationNodeHovered--80CeA":t,[eu]:n,"annotation--viewAnnotationDangling--MaR0v":u}),onClick:()=>{i.$au?.attemptBindingModeClick(d.guid)},children:[x,(0,a.jsx)("div",{className:"annotation--cmsBindingLabel--WGSkb",children:h}),(0,a.jsx)(np.E,{className:"annotation--unbind--OAFlB",onClick:n=>{n.preventDefault(),n.stopPropagation(),g()},children:(0,a.jsx)(tH.k,{})})]})}let tQ=(0,s.eU)(new Map),tJ=((0,s.eU)(null,(n,e,{nodeId:t,suggestions:a})=>{let o=new Map(n(tQ));0===a.length?o.delete(t):o.set(t,a),e(tQ,o)}),{nodeSuggestionsByTlf:new Map,nodeSuggestionsByGuid:new Map});var tZ=t(62557),t0=t(86742),t5=t(394326);function t1({nodeId:n,nodeFields:e,isFadedOut:t,suggestions:o}){let i=(0,D.uQ)()===n,r=n=>{n&&(tP.wr(),(0,t5.S)("annotations"),tP.Dh([n]))},l=o.slice(0,3).map(n=>n.name).join(", ");return(0,a.jsxs)(t0.D8,{className:R()(eo,ed,{[e_]:i,[eu]:t}),role:"button",tabIndex:0,onMouseDown:()=>{i||(e.firstChildGuid?r(e.firstChildGuid):r(n))},"data-testid":"annotationDisplay",recordingKey:`viewAnnotationContainer-${e.name}`,children:[(0,a.jsx)("div",{className:"annotation--codeConnectIcon--o17Nq",children:(0,a.jsx)(tZ.s,{})}),(0,a.jsx)("div",{className:"annotation--codeConnectLabel--A3TgT",children:(0,a.jsx)("span",{className:"annotation--codeConnectLabelName--T8n-R",children:l})})]})}let t2={type:tL.CODEBASE_SUGGESTIONS,useSharedHooksContext:()=>(function(){let n=(0,s.md)(tQ),e=(0,u.eY)();if(!(0,l.kc)().dt_ccv2_on_canvas)return tJ;let t=new Map,a=new Map;for(let[o,i]of n.entries()){let n=e.get(o);if(!n)continue;let r=n.findContainingTopLevelFrameOrSelf(),l={nodeId:o,node:n,tlfGuid:r,possibleSuggestions:i};t.set(o,l),r&&(a.has(r)||a.set(r,[]),a.get(r)?.push(l))}return{nodeSuggestionsByTlf:a,nodeSuggestionsByGuid:t}})(),useRelevantTLFs:({nodeSuggestionsByTlf:n})=>Array.from(n.keys()),useNewAnnotationsByTlf(n,{nodeSuggestionsByTlf:e}){let t={};for(let[n,a]of e.entries())t[n]=a.map(n=>({nodeId:n.nodeId,uniqueId:`${n.nodeId}-codebase-suggestions`,annotationType:tL.CODEBASE_SUGGESTIONS,meta:{nodeSuggestions:n.possibleSuggestions}}));return t},annotationWrapperClassName:"annotation--annotationWrapperCodebaseSuggestions--S-70x",AnnotationDisplayOverride({nodeInfo:n,isFadedOut:e}){var t;let o=(t=n.nodeId,(0,N.wA)((n,e)=>{let t=n.get(e);return t?{firstChildGuid:t.childrenNodes[0]?.guid,tlfNodeId:t.findContainingTopLevelFrameOrSelf(),type:t.type,name:t.name}:null},t));return o?(0,a.jsx)(t1,{nodeId:n.nodeId,nodeFields:o,isFadedOut:e,suggestions:n.meta.nodeSuggestions}):null}};var t4=t(806946),t3=t(888903),t7=t(343371),t6=t(919133),t9=t(954509);let t8=(0,s.Iz)(n=>(0,s.mg)((0,s.eU)(e=>{if(!n)return null;let t=e(t6.Mk[t9.P.MANAGED_STRING].local),a=e(t6.Mk[t9.P.MANAGED_STRING].subscribed);return t[n]??a[n]??null}),n=>n)),an={type:tL.MANAGED_STRING,useSharedHooksContext(){let n=(0,h.d4)(n=>n.mirror.appModel.currentPage),e=(0,z.m0)();return(0,N.wA)((n,e,t)=>(0,l.kc)().cheddar&&(0,l.kc)().cheddar_annotations&&t?(n.get(e)?(0,x.qT)(n,e):[]).reduce((n,e)=>{let t=function n(e){return e.childrenNodes.flatMap(e=>{if(e.visible){if((0,t7.go)(e)){let n=function(n){let e=(0,t7.gk)(n);return e?{managedStringId:e.value.managedStringId}:null}(e);if(!n)return;return{annotationType:tL.MANAGED_STRING,nodeId:e.guid,uniqueId:`${e.guid}-${e0.oW.toString(n.managedStringId)}`,meta:{...n}}}return n(e)}}).filter(E.Vq)}(e);return t.length>0?{...n,[e.guid]:t}:n},{}):{},n,e)},useRelevantTLFs:n=>Object.keys(n),useNewAnnotationsByTlf:(n,e)=>n.reduce((n,t)=>({...n,[t]:e[t]||[]}),{}),annotationWrapperClassName:"annotation--annotationWrapperManagedString--BLFU9",AnnotationDisplayOverride({nodeInfo:n,isFadedOut:e}){let t=(0,D.uQ)()===n.nodeId,o=function(n){let e=(0,s.md)(t8(n));return e?.managedStringData.key}(n.meta.managedStringId);return o?(0,a.jsx)(ae,{isFadedOut:e,isSelected:t,nodeId:n.nodeId,stringKey:o}):null}};function ae({isFadedOut:n,isSelected:e,nodeId:t,stringKey:o}){let r=(0,h.wA)(),l=(0,b.hC)(),s=n=>{n&&(tP.wr(),(0,t5.S)("annotations"),tP.Dh([n]),tP.tw()?.getCopy()!==i._gJ.STRING_MANAGEMENT&&(0,tP.ax)(i._gJ.STRING_MANAGEMENT))};return(0,a.jsxs)("div",{className:R()(eo,ed,{[e_]:e,[eu]:n}),children:[(0,a.jsx)(np.E,{onClick:()=>s(t),className:R()(eA,"annotation--managedStringLabel--qFfl7"),children:o}),(0,a.jsx)(at,{"aria-label":(0,q.t)("inspect_panel.copy"),onClick:()=>{l("string_management.annotations.copy_key",{stringKey:o,nodeId:t}),navigator.clipboard.writeText(o).then(()=>{r(t3.F.enqueue({message:(0,q.t)("string_translation_management.copied_to_clipboard",{stringKey:o})}))})},"data-tooltip-type":nP.Ib.TEXT,"data-tooltip":(0,q.t)("general.back"),children:(0,a.jsx)(t4.O,{})})]})}let at=(0,o.forwardRef)(({children:n,variant:e,...t},o)=>(0,a.jsx)(np.E,{ref:o,...t,className:R()(eA,"annotation--iconButton--riHVt","annotation--ghost--lvmNk"),children:(0,a.jsx)("span",{"aria-hidden":!0,className:ex,children:n})}));at.displayName="IconButton";let aa=[t2,an,tY],ao=aa.reduce((n,e)=>("type"in e&&(n[e.type]=e),n),{}),ai=(0,M.jz)("15px"),ar=o.memo(function({lineWidth:n,lineHeight:e,lineAlignment:t,isLeftAligned:o,isMinimized:i}){let r="",l=Math.min(20,n),s=Math.min(20,e);return t===tE.ALIGNED?r=`M 0 ${e/2} h ${n}`:t===tE.ABOVE?r=o?`
        M 0 0
        h ${n-l}
        q ${l} 0 ${l} ${s}
        v ${e-s}
      `:`
        M ${n} 0
        h -${n-l}
        q -${l} 0 -${l} ${s}
        v ${e-s}`:t===tE.BELOW&&(r=o?`
        M 0 ${e}
        h ${n-l}
        q ${l} 0 ${l} -${s}
        v -${e-s}
      `:`
        M ${n} ${e}
        h -${n-l}
        q -${l} 0 -${l} -${s}
        v -${e-s}
      `),(0,a.jsx)("svg",{width:n+2*ai,height:e+2*ai,className:R()(er,{"annotation--annotationLineLeftAligned--IT6Wj":o,"annotation--annotationLineBelowNode--MIH9X":t===tE.BELOW}),children:(0,a.jsxs)("g",{transform:`translate(${ai}, ${ai})`,children:[i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("circle",{className:"annotation--annotationLineStartDot--HCgbI",cx:o?-6:n+6,cy:t===tE.ABOVE?0:e,r:4,strokeWidth:"4"}),(0,a.jsx)("circle",{className:"annotation--annotationLineStartInnerDot--epldH",cx:o?-6:n+6,cy:t===tE.ABOVE?0:e,r:1,strokeWidth:"0"})]}),(0,a.jsx)("path",{d:r,strokeWidth:"var(--line-width-scale)",fill:"none",strokeDasharray:"calc(var(--line-width-scale) * 3) calc(var(--line-width-scale) * 2)"}),(0,a.jsx)("circle",{className:el,cx:o?n:0,cy:t===tE.ABOVE?e:0,strokeWidth:"0"})]})})});function al(n){return(0,a.jsx)(d.u9,{label:"AnnotationWrapper",children:(0,a.jsx)(as,{...n})})}function as({nodeId:n,annotationId:e,setDimensions:t,isAnnotationFocused:i,annotationType:d,lineColor:c,children:p,offsetX:h,offsetY:f,lineWidth:x,lineHeight:m,lineAlignment:v,isLeftAligned:y,shouldMinimize:_,shouldDelayHover:w,shouldHide:A,isEditingAnnotation:I,isInCentralTLF:j,hoverEnabled:C=!0}){let S=(0,b.IL)(),L=(0,o.useRef)(null),[E,V]=(0,o.useState)(!1),T=(0,k.LZ)(),P=(0,u.dH)(),M=(0,D.Tv)(),B=M.includes(n),{data:O}=(0,tR.BK)(nr),W=O?.annotationId===e,[F]=(0,tV.A)(E,60),H=B||W||(w?E&&(F||_):E),G=(0,s.md)(g.m),z=(0,N.wA)((n,e)=>{let t=n.get(e);return t?{annotationsLength:t.annotations.length,nodeType:t.type,absoluteBoundingBox:t.absoluteBoundingBox}:null},n);(0,tT.wY)(_?void 0:L,n=>{n&&t(e,n)});let{annotationsLength:U,nodeType:X}=z??{},$=P===r.NLJ.ANNOTATE&&!E&&M.length>0&&!B,K=_&&!I&&!i&&!E,Y=(0,o.useCallback)(()=>{null===G&&C&&(tP.Uc(n),K&&!E&&S("hover_minimized_annotation",{nodeId:n,nodeType:X}),V(!0))},[G,C,n,K,E,S,X]),q=(0,o.useCallback)(()=>{V(!1)},[]),Q=!A;d===tL.MANUAL&&(Q=I||Q&&(B||!!U));let J=(0,o.useMemo)(()=>{let n={transform:`translate(${h}px, calc(${f}px - 50%))`,zIndex:j&&!H?10:void 0};return(!B||I)&&c?{...n,"--annotation-line-color":c,"--annotation-dot-border-color":c}:n},[h,f,B,I,c,j,H]);return(0,a.jsx)("div",{className:R()("annotation--annotationWrapper--AR3Fx",ao[d]?.annotationWrapperClassName,{"annotation--wrapperMinimized--b-VvW":K&&!E,[ei]:I,"annotation--annotationWrapperSelected--3IY0u":B,annotationWrapperForcedHover:H||i&&!I,"annotation--transitionScaling--jWRPB":E!==F&&!i&&!I,"annotation--shouldHideEmptyAnnotations--T5llE":(0,l.kc)().dt_component_annotations,hoverEnabled:C}),style:J,"data-testid":"annotationWrapper",children:Q&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ar,{lineWidth:x,lineHeight:m,lineAlignment:v,isLeftAligned:y,isMinimized:K}),(0,a.jsxs)("div",{ref:L,onMouseOut:q,onMouseOver:Y,className:R()({"annotation--annotationLeftAligned--s02AW":y,"annotation--annotationRightAligned--FsRy0":!y}),"data-testid":`annotation-${e}`,children:[(0,a.jsx)("div",{className:R()("annotation--annotationHoverTarget--H0BiD",{"annotation--annotationHoverTargetLeftAligned--CDHQy":y})}),T&&(!K||E)&&p($)]})]})})}var ad=t(25206);let ac=(0,nT.Fu)("has_opened_annotation_visibility_learn_more_link");function au({nodeId:n,annotationId:e,viewportInfo:t,setDimensions:r,annotationIndex:l,offsetX:d,offsetY:c,lineWidth:u,lineHeight:p,lineAlignment:h,isLeftAligned:v}){let y=function(){let n=(0,b.IL)(),{Sprig:e}=(0,nS.A)(),t=!!(0,_.hA)(),a=(0,z.m0)(),i=(0,z.Em)(),r=(0,K.XR)();return o.useCallback((o,l,s,d)=>{f.l7.user(s?"edit-annotation":"create-annotation",()=>{s?o.updateAnnotation(d,l):o.addAnnotation(l);let c=(0,x.kh)((0,m.UN)(),o.guid),u=l.categoryId?r.find(n=>n.id===l.categoryId):null,p={nodeType:o.type,nodeId:o.guid,tlfId:c?.guid??o.guid,hasText:!!l.label,numProperties:l.properties.length,isDevModeFocusView:t,isDevMode:a,isDesignMode:i,category:u?(0,K.uA)(u):void 0,annotationId:d};s?n("edit_annotation",p):(n("create_annotation",p),e("track","create_annotation",{isDevMode:a,isDevModeFocusView:t,isDesignMode:i})),A.Y5.triggerAction("commit")})},[e,n,t,a,i,r])}(),w=C(),I=(0,s.Xr)(g.m),j=(0,N.wA)((n,e)=>n.get(e)?.annotations,n),S=(0,K.XR)({initializeIfNull:!0}),k=j?.[l],[L,E]=o.useState(k?.label??""),[V,T]=o.useState(k?.properties??[]),[P,R]=o.useState(()=>k?S.find(n=>n.id===k.categoryId)?.id??null:null),M=(0,o.useMemo)(()=>{if(!P)return;let n=S.find(n=>n.id===P);return n&&(0,K.FQ)(n)},[P,S]);(0,o.useEffect)(()=>{P&&R(S.find(n=>n.id===P)?.id??null)},[S,P]);let B=o.useCallback(()=>{let t=!!k&&(""!==k.label||k.properties.length>0||null!==P),a=0===("lexical"===(0,ny.j_)(L)?(0,ny.El)(L):(0,nb.At)(L)).length;if(a&&0===V.length&&null===P)k&&w(n,l);else{let o=(0,m.UN)().get(n);o&&(y(o,{label:a?"":L,properties:V,categoryId:P},t,l),i.Ez5?.editorState().focusedAnnotationId.set(e))}I(null)},[k,L,V,I,w,n,l,y,P,e]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(af,{viewportInfo:t,onPointerDown:B}),(0,a.jsx)(al,{annotationId:e,annotationType:tL.MANUAL,isAnnotationFocused:!0,isEditingAnnotation:!0,isLeftAligned:v,lineAlignment:h,lineColor:M,lineHeight:p,lineWidth:u,nodeId:n,offsetX:d,offsetY:c,setDimensions:r,shouldDelayHover:!1,shouldHide:!1,shouldMinimize:!1,children:()=>(0,a.jsx)(ap,{nodeId:n,saveAnnotation:B,inputText:L,setInputText:E,inputProperties:V,setInputProperties:T,categoryId:P,setInputCategoryId:R,annotationIndex:l})},e)]})}function ap({nodeId:n,saveAnnotation:e,inputText:t,setInputText:i,inputProperties:l,setInputProperties:d,categoryId:c,setInputCategoryId:u,annotationIndex:p}){let g=(0,h.wA)(),{Sprig:f}=(0,nS.A)(),v=(0,b.IL)(),y=(0,z.Em)(),w=!!(0,_.hA)(),A=(0,z.m0)(),{getTriggerProps:I,manager:j}=ns.b(),{Dropdown:k,isDropdownShown:L,dropdownTargetRef:E,toggleDropdown:V}=(0,nM.B)("annotation-property-selector-dropdown"),T=C(),P=o.useRef(null),M=o.useId(),B=(0,K.XR)(),O=(0,N.Fk)((n,e)=>n.get(e)?.type||null,n),D=(0,N.wA)((n,e,t)=>{let a={},o=n.get(e);if(o)for(let n of t)(0,tk.J)(o,n.type,!0)&&(a[n.type]=!0);return a},n,ag),{availableProperties:W,selectedProperties:F}=o.useMemo(()=>{let n=[],e=[];for(let t of ag)l.some(n=>n.type===t.type)?e.push(t):D[t.type]&&n.push(t);return{availableProperties:n,selectedProperties:e}},[l,D]),G=(0,N.wA)((n,e,t)=>{let a=n.get(e);return t.map(e=>e.config.extractNodeFields(a,n))},n,W);o.useEffect(()=>{v("show_annotation_dialog",{nodeId:n,nodeType:O})},[v,O,n]);let U=o.useCallback(()=>{P.current?.focus()},[]),X=o.useCallback(n=>{d([...l,{type:n}])},[d,l]);function $(n){d(l.filter(e=>e.type!==n)),U()}let Y=(0,o.useCallback)(e=>{let a=(0,m.UN)().get(n),o=c?B.find(n=>n.id===c):null,i=o?(0,K.uA)(o):null,s=e?B.find(n=>n.id===e):null,d=s?(0,K.uA)(s):null;if(a){let n=(0,x.kh)((0,m.UN)(),a.guid);v("select_annotation_category",{nodeId:a.guid,nodeType:a.type,tlfId:n?.guid??a.guid,hasText:!!t,numProperties:l.length,isDevModeFocusView:w,isDevMode:A,isDesignMode:y,newCategoryLabel:d,oldCategoryLabel:i,isPreset:s?s.preset!==r.Bll.NONE:null,annotationId:p}),f("track","select_annotation_category",{isDevMode:A,isDevModeFocusView:w,isDesignMode:y})}u(e)},[u,v,n,t,l,w,A,y,B,c,f,p]),[Q,Z]=o.useState(!1),na=(0,nv.v_)("createAnnotation","keydown",(0,o.useCallback)(n=>{if(!j.isOpen&&!L){if("Escape"===n.key)e();else if("ArrowDown"===n.key){let e=n.ctrlKey||n.metaKey,t=n.shiftKey;e&&!t&&(Z(!0),V())}}},[j.isOpen,L,e,V]));o.useEffect(()=>(document.addEventListener("keydown",na),()=>{document.removeEventListener("keydown",na)}),[na]);let no=nC.qP("annotationLabelInput","submit",i),ni=nC.v_("annotationLabelInput","keydown",n=>{n?.stopPropagation(),e()}),nr=(0,o.useCallback)(({html:n})=>{no(n)},[no]),nl=(0,o.useCallback)(e=>{if(e.stopPropagation(),e.preventDefault(),!j.isOpen){let e=(0,m.UN)().get(n);if(e){let n=(0,x.kh)((0,m.UN)(),e.guid);v("click_annotation_category_picker",{nodeId:e.guid,nodeType:e.type,tlfId:n?.guid??e.guid,hasText:!!t,numProperties:l.length,isDevModeFocusView:w,annotationId:p}),f("track","click_annotation_category_picker",{isDevMode:A,isDevModeFocusView:w,isDesignMode:y})}}j.setOpen(!0)},[j,t,l,w,A,y,n,v,p,f]),nm=(0,o.useMemo)(()=>B.map(n=>({id:n.id,label:(0,K.uA)(n),color:(0,K.FQ)(n)}))??[],[B]),nb=(0,o.useMemo)(()=>B.find(n=>n.id===c),[B,c]),nw=o.useRef(null),nA=nw.current&&nw.current.scrollHeight>nw.current.clientHeight,nI={"--annotation-category-color":nb?(0,K.FQ)(nb)??"var(--color-bg)":"var(--color-bg)"},nN=(0,o.useCallback)(()=>{v("click_edit_annotation_categories",{nodeId:n,nodeType:O,isDevModeFocusView:w}),g(nE.to({type:n4,data:{recordingKey:"annotationCategoriesEditWindow"}})),j.setOpen(!1)},[g,v,n,O,w,j]),nL=(0,nn.q5)(),nT=S(n),nB=(0,o.useCallback)(()=>{if(null===nL)return;let n=(0,ne.jN)({file:nL,nodeId:nT,isDevHandoff:A});g(J.S({fileKey:nL.key,url:n,source:nt.d.ANNOTATION_CONTEXT_MENU,visualBellMessageOverride:(0,q.t)("dev_handoff.annotations.copied_link_to_clipboard")}))},[g,nL,nT,A]),nO=(0,o.useMemo)(()=>[...0===W.length?[{name:"no-properties",displayText:(0,q.t)("dev_handoff.annotations.all_properties_added"),displayTextClassName:ew,disabled:!0}]:[],...W.reduce((e,t,o,i)=>(e.push({name:`property-${o}`,displayText:t.config.label(),icon:(0,a.jsx)(t.config.Icon,{nodeId:n}),className:"annotation--propertyMenuOption--GULHd",sideText:(0,a.jsx)(t.config.PreviewValue,{nodeFields:G[o]}),rightJustifySideText:!0,callback:()=>X(t.type),recordingKey:`createAnnotationOptionButton-${t.type}`}),o<i.length-1&&t.config.category!==i[o+1]?.config.category&&e.push({separator:!0,displayText:""}),e),[])],[W,G,n,X]),nD=(0,o.useCallback)(()=>{e()},[e]),{manager:nW,getTriggerProps:nF}=nd.b({offset:{mainAxis:4}}),nH=(0,s.md)(ac),[nG,nz]=(0,o.useState)(!1),nU=y&&!nG;(0,o.useEffect)(()=>{"loaded"===nH.status&&nz(void 0!==nH.data)},[nH]);let nX=(0,o.useCallback)(()=>{g(nV.b({has_opened_annotation_visibility_learn_more_link:!0}))},[g]),n$=(0,a.jsxs)(ns.bL,{manager:nW,children:[(0,a.jsx)(nc.d,{"aria-label":(0,q.t)("dev_handoff.annotations.more_actions"),recordingKey:"createAnnotationMoreActions","data-tooltip":(0,q.t)("dev_handoff.annotations.more_actions"),"data-tooltip-type":nP.Ib.TEXT,...nF({}),children:(0,a.jsx)(nf.J,{})}),(0,a.jsxs)(ns.mc,{children:[(0,a.jsxs)(ns.YJ,{children:[(0,a.jsx)(ns.q7,{onClick:nB,children:(0,q.t)("dev_handoff.annotations.copy_link")}),(0,a.jsx)(ns.q7,{onClick:()=>{T(n,p)},children:(0,q.t)("dev_handoff.annotations.delete")})]}),nU&&(0,a.jsxs)("div",{className:"annotation--visibilityDisclaimer--OWbll text--fontNeg11--bghdh text--_fontBase--VaHfk text--_negText--7Cnf0",children:[(0,a.jsx)("p",{children:(0,q.t)("dev_handoff.annotations.visibility_disclaimer")}),(0,a.jsx)(nu.N,{href:"https://help.figma.com/hc/articles/20774752502935-Add-measurements-and-annotate-designs-in-Dev-Mode",newTab:!0,onClick:nX,children:(0,q.t)("dev_handoff.annotations.visibility_learn_more")})]})]})]});return(0,a.jsx)(nR.vL,{name:"create-annotation",focusOnMount:!0,handleKeyDown:n=>{let{event:t}=n;"Escape"===t.key&&(n.accept(),e())},children:(0,a.jsxs)("div",{ref:E,"data-testid":"annotationDialog",children:[(0,a.jsxs)("div",{className:R()("annotation--createAnnotation--iQQDI annotation--_annotationBase---1DgM",nb?es:void 0,H.Qx,H.Uu),style:nI,children:[(0,a.jsxs)("div",{className:"annotation--createAnnotationHeader--2F4fa",children:[(0,a.jsx)("div",{className:"annotation--headerRowLeft--v9Pc9",children:(0,a.jsxs)(ns.bL,{manager:j,children:[(0,a.jsxs)(np.E,{className:R()("annotation--categorySelectorButton--PduQj",{[ep]:nb&&(0,K.cD)(nb),[es]:!!nb}),"data-tooltip-type":nP.Ib.TEXT,"data-tooltip":(0,q.t)("dev_handoff.annotations.category_selector_tooltip"),"aria-label":(0,q.t)("dev_handoff.annotations.category_selector_tooltip"),recordingKey:"createAnnotationCategorySelectorButton",...I({onClick:nl,role:"combobox"}),children:[(0,a.jsx)("span",{className:"annotation--categorySelectorButtonLabel--LJTDt annotation--_ellipsis--rAG2o",children:nb?(0,K.uA)(nb):(0,q.t)("dev_handoff.annotations.no_category_option_label")}),(0,a.jsx)(nk.B,{className:"annotation--caret--enON5",svg:nJ.A})]}),(0,a.jsxs)(ns.mc,{"data-testid":"createAnnotationCategorySelector",children:[(0,a.jsx)(ns.YJ,{children:(0,a.jsx)(ng.H_,{checked:null===c,onChange:()=>Y(null),recordingKey:nC.Pt("createAnnotationCategorySelector","category-option","no-category"),children:(0,a.jsx)("span",{className:ew,children:(0,q.tx)("dev_handoff.annotations.no_category_option_label")})})}),nm.length>0&&(0,a.jsx)(ns.YJ,{children:nm.map(n=>(0,a.jsxs)(ng.H_,{checked:c===n.id,onChange:()=>Y(n.id),recordingKey:nC.Pt("createAnnotationCategorySelector","category-option",n.label),children:[(0,a.jsx)(ns.Q$,{children:(0,a.jsx)("div",{className:"annotation--categoryOptionIcon--ANhNa",children:(0,a.jsx)("div",{className:"annotation--colorCircle--fjWQE",style:{backgroundColor:n.color??void 0}})})}),n.label]},n.id))}),(0,a.jsx)(ns.YJ,{children:(0,a.jsx)(ns.q7,{onClick:nN,recordingKey:nC.Pt("createAnnotationCategorySelector","category-option","edit-categories"),children:(0,q.t)("dev_handoff.annotations.edit_categories_option_label")})})]})]})}),(0,a.jsxs)("div",{className:"annotation--headerRowRight--2t9c-",children:[n$,(0,a.jsx)(nh.K,{"aria-label":(0,q.t)("general.close"),recordingKey:"closeAnnotationDialog",onClick:nD,children:(0,a.jsx)(nx.X,{})})]})]}),(0,a.jsxs)("div",{className:ec,children:[(0,a.jsxs)("div",{className:R()(ed,{"annotation--contentContainerNoProperties--QeL-q":0===F.length}),children:[(0,a.jsxs)("div",{ref:nw,className:R()("annotation--labelEditor---EU0E",{[H.ZR]:nA}),dir:"auto",children:[(0,a.jsx)("label",{id:M,style:{display:"none"},children:(0,q.t)("dev_handoff.annotations.add_annotation")}),(0,a.jsx)(n_.A,{anchorElemOverride:nw.current,ariaLabelledBy:M,innerRef:P,lexicalContentClassName:"annotation_lexical_editor--contentEditable--KqM2W",namespace:"annotation-dialog-lexical-editor",onSave:nr,placeholder:(0,a.jsx)("div",{className:R()("annotation_lexical_editor--placeholder--2VRIB",{"annotation_lexical_editor--withCategory--GALuB":!!nb}),children:(0,q.t)("dev_handoff.annotations.add_annotation")}),plugins:[(0,a.jsx)(nj,{onEnterPressed:ni},0)],value:t,valueFormat:(0,ny.j_)(t)})]}),F.length>0&&(0,a.jsx)("div",{className:eg,children:F.map(e=>(0,a.jsx)(ah,{onRemoveProp:$,nodeId:n,property:e},`selected-${e.type}`))})]}),(0,a.jsx)("div",{className:"annotation--createAnnotationFooter--60Lk5",children:(0,a.jsxs)(np.E,{className:R()("annotation--pinPropertyButton--eiL64",{"annotation--pinPropertyButtonActive--J-t-I":L}),actionOnPointerDown:!0,onClick:()=>{Z(!1),V()},"aria-label":(0,q.t)("dev_handoff.annotations.pin_properties_tooltip"),"data-tooltip-type":nP.Ib.TEXT,"data-tooltip":(0,q.t)("dev_handoff.annotations.pin_properties_tooltip"),recordingKey:"createAnnotationPinPropertyButton",children:[(0,a.jsx)(nk.B,{className:"annotation--pinPropertyButtonIcon--h1GPa",svg:ad.A}),(0,q.tx)("dev_handoff.annotations.pin_properties_label")]})})]})]}),(0,a.jsx)(k,{activatePathOnMount:[Q&&nO.length>0?nO[0].displayText??"":""],autofocusPrevOnDismount:!0,dataTestId:"createAnnotationPropertySelector",focusOnMount:Q,items:nO,minWidth:220,onDismissMenu:U,onDropdownHidden:U,preventEventCapture:!0,recordingKey:"createAnnotationPropertySelector",rootAndSubmenuMaxWidth:220,shouldUsePortal:!0,showPoint:!1})]})})}let ag=Array.from(tv.entries()).map(([n,e])=>({type:n,config:e}));function ah({nodeId:n,onRemoveProp:e,property:t}){let o=t.config.DisplayValue,{canHaveValue:i,nodeFields:r}=(0,N.wA)((n,e)=>{let a=n.get(e);if(!a)return{canHaveValue:!1,nodeFields:null};let o=(0,tk.J)(a,t.type,!1);return o?{canHaveValue:o,nodeFields:t.config.extractNodeFields(a,n)}:{canHaveValue:o,nodeFields:null}},n);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"annotation--selectedPropertyDisplayLabel--LNUZm",children:t.config.label()}),(0,a.jsxs)("div",{className:"annotation--selectedPropertyValueWrapper--tedZp",children:[(0,a.jsx)("span",{className:R()("annotation--selectedPropertyValue--pGmls",{[eh]:!i}),children:i?(0,a.jsx)(o,{nodeFields:r}):(0,q.tx)("dev_handoff.annotations.no_value")}),(0,a.jsx)("span",{className:"annotation--selectedPropertyDelete--5a-EA",children:(0,a.jsx)(nh.K,{recordingKey:`removeAnnotation${t.type}`,"data-tooltip-type":nP.Ib.TEXT,"data-tooltip":(0,q.t)("dev_handoff.annotations.remove_property"),"aria-label":(0,q.t)("dev_handoff.annotations.remove_property"),onClick:f.nc.user("remove-annotation",()=>{e(t.type)}),children:(0,a.jsx)(nm.w,{})})})]})]})}function af({viewportInfo:n,onPointerDown:e}){return(0,a.jsx)(nL.n.recordableDiv,{className:`${ei} ${H.Dm} ${H.Uu}`,recordingKey:"annotationDialogBackground",style:{position:"absolute",left:n.x,top:n.y,width:n.width,height:n.height},onPointerDown:e})}var ax=t(2227),am=t(276326),av=t(450207),ab=t(573806),ay=t(577355);let a_=o.memo(function({nodeId:n,annotationId:e,annotationType:t,annotationMeta:r,setDimensions:l,shouldHide:s,isEditingAnnotation:d,offsetX:c,offsetY:u,lineWidth:p,lineHeight:g,lineAlignment:f,lineColor:x,isLeftAligned:m,shouldMinimize:v,shouldDelayHover:b,isInCentralTLF:y}){let _=(0,T.k9)(()=>({nodeId:n,annotationType:t,meta:r,uniqueId:e}),[n,t,r,e]),w=(0,U.NW)(),A=w===e,I=function(n,e){let t=n.nodeId,a=(0,h.d4)($.Sh),o=(0,h.d4)(n=>n.mirror.appModel.hoveredNode),i=a.includes(t),r=o===t,l=n.annotationType===tL.CMS_BINDING?n.meta.collectionId:void 0,s=n.annotationType===tL.CMS_BINDING?n.meta.fieldSchemaId:"",d=(0,tX.OC)(l,s);return n.annotationType!==tL.CMS_BINDING?e:i||r?d?"var(--color-border-warning-strong)":tG.Tj.bgBrand:e}(_,x),N=o.useCallback(n=>{n?i.Ez5.editorState().focusedAnnotationId.set(e):n||w!==e||i.Ez5.editorState().focusedAnnotationId.set(null)},[e,w]),j=o.useCallback(n=>{let t=ao[_.annotationType];if(t&&"AnnotationDisplayOverride"in t){let e=t.AnnotationDisplayOverride;if(e)return(0,a.jsx)(e,{nodeInfo:_,isFadedOut:n,isFocused:A,onFocusChange:N})}return _.annotationType===tL.MANUAL?(0,a.jsx)(aw,{annotationId:e,nodeInfo:_,isFadedOut:n,isFocused:A,onFocusChange:N}):null},[_,A,N,e]),C=!ao[t]?.useShouldDisableHover?.(n);return(0,a.jsx)(al,{annotationId:e,annotationType:t,hoverEnabled:C,isAnnotationFocused:A,isEditingAnnotation:d,isInCentralTLF:y,isLeftAligned:m,lineAlignment:f,lineColor:I,lineHeight:g,lineWidth:p,nodeId:n,offsetX:c,offsetY:u,setDimensions:l,shouldDelayHover:b,shouldHide:s,shouldMinimize:v,children:j},e)}),aw=o.memo(function({annotationId:n,nodeInfo:e,isFadedOut:t,isFocused:r,onFocusChange:l}){let{nodeId:d,meta:{annotationIndex:c}}=e,p=(0,b.IL)(),f=(0,D.uQ)(),x=(0,u.dH)(),m=f===d,[v,y]=(0,s.fp)(g.m),w=(0,o.useRef)(null),A=(0,U.NW)(),I=C(),j=(0,o.useMemo)(()=>i.w3z.isReadOnly(i.SES.ANNOTATIONS),[]),S=(0,W.Kv)(),L=(0,k.s9)(),E=(0,U.E_)(),V=!!(0,_.hA)(),T=(0,h.wA)(),P=(n,e)=>{n&&(tP.wr(),(0,t5.S)("annotations"),e?(i.w3z.setEnableZoomToSelection(!1),tP.Dh([n]),i.w3z.setEnableZoomToSelection(!0)):tP.Dh([n]))},M=(0,o.useRef)(r);M.current=r,(0,o.useEffect)(()=>()=>{M.current&&i.Ez5?.editorState().focusedAnnotationId.set(null)},[]),(0,o.useEffect)(()=>{S&&(i.Ez5?.editorState().focusedAnnotationId.set(null),y(null))},[S,y]);let B=nC.v_(`annotationDisplay-${n}`,"keydown",o.useCallback(n=>{!j&&r&&null===v&&E===ax.AD&&("Backspace"===n.key||"Delete"===n.key?L&&(I(d,c),w.current?.blur()):"Enter"===n.key?L&&(n.preventDefault(),y(c)):"Escape"===n.key?w.current?.blur():(0,ay.f7)(n))},[c,I,v,r,j,d,E,y,L]));o.useEffect(()=>(document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)),[B]);let O=o.useCallback(()=>{let n=window.getSelection()?.toString()||"";n&&(0,am.Dk)(n,{withLineBreaks:!0})},[]);(0,o.useEffect)(()=>{let n=w.current?.getRootNode()?.activeElement??null;r&&n!==w.current&&w.current?.focus(),r||n!==w.current||w.current?.blur()},[r]);let F=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),T(av.j7({type:nr,data:{position:{left:e.clientX,bottom:e.clientY},nodeId:d,annotationIndex:c,annotationId:n}}))},[T,d,c,n]),H=(0,K.XR)(),G=(0,N.wA)((n,e)=>{let t=n.get(e);return t?{annotations:t.annotations,nodeType:t.type,nodeName:t.name}:null},d);if(!G||0===G.annotations.length)return null;let{annotations:z,nodeType:X,nodeName:$}=G,Y=z[c];if(!Y)return null;let{label:q,properties:Q}=Y,J=H.find(n=>n.id===Y.categoryId),Z={"--annotation-category-color":J?(0,K.FQ)(J)??"var(--color-bg)":"var(--color-bg)"},nn=(0,ny.j_)(Y.label);return(0,a.jsxs)(t0.D8,{className:R()(eo,{[es]:!!J,"annotation--viewAnnotationNodeSelected--7lHL7":m&&null===A&&null===v,[eu]:t,"annotation--onlyCategory--oNcPx":!q&&0===Q.length&&!!J}),"data-testid":"annotationDisplay",forwardedRef:w,onBlur:()=>l(!1),onContextMenu:F,onCopy:O,onDoubleClick:()=>{L&&(m||P(d,!1),y(c))},onFocus:()=>l(!0),onMouseDown:n=>{r&&m||(P(d,(0,ab.i)(n)),y(null),p("click_annotation_content",{nodeId:d,nodeType:X,hasText:!!Y.label,numProperties:Y.properties.length,currentTool:x,isDevModeFocusView:V}),w.current?.focus())},recordingKey:`viewAnnotationContainer-${$}-${c}`,role:"button",style:Z,tabIndex:0,children:[J&&(0,a.jsx)("div",{className:"annotation--annotationHeader--ERN-y",children:(0,a.jsx)("div",{className:R()("annotation--categoryLabel--jH5n5",{[ep]:(0,K.cD)(J)}),dir:"auto",children:(0,K.uA)(J)})}),(0,a.jsxs)("div",{className:R()(ec,ed),children:[q&&(0,a.jsx)(n_.C,{value:q,valueFormat:nn,lexicalContentClassName:"annotation_lexical_editor--contentEditableReadOnly--tWnfj",themeOverride:{link:"annotation_lexical_editor--linkReadOnly--TEiIN"},namespace:"annotation-display-lexical-editor",renderHtmlOnly:!0}),(0,a.jsx)(aA,{nodeId:d,properties:Q})]})]})});function aA({nodeId:n,properties:e}){let t=(0,T.k9)(()=>[...e].sort((n,e)=>tv.get(n.type).index-tv.get(e.type).index),[e]),o=(0,N.wA)((n,e,t)=>{let a=n.get(e);return t.map(e=>{if(!a)return{nodeFields:null,canHaveValue:!1};let t=(0,tk.J)(a,e.type,!1);return t?{nodeFields:tv.get(e.type).extractNodeFields(a,n),canHaveValue:t}:{nodeFields:null,canHaveValue:t}})},n,t);return 0===e.length?null:(0,a.jsx)("div",{className:R()(eg,"annotation--propertiesDisplay--VMjiR"),children:t.map((n,e)=>(0,a.jsx)(aI,{property:n,canHaveValue:o[e].canHaveValue,nodeFields:o[e].nodeFields},e))})}let aI=o.memo(function({property:n,canHaveValue:e,nodeFields:t}){let o=tv.get(n.type),i=o.DisplayValue;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"annotation--propertyDisplayLabel--FevWV",children:o.label()}),(0,a.jsx)("span",{className:R()("annotation--propertyDisplayValue--qJy35",{[eh]:!e}),"data-testid":`annotationPropertyValue-${n.type.toString()}`,children:e?(0,a.jsx)(i,{nodeFields:t}):(0,q.tx)("dev_handoff.annotations.no_value")})]})});var aN=t(526865);let aj=(0,M.jz)("220px"),aC=(0,M.jz)(aN.RHC);function aS(n,e,t,a,o,r,l,s,d){let c=i.Ez5.isFullscreenYScrollbarNeeded();return o?Math.min(s?l+t*e-8:l-8,Math.max(0,-n/2-r+a+d.left+4)):Math.max(s?-l-t*e+8:-l+8,Math.min(0,n/2-r-a-d.right-(c?aC:4)))}function ak(n,e,t=!0){let{x:a,y:o,width:r,height:l}=n,{offsetX:s,offsetY:d,zoomScale:c,width:u}=e,p=i.Ez5.isFullscreenYScrollbarNeeded(),g=Math.min(20*c,20),h=a+r,f=(a-s)*c+u/2>aj+g+8,x=(s-h)*c+u/2>aj+g+(p?16:4),m=f&&!x;return(t||(m=f||!x),m)?{lineWidth:g,offsetX:(a-s)*c-g,offsetY:(o+l/2-d)*c,isLeftAligned:m}:{lineWidth:g,offsetX:(h-s)*c+g,offsetY:(o+l/2-d)*c,isLeftAligned:m}}function aL(n,e,t){let a=[],o=8*Math.min(1,t);for(let e of n){let n=e.height+o;for(a.push({basis:e.offsetY-n/2,length:1,height:n});a.length>1&&function(n,e){let t=n.basis+n.height-e.basis;return!(t<=0)&&(n.height+=e.height,n.length+=e.length,n.basis-=t*e.height/n.height,!0)}(a[a.length-2],a[a.length-1]);)a.pop()}let i=0;for(let t of a){let{basis:a}=t;for(let r=0;r<t.length;r++){let t=n[i];if(t){let n=t.height+o;e[t.uniqueId]=a+n/2,a+=n,i++}}}}function aE(n,e,t,a,o){return a+(Math.min(Math.max(n,e),t)-e)/(t-e)*(o-a)}var aV=t(106e3),aT=t(140184),aP=t(824962),aR=t(643851),aM=t(353183),aB=t(386690);let aO=(0,M.jz)("4px")/2;function aD(n){let{children:e}=n,t=(0,o.useRef)(null),[i,r]=(0,o.useState)(null),l=(0,o.useRef)(null),s=function(){let n=(0,h.d4)(n=>n.selectedView),e=h.d4(n=>n.versionHistory)?.isLoadingPage,t=(0,w.DP)(),{isLoading:a}=(0,I.v9)({selectedView:n,isLoadingVersionHistory:e,theme:t});return a}();return(0,o.useEffect)(()=>{if(t.current){let n=t.current.attachShadow({mode:"open"}),e=document.createElement("style");e.nonce=(0,B.Ay)().csp_nonce,e.textContent=[aV.Nz,aP.Nz,aT.Nz,aB.Nz,"/** @postcss-export-raw */\n\n/**\n * ellipsis.css\n *\n * Add an ellipsis if text is too long.\n *\n * The element that composes this mixin MUST have a defined width or max-width in pixels.\n * - Only works on a single line of text. See below for multi-line ellipses\n */\n\n.ellipsis--ellipsis--70pHK {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/**\n * Add an ellipsis after n lines of text.\n * https://developer.mozilla.org/en-US/docs/Web/CSS/-webkit-line-clamp\n *\n * The element that composes this mixin MUST:\n * - Have a defined width or max-width in pixels.\n * - Have a defined fallback height or max-height set to `line-height * n`,\n *     in case browsers do not support -webkit-line-clamp or box-orient\n *     at least the container size will be correct (with no ellipses)\n *\n * TODO(golf): start using `line-clamp` instead of -webkit-line-clamp once browsers start supporting it\n */\n\n.ellipsis--_ellipsisAfterNLines--5f-ox {\n  display: -webkit-inline-box;\n  overflow: hidden;\n\n  /* https://github.com/postcss/autoprefixer/issues/776#issuecomment-297734206 */\n  /* autoprefixer: off */\n  -webkit-box-orient: vertical;\n  /* autoprefixer: on */\n}\n\n.ellipsis--ellipsisAfter2Lines--akrXP {\n  -webkit-line-clamp: 2;\n}\n\n.ellipsis--ellipsisAfter3Lines--eBD0M {\n  -webkit-line-clamp: 3;\n}\n\n.ellipsis--ellipsisAfter6Lines--9-7DS {\n  -webkit-line-clamp: 6;\n}\n\n.ellipsis--ellipsisAfter8Lines--2JTeB {\n  -webkit-line-clamp: 8;\n}\n","/** @postcss-export-raw */\n/* Keep in line with FGDevHandoffHelpers.h */\n.annotation--annotationContainer--d9Ys- {\n  position: relative;\n  /* Make all z indexes in this file relative to the parent.\n     We want all annotations to render underneath comments */\n  /* stylelint-disable-next-line @fpl/no-manual-z-index */\n  z-index: 0;\n}\n.annotation--annotationContainer--d9Ys-.annotation--isPageLoading--TKjtd {\n    filter: blur(3px);\n  }\n.annotation--_ellipsis--rAG2o {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.annotation--annotationWrapper--AR3Fx {\n  /* TODO: these should be semantic tokens */\n  /* stylelint-disable-next-line @figma/color-no-raw */\n  --annotation-line-color: rgba(131, 131, 131, 0.75);\n  --annotation-dot-border-color: #838383; /* stylelint-disable-line @figma/color-no-raw */\n  --annotation-border-color: var(--color-border-selected);\n  --annotation-border-selected-color: var(--color-border-brand);\n\n  --annotation-scale: 1;\n\n  position: absolute;\n  pointer-events: none;\n  width: max-content;\n}\n/* If no annotation was rendered, then the wrapper shouldn't show either */\n.annotation--shouldHideEmptyAnnotations--T5llE:not(.annotation--wrapperMinimized--b-VvW):not(:has(.annotation--viewAnnotation--IGiC3)):not(:has(.annotation--createAnnotation--iQQDI)) {\n    display: none;\n  }\n.annotation--annotationWrapperSelected--3IY0u {\n  --annotation-line-color: var(--color-border-selected);\n  --annotation-dot-border-color: var(--color-border-selected);\n}\n.annotation--annotationWrapper--AR3Fx,\n.annotation--wrapperMinimized--b-VvW:hover {\n  /* stylelint-disable-next-line @fpl/no-manual-z-index */\n  z-index: 1;\n}\n/* Handle scaling transition on mouse out */\n.annotation--transitionScaling--jWRPB .annotation--annotationLeftAligned--s02AW,\n  .annotation--transitionScaling--jWRPB .annotation--annotationRightAligned--FsRy0 {\n    transition: transform 0.05s ease-in-out;\n  }\n/* Handle transition scaling on mouse enter */\n.annotation--transitionScaling--jWRPB:hover .annotation--annotationLeftAligned--s02AW,\n  .annotation--transitionScaling--jWRPB:hover .annotation--annotationRightAligned--FsRy0 {\n    transition: transform 0.025s ease-out;\n  }\n.annotation--wrapperEditing--tgw-m {\n  /* stylelint-disable-next-line @fpl/no-manual-z-index */\n  z-index: 2;\n}\n.annotation--wrapperMinimized--b-VvW {\n  /* stylelint-disable-next-line @fpl/no-manual-z-index */\n  z-index: 0;\n}\n.annotation--annotationLine--3ZwO6 {\n  --line-width-scale: 1;\n  --y-offset-direction: -1;\n\n  position: absolute;\n  top: 50%;\n  /* Push to left of annotation box */\n  transform: translate(\n    calc(-100% + 15px),\n    calc(var(--y-offset-direction) * 15px)\n  );\n\n  stroke: var(--annotation-line-color);\n  fill: var(--annotation-line-color);\n}\n.annotation--annotationLineLeftAligned--IT6Wj {\n  transform: translate(-15px, calc(var(--y-offset-direction) * 15px));\n}\n.annotation--annotationLineBelowNode--MIH9X {\n  --y-offset-direction: 1;\n\n  top: auto;\n  bottom: 50%;\n}\n.annotation--annotationLineStartDot--HCgbI {\n  fill: color-mix(in srgb, var(--annotation-dot-border-color) 45%, transparent);\n  stroke: var(--annotation-dot-border-color);\n}\n.annotation--annotationLineStartInnerDot--epldH {\n  fill: var(--color-text-onbrand);\n}\n.annotation--annotationLineEndDot--i-FNn {\n  --dot-radius: 2px;\n  r: var(--dot-radius);\n}\n.annotation--_annotationBase---1DgM {\n  color: var(--color-text);\n\n  pointer-events: auto;\n\n  border-radius: var(--radius-large);\n  box-shadow: var(--elevation-200-canvas);\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n\n  max-width: 220px;\n\n  font-family: Inter;\n  font-size: 11px;\n  font-weight: 400;\n\n  /* This avoids a size shift when adding a border (category & selection). */\n  border: 1px solid transparent;\n}\n.annotation--viewAnnotation--IGiC3 {\n\n  background: var(--color-bg);\n  outline: none;\n\n  -webkit-user-select: text;\n\n          user-select: text;\n\n  /* This is to make sure the annotation proportions look better when there's a category */\n}\n.annotation--viewAnnotation--IGiC3.annotation--withCategory--NZ3XL {\n    min-width: 80px;\n  }\n.annotation--viewAnnotation--IGiC3.annotation--onlyCategory--oNcPx {\n    min-width: auto;\n\n    border-radius: var(--radius-medium);\n    background: var(--annotation-category-color);\n  }\n.annotation--viewAnnotation--IGiC3.annotation--onlyCategory--oNcPx .annotation--categoryLabel--jH5n5 {\n      margin: 0;\n    }\n.annotation--viewAnnotation--IGiC3.annotation--onlyCategory--oNcPx .annotation--contentContainer--VILBd.annotation--innerWrapper--VAyRd {\n      padding: 0;\n    }\n.annotation--viewAnnotationNodeSelected--7lHL7 {\n  border: 1px solid var(--annotation-border-selected-color);\n}\n.annotation--viewAnnotation--IGiC3:focus {\n  border: 1px solid var(--annotation-border-color);\n}\n.annotation--viewAnnotationFadedOut---vfCz > * {\n  opacity: 0.5;\n}\n.annotation--viewAnnotationFadedOut---vfCz .annotation--innerWrapper--VAyRd > * {\n  opacity: 0.5;\n}\n.annotation--createAnnotation--iQQDI {\n\n  background: var(--color-bg);\n  /* fixed when authoring */\n  width: 220px;\n}\n.annotation--createAnnotation--iQQDI .text-editor {\n    border: none;\n  }\n.annotation--createAnnotation--iQQDI .ql-editor.ql-blank::after {\n    margin-top: -1.85em;\n  }\n.annotation--createAnnotation--iQQDI .text-editor:focus-within {\n    margin: 0;\n  }\n.annotation--createAnnotation--iQQDI .ql-container {\n    background: none;\n  }\n.annotation--createAnnotation--iQQDI .ql-editor {\n    font-size: 13px;\n    line-height: 24px;\n    min-height: 24px;\n    padding: 2px 6px;\n    margin: 4px 0 6px 0;\n  }\n.annotation--annotationHeader--ERN-y {\n  display: flex;\n}\n.annotation--createAnnotationHeader--2F4fa {\n  display: flex;\n  padding-top: 10px;\n  padding-left: 10px;\n  padding-right: 8px;\n}\n.annotation--headerRowLeft--v9Pc9 {\n  flex: 1 1 0;\n  min-width: 0;\n  display: flex;\n}\n.annotation--headerRowRight--2t9c- {\n  flex: 0 1 auto;\n  display: flex;\n  gap: 4px;\n}\n.annotation--categoryLabel--jH5n5 {\n  color: var(--color-text-onbrand);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  font-weight: var(--body-medium-strong-fontWeight, 550);\n\n  border-radius: var(--radius-medium, 0.3125rem);\n  background-color: var(--annotation-category-color);\n\n  margin: 9px 8px 0px 8px;\n  padding: 2px 6px;\n\n  -webkit-user-select: none;\n\n          user-select: none;\n}\n.annotation--categoryLabel--jH5n5.annotation--darkText--DDQkT {\n    color: var(--color-text-onwarning);\n  }\n.annotation--innerWrapper--VAyRd {\n  position: relative;\n\n  color: var(--color-text);\n}\n.annotation--createAnnotation--iQQDI .ql-editor ul,\n  .annotation--viewAnnotation--IGiC3 .ql-editor ul,\n  .annotation--createAnnotation--iQQDI .ql-editor ol,\n  .annotation--viewAnnotation--IGiC3 .ql-editor ol {\n    padding-left: 1.5em;\n  }\n.annotation--annotationHoverTarget--H0BiD {\n  width: 24px;\n  height: 24px;\n  position: absolute;\n  pointer-events: auto;\n  top: calc(50% - 12px);\n  /* This is relative to the left edge of the line end dot,\n     but we want to center it around the dot */\n  left: -10px;\n}\n.annotation--annotationHoverTargetLeftAligned--CDHQy {\n  /* This is relative to the right edge of the line end dot,\n     but we want to center it around the dot.\n     Shift by parent width (100%) to account for when the\n     annotation is not hidden. */\n  left: calc(100% - 14px);\n}\n.annotation--annotationLeftAligned--s02AW {\n  transform: translate(-100%, 0) scale(var(--annotation-scale));\n  transform-origin: 100% 50%;\n  left: 8px;\n}\n.annotation--annotationRightAligned--FsRy0 {\n  transform: scale(var(--annotation-scale));\n  transform-origin: 0 50%;\n  left: -8px;\n}\n.annotation--contentContainer--VILBd {\n  display: flex;\n  flex-direction: column;\n  padding: 0 0 8px 0;\n  box-sizing: border-box;\n}\n.annotation--contentContainer--VILBd.annotation--innerWrapper--VAyRd {\n  gap: 8px;\n  padding: 8px;\n}\n.annotation--contentContainerNoProperties--QeL-q {\n  padding: 0;\n}\n.annotation--labelEditor---EU0E {\n  padding: 0 8px;\n\n  max-height: 304px;\n  overflow-y: auto;\n}\n.annotation--properties--BAhPP {\n  display: grid;\n  grid-template-columns: min-content auto;\n  align-items: center;\n\n  cursor: default;\n}\n.annotation--properties--BAhPP.annotation--propertiesDisplay--VMjiR {\n    grid-row-gap: 4px;\n  }\n.annotation--createAnnotation--iQQDI .annotation--properties--BAhPP {\n  padding-left: 16px;\n  padding-right: 12px;\n}\n.annotation--selectedPropertyDisplayLabel--LNUZm,\n.annotation--selectedPropertyValue--pGmls {\n  /* The delete icon forces a certain row height, so we need to manually pad text to ensure labels are consistently positioned */\n  /* If not, the \"effect\" row that has more lines is vertically positioned different to the other property rows */\n  /* We're using rem here to mimic how --icon-button-size is defined */\n  padding: calc(0.75rem - 8px) 0;\n}\n.annotation--propertyDisplayLabel--FevWV,\n.annotation--selectedPropertyDisplayLabel--LNUZm {\n  align-self: baseline;\n\n  color: var(--color-text-secondary);\n  white-space: nowrap;\n\n  padding-right: 12px !important;\n}\n.annotation--selectedPropertyValueWrapper--tedZp {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n\n  width: calc(100% + 4px);\n\n  overflow: hidden;\n}\n.annotation--propertyDisplayValue--qJy35 {\n  overflow: hidden;\n}\n.annotation--noValue--ynOiw {\n  color: var(--color-text-secondary);\n}\n.annotation--selectedPropertyValue--pGmls {\n  overflow: hidden;\n\n  flex: 1 1 100%;\n}\n.annotation--selectedPropertyDelete--5a-EA {\n  display: flex;\n  align-items: center;\n}\n.annotation--propertyOptionIconSvg--Hk7qw {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.annotation--icon---g0jy {\n  flex: 0 0 24px;\n\n  width: 24px;\n  height: 24px;\n  margin-right: 4px;\n}\n.annotation--icon---g0jy svg {\n  fill: var(--color-icon);\n}\n.annotation--icon---g0jy[aria-disabled='true'] svg {\n  fill: var(--color-icon-disabled);\n}\n.annotation--chit--HkXWE {\n  width: 12px;\n  height: 12px;\n\n  border-radius: 2px;\n  display: flex;\n  overflow: hidden;\n  margin: 1px 2px 1px 0;\n  flex-shrink: 0;\n  border: 1px solid var(--color-border);\n}\n.annotation--chit--HkXWE svg {\n    width: 12px;\n    height: 12px;\n  }\n.annotation--propertyMenuOption--GULHd .annotation--chit--HkXWE {\n    margin: 1px 10px 1px 6px;\n  }\n.annotation--propertyMenuOption--GULHd:hover .annotation--chit--HkXWE {\n    border-color: var(--color-icon);\n  }\n.annotation--styleChit--IT4tL {\n  border: none;\n}\n.annotation--chitInline--xdOUZ {\n  margin: 0;\n}\n.annotation--solidPaint--kQ7oa {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n.annotation--solidPaintValue--GyCU- {\n}\n.annotation--createAnnotationFooter--60Lk5 {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 6px 8px 6px;\n}\n.annotation--coloredProperty--aLpNu {\n  display: flex;\n  align-items: center;\n  justify-content: left;\n}\n.annotation--coloredProperty--aLpNu > span {\n    padding-left: 2px;\n    padding-right: 2px;\n    border-radius: 2px;\n  }\n.annotation--paddingProperty--Akapu > span {\n    background: var(--color-bginspectpadding);\n    color: var(--color-textoninspectpadding);\n  }\n.annotation--spacingProperty--x9hxx > span {\n    background: var(--color-bginspectspacing);\n    color: var(--color-textoninspectspacing);\n  }\n.annotation--mixedValues--HOTi6 {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n.annotation--variablePill--FKHCg {\n  height: 16px;\n  padding: 0 4px;\n}\n.annotation--multipleVariableWrapper--6yCpL {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 4px;\n  flex-direction: row;\n  align-items: center;\n}\n.annotation--multipleVariableWrapper--6yCpL.annotation--vertical--zzk-u {\n  flex-direction: column;\n  flex-wrap: nowrap;\n}\n.annotation--multipleVariableValue--dNbtx {\n  overflow: hidden;\n  align-self: stretch;\n}\n.annotation--annotationWrapperManagedString--BLFU9 {\n  --annotation-line-color: var(--color-border-component-strong);\n  --annotation-dot-border-color: var(--color-border-component-strong);\n  --annotation-border-color: var(--color-border-component-strong);\n}\n.annotation--annotationWrapperManagedString--BLFU9 .annotation--viewAnnotation--IGiC3 {\n    background-color: var(--color-bg-component-tertiary);\n    color: var(--color-text);\n    display: flex !important;\n    flex-direction: row !important;\n    align-items: center;\n    cursor: default;\n  }\n.annotation--annotationWrapperManagedString--BLFU9 .annotation--viewAnnotation--IGiC3:hover,\n  .annotation--annotationWrapperManagedString--BLFU9 .annotation--viewAnnotationSelected--kg3YJ {\n    border: 1px solid transparent;\n  }\n.annotation--annotationWrapperManagedString--BLFU9 .annotation--viewAnnotation--IGiC3:hover {\n    background-color: var(--color-bg-component-tertiary-hover);\n  }\n.annotation--annotationWrapperManagedString--BLFU9 .annotation--viewAnnotation--IGiC3.annotation--contentContainer--VILBd {\n    padding: 2px 6px 2px 6px;\n  }\n.annotation--annotationWrapperManagedString--BLFU9 .annotation--managedStringLabel--qFfl7 {\n    background: none;\n    font-size: 10px;\n    font-family: 'Roboto Mono', Monaco, 'Courier New', monospace;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n.annotation--annotationWrapperCmsBinding--Z75xB {\n  --annotation-line-color: var(--color-border-menu-selected-strong);\n  --annotation-dot-border-color: var(--color-border-brand-strong);\n  --annotation-border-color: var(--color-border-menu-selected-strong);\n}\n.annotation--annotationWrapperCmsBinding--Z75xB .annotation--viewAnnotation--IGiC3 {\n    display: flex !important;\n    flex-direction: row !important;\n    align-items: center;\n    cursor: default;\n    gap: 3px;\n    border-radius: var(--radius-medium);\n    border: 1px solid transparent;\n\n    background-color: var(--color-bg);\n    color: var(--color-text-brand);\n    --color-icon: var(--color-icon-brand);\n  }\n.annotation--annotationWrapperCmsBinding--Z75xB .annotation--viewAnnotation--IGiC3.annotation--viewAnnotationDangling--MaR0v {\n      background-color: var(--color-bg);\n      color: var(--color-text-warning);\n      --color-icon: var(--color-icon-warning);\n    }\n.annotation--annotationWrapperCmsBinding--Z75xB.annotation--hoverEnabled---4Tzy .annotation--viewAnnotation--IGiC3:hover,\n  .annotation--annotationWrapperCmsBinding--Z75xB .annotation--viewAnnotationSelected--kg3YJ,\n  .annotation--annotationWrapperCmsBinding--Z75xB .annotation--viewAnnotationNodeHovered--80CeA {\n    border: 1px solid var(--color-bg-brand);\n  }\n.annotation--annotationWrapperCmsBinding--Z75xB.annotation--hoverEnabled---4Tzy .annotation--viewAnnotation--IGiC3.annotation--viewAnnotationDangling--MaR0v:hover, .annotation--annotationWrapperCmsBinding--Z75xB .annotation--viewAnnotationSelected--kg3YJ.annotation--viewAnnotationDangling--MaR0v, .annotation--annotationWrapperCmsBinding--Z75xB .annotation--viewAnnotationNodeHovered--80CeA.annotation--viewAnnotationDangling--MaR0v {\n      border: 1px solid var(--color-border-warning-strong);\n    }\n.annotation--annotationWrapperCmsBinding--Z75xB .annotation--viewAnnotationSelected--kg3YJ .annotation--unbind--OAFlB {\n      display: flex;\n    }\n.annotation--annotationWrapperCmsBinding--Z75xB .annotation--viewAnnotation--IGiC3.annotation--contentContainer--VILBd {\n    padding: 4px;\n  }\n.annotation--annotationWrapperCmsBinding--Z75xB .annotation--cmsBindingLabel--WGSkb {\n    /* body/body.medium */\n    font-family: var(--body-medium-fontFamily, Inter);\n    font-size: var(--body-medium-fontSize, 11px);\n    font-style: normal;\n    font-weight: var(--body-medium-fontWeight, 450);\n    line-height: var(--body-medium-lineHeight, 16px); /* 145.455% */\n    letter-spacing: 0.055px;\n    background: none;\n  }\n.annotation--annotationWrapperCmsBinding--Z75xB .annotation--unbind--OAFlB {\n    background: none;\n    display: none;\n    align-items: center;\n    justify-content: center;\n    border: none;\n    padding: 0 0 0 4px;\n  }\n.annotation--annotationWrapperCodebaseSuggestions--S-70x {\n  --annotation-line-color: var(--color-border-handoff-strong);\n  --annotation-dot-border-color: var(--color-border-handoff-strong);\n  --annotation-border-color: var(--color-border-handoff-strong);\n}\n.annotation--annotationWrapperCodebaseSuggestions--S-70x .annotation--viewAnnotation--IGiC3 {\n    background-color: var(--color-bg-handoff-tertiary);\n    color: var(--color-text-handoff);\n    display: flex !important;\n    flex-direction: row !important;\n    cursor: default;\n  }\n.annotation--annotationWrapperCodebaseSuggestions--S-70x .annotation--viewAnnotation--IGiC3:hover,\n  .annotation--annotationWrapperCodebaseSuggestions--S-70x .annotation--viewAnnotationSelected--kg3YJ {\n    border: 1px solid transparent;\n  }\n.annotation--annotationWrapperCodebaseSuggestions--S-70x .annotation--viewAnnotation--IGiC3:hover {\n    background-color: var(--color-bg-handoff-tertiary);\n  }\n.annotation--annotationWrapperCodebaseSuggestions--S-70x .annotation--viewAnnotation--IGiC3.annotation--contentContainer--VILBd {\n    padding: 2px 6px 2px 4px;\n  }\n.annotation--annotationWrapperCodebaseSuggestions--S-70x .annotation--codeConnectIcon--o17Nq {\n    display: inline-block;\n    flex: none;\n  }\n.annotation--annotationWrapperCodebaseSuggestions--S-70x .annotation--codeConnectIcon--o17Nq svg {\n      display: block;\n    }\n.annotation--annotationWrapperCodebaseSuggestions--S-70x .annotation--codeConnectIcon--o17Nq svg path {\n        fill: var(--color-icon-handoff);\n      }\n.annotation--annotationWrapperCodebaseSuggestions--S-70x .annotation--codeConnectLabel--A3TgT {\n    font-size: 10px;\n\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n.annotation--annotationWrapperCodebaseSuggestions--S-70x .annotation--codeConnectLabelName--T8n-R {\n    font-family: 'Roboto Mono', Monaco, 'Courier New', monospace;\n  }\n.annotation--effectBlurVariable--8Oxdy {\n  padding-left: 4px;\n}\n.annotation--headerRowLeft--v9Pc9 {\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n.annotation--categorySelectorButton--PduQj {\n  position: relative;\n\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  background-color: var(--color-bg-secondary);\n  color: var(--color-text-secondary);\n  font-weight: var(--body-medium-strong-fontWeight, 550);\n\n  border-radius: 4px;\n\n  padding-left: 6px;\n  padding-right: 18px;\n\n  border: 1px solid transparent;\n}\n.annotation--categorySelectorButton--PduQj.annotation--withCategory--NZ3XL {\n    color: var(--color-text-onbrand);\n    background-color: var(--annotation-category-color);\n  }\n.annotation--categorySelectorButton--PduQj.annotation--withCategory--NZ3XL .annotation--caret--enON5 {\n      fill: var(--color-icon-onbrand);\n      color: var(--color-icon-onbrand);\n    }\n.annotation--categorySelectorButton--PduQj.annotation--withCategory--NZ3XL.annotation--darkText--DDQkT {\n    color: var(--color-text-onwarning);\n  }\n.annotation--categorySelectorButton--PduQj.annotation--withCategory--NZ3XL.annotation--darkText--DDQkT .annotation--caret--enON5 {\n      fill: var(--color-icon-onwarning);\n      color: var(--color-icon-onwarning);\n    }\n.annotation--categorySelectorButton--PduQj:focus-visible {\n    border: 1px solid var(--color-border-selected);\n  }\n.annotation--categorySelectorButton--PduQj .annotation--caret--enON5 {\n    fill: var(--color-icon);\n    color: var(--color-icon);\n  }\n.annotation--pinPropertyButton--eiL64 {\n  position: relative;\n\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  padding: 4px 8px 4px 4px;\n\n  font-weight: var(--body-medium-fontWeight, 450);\n  line-height: var(--body-medium-lineHeight, 16px);\n\n  border-radius: var(--radius-medium);\n  border: 1px solid transparent;\n\n  color: var(--color-text-secondary);\n}\n.annotation--pinPropertyButton--eiL64:hover {\n    color: var(--color-text);\n    background-color: var(--color-bg-secondary);\n  }\n.annotation--pinPropertyButton--eiL64:hover .annotation--pinPropertyButtonIcon--h1GPa {\n      fill: var(--color-icon);\n      color: var(--color-icon);\n    }\n.annotation--pinPropertyButton--eiL64:focus-visible {\n    border: 1px solid var(--color-border-selected);\n  }\n.annotation--pinPropertyButton--eiL64.annotation--pinPropertyButtonActive--J-t-I {\n    color: var(--color-text);\n    background-color: var(--color-bg-secondary);\n  }\n.annotation--pinPropertyButton--eiL64.annotation--pinPropertyButtonActive--J-t-I .annotation--pinPropertyButtonIcon--h1GPa {\n      fill: var(--color-icon);\n      color: var(--color-icon);\n    }\n.annotation--pinPropertyButton--eiL64 .annotation--pinPropertyButtonIcon--h1GPa {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    width: 16px;\n    height: 16px;\n\n    fill: var(--color-icon-secondary);\n    color: var(--color-icon-secondary);\n\n    margin-right: 4px;\n  }\n.annotation--categorySelectorButtonLabel--LJTDt {\n  max-width: 116px;\n}\n.annotation--caret--enON5 {\n  position: absolute;\n  top: calc(50% - 3px);\n  right: 6px;\n\n  --padding-right: var(--menu-padding-right, 4px);\n  margin-right: calc(var(--padding-right) - 4px);\n}\n.annotation--colorCircle--fjWQE {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n\n  box-sizing: border-box;\n\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.annotation--colorCircle--fjWQE.annotation--noCategoryColor--mORCE {\n  background-color: transparent;\n  border: 1px solid var(--color-icon-secondary);\n}\n.annotation--categoryOptionLabel--4t7ln {\n  text-align: start;\n  padding: 0 6px;\n}\n.annotation--categoryOptionIcon--ANhNa {\n  flex: 0 0 auto;\n  padding: 0 2px;\n}\n.annotation--visibilityDisclaimer--OWbll {\n\n  padding: 0 16px;\n  max-width: 136px;\n\n  color: var(--color-text-menu-secondary);\n}\n.annotation--visibilityDisclaimer--OWbll p {\n    margin-bottom: 4px;\n  }\n/* Copying some of the icon-button styles since the styles don't apply within\n a shadow root element */\n.annotation--buttonReset--OM-MC {\n  display: inline-flex;\n  place-items: center;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  border: none;\n  -webkit-user-select: none;\n          user-select: none;\n}\n.annotation--buttonReset--OM-MC * {\n    /* Things inside of button shouldn't be targeted by clicks, only the button itself */\n    pointer-events: none;\n  }\n.annotation--iconButton--riHVt {\n  --icon-button-width: initial;\n  --icon-button-height: initial;\n  --icon-button-outline-offset: -0.0625rem;\n  --icon-button-outline-width: 0.0625rem;\n  --icon-button-outline-color: transparent;\n  --icon-button-icon: var(--color-icon);\n  --icon-button-icon-secondary: var(--color-icon-secondary);\n  --icon-button-icon-tertiary: var(--color-icon-tertiary);\n  --icon-button-size: 1.5rem;\n  --icon-button-icon-size: 1.5rem;\n  --icon-button-radius: var(--radius-medium);\n\n  display: grid;\n  width: var(--icon-button-width, var(--icon-button-size));\n  height: var(--icon-button-height, var(--icon-button-size));\n  min-width: var(--icon-button-width, var(--icon-button-size));\n  padding: 0;\n\n  border-radius: var(--fpl-radius-left, var(--icon-button-radius))\n    var(--fpl-radius-right, var(--icon-button-radius))\n    var(--fpl-radius-right, var(--icon-button-radius))\n    var(--fpl-radius-left, var(--icon-button-radius));\n  background: transparent;\n  outline: var(--icon-button-outline-color) solid var(--icon-button-outline-width);\n  outline-offset: var(--icon-button-outline-offset);\n}\n.annotation--iconButton--riHVt:disabled {\n    --icon-button-icon: var(--color-icon-disabled);\n    --icon-button-icon-secondary: var(--color-icon-disabled);\n    --icon-button-icon-tertiary: var(--color-icon-disabled);\n  }\n/**\n * Hovering over any part of a button group should trigger the hover states of everything\n * inside of the group. Focusing an element inside the group should also trigger the hover states\n * of everything else.\n */\n.annotation--ghost--lvmNk:not([aria-disabled='true']):hover,\n  :where([role='group']:hover) .annotation--ghost--lvmNk:not([aria-disabled='true']),\n  [role='group']:has([data-show-focus]:focus-visible) .annotation--ghost--lvmNk:not([aria-disabled='true']):not(:focus-visible) {\n      background: var(--color-bghovertransparent);\n  }\n.annotation--ghost--lvmNk:not([aria-disabled='true']):active {\n      background: var(--color-bgtransparent-secondary-hover);\n    }\n.annotation--ghost--lvmNk[data-show-focus]:focus-visible {\n    --icon-button-outline-color: var(--color-border-selected);\n  }\n.annotation--iconButton--riHVt .annotation--icon---g0jy {\n  --color-icon: var(--icon-button-icon);\n  --color-icon-secondary: var(--icon-button-icon-secondary);\n  --color-icon-tertiary: var(--icon-button-icon-tertiary);\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: var(--icon-button-icon-size);\n  height: var(--icon-button-icon-size);\n  min-width: var(--icon-button-icon-size);\n\n  /* mixins aren't supported in composes, so the border radius settings have to be copied */\n  border-radius: var(--fpl-radius-left, var(--icon-button-radius))\n    var(--fpl-radius-right, var(--icon-button-radius))\n    var(--fpl-radius-right, var(--icon-button-radius))\n    var(--fpl-radius-left, var(--icon-button-radius));\n  fill: var(--color-icon);\n  pointer-events: none;\n}\n",aM.N,"/** @postcss-export-raw */\n.annotation_lexical_editor--contentEditable--KqM2W {\n  box-sizing: border-box;\n  flex-grow: 1;\n  padding-left: 8px;\n  padding-right: 0px;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  font-size: 13px;\n  line-height: 1.7;\n  outline: none;\n  text-align: left;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n.annotation_lexical_editor--contentEditableReadOnly--tWnfj {\n  box-sizing: border-box;\n  font-size: 11px;\n  line-height: 16px;\n\n  cursor: default;\n}\n.annotation_lexical_editor--placeholder--2VRIB {\n  color: var(--color-text-secondary);\n  overflow: hidden;\n  position: absolute;\n  text-overflow: ellipsis;\n  top: 11px;\n  left: 8px;\n  font-size: 13px;\n  display: inline-block;\n  pointer-events: none;\n}\n.annotation_lexical_editor--withCategory--GALuB.annotation_lexical_editor--placeholder--2VRIB {\n    top: 11px;\n  }\n.annotation_lexical_editor--linkReadOnly--TEiIN {\n  color: var(--color-text-brand);\n  cursor: pointer;\n  -webkit-text-decoration: underline;\n  text-decoration: underline;\n}\n",aR._content].join("\n"),l.current=document.createElement("style"),l.current.nonce=(0,B.Ay)().csp_nonce,n.append(e),n.append(l.current),r(n)}},[]),(0,o.useEffect)(()=>{l.current&&(l.current.textContent=`
        .annotationWrapperForcedHover {
          --annotation-scale: ${n.hoverScale} !important;

          /* stylelint-disable-next-line @fpl/no-manual-z-index */
z-index: 100;
        }

        .${er} {
          --line-width-scale: ${n.hoverScale} !important;
        }

        .${el} {
          --dot-radius: ${n.hoverScale*aO}px !important;
        }
      `)},[n.hoverScale]),(0,a.jsx)("div",{ref:t,"data-testid":"annotation-renderer-shadow-dom-container",className:R()("annotation--annotationContainer--d9Ys-",H.Dm,H.Uu,s&&"annotation--isPageLoading--TKjtd"),children:i&&(0,L.createPortal)(e,i)})}let aW=(0,o.memo)(function(){let n=(0,h.wA)(),e=(0,D.uQ)(),t=(0,h.d4)(n=>n.isFullscreenDocumentLoaded),l=aF(),d=(0,u.dH)(),c=(0,O._X)({subscribeToUpdates_expensive:!0}),f=(0,h.d4)(n=>n.dropdownShown),m=f?.type===nr,v=(0,s.Xr)(g.f),[y,_]=(0,s.fp)(g.m),w=(0,V.DP)();(0,o.useEffect)(()=>{e||_(null)},[e,_]),(0,o.useEffect)(()=>{d!==r.NLJ.ANNOTATE&&_(null)},[d,_]),(0,o.useEffect)(()=>{null!==y&&n((0,F.UU)())},[n,y]);let[A,I]=(0,o.useState)({}),{nodesWithAnnotationInfo:C,annotationsBeingViewed:S,newAnnotationNodeInfo:k}=function(n,e){let t=(0,h.d4)($.Sh),a=(0,G.LO)(),l=(0,s.md)(g.m),d=(0,U.NW)(),c=aF(),f=(0,p.J2)(i.Ez5.uiState().filterAnnotationCategoryId),m=1===t.length?t[0]:void 0,v=(0,N.Fk)((n,e)=>x.kh(n,e||"")?.guid||e||void 0,m),{allAnnotations:b,newAnnotationNode:y}=function({topLevelOrSelfNodeId:n}){let e=(0,u.dH)(),t=(0,p.J2)(i.Ez5.annotationObserver().annotationInfoByTlf),a=j([...t.keys()]),o=(0,s.md)(g.m),l=(0,D.uQ)(),d=(0,K.XR)(),c=(0,u.eY)(),h=null!==o?l:null,f=null!==o?n:void 0,{tlfsWithNodes:x,newAnnotationNode:m}=(0,T.k9)(()=>{let n=[...a],i=null;return h&&f&&!t.has(f)&&(e===r.NLJ.ANNOTATE||null!==o)&&n.push(f),{tlfsWithNodes:n.reduce((n,e)=>{let t=c.get(e),{nodes:a,newAnnotationNodeId:r}=function n(e,t,a=[],o,i){let r;if(e){if("SECTION"===e.type)return{nodes:[],newAnnotationNodeId:r};e.childrenNodes.forEach(e=>{let{newAnnotationNodeId:l}=n(e,t,a,o,i);r=r||l}),e.annotations.forEach((n,t)=>{let o=n.categoryId&&i.find(e=>e.id===n.categoryId)||null;a.push({nodeId:e.guid,uniqueId:`${e.guid}-manual-${t}`,annotationType:tL.MANUAL,meta:{annotationIndex:t,isUnAuthored:!1,category:o,categoryColor:o&&(0,K.FQ)(o)||void 0}})}),o===e.annotations.length&&e.guid===t&&(0===e.annotations.length?r=e.guid:a.push({nodeId:e.guid,uniqueId:`${e.guid}-manual-${e.annotations.length}`,annotationType:tL.MANUAL,meta:{annotationIndex:e.annotations.length,isUnAuthored:!0,category:null,categoryColor:void 0}}))}return{nodes:a,newAnnotationNodeId:r}}(t,h,[],o,d);return r&&t&&(i={nodeId:r,tlfGuid:e}),n[e]=a,n},{}),newAnnotationNode:i}},[a,c,h,f,e,o,d,t]),v={...x};for(let n of aa){let e=n.useSharedHooksContext&&n.useSharedHooksContext(),t=j(n.useRelevantTLFs(e)),a=n.useNewAnnotationsByTlf(t,e,{topLevelOrSelfNodeId:f});Object.keys(a).forEach(n=>{let e=a[n];v[n]?v[n]=[...v[n],...e]:v[n]=e})}return{allAnnotations:(0,T.zN)(v),newAnnotationNode:m}}({topLevelOrSelfNodeId:v}),_=(0,N.wA)((n,e)=>Object.entries(e).map(([e,t])=>{let a=[];t.forEach(e=>{let t=n.get(e.nodeId);if(!t)return;let o=t.absoluteRenderBounds;a.push({...e,nodeBounds:{x:o?.x??0,y:o?.y??0,width:o?.w??0,height:o?.h??0}})});let o=n.get(e);return{topLevelFrameNodeId:e,topLevelFrameBounds:{x:o?.absoluteBoundingBox.x??0,y:o?.absoluteBoundingBox.y??0,width:o?.absoluteBoundingBox.w??0,height:o?.absoluteBoundingBox.h??0},nodes:a}}),b),w=(0,o.useMemo)(()=>{if(v){let n=_.find(({topLevelFrameNodeId:n})=>n===v);if(n){let e=n.topLevelFrameBounds;return{x:e.x+e.width/2,y:e.y+e.height/2}}}},[_,v]),A=(0,T.k9)(()=>{let e=0,t=null,a=_.map(a=>{let{topLevelFrameBounds:o}=a;if(!function(n,e){let t=n.x,a=n.x+n.width,o=n.y,i=n.y+n.height,r=e.x,l=e.x+e.width,s=e.y,d=e.y+e.height;return t<l&&a>r&&o<d&&i>s}({x:o.x-aj,y:o.y,width:o.width+2*aj,height:o.height},(0,O.qc)(n)))return null;let i=function(n,e){let t={x:e.x+e.width/2,y:e.y+e.height/2};return Math.hypot(t.x-n.x,t.y-n.y)}(w||{x:n.offsetX,y:n.offsetY},o);(!t||i<t.distanceFromFocusPoint)&&(t={tlfIndex:e,distanceFromFocusPoint:i}),e++;let r=function(n,e){let t=(0,O.qc)(e);return Math.min(n.width*e.zoomScale,t.width)*Math.min(n.height*e.zoomScale,t.height)/(t.width*t.height)}(o,n);return{...a,isMostCentralTLF:!1,viewportClampingWeight:aE(r,.8,.85,0,1)*aE(n.zoomScale,.98,1,0,1),viewportOffsetXForClamping:r>.8&&n.zoomScale>.98||null!==l?n.offsetX*n.zoomScale:0}}).filter(E.Vq),o=t?t.tlfIndex:void 0;return void 0!==o&&(a[o].isMostCentralTLF=!0),a},[_,n,w,l]),I=Math.max(c,n.zoomScale),C=t.length>0?1/Math.min(1,n.zoomScale*(1/c)):1,{annotationsBeingViewed:S,nodesWithAnnotationInfo:k,annotationBeingEditedIndex:L}=(0,o.useMemo)(()=>{let o=[],i=0,r=null,s=A.flatMap(({nodes:s,topLevelFrameNodeId:c,topLevelFrameBounds:u,isMostCentralTLF:p,viewportClampingWeight:g,viewportOffsetXForClamping:h})=>{s.length>0&&o.push({tlf:c,numNodes:s.length});let x=s.map(o=>{let{nodeId:i,nodeBounds:r,annotationType:s,uniqueId:x}=o,m="meta"in o?o.meta:void 0,v=m&&("category"in m?m.category:null),b=m&&("categoryColor"in m?m.categoryColor:void 0),y=t.includes(i),_=null!==f&&v?.id!==f,w=d===x&&null!==l,A=!!m&&"isUnAuthored"in m&&m.isUnAuthored,N=w||A?1:_?0:g,j=function(n,e,t){let{x:a,y:o,width:i,height:r}=n,{x:l,width:s}=e,d=Math.abs(a-l)<Math.abs(l+s-(a+i)),c=Math.min(a,l),u=Math.max(a+i,l+s),p=Math.min(Math.max(20*t,5*t),20);return d?{lineWidth:(a-c)*t+p,offsetX:c*t-p,offsetY:(o+r/2)*t,isLeftAligned:d}:{lineWidth:(u-(a+i))*t+p,offsetX:u*t+p,offsetY:(o+r/2)*t,isLeftAligned:d}}(r,u,I);if(!w&&!A){let t=N*aS(n.width,I,r.width,e[x]?.width||0,j.isLeftAligned,j.offsetX-h,j.lineWidth,w,a);j.offsetX+=t,j.lineWidth+=t*(j.isLeftAligned?-1:1)}return{...j,meta:m,width:e[x]?.width||0,height:_?6:(e[x]?.height||0)*(y?C:1)+(y?10*(C-1):0),nodeId:i,uniqueId:x,nodeBounds:r,tlfGuid:c,shouldMinimize:_,lineColor:b,annotationType:s,topLevelFrameBounds:u,isInCentralTLF:p,currentlyBeingEdited:w||A}}).sort((n,e)=>n.offsetY-e.offsetY),m=x.findIndex(n=>n.currentlyBeingEdited);-1!==m&&(r=m+i);let v=function(n,e){let t=[],a=[],o={};for(let n of e)n.isLeftAligned?t.push(n):a.push(n);return aL(t,o,n),aL(a,o,n),e.map(e=>{let{y:t,height:a,width:i}=e.nodeBounds,r=o[e.uniqueId],l=t*n,s=e.lineWidth,d=tE.ALIGNED,c=0,u=e.lineWidth;return r<l?(d=tE.ABOVE,c=l-r,u+=i/2*n):r>(t+a)*n&&(d=tE.BELOW,c=r-(t+a)*n,u+=i/2*n),{...e,offsetY:r,lineAlignment:d,lineHeight:c,lineWidth:u,originalLineWidth:s}})}(I,x);return i+=s.length,v});return{annotationsBeingViewed:o,nodesWithAnnotationInfo:s,annotationBeingEditedIndex:r}},[n.width,I,A,e,f,a,l,d,C,t]);return{nodesWithAnnotationInfo:(0,T.k9)(()=>{if(null===L)return k;let e=[...k],t={...e[L]},o=Math.min(1,n.zoomScale*(1/c)),i=aS(n.width,n.zoomScale,t.nodeBounds.width,t.width,t.isLeftAligned,t.offsetX*o-n.offsetX*n.zoomScale,t.lineWidth*o,!0,a)/o;if(t.offsetX=t.offsetX+i,t.lineWidth=t.lineWidth+i*(t.isLeftAligned?-1:1),"isUnAuthored"in t.meta&&t.meta.isUnAuthored){let e=ak(t.nodeBounds,n,!t.isLeftAligned);e.isLeftAligned!==t.isLeftAligned&&(t.lineWidth=e.lineWidth/o,t.isLeftAligned=e.isLeftAligned,t.lineAlignment=tE.ALIGNED,t.lineHeight=0,t.offsetX=(e.offsetX+n.offsetX*n.zoomScale)/o,t.offsetY=(e.offsetY+n.offsetY*n.zoomScale)/o)}return e[L]=t,e},[k,n,L,a,c]),annotationsBeingViewed:S,newAnnotationNodeInfo:(0,N.wA)((n,e,t,a)=>{if(!t)return null;let o=n.get(t.nodeId);if(!o)return null;let i=o.absoluteRenderBounds,r={x:i?.x??0,y:i?.y??0,width:i?.w??0,height:i?.h??0},l=ak(r,a);return{...l,nodeId:t.nodeId,uniqueId:`${t.nodeId}-manual-${o.annotations.length}`,width:e[t.nodeId]?.width||0,height:e[t.nodeId]?.height||0,newAnnotationNode:t,tlfGuid:t.tlf,shouldMinimize:!1,lineAlignment:tE.ALIGNED,lineHeight:0,lineColor:void 0,originalLineWidth:l.lineWidth,annotationType:tL.MANUAL,isInCentralTLF:!1,nodeBounds:r,meta:{annotationIndex:o.annotations.length,category:null,categoryColor:void 0,isUnAuthored:!0}}},e,y,n)}}(c,A),L=(0,b.IL)(),P=S.length,R=S.reduce((n,e)=>n+e.numNodes,0);(0,o.useEffect)(()=>{P&&d===r.NLJ.SELECT&&L("showing_annotations_for_tlfs",{topLevelFrameCount:P,nodesWithAnnotationsCount:R})},[P,R,d,L]),o.useEffect(()=>(X.NB?.setIsShowingAnnotations(0!==C.length),v(C.length),()=>{X.NB?.setIsShowingAnnotations(!1),v(0)}),[C.length,v]);let M=(0,o.useCallback)((n,e)=>{I(t=>t[n]?.height!==e.height||t[n]?.width!==e.width?{...t,[n]:e}:t)},[]),B=(0,W.EG)();if(!t)return null;let H=c.zoomScale<.05,z=c.x+c.width/2,Y=c.y+c.height/2,q=Math.min(1,c.zoomScale*(1/l)),Q=null,J=C.map(n=>null!==y&&n.nodeId===e&&n.annotationType===tL.MANUAL&&n.meta.annotationIndex===y?(Q=(0,a.jsx)(au,{annotationId:n.uniqueId,annotationIndex:y,isLeftAligned:n.isLeftAligned,lineAlignment:n.lineAlignment,lineHeight:n.lineHeight*q,lineWidth:n.lineWidth*q,nodeId:n.nodeId,offsetX:n.offsetX*q+z-c.offsetX*c.zoomScale,offsetY:n.offsetY*q+Y-c.offsetY*c.zoomScale,setDimensions:M,viewportInfo:c}),null):(0,a.jsx)(a_,{annotationId:n.uniqueId,annotationMeta:"meta"in n?n.meta:void 0,annotationType:n.annotationType,isEditingAnnotation:!1,isInCentralTLF:n.isInCentralTLF,isLeftAligned:n.isLeftAligned,lineAlignment:n.lineAlignment,lineColor:n.lineColor,lineHeight:n.lineHeight,lineWidth:n.lineWidth,nodeId:n.nodeId,offsetX:n.offsetX,offsetY:n.offsetY,setDimensions:M,shouldDelayHover:c.zoomScale<.25,shouldHide:H,shouldMinimize:n.shouldMinimize},n.uniqueId)),Z=null!==y&&k&&(0,a.jsx)(au,{annotationId:k.uniqueId,annotationIndex:y,isLeftAligned:k.isLeftAligned,lineAlignment:k.lineAlignment,lineHeight:k.lineHeight,lineWidth:k.lineWidth,nodeId:k.nodeId,offsetX:k.offsetX+z,offsetY:k.offsetY+Y,setDimensions:M,viewportInfo:c}),nn=m&&f&&(0,a.jsx)(nl,{nodeId:f.data.nodeId,annotationIndex:f.data.annotationIndex,parentRect:f.data.position});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(aD,{hoverScale:1/q,children:(0,a.jsx)("div",{"data-fpl-version":w.version,style:{visibility:B?"hidden":"visible",position:"absolute",transform:`translate(${-c.offsetX*c.zoomScale+c.x+c.width/2}px, ${-c.offsetY*c.zoomScale+c.y+c.height/2}px) scale(${Math.min(c.zoomScale*(1/l),1)})`},children:J})}),Q,Z,nn]})});function aF(){let n=(0,z.cJ)();return(0,l.kc)().sites_annotation_scaling&&n?.3:(0,l.kc)().dt_annotations_sizing?.5:1}function aH(){return!function(){let n=(0,u.dH)(),e=(0,p.J2)(i.Ez5.annotationObserver().annotationInfoByTlf);return j((0,o.useMemo)(()=>Array.from(e.keys()),[e])).length>0||!!(0,l.kc)().dt_component_annotations||!!(0,l.kc)().dt_ccv2_on_canvas||!!(0,l.kc)().cheddar_annotations||!!(0,l.kc)().cms_connect_mode_new_annotations||n===r.NLJ.ANNOTATE}()?null:(0,a.jsx)(c.p,{forceNoScroll:!0,children:(0,a.jsx)(aW,{})})}let aG=(0,o.memo)(function(){return(0,a.jsx)(d.u9,{label:"AnnotationsOverlay",children:(0,a.jsx)(az,{})})});function az(){let n=(0,k.iW)();return((0,o.useEffect)(()=>{!n&&(s.zl.set(g.m,null),i.Ez5&&i.Ez5.editorState().focusedAnnotationId.set(null))},[n]),n)?(0,a.jsx)(aH,{}):null}},97237:(n,e,t)=>{t.d(e,{k:()=>i});var a=t(105652),o=t(239976);let i=(0,a.memo)(function(n){return(0,o.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...n,"data-fpl-icon-size":"16",children:(0,o.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M4.465 8a.5.5 0 0 1 .707.708l-.732.732a1.5 1.5 0 1 0 2.121 2.121l.732-.732a.5.5 0 0 1 .707.707l-.732.732a2.5 2.5 0 0 1-3.535-3.535zm7.307 3.772a.5.5 0 0 1 .629-.064l.078.064.375.375.064.078a.5.5 0 0 1-.693.694l-.078-.065-.375-.375-.065-.078a.5.5 0 0 1 .065-.629m-2.25-2.25a.5.5 0 0 1 .629-.064l.078.064.75.75.064.078a.5.5 0 0 1-.693.694l-.078-.065-.75-.75-.065-.078a.5.5 0 0 1 .065-.629m-2.25-2.25a.5.5 0 0 1 .629-.064l.078.064.75.75.064.078a.5.5 0 0 1-.693.694l-.078-.065-.75-.75-.065-.078a.5.5 0 0 1 .065-.629m1.46-3.539a2.5 2.5 0 1 1 3.536 3.535l-.732.733a.5.5 0 0 1-.707-.707l.732-.733A1.5 1.5 0 0 0 9.44 4.44l-.733.732A.5.5 0 0 1 8 4.465zm-3.71 1.29a.5.5 0 0 1 .629-.065l.078.064.75.75.064.078a.5.5 0 0 1-.693.694l-.078-.065-.75-.75-.065-.078a.5.5 0 0 1 .065-.629M3.147 3.146a.5.5 0 0 1 .629-.064l.078.064.375.375.064.078a.5.5 0 0 1-.693.694l-.078-.065-.375-.375-.065-.078a.5.5 0 0 1 .065-.629"})})})}}]);

//# debugId=2ce77983-d6ce-5c17-a69d-4ded8aa9bf67

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/dc903e616f39b1ad184d48520877c9329a445fea/8895-ed3095945eaa1d7f.min.js.map