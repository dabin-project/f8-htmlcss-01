"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="0f1e6f04-4009-587c-8d55-3fcf0dd512ed")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[6135],{256699:(e,t,l)=>{l.d(t,{A7:()=>a,i4:()=>r,nt:()=>o});var n=l(254842),s=l(503925);let o=e=>e.library.localStyleSelection,r=(0,n.Mz)([o,(e,t)=>t],(e,t)=>e?.type===t?e:null),a=(0,n.Mz)([r,(e,t,l)=>l],(e,t)=>{if(!e)return null;let l=new Set,n=new Set;return e.folderNames.forEach(e=>{let o=t.find(t=>"STYLE_FOLDER"===t.type&&t.name===e);o&&((0,s.KU)(o).forEach(e=>{l.add(e.name)}),(0,s.dm)(o).forEach(e=>{n.add(e.node_id)}))}),{type:e.type,folderNames:l,styleIds:n}})},131547:(e,t,l)=>{l.d(t,{Q:()=>eA});var n=l(239976),s=l(105652),o=l(20002),r=l(836848),a=l(60021),i=l(424364),d=l(735786),c=l(207474),u=l(692376),p=l(854225),y=l(798913),m=l(379141),h=l(537303),g=l(127446),x=l(575015),k=l(522568),f=l(916626),b=l(943866),w=l(499735),_=l(3427),S=l(122313),C=l(450207),E=l(27414),v=l(633948),j=l(730903),T=l(809390),L=l(257556),N=l(772293),I=l(384203),R=l(223487),D=l(890030),P=l(712022),M=l(256699),O=l(421564),F=l(508902),K=l(185474),B=l(442185),A=l(690252),Y=l(943360),X=l(378721),U=l(402731),$=l(563225),H=l(318584),q=l(147244),V=l(323264),W=l(236410),Z=l(239620),z=l(224542),G=l.n(z),Q=l(184743),J=l(526865);let ee="styles--rowSelectedExpanded--97Q9-",et="styles--panelHeaderRow--n16bi styles--styleTypeSectionRow--Z-Hyk",el="styles--panelHeaderRowFaded--m-qir styles--panelHeaderRow--n16bi styles--styleTypeSectionRow--Z-Hyk draggable_list--panelHeaderRowFaded--JR1vo",en="styles--panelTitleText--gmwwF draggable_list--panelTitleText--Bj2Hu";function es({ariaDescription:e,ariaLabel:t,ariaLevel:l,ariaPosinset:o,childLeft:r,childRight:a,deleteSelectedItems:i,hideStylePreview:d,index:c,inspectStyleSelected:u,isCollapsed:p=!0,isDragging:y,isEditable:m,isFirstChildOfSelection:h=!1,isFocused:g,isFolder:x,isLastChildOfSelection:k=!1,isRenaming:f,level:b,name:w,nameRef:_,onBlur:S,onContextMenu:C,onCreateFolder:E,onDoubleClick:v,onKeyDown:j,onFocus:T,onHoverChange:L,onMouseDown:I,onMouseMove:R,recordingKey:D,role:P,rowRef:M,secondaryName:O,selected:F,selectedSecondary:B,stopRenamingItem:X,tooltipData:U}){let[$,H]=s.useState(w),[q,W]=s.useState(!1),z=s.useCallback(e=>{e?.select()},[]);s.useEffect(()=>{H(w)},[w]);let et=s.useCallback(e=>{""===e.trim()?(X(c,w),H(w)):X(c,e)},[c,w,X]),el=(0,Z.AF)((0,Z.Pt)(D,"text-input"),"change",s.useCallback(e=>{H(e.currentTarget.value)},[H])),en=(0,Z.v_)((0,Z.Pt)(D,"text-input"),"keydown",e=>{"Escape"===e.key?(X(c,w),H(w)):"Enter"===e.key&&et(e.currentTarget.value)},{recordMetadata:e=>({inputValue:e.currentTarget.value}),playbackMetadata:e=>({currentTarget:{value:e.inputValue}})}),es=(0,Z.v_)(D,"keydown",e=>{m&&!f&&("Backspace"===e.key||"Delete"===e.key)?i():m&&!f&&"g"===e.key&&(0,Q.Fo)(e)?(E(),e.preventDefault()):!f&&"Tab"!==e.key&&e.nativeEvent&&N.Y5.forwardKeyboardEvent(e.nativeEvent),j?.(e)}),eo=s.useCallback(()=>{et($)},[et,$]),ea=(0,Z.rf)(D,"contextmenu",e=>{C(e)}),ei=(0,Z.rf)(D,"mousemove",e=>{R(e)},{recordMetadata:e=>({bounds:e.currentTarget.getBoundingClientRect(),pageX:e.pageX,pageY:e.pageY}),playbackMetadata:e=>({currentTarget:{getBoundingClientRect:()=>e.bounds},pageX:e.pageX,pageY:e.pageY})}),ed=(0,Z.rf)(D,"mousedown",e=>{I(e),d()}),ec=(0,Z.rf)(D,"mouseenter",s.useCallback(()=>{W(!0),L?.(!0)},[W,L])),eu=s.useCallback(()=>{W(!1),L?.(!1)},[W,L]),ep=(0,Z.rf)(D,"dblclick",s.useCallback(e=>{v(e)},[v])),ey=Math.min((b-1)*3,18),em=J.jNX-4-ey,eh=(q||g)&&!f,eg=F||B,ex=G()({[ee]:!p&&eg,"styles--folderSecondarySelected--K4XgF":B||F&&!h}),ek=G()({"styles--rowSelectedSecondaryLightBlue--CzdCg draggable_list--rowSelectedSecondary--mtph7 raw_components--rowSelectedSecondary--8bAME raw_components--rowSelected--X1lWb":eg,[ee]:!k&&eg}),ef=G()("styles--rowWithBorder--niGo7",{[ex]:x,[ek]:!x}),eb="row"===P,ew=(0,s.createElement)("div",{role:eb?"gridcell":void 0,tabIndex:eb?-1:void 0,className:"x78zum5 x6s0dn4 xa9xkfk xh8yej3 xxdk85o",key:w,"data-renaming":f},f?(0,n.jsx)(A.ks,{autoCapitalize:"off",autoCorrect:"off",autoFocus:!0,className:"xuxw1ft xb3r6kr xlyipyv x1yjdb4r",innerRef:z,onBlur:eo,onChange:el,onKeyDown:en,spellCheck:!1,value:$}):(0,n.jsxs)(n.Fragment,{children:[m?(0,n.jsx)(Y.E,{ref:_,onKeyDown:e=>{"Enter"===e.key&&v(e)},className:"x193iq5w x192jxwq x1evy7pa xb3r6kr xlyipyv xuxw1ft x1a2a7pz x5hs570",...U,children:w}):(0,n.jsx)("div",{className:"x193iq5w x192jxwq x1evy7pa xb3r6kr xlyipyv xuxw1ft x1a2a7pz x5hs570",ref:_,...U,children:w}),O&&(0,n.jsx)("div",{className:"xuxw1ft xt970qd x181xhy4 x1n0bwc9",children:O})]}));return(0,n.jsxs)(K.e6,{ref:M,"aria-description":e,"aria-expanded":!p,"aria-label":t,"aria-level":l,"aria-posinset":o,"aria-selected":F||B,className:ef,dragging:y,hideGrabber:!0,onBlur:S,onContextMenu:ea,onDoubleClick:ep,onFocus:T,onKeyDown:es,onMouseDown:ed,onMouseEnter:ec,onMouseLeave:eu,onMouseMove:ei,role:P,selected:F,selectedSecondary:!1,tabIndex:0,children:[ey>0&&(0,n.jsx)("span",{style:{gridColumnEnd:`span ${ey}`}}),(0,n.jsxs)("div",{role:"none",...V.Ay.props(er.childLeftContainer(`span ${(eh||u?em-7:em)||3}`)),children:[r,ew]}),a]})}let eo={kGNEyG:"x6s0dn4",k1xSpc:"x78zum5",kZKoxP:"x1xy3vng",kVAEAm:"x1n2onr6",kOIVth:"x1nfngrj",khm7nJ:"",k1C7PZ:"",$$css:!0},er={childLeftContainer:e=>[eo,{kWZpDQ:null!=e?"x5ha1vm":e,$$css:!0},{"--x-gridColumnEnd":null!=e?e:void 0}]};function ea({deleteSelectedItems:e,folder:t,folderNameToNestUnder:l,hideStylePreview:r,index:a,isCollapsed:i,isDragging:d,isEditable:c,isRenaming:u,isTemporarilyExpanded:p,isFirstChildOfSelection:y,level:h,onContextMenu:g,onCreateFolder:x,onMouseDown:k,onMouseMove:f,onRenameItem:b,recordingKey:_,selected:S,selectedSecondary:C,stopRenamingItem:E,temporarilyExpandFolder:v,toggleFolder:j}){let L=(0,o.wA)(),[N,I]=s.useState(!1),[R,D]=s.useState(!1),M=s.useRef(null),O=s.useRef(null),F=!u&&c,K=s.useCallback(()=>{j(!i)},[i,j]),B=s.useCallback(e=>{e.target!==O.current&&t.styleTypeSection&&b(t.name,!1,t.styleTypeSection)},[t.name,t.styleTypeSection,b]);s.useEffect(()=>{if(N&&d&&i){let e=setTimeout(()=>{v(t.name)},1e3);return()=>clearTimeout(e)}},[N,d,i,v,t]);let V=s.useCallback(e=>{let l=(0,q.Zk)(t.styleTypeSection),n=M.current?.getBoundingClientRect();l&&n&&(L(T.Zs({rowLeft:n.left,rowTop:n.top,styleType:t.styleTypeSection,styleNameInputPrefix:`${t.name}/`,inheritStyleKeyField:l})),e.stopPropagation(),e.preventDefault())},[M,t.name,t.styleTypeSection,L]),Z=s.useCallback(e=>{e.target===M.current&&(" "===e.key||"Enter"===e.key)&&(K(),e.preventDefault(),e.stopPropagation())},[K]),z=s.useCallback(e=>{(" "===e.key||"Enter"===e.key)&&e.stopPropagation()},[]);return(0,n.jsx)(es,{ariaLevel:h,childLeft:(0,n.jsx)("div",{role:"gridcell","aria-expanded":!i,children:(0,n.jsx)(Y.E,{className:"x1lliihq xgcd1z6 x5yr21d x192jxwq x1a2a7pz x5hs570",onClick:K,"aria-label":(0,m.t)("design_systems.styles.toggle_folder"),"aria-expanded":!i,onKeyDown:z,ref:O,children:i&&!p?(0,n.jsx)(U.k,{"aria-hidden":!0,className:"xiecat3"}):(0,n.jsx)($.O,{"aria-hidden":!0,className:"xiecat3"})})}),childRight:F&&(0,n.jsx)(A.$4,{role:"gridcell",children:(0,n.jsx)("div",{className:"xg01cxk x1euntei xemxxvk","data-hover":N||void 0,children:(0,n.jsx)(X.K,{recordingKey:w.Pt(_,"addButton"),"aria-label":(0,m.t)("design_systems.styles.tooltips.create"),onClick:V,"data-tooltip-type":W.Ib.TEXT,"data-tooltip":(0,m.t)("design_systems.styles.tooltips.create"),onKeyDown:z,children:(0,n.jsx)(H.e,{})})})}),deleteSelectedItems:e,forceShowHoverBorder:l===t.name,hideStylePreview:r,index:a,isCollapsed:i,isDragging:d,isEditable:c,isFirstChildOfSelection:y,isFocused:R,isFolder:!0,isRenaming:u,level:h,name:(0,P.kH)(t.name),onBlur:()=>D(!1),onContextMenu:g,onCreateFolder:x,onDoubleClick:B,onFocus:()=>D(!0),onHoverChange:I,onKeyDown:Z,onMouseDown:k,onMouseMove:f,onRenameItem:b,recordingKey:_,role:"row",rowRef:M,selected:S,selectedSecondary:C,stopRenamingItem:E})}var ei=l(796557),ed=l(751543),ec=l(40297),eu=l(96526),ep=l(28083),ey=l(450332),em=l(322515);function eh({ariaDescription:e,ariaLabel:t,deleteSelectedItems:l,dsStyle:r,hideStylePreview:a,index:i,isDragging:d,isEditable:c,isLastChildOfSelection:u,isRenaming:p,level:y,onContextMenu:h,onCreateFolder:g,onInspectStyle:x,onMouseDown:k,onMouseMove:f,onRenameItem:b,recordingKey:_,role:S,selected:C,selectedSecondary:v,stopRenamingItem:j,stylePreviewShown:N,updateContextMenuStyleRef:I,updateSelection:R,updateFocusRowRef:D}){let[M,O]=s.useState(!1),[F,K]=s.useState(!1),B=(0,o.wA)(),Y=s.useRef(null),X=s.useRef(null),U=s.useCallback(()=>{K(!0)},[]),$=s.useCallback(e=>{e.currentTarget.contains(e.relatedTarget)||K(!1)},[]),H=s.useCallback(()=>{c&&b(r.node_id,!0,r.style_type)},[b,r.node_id,r.style_type,c]),q=N.isShown&&!N.isCreating&&N.style.node_id===r.node_id&&(0,eu.EF)(N.style,r),V=(M||F)&&!p||q,Z=s.useCallback(function(){let e=X.current;if(e){let t=e.getBoundingClientRect();q?B(T.sw()):(B(T.rk({style:r,rowTop:t.top,rowLeft:t.left})),x(r),R({type:r.style_type,folderNames:new Set,styleIds:new Set(r.node_id)}))}B(E.XE())},[B,x,R,r,q]),z=s.useCallback(e=>{(2===e.button||e.ctrlKey)&&I(X.current),k(e),q&&Z()},[Z,k,q,I]),G=Y.current,Q=!!G&&G.offsetWidth<G.scrollWidth,ee=s.useMemo(()=>!d&&r.description&&Q?{"data-tooltip-type":W.Ib.SPECIAL,"data-tooltip":em.Z,"data-tooltip-style-name":(0,P.kH)(r.name),"data-tooltip-style-description":r.description,"data-tooltip-max-width":J.jNX*(0,ec.hG)(J.dGl)}:null,[Q,d,r.name,r.description]),et="TEXT"===r.style_type&&r.meta?.style_thumbnail?r.meta.style_thumbnail:null;return(0,n.jsx)(es,{ariaDescription:e,ariaLabel:t,childLeft:(0,n.jsxs)("div",{role:"gridcell",className:"xjp7ctv",children:[(0,n.jsx)(ey.zi,{dsStyle:r,disableTooltip:!0}),C&&"FILL"===r.style_type&&(0,n.jsx)("div",{className:"x10l6tqk x13vifvy x1ey2m1c xu96u03 x3m8u43 x16rqkct xkwerj4 x19zslgr x1vn0f74"})]}),childRight:V&&(0,n.jsxs)(A.$4,{role:"gridcell",children:[(0,n.jsx)("div",{className:"x1orquvw"}),(0,n.jsx)(ei.d,{children:(0,n.jsx)(ed.P,{}),"aria-expanded":q,"aria-label":c?(0,m.t)("design_systems.styles.edit_style"):(0,m.t)("design_systems.styles.view_style"),"data-tooltip":c?(0,m.t)("design_systems.styles.edit_style"):(0,m.t)("design_systems.styles.view_style"),"data-tooltip-type":W.Ib.TEXT,onClick:Z,onKeyDown:e=>{("Enter"===e.key||"Space"===e.key)&&(e.preventDefault(),Z())},onMouseDown:L.dG,recordingKey:w.Pt(_,"customButton"),tabIndex:0})]}),deleteSelectedItems:l,hideStylePreview:a,index:i,inspectStyleSelected:q,isDragging:d,isEditable:c,isFocused:F,isFolder:!1,isLastChildOfSelection:u,isRenaming:p,level:y,name:(0,P.kH)(r.name),nameRef:Y,onBlur:$,onContextMenu:h,onCreateFolder:g,onDoubleClick:H,onFocus:U,onHoverChange:O,onMouseDown:z,onMouseMove:f,onRenameItem:b,recordingKey:_,role:S,rowRef:e=>{e&&(D?.(e),X.current=e)},secondaryName:et&&(0,ep.P$)(et),selected:C,selectedSecondary:v,stopRenamingItem:j,tooltipData:ee})}function eg({styleType:e,setDefaultToolOnCreateStyle:t,children:l}){let s=!(0,I.p8)("isReadOnly");return(0,n.jsxs)("div",{className:"styles--styleTypeSection--OLjQB component_tiles--section--tTqku",children:[s?(0,n.jsx)(ex,{styleType:e,recordingKey:`style-section-header-${e}`,setDefaultToolOnCreateStyle:t}):(0,n.jsx)("div",{className:"styles--styleTypeSectionHeader--ufY76 component_tiles--sectionHeader--ptqy8 raw_components--panelTitle--gPkqQ",children:(0,D.QT)(e)}),l]})}function ex({styleType:e,setDefaultToolOnCreateStyle:t,recordingKey:l}){let[r,a]=s.useState(!1),i=(0,o.wA)(),d=s.useRef(null),c=s.useCallback(()=>{t&&N.Y5.triggerAction("set-tool-default");let l=(0,q.Zk)(e),n=d.current?.getBoundingClientRect();l&&n&&i(T.Zs({rowLeft:n.left,rowTop:n.top,styleType:e,inheritStyleKeyField:l}))},[t,e,i]);return(0,n.jsxs)("div",{className:"styles--styleTypeSectionRow--Z-Hyk",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onFocusCapture:()=>a(!0),onBlur:()=>a(!1),ref:d,children:[(0,n.jsx)("h3",{className:"styles--styleTypeSectionRowLabel--ghXuD",children:(0,D.QT)(e)}),(0,n.jsx)("div",{style:{opacity:r?1:0},children:(0,n.jsx)(X.K,{recordingKey:w.Pt(l,"addButton"),"aria-label":(0,m.t)("design_systems.styles.tooltips.create_style_from_section",{kind:(0,D.XV)(e).toLowerCase()}),onClick:c,"data-tooltip-type":W.Ib.TEXT,"data-tooltip":(0,m.t)("design_systems.styles.tooltips.create_style_from_section",{kind:(0,D.XV)(e).toLowerCase()}),children:(0,n.jsx)(H.e,{})})})]})}eg.displayName="StyleTypeSection";var ek=l(503925);let ef=.75*(0,ec.hG)(J.uj0);function eb({manager:e,styleRowRef:t,onEditStyle:l,onRenameItem:r,onCreateFolder:a,onDeleteItems:i,onCutItems:c,onCopyItems:p,onDuplicateItems:y,onPasteItems:h,styleType:g,styleList:x}){let k=(0,o.wA)(),f=(0,o.d4)(e=>e.library.localStyleSelection),b=s.useMemo(()=>f&&f.type===g?(0,ek.QA)(f,x):[],[f,x,g]),w=s.useMemo(()=>(0,ek.Ug)(b).map(e=>e.node_id),[b]).length;s.useEffect(()=>(e.isOpen&&u.glU?.computePastableStyleCount(),()=>{u.glU?.clearPastableStyleCount()}),[e.isOpen]);let _=(0,o.d4)(e=>e.mirror.appModel.pastableStyleCount),S=!!R.q5()?.canEdit,C=s.useCallback(()=>{if(!b.length||b[0].type!==O.PW.STYLE)return;let e=b[0];if(t){let l=t.getBoundingClientRect();k(T.rk({style:e,rowTop:l.top,rowLeft:l.left})),k(E.XE())}l(e)},[k,b,l,t]),v=s.useCallback(()=>{if(!b.length||b[0].type===O.PW.STYLE)return;let e=b[0];setTimeout(()=>{r(e.name,!1,e.styleTypeSection)},0)},[r,b]);if(-1===_)return(0,n.jsx)("div",{});if(!S)return w>1?(0,n.jsx)("div",{}):(0,n.jsx)(d.bL,{manager:e,children:(0,n.jsx)(d.mc,{children:(0,n.jsx)(d.q7,{recordingKey:"edit-style-option",onClick:C,children:(0,m.tx)("design_systems.styles.view_style")})})});let j=1===w&&b[0].type===O.PW.STYLE?(0,n.jsx)(d.q7,{recordingKey:"edit-style-option",onClick:C,children:(0,m.tx)("design_systems.styles.edit_style")}):(0,n.jsx)(d.q7,{recordingKey:"rename-folder-option",onClick:v,children:(0,m.tx)("design_systems.styles.rename_folder")});return(0,n.jsx)(d.bL,{manager:e,children:(0,n.jsxs)(d.mc,{children:[(0,n.jsx)(d.q7,{recordingKey:"create-folder-option",onClick:a,children:(0,m.tx)("design_systems.styles.add_new_folder")}),j,(0,n.jsx)(d.q7,{recordingKey:"delete-style-option",onClick:i,children:(0,m.tx)("design_systems.styles.delete_styles",{numStyles:w})}),(0,n.jsx)(d.wv,{}),(0,n.jsx)(d.q7,{recordingKey:"cut-style-option",onClick:c,children:(0,m.tx)("design_systems.styles.cut_styles",{numStyles:w})}),(0,n.jsx)(d.q7,{recordingKey:"copy-style-option",onClick:p,children:(0,m.tx)("design_systems.styles.copy_styles",{numStyles:w})}),(0,n.jsx)(d.q7,{recordingKey:"duplicate-style-option",onClick:y,children:(0,m.tx)("design_systems.styles.duplicate_styles",{numStyles:w})}),!!_&&(0,n.jsx)(d.q7,{recordingKey:"paste-style-option",onClick:h,children:(0,m.tx)("design_systems.styles.paste_styles",{numStyles:_})})]})})}var ew=l(255398),e_=l(473295),eS=l(973035),eC=l(420920),eE=l(558224),ev=l(270450),ej=l(620030),eT=l(964731),eL=l(306455),eN=l(617654),eI=l(996066),eR=l(677743);let eD="local-style-creation-dropdown";function eP({setDefaultToolOnCreateStyle:e}){return(0,ev.kc)().eu_fpl_styles_header_menu?(0,n.jsx)(eF,{setDefaultToolOnCreateStyle:e}):(0,n.jsx)(eM,{setDefaultToolOnCreateStyle:e})}function eM({setDefaultToolOnCreateStyle:e}){let t=(0,o.wA)(),l=(0,s.useContext)(eI.lk),r=!(0,I.p8)("isReadOnly"),a=s.useRef(null),i=s.useRef(null),d=a.current,c=(0,eT.Um)(),u=c?.type===eD,p=c?.data?.targetRect,y="localStyleHeader",h=0===(0,B.Bs)().length,g=(0,o.d4)(e=>e.stylePreviewShown.isShown&&e.stylePreviewShown.isCreating),x=s.useMemo(()=>p||(u&&d?d.getBoundingClientRect():null),[p,d,u]),f=()=>{t(C.oB())},b=()=>{t(C.j7({type:eD}))},_=e=>{e.stopPropagation(),t(T.YG());let l=a.current;u?f():l&&((0,k.sx)("editor-local-styles-dropdown-show"),b())},S=t=>{e&&N.Y5.triggerAction("set-tool-default"),f();let n=(0,q.Zk)(t),s=i.current?.getBoundingClientRect();n&&s&&l({styleType:t,inheritStyleKeyField:n,rowLeft:s.left,rowTop:s.top})},E=h&&!u&&!g;return(0,n.jsxs)(A.fI,{className:E?el:et,ref:i,children:[(0,n.jsx)(eR.xZ,{className:en,onMouseDown:e=>E&&_(e),onClick:e=>e.stopPropagation(),children:(0,m.tx)("design_systems.styles.local_styles")}),r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(A.K0,{ref:a,onMouseDown:_,onClick:e=>e.stopPropagation(),className:u?"styles--stylesHeaderButtonHighlight--dDA3J raw_components--iconButtonSelected--x0Ni9 raw_components--_iconButton--aCldD":"styles--stylesHeaderButton--v6i3J draggable_list--addButton--9xznH","data-tooltip-type":W.Ib.TEXT,"data-tooltip":(0,m.t)("design_systems.create_style.create_style"),recordingKey:w.Pt(y,"addButton"),children:(0,n.jsx)(ew.$,{})}),u&&x&&(0,n.jsx)(eN.Cf,{targetRect:x,minWidth:128,disableDropdownScrollContainer:!0,propagateCloseClick:!0,children:D.og.map(e=>{let{icon:t,label:l}=eO(e),s=t=>{t.stopPropagation(),S(e)};return(0,n.jsxs)(ej.c$,{className:"styles--createStyleDropdownRow--wGrSy",onClick:s,onPointerUp:s,recordingKey:w.Pt(y,`dropdown-option-${e}`),children:[(0,n.jsx)(eL.Nu,{children:t}),l]},e)})})]})]})}function eO(e){switch(e){case"TEXT":return{icon:(0,n.jsx)(e_.B,{}),label:(0,m.t)("design_systems.styles.dropdown.text")};case"FILL":return{icon:(0,n.jsx)(eS.j,{}),label:(0,m.t)("design_systems.styles.dropdown.fill")};case"GRID":return{icon:(0,n.jsx)(eC.E,{}),label:(0,m.t)("design_systems.styles.dropdown.guide")};case"EFFECT":return{icon:(0,n.jsx)(eE.A,{}),label:(0,m.t)("design_systems.styles.dropdown.effect")};default:throw(0,r.j)(e),Error(`Invalid style type: ${e}`)}}function eF({setDefaultToolOnCreateStyle:e}){let t=s.useRef(null),l=(0,s.useContext)(eI.lk),{getTriggerProps:r,manager:a}=d.b(),{onClick:i,...c}=r(),u=!(0,I.p8)("isReadOnly"),p=0===(0,B.Bs)().length,y=(0,o.d4)(e=>e.stylePreviewShown.isShown&&e.stylePreviewShown.isCreating),h=p&&!a.isOpen&&!y,g=s.useCallback(()=>{h&&(a.setOpen(!0),(0,k.sx)("editor-local-styles-dropdown-show"))},[a,h]),x=s.useCallback(e=>{a.isOpen||(0,k.sx)("editor-local-styles-dropdown-show"),i(e)},[a.isOpen,i]),f=s.useCallback(n=>{e&&N.Y5.triggerAction("set-tool-default");let s=(0,q.Zk)(n),o=t.current?.getBoundingClientRect();s&&o&&l({styleType:n,inheritStyleKeyField:s,rowLeft:o.left,rowTop:o.top})},[l,e,t]);return(0,n.jsxs)(A.fI,{className:h?el:et,ref:t,children:[(0,n.jsx)(eR.xZ,{className:en,onMouseDown:g,onClick:e=>e.stopPropagation(),children:(0,m.tx)("design_systems.styles.local_styles")}),u&&(0,n.jsx)(eK,{manager:a,triggerProps:{...c,onClick:x},onMenuItemClick:f,recordingKey:"localStyleHeader"})]})}function eK({manager:e,triggerProps:t,onMenuItemClick:l,recordingKey:s}){return(0,n.jsxs)(d.bL,{manager:e,children:[(0,n.jsx)(ei.d,{"aria-label":(0,m.t)("design_systems.create_style.create_style"),recordingKey:w.Pt(s,"addButton"),...t,children:(0,n.jsx)(ew.$,{})}),(0,n.jsx)(d.mc,{children:D.og.map(e=>{let{icon:t,label:o}=eO(e);return(0,n.jsxs)(d.q7,{onClick:()=>l(e),recordingKey:w.Pt(s,`menu-item-${e}`),children:[(0,n.jsx)(d.Q$,{children:t}),o]},e)})})]})}let eB="collapsed-style-folders",eA=(0,f.w)(function({scrollContainer:e,setDefaultToolOnCreateStyle:t,recordingKey:l}){let s=(0,B.Bs)(),o=(0,I.p8)("isReadOnly");return 0===s.length&&o?null:(0,n.jsx)(S.k,{name:"local_styles_panel",children:(0,n.jsx)(A.Zk,{children:(0,n.jsx)(eY,{scrollContainer:e,setDefaultToolOnCreateStyle:t,recordingKey:l})})})},"LocalStylesPanel");function eY({scrollContainer:e,setDefaultToolOnCreateStyle:t,recordingKey:l}){let a=(0,o.wA)(),i=(0,o.d4)(e=>e.stylePreviewShown),d=(0,o.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),m=(0,o.d4)(e=>e.mirror.appModel.currentTool),h=s.useRef(null),g=(0,B.Bs)(),x=(0,o.d4)(e=>e.library.localStyleSelection),[f,b]=s.useState(null),[_,S]=s.useState(null),E=s.useRef(null),[j,I]=s.useState(!1),R=d===p.m1T.GRADIENT||d===p.m1T.RASTER||m===p.NLJ.DROPPER_COLOR;s.useEffect(()=>{let e=()=>{!R&&(a(v.Bn(null)),i.isShown&&(a(T.sw()),u.glU?.selectStyle(c.n3.INVALID,c.IA.INVALID)))},t=(0,L.ft)();return t?window.addEventListener("pointerdown",e):window.addEventListener("mousedown",e),()=>{t?window.removeEventListener("pointerdown",e):window.removeEventListener("mousedown",e)}},[a,i.isShown,R]);let{stylesByType:M,foldersAndStylesByType:F}=s.useMemo(()=>{let e=(0,D.Kw)(g),t=new Map;return D.og.map(l=>{let n=e.get(l);if(n){(0,D.LX)(n);let e=(0,ek.lM)(n,l),s=(0,ek.l0)(e);t.set(l,s)}}),{stylesByType:e,foldersAndStylesByType:t}},[g]),K=s.useCallback(e=>{u.glU&&((0,r.KF)(null!=e.content_hash,"style does not have a hash"),u.glU.selectStyleByGuid(e.node_id),a(v.ay({isRenaming:!1})),(0,k.sx)("Style Inspected",{styleType:e.style_type,from:"styleListClick"}))},[a]),A=s.useCallback((e,t,l)=>{b(t?e:null),S(t?null:{name:e,styleTypeSection:l})},[]),Y=s.useCallback(e=>{if(!e){a(v.Bn(null));return}let t=new Set;e.styleIds.forEach(l=>{let n=g.find(e=>e.type===O.PW.STYLE&&e.node_id===l);if(!n)return;let s=(0,P.In)(n.name);e.folderNames.has(s)||t.add(l)});let l={type:e.type,folderNames:e.folderNames,styleIds:t};a(v.Bn(l))},[a,g]),X=s.useCallback((e,t,l)=>{let n=e[t];if(!n)return;let s=(e,t)=>{let n=(0,P.ke)(e.name),s=null!=t?t:n.length-1;n[s]=l;let o=(0,ek.Pc)(n.join("/"));y.l7.user("rename-style",()=>u.glU?.renameNode(e.node_id,o))};if(n.name!==l){if(n.type===O.PW.STYLE)s(n);else if((0,ek.mx)(t,e).forEach(t=>{let l=e[t];l?.type===O.PW.STYLE&&s(l,n.level-1)}),x){let e=new Set(x.folderNames);e.delete(n.name);let t=(0,P.In)(n.name)+"/"+l;e.add(t),Y({type:x.type,folderNames:e,styleIds:x.styleIds})}}N.Y5.triggerAction("commit"),b(null),S(null)},[x,Y]),U=s.useCallback((e,t)=>{t.preventDefault(),t.stopPropagation(),a(C.j7({type:"styles-by-type-context-menu",data:{uiList:e,position:{top:t.clientY,left:Math.min(t.clientX,window.innerWidth-ef)}}}))},[a]),$=s.useCallback(e=>{E.current=e},[]),H=s.useCallback(()=>{I(!0)},[]),q=s.useCallback(()=>{I(!1)},[]);return(0,n.jsxs)("div",{className:"styles--localStylesPanel--YMhCU",ref:h,children:[(0,n.jsx)(eP,{setDefaultToolOnCreateStyle:t}),D.og.map(s=>{let o=M.get(s);if(!o)return;let r=F.get(s);if(r)return(0,n.jsx)(eX,{isDragging:j,onContextMenu:U,onDragEnd:q,onDragStart:H,onEditStyle:K,onInspectStyle:K,onRenameItem:A,recordingKey:w.Pt(l,`style-section-${s}`),renamingFolder:_,renamingStyleID:f,scrollContainer:e,setDefaultToolOnCreateStyle:t,stopRenamingItem:X,storedStyleList:o,styleList:r,styleRowRef:E.current,styleType:s,updateContextMenuStyleRef:$,updateSelection:Y},s)})]})}function eX({styleType:e,storedStyleList:t,styleList:l,renamingStyleID:r,renamingFolder:p,onRenameItem:k,stopRenamingItem:f,onDragStart:S,onDragEnd:C,onInspectStyle:v,onContextMenu:L,updateContextMenuStyleRef:D,updateSelection:K,styleRowRef:B,scrollContainer:A,setDefaultToolOnCreateStyle:Y,recordingKey:X}){let U=(0,R.q5)(),$=!(0,I.p8)("isReadOnly"),H=(0,o.wA)(),q=(0,o.d4)(e=>e.stylePreviewShown),V=(0,o.d4)(t=>(0,M.i4)(t,e)),W=(0,o.d4)(t=>(0,M.A7)(t,e,l)),[Z,z]=s.useState(()=>{if(g.x4&&U){let t=JSON.parse(g.x4.getItem(eB)||"{}");if(U.key in t){let l=t[U.key];if(e in l)return new Set(l[e])}else t[U.key]={},g.x4.setItem(eB,JSON.stringify(t))}return new Set(l.filter(e=>"STYLE_FOLDER"===e.type).map(e=>e.name))}),[G,Q]=s.useState([]),[J,ee]=s.useState(null),[et,el]=s.useState(null),en=s.useMemo(()=>(0,a.s)(()=>{H(j.GT({styleType:e}))},200),[H,e]);s.useEffect(()=>{(0,x.nl)()||en()},[en,l]);let es=(0,b.ZC)(Z);s.useEffect(()=>{if(!es||!g.x4||!U||(0,_._f)(es,Z))return;let t=JSON.parse(g.x4.getItem(eB)||"{}"),l=t[U.key];l&&(l[e]=[...Z],g.x4.setItem(eB,JSON.stringify(t)))},[Z,U,es,e]);let eo=s.useCallback(e=>!!e&&"STYLE_FOLDER"===e.type,[]),er=s.useCallback((e,t)=>{let n=new Set(e),s=[];l.forEach((e,t)=>{if(n.has(e)&&(s.push(t),"STYLE_FOLDER"===e.type)){let e=(0,ek.mx)(t,l);s.push(...e)}});let o=new Set(s),r=t?l.indexOf(t):l.length,a=[...(0,i.y1)(r).filter(e=>!o.has(e)),...s,...(0,i.y1)(r,l.length).filter(e=>!o.has(e))],d=new Map;return a.forEach((e,t)=>{e!==t&&d.set(e,t)}),d},[l]),ei=s.useCallback(()=>{u.glU&&q.isShown&&(H(T.sw()),H(E.XE()),u.glU.selectStyle(c.n3.INVALID,c.IA.INVALID))},[H,q.isShown]),ed=s.useMemo(()=>{if(!J)return null;if("in"===J.type){let e=l[J.index];return e?{folderNameToNestUnder:e.name,dividerStyles:{display:"none"}}:null}if(null==J.index||null==et||!V)return null;let e=null,t=null;return 0===J.index?t=l[J.index]:J.index===l.length?e=l[J.index-1]:(e=l[J.index-1],t=l[J.index]),(0,ek.g5)({prevItem:e,nextItem:t,localStyleSelection:V,styleList:l,collapsedFolders:Z,temporarilyExpandedFolders:G,horizontalDragAmount:et})},[Z,et,V,J,l,G]),ec=s.useCallback((n,s,o,r)=>{if(!t||!s&&!o||!ed)return;let a=ed.folderNameToNestUnder;if(null===a)return;let i=[],d=[];n.forEach(e=>{(0,ek.Md)(s,e,o,a)&&("STYLE_FOLDER"===e.type?d.push(e):i.push(e))});let c=i.concat(d);if(!c.length)return;let u=y.l7.user("reorder-styles",()=>(0,ek.VB)(c,s,o,a,l,t,r||!1)),p=new Set,m=new Set;c.forEach(e=>{let t=(0,ek.t_)(e),l=u?.get(t);l&&("STYLE_FOLDER"===e.type?p.add(l):m.add(t))}),K({type:e,folderNames:p,styleIds:m});let h=new Set;return Z.forEach(e=>{if(a.startsWith(e))return;let t=u?.get(e);t?h.add(t):h.add(e)}),z(h),ei(),r||N.Y5.triggerAction("commit"),er(c,o)},[K,Z,ed,er,ei,t,l,e]),eu=s.useCallback((e,t)=>{if("STYLE_FOLDER"!==t.type)return;let n=l.indexOf(t),s=(0,ek.dm)(t).filter(e=>(0,P.In)(e.name)===t.name);if(!s.length)return ec(e,t,l[n+1]);{let t=s[s.length-1],n=l.indexOf(t);return ec(e,t,l[n+1])}},[ec,l]),ep=(0,h.xx)((e,t)=>{let n=new Map,s=t.map(e=>e.type===O.PW.STYLE?e.node_id:e.name);return e.forEach(e=>{let o=s.indexOf(e);-1!==o&&(0,ek.mx)(o,l).forEach(e=>{let l=t[e],s="STYLE_FOLDER"===l.type?l.name:l.node_id,o=n.get(s);o||(o=0),n.set(s,o+1)})}),n}),ey=s.useCallback(()=>{if(!V)return;let t=(0,ek.QA)(V,l);if(0===t.length)return;let{prevItem:n,nextItem:s}=(0,ek.j3)(t,l);ec(t,n,s,!0);let o=(0,P.In)(t[0]?.name||""),r=(0,m.t)("design_systems.create_style.new_folder");o&&(r=`${o}/${r}`);let a=(e,t)=>{if(e.type===O.PW.STYLE){let l=r+"/"+t+(0,P.kH)(e.name);y.l7.user("rename-style",()=>{u.glU.renameNode(e.node_id,l)})}else{let l=t+(0,P.kH)(e.name)+"/";e.styles.forEach(e=>{a(e,l)}),e.subfolders.forEach(e=>{a(e,l)})}};t.forEach(e=>{a(e,"")}),K({type:e,folderNames:new Set([r]),styleIds:new Set}),k(r,!1,e)},[K,ec,V,k,l,e]),em=s.useCallback((e,t)=>{let n=l[e];"STYLE_FOLDER"===n.type&&z(e=>{let l=new Set(e);return t?l.add(n.name):l.delete(n.name),l})},[l]),ex=s.useCallback((e,t)=>{z(n=>{let s=new Set(n),o=l[e];if("STYLE_FOLDER"===o.type){let e=(0,P.In)(o.name),l=""===e?t:e+"/"+t;Z.has(o.name)&&(Z.delete(o.name),Z.add(l)),(0,ek.KU)(o).forEach(e=>{if(Z.has(e.name)){let t=e.name.replace(o.name,"");Z.add(l+t),Z.delete(e.name)}})}return s}),f(l,e,t)},[f,Z,l]),{manager:ef,getContextMenuTriggerProps:ew}=d.b(),e_=ew(),eS=s.useCallback((e,t,l)=>{let n=t>.5?1:Math.round(1e3*t)/1e3;ee({index:e,type:l?"in":"before"}),el(n)},[]),eC=s.useCallback(()=>{z(e=>y.l7.user("delete-styles",()=>{let t=new Set(e);return(V?(0,ek.QA)(V,l):[]).forEach(e=>{"STYLE_FOLDER"===e.type?((0,ek.a2)(e,U?.key||null),Z.delete(e.name),(0,ek.KU)(e).forEach(e=>Z.delete(e.name))):(0,ek.Nr)(e,U?.key||null)}),t})),N.Y5.triggerAction("commit"),q.isShown&&(H(T.sw()),H(E.XE()),u.glU.selectStyle(c.n3.INVALID,c.IA.INVALID)),K(null)},[q.isShown,K,V,l,U?.key,Z,H]),eE=s.useMemo(()=>{let e=V?(0,ek.QA)(V,l):[];return(0,ek.Ug)(e).map(e=>e.node_id)},[V,l]),ev=s.useCallback(()=>{y.l7.user("cut-styles",()=>u.glU&&u.glU.cutStyles(eE))},[eE]),ej=s.useCallback(()=>{y.l7.user("copy-styles",()=>u.glU&&u.glU.copyStyles(eE))},[eE]),eT=s.useCallback(()=>{y.l7.user("duplicate-styles",()=>u.glU&&u.glU.duplicateStyles(eE))},[eE]),eL=s.useCallback(()=>{y.l7.user("paste-styles",()=>u.glU&&u.glU.pasteStyles())},[]);!function({cutSelectedItems:e,copySelectedItems:t,localStyleSelection:l,onPaste:n}){s.useEffect(()=>{if(!l)return;let s=(e,t)=>{e.target&&("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName)||(t(),e.stopPropagation())},o=t=>{s(t,e)},r=e=>{s(e,n)},a=e=>{s(e,t)};return document.addEventListener("cut",o),document.addEventListener("paste",r),document.addEventListener("copy",a),()=>{document.removeEventListener("cut",o),document.removeEventListener("paste",r),document.removeEventListener("copy",a)}},[e,n,t,l])}({cutSelectedItems:ev,onPaste:eL,copySelectedItems:ej,localStyleSelection:V});let eN=s.useCallback(e=>{Q(t=>[...t,e])},[]),eI=s.useCallback(()=>{S()},[S]),eR=w.rf(X,"ondragend",s.useCallback(()=>{ee(null),el(null),Q([]),C()},[C])),eD=(0,b.ZC)(V);s.useEffect(()=>{eD!==V&&V&&z(e=>{let l=new Set(e);for(let e of V.styleIds.values()){let n=t.find(t=>t.node_id===e);if(!n)continue;let s=(0,P.ke)(n.name);for(let e=0;e<s.length;e++){let t=s.slice(0,e).join("/");l.delete(t)}}return l})},[V,eD,t]);let eP=s.useRef(null),eM=s.useCallback(e=>{eP.current=e},[eP]),eO=s.useMemo(()=>V?(0,ek.h$)(V,l):[],[V,l]),eF=s.useMemo(()=>W?(0,ek.h$)(W,l):[],[W,l]),eK=s.useMemo(()=>[...eO,...eF].sort((e,t)=>e-t),[eO,eF]),eA=s.useCallback((e,t,s,o,a,i)=>{let d="STYLE_FOLDER"===e.type?e.name:e.node_id,c=!1,u=!1;for(let t of G)if("STYLE_FOLDER"===e.type){if(e.name===t){u=!0;break}e.name.startsWith(t)&&(c=!0)}else if((0,P.In)(e.name)===t){c=!0;break}if(!u&&!c&&ep(Z,l).has(d))return null;let y=eK&&eK[eK.length-1]===t,m=eK&&eK[0]===t;if(e.type===O.PW.STYLE){let l=(0,ek.rM)(e),d=null!=r&&r===e.node_id,c=W?.styleIds.has(e.node_id)||!1;return(0,n.jsx)(eh,{deleteSelectedItems:eC,dsStyle:e,hideStylePreview:ei,index:t,isDragging:o,isEditable:$,isLastChildOfSelection:y,isRenaming:d,level:l,...e_,"aria-selected":s||c,onCreateFolder:ey,onInspectStyle:v,onMouseDown:a,onMouseMove:i,onRenameItem:k,recordingKey:`style-row-${t}`,role:"treeitem",selected:s,selectedSecondary:c,stopRenamingItem:ex,stylePreviewShown:q,updateContextMenuStyleRef:D,updateFocusRowRef:s?eM:null,updateSelection:K},e.node_id)}{let l=null!=p&&p.name===e.name&&p.styleTypeSection===e.styleTypeSection,r=ed?.folderNameToNestUnder||null;return(0,n.jsx)(ea,{"aria-selected":s,deleteSelectedItems:eC,folder:e,folderNameToNestUnder:r,hideStylePreview:ei,index:t,isCollapsed:Z.has(e.name),isDragging:o,isEditable:$,isFirstChildOfSelection:m,isRenaming:l,isTemporarilyExpanded:u,level:e.level,...e_,onCreateFolder:ey,onMouseDown:a,onMouseMove:i,onRenameItem:k,recordingKey:`folder-section-${e.styleTypeSection}-row-${t}`,selected:s,selectedSecondary:W?.folderNames.has(e.name)||!1,stopRenamingItem:ex,temporarilyExpandFolder:eN,toggleFolder:e=>em(t,e)},t)}},[K,eK,Z,eC,ed?.folderNameToNestUnder,ep,ei,ey,v,k,p,r,W?.folderNames,W?.styleIds,ex,l,q,eN,G,em,D,$,eM,e_]),eY=s.useCallback(t=>{let n=new Set,s=new Set;t.forEach(e=>{let t=l[e];"STYLE_FOLDER"===t.type?n.add(t.name):s.add(t.node_id)}),K({type:e,folderNames:n,styleIds:s})},[K,l,e]),eX=s.useRef(void 0),e$=s.useRef(void 0);return s.useEffect(()=>{eX.current&&eO.length?(eX.current(),eP.current&&!eP.current.contains(document.activeElement)&&eP.current.focus()):e$.current&&!eO.length&&(e$.current(),eP.current=null)},[eX,eO,eP]),(0,n.jsx)(F.vL,{name:"StyleDraggableList",focusFunctionRef:eX,blurFunctionRef:e$,children:(0,n.jsxs)(eg,{styleType:e,setDefaultToolOnCreateStyle:Y,children:[(0,n.jsx)(eU,{ariaMultiselectable:!0,canInsertItemsIn:eo,insertDividerStyle:ed?.dividerStyles,isDragDisabled:!$,listItems:l,onDrag:eS,onDragEnd:eR,onDragStart:eI,onInsertItemsBetweenValues:ec,onInsertItemsIn:eu,recordingKey:"style-draggable-list",renderListItem:eA,role:"tree",scrollContainer:A,selectedIndices:eO,updateSelection:eY}),(0,n.jsx)(eb,{manager:ef,onCopyItems:ej,onCreateFolder:ey,onCutItems:ev,onDeleteItems:eC,onDuplicateItems:eT,onEditStyle:v,onPasteItems:eL,onRenameItem:k,styleList:l,styleRowRef:B,styleType:e})]})})}let eU=K.m6},45573:(e,t,l)=>{l.d(t,{v:()=>Y});var n=l(239976),s=l(105652),o=l(20002),r=l(865702),a=l(248317),i=l(288350),d=l(687994),c=l(379141),u=l(270450),p=l(272439),y=l(522568),m=l(499735),h=l(122313),g=l(875253),x=l(27414),k=l(809390),f=l(324880),b=l(772293),w=l(421914),_=l(162251),S=l(259422),C=l(236410),E=l(604687),v=l(833915),j=l(987368),T=l(184743);let L="mixed_checkbox--mixed--neQvB";class N extends s.PureComponent{constructor(e){super(e),this.documentKeyDown=e=>{e.keyCode===T.Uz.TAB&&this.setState({showFocus:!0})},this.documentMouseDown=e=>{this.setState({showFocus:!1})},this.onFocus=e=>{this.state.showFocus||e.target.blur()},this.state={showFocus:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown),document.addEventListener("mousedown",this.documentMouseDown)}componentWillUnmount(){document.removeEventListener("keydown",this.documentKeyDown),document.removeEventListener("mousedown",this.documentMouseDown)}classNameForInput(){let{someChecked:e}=this.props,t="mixed_checkbox--checkboxInput--8zMai";return e&&(t+=` ${L}`),this.props.inputClassName&&(t+=` ${this.props.inputClassName}`),t}classNameForCheckmark(){let{someChecked:e}=this.props,t="mixed_checkbox--checkmark--MMOd7";return e?t+=` ${L}`:t+=" mixed_checkbox--checked--XTPso",this.props.disabled&&(t+=" mixed_checkbox--disabled--KgYPa"),this.props.checkmarkClassName&&(t+=` ${this.props.checkmarkClassName}`),t}render(){let{allChecked:e,someChecked:t}=this.props;return(0,n.jsxs)("label",{className:["mixed_checkbox--checkboxHitbox--I6KS4",this.props.className].filter(e=>!!e).join(" "),children:[(0,n.jsx)("input",{id:this.props.id,"data-testid":this.props["data-testid"],"data-onboarding-key":this.props["data-onboarding-key"],type:"checkbox",onFocus:this.onFocus,checked:e,className:this.classNameForInput(),onChange:this.props.onChange,disabled:this.props.disabled}),(t||e)&&(0,n.jsx)("div",{className:this.classNameForCheckmark(),children:e?(0,n.jsx)(v.l,{}):(0,n.jsx)(j.w,{})})]})}}N.displayName="MixedCheckbox";class I extends m.o6{constructor(e){super(e),this.onChange=m.Z7(this,"change",e=>{this.props.onChange?.(e.target.checked)})}render(){let e=(0,w.hS)(this.props.property)&&!!(0,w.E7)(this.props.property),t=(0,w.gl)(this.props.property);return(0,n.jsx)(N,{className:["checkbox--checkboxHitbox--X8M9X mixed_checkbox--checkboxHitbox--I6KS4",this.props.className].filter(e=>!!e).join(" "),inputClassName:"checkbox--checkboxInput--jzUJf mixed_checkbox--checkboxInput--8zMai",checkmarkClassName:"checkbox--checkmark--IeQ63 mixed_checkbox--checkmark--MMOd7",allChecked:e,someChecked:t,disabled:this.props.disabled,id:this.props.id,"data-testid":this.props["data-testid"],onChange:this.onChange})}}I.displayName="Checkbox";var R=l(687645),D=l(685434),P=l(677743),M=l(690252),O=l(706224),F=l(986440),K=l(969102),B=l(434470),A=l(363198);function Y(e){let t=(0,s.useRef)(null),l=(0,d.DP)(),v=(0,o.wA)(),j=(0,A.cJ)(),{backgroundColor:T,backgroundEnabled:L,backgroundOpacity:N,exportBackgroundDisabled:D}=(0,_.zj)("backgroundColor","backgroundEnabled","backgroundOpacity","exportBackgroundDisabled"),Y=e=>b.Y5.updateSelectionProperties({backgroundEnabled:e}),U=e=>{b.Y5.updateSelectionProperties({exportBackgroundDisabled:!e})},$=s.useMemo(()=>{let e=(0,w.E7)(T),t=(0,w.E7)(N);return null!=e&&null!=t?{...e,a:t}:T||w.oV},[T,N]),H=s.useMemo(()=>(0,w.hS)(N)&&"number"==typeof N&&isNaN(N)?0:N,[N]),q=()=>{if(e.setDefaultToolOnPickerOpen&&b.Y5.triggerAction("set-tool-default"),e.pickerShown&&e.pickerShown.id===f.k8)v(x.XE());else{(0,u.kc)().ce_properties_panel_tracking&&(0,y.sx)("editor-background-panel-color-picker-show");let e=t.current?(0,E.cn)(t.current):{x:0,y:0};v(x.u1({id:f.k8,initialX:e.x,initialY:e.y})),v(k.sw())}},V=()=>(0,n.jsx)(X,{backgroundColor:T,backgroundEnabled:L,backgroundOpacity:N,pickerShown:e.pickerShown,chitRowRef:t,recordingKey:e.recordingKey,toggleColorPicker:q}),W=()=>({color:(0,w.E7)(T)??void 0,opacity:(0,w.E7)(H)??void 0,type:"SOLID",blendMode:"NORMAL",visible:(0,w.E7)(L)??void 0}),Z=()=>(0,n.jsx)(B.a,{...e,ref:t,dragging:!1,hasFocus:!1,neverInList:!0,onPreviewClick:q,onRowFocus:r.lQ,paint:W(),previewActive:!1,secondIconButton:z(),selected:e.pickerShown?.id===f.k8,singletonRow:!0}),z=()=>void 0===L?void 0:(0,n.jsx)("span",{className:"background_panel--visible--d6cJW",children:(0,n.jsx)(F.B,{visible:L,onChange:Y,recordingKey:m.Pt(e,"visibleToggle")})});return(0,n.jsx)(h.k,{name:"background_panel",children:(0,n.jsxs)(M.Zk,{children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)(M.fI,{className:"background_panel--panelTitleRow--XyTfF",children:[(0,n.jsx)(P.xw,{children:j?(0,c.tx)("fullscreen.properties_panel.background"):(0,c.tx)("fullscreen.properties_panel.page")}),(0,n.jsx)(K.M,{showLibrarySets:!0,recordingKey:"pageLevel"})]}),"ui2"===l.version?(0,n.jsxs)(M.fI,{ref:t,children:[V(),z()]}):(0,n.jsx)(S.Q.Consumer,{children:e=>e.useLargePreviewRows?Z():(0,n.jsx)(p.DE,{ref:t,label:null,input:V(),icon:z()})})]}),e.hasExports?"ui3"===l.version?(0,n.jsx)(p.Ad,{label:(0,n.jsx)(n.Fragment,{}),input:(0,n.jsx)(a.S,{muted:!0,mixed:D===w.oV,checked:!1===D,onChange:U,recordingKey:m.Pt(e,"exportDisableCheckbox"),label:(0,n.jsx)(i.J,{"data-tooltip":(0,c.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),"data-tooltip-type":C.Ib.TEXT,children:(0,c.tx)("fullscreen.properties_panel.show_in_exports")}),"data-tooltip":(0,c.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),"data-tooltip-type":C.Ib.TEXT})}):(0,n.jsxs)(M.fI,{className:"background_panel--checkboxLabelRow--yrO3z",children:[(0,n.jsx)(I,{className:"background_panel--checkbox--XG8zF",id:"export-background-disabled",property:D===w.oV?w.oV:!D,onChange:U,recordingKey:m.Pt(e,"exportDisableCheckbox")}),(0,n.jsx)(M.JU,{className:"background_panel--checkboxLabel--mqj0X",htmlFor:"export-background-disabled","data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,c.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports"),children:(0,c.tx)("fullscreen.properties_panel.show_in_exports")})]}):void 0,e.pickerShown?.id===f.k8&&(0,n.jsx)(R.h,{disabledVariableIds:new Set,initialPosition:new g.Mi(e.pickerShown.initialX,e.pickerShown.initialY),color:(0,w.hS)($)?(0,w.E7)($):{r:1,g:1,b:1,a:1},boundVariable:null,onChange:(e,t)=>{let l=e.a;e.a=1,b.Y5.updateSelectionProperties({backgroundColor:e,backgroundOpacity:l,backgroundEnabled:!0},{shouldCommit:t})},recordingKey:m.Pt(e,"colorPicker")}),(0,n.jsx)(O.w,{showExplicitOnly:!0,recordingKey:"backgroundPanel-variableModeEntries"})]})})}function X(e){let t=s.useMemo(()=>{let t=(0,w.E7)(e.backgroundColor),l=(0,w.E7)(e.backgroundOpacity);return null!=t&&null!=l?{...t,a:l}:e.backgroundColor||w.oV},[e.backgroundColor,e.backgroundOpacity]),l=s.useMemo(()=>(0,w.hS)(e.backgroundOpacity)&&"number"==typeof e.backgroundOpacity&&isNaN(e.backgroundOpacity)?0:e.backgroundOpacity,[e.backgroundOpacity]),r=(0,w.E7)(e.backgroundColor),a=(0,w.E7)(e.backgroundEnabled),i={color:r??void 0,opacity:(0,w.E7)(l)??void 0,type:"SOLID",blendMode:"NORMAL",visible:a??void 0};return(0,n.jsx)("div",{className:"background_panel--colorValueContainer--vIY5E paint_panels--colorValueContainer--QPBbG raw_components--borderFocusWithin--mSvWa paint_panels--_baseColorValueContainer--vZ0G7 raw_components--base--O8WhL raw_components--singleRowHeight--r92RH",children:(0,n.jsx)(D.y,{recordingKey:e.recordingKey,togglePicker:e.toggleColorPicker,chitOverride:{color:t,opacity:l},paint:i,onChange:(t,l)=>{let n=!(0,o.bN)(t.color,e.backgroundColor),s=t.opacity!==e.backgroundOpacity;b.Y5.updateSelectionProperties({backgroundColor:n&&t?.color?{...t.color,a:1}:void 0,backgroundOpacity:s?t.opacity:void 0,backgroundEnabled:0!==t.opacity},{shouldCommit:l})},shouldAutoComplete:!1})})}}}]);

//# debugId=0f1e6f04-4009-587c-8d55-3fcf0dd512ed

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/70038d2b311302ce21c1af1f578dc64ca576cc8c/6135-f99221503b503cbb.min.js.map