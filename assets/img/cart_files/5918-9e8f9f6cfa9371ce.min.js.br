"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8770b85c-0101-5939-88cc-ebcf045d8e29")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[5918],{835918:(e,t,i)=>{i.d(t,{S_:()=>N,cw:()=>k,g_:()=>R,gk:()=>D});var a=i(295870),r=i(678286),n=i(379141),o=i(522568),s=i(141288),l=i(393463),d=i(543740),_=i(129416),p=i(695207),m=i(337812),c=i(371971),u=i(576192),g=i(858254),f=i(485571),h=i(152599),y=i(450207),T=i(536378),E=i(526575),v=i(48937),b=i(329076),x=i(861725),S=i(362844),I=i(374480),A=i(319349),P=i(959205),j=i(267745),w=i(718242),C=i(466510);let R=(0,h.nF)((e,{teamId:t,teamName:i,previousView:a})=>{e.dispatch(y.sf({view:"promoReview",teamId:t,teamName:i,previousView:a}))}),N=(0,h.nF)((e,t)=>{let{promoCode:i,teamId:a,teamName:r,onSuccess:o,onError:s}=t;m.Ay.post("/api/teams/redeem_promo",{promo_code:i,team_id:a}).then(()=>{o(),e.dispatch(c.s.flash((0,n.t)("flash.redeem_promo.success",{teamName:r})))}).catch(t=>{s(),e.dispatch(c.s.error((0,n.t)("flash.redeem_promo.failure")))})}),k=(0,h.nF)((e,t)=>{let{teamId:i,surveyResult:a}=t,r=e.getState(),o=r.user?.id;m.Ay.post(`/api/teams/${i}/pro_trial`).then(()=>{o?e.dispatch(f._l({workspace:{userId:o,orgId:null,teamId:i},view:{view:"allProjects"}})):e.dispatch(y.sf({view:"team",teamId:i})),e.dispatch(c.s.flash((0,n.t)("payments.pro_trial.start_pro_trial_success"))),x.R_.trackInitiationSubmit(a,!0)}).catch(t=>{o?e.dispatch(f._l({workspace:{userId:o,orgId:null,teamId:i},view:{view:"recentsAndSharing"}})):e.dispatch(y.sf({view:"recentsAndSharing"})),e.dispatch(c.s.error((0,n.t)("payments.pro_trial.start_pro_trial_error"))),x.R_.trackInitiationSubmit(a,!1)})}),D=(0,h.nF)((e,{teamName:t,invites:i,teamId:h,selectedCurrency:x,hasSelectedStudentTeam:R,displayedCostBreakdown:N,teamFlowType:k,onSuccess:D,isCampfireCart:O,inStarterTeamLoopholes:U,displayedPriceKeys:W})=>{let F;let L=e.getState(),z=L.user?.id,M=(e,t)=>({annual_quantity:(0,b.fD)(e,t),monthly_quantity:(0,b.Rq)(e,t)}),B=(0,b.ne)(L.payment.billingPeriod);if(!B){e.dispatch(c.s.error((0,n.t)("payments.invalid_billing_interval_error")));return}let G=null,q=null;if(O){let t=L.payment.cartSelections?.selectedUserSeatTypes,i=U?[z]:Object.values(h?L.teamUserByTeamId[h]:{}).map(e=>e.user_id??"");if(t&&(0,u.H)(t,i))q=(0,g.VB)(t)??null,G=L.payment.cartSelections?.countBySeatType??null;else{e.dispatch(c.s.error((0,n.t)("payments.errors.error_processing_upgrade_request"))),(0,_.$D)(a.e.MONETIZATION_UPGRADES,Error("Unable to retrieve valid selectedUserSeatTypes while submitting Pro upgrade request"),{extra:{teamId:h,userIds:i,selectedUserSeatTypes:t}}),e.dispatch(j.I2({submitPending:!1}));return}}else G={design:L.payment.numDesignEditors,figjam:L.payment.numWhiteboardEditors};let V={...M(L.payment.billingPeriod,L.payment.numDesignEditors),annual_whiteboard_quantity:M(L.payment.billingPeriod,L.payment.numWhiteboardEditors).annual_quantity,monthly_whiteboard_quantity:M(L.payment.billingPeriod,L.payment.numWhiteboardEditors).monthly_quantity,editor_status_changes:L.payment.editorStatusChanges,subscription_monthly_quantity_figjam:M(L.payment.billingPeriod,L.payment.numWhiteboardEditors).monthly_quantity,subscription_annual_quantity_figjam:M(L.payment.billingPeriod,L.payment.numWhiteboardEditors).annual_quantity,vat_gst_id:L.payment.vatGstId||null,regional_vat_gst_id:L.payment.regionalVatGstId||null,legal_name:L.payment.legalName||null,display_name:L.payment.displayName||null,selected_user_seat_types:q,count_by_billable_product:G,billing_interval:B,displayed_cost_breakdown:N,displayed_price_keys:W};if(null===h){let e=L.payment.promo,a=!!L.user&&(0,p.cn)(L.user);if(null!=e)F={...V,team_name:t,invite_emails:i,promo_code:e.code};else if(a&&R)F={...V,team_name:t,invite_emails:i,student_team:!0};else{let e=(0,l.DC)();F={...V,team_name:t,invite_emails:i,subscribe_to_pro:!0,address:e?.address,payment_method_id:e?.payment_method_id,selected_currency:x}}}else F={...V,selected_currency:x};let $=h?`/api/subscriptions-2018-11-08/team/${h}`:"/api/teams/create",X=L.selectedView,J=L.payment.upgradingNewTeam;m.Ay.post($,F).then(({data:t})=>{let a="team"in t.meta?t.meta.team:t.meta,r=()=>{if(z){let t={userId:z,teamId:a.id,orgId:null};e.dispatch(f._l({workspace:t,view:{view:"allProjects",isProUpgrade:!0}}))}else e.dispatch(y.sf({view:"team",teamId:a.id})),e.dispatch(T.to({type:P.C,data:{teamId:a.id}}))};h||(0,v.P8)(a,e,{dontRedirect:!0,inviteEmails:i,teamFlowType:k}),e.dispatch(j.I2({submitPending:!1})),e.dispatch(j.Je({editorStatusChanges:{upgrade:{whiteboard:[],design:[],slides:[],sites:[],cooper:[],figmake:[]},downgrade:{whiteboard:[],design:[],slides:[],sites:[],cooper:[],figmake:[]}}})),a&&e.dispatch(w.yJ({team:a,userInitiated:!1})),a.student_team&&e.dispatch(j.Lo({billingPeriod:I.tY.UNSPECIFIED})),L.payment.promo&&((0,d._H)(),e.dispatch(j.Ay({promo:null})));let n=new URLSearchParams(s.Ay.location.search);if(J){if(n.get("onCompleteRedirectFileKey")){let t=decodeURIComponent(n.get("onCompleteRedirectFileKey")),i=decodeURIComponent(n.get("onCompleteRedirectNodeId")),r={view:"fullscreen",fileKey:t,...i?{nodeId:i}:{}};e.dispatch(y.sf({...r,teamToMoveFileToOnNavigate:a.id,editorType:S.nT.Design}))}else r()}else if(e.dispatch(C.Be({teamId:a.id})),n.get("onCompleteRedirectFileKey")){let t=decodeURIComponent(n.get("onCompleteRedirectFileKey")),i=decodeURIComponent(n.get("onCompleteRedirectNodeId")),r={view:"fullscreen",fileKey:t,...i?{nodeId:i}:{}};e.dispatch(y.sf({...r,teamToMoveFileToOnNavigate:a.id,editorType:S.nT.Design}))}else r();(0,o.sx)("Pro Team Purchased (GTM)"),D&&D()}).catch(t=>{let i=(t,i={})=>{let a=new URLSearchParams(s.Ay.location.search),r=a.get("onCompleteRedirectFileKey"),n=a.get("onCompleteRedirectNodeId");e.dispatch(y.sf({...X,view:"teamUpgrade",teamFlowType:t?A.SC.UPGRADE_EXISTING_TEAM:A.SC.CREATE_AND_UPGRADE,teamId:t||i.freeTeamId||null,paymentStep:I.Vv.PAYMENT_AND_ADDRESS,previousView:X.previousView,planType:A.Sc.TEAM,...r?{searchParams:{onCompleteRedirectFileKey:r,onCompleteRedirectNodeId:n}}:{}}))};e.dispatch(j.I2({submitPending:!1}));let n=t.data?.message||t.message;null!==h?(0,E._J)("Pro Checkout Error",h,L,{error_message:n,request_params:JSON.stringify(F)}):(0,o.sx)("Pro Checkout Error"),(0,_.$D)(a.e.BILLING_EXPERIENCE,Error(`[Billing] Pro checkout API failed: ${n}`),{extra:{countByBillableProduct:G,selectedUserSeatTypes:q,billingInterval:B,displayedCostBreakdown:N,displayedPriceKeys:W,isCampfireCart:O}}),((t,a)=>{let n=(0,r.J)(t);n&&("PROMO_CODE"===t.data.reason?(e.dispatch(j.Ay({promo:null})),i(a,{}),e.dispatch(j.Qg({error:n}))):"CARD_ERROR"===t.data.reason?(e.dispatch(j.WG({token:null})),i(a,{}),e.dispatch(j.Qg({error:n}))):e.dispatch(c.s.error(n)))})(t,h)})})},983461:(e,t,i)=>{var a;i.d(t,{S:()=>a}),(a||(a={})).getTrackingProperties=function(e){return{productArea:"pro_tier_onboarding",teamId:e}}},861725:(e,t,i)=>{i.d(t,{$Q:()=>I,Mm:()=>E,NN:()=>T,PG:()=>j,R_:()=>a,TB:()=>A,bo:()=>P,h3:()=>S,iX:()=>v});var a,r=i(239976),n=i(379141),o=i(522568),s=i(393463),l=i(259714),d=i(210823),_=i(950850),p=i(308080),m=i(231858),c=i(942478),u=i(871751),g=i(656257),f=i(299356),h=i(962003),y=i(760399);let T="Pro Trial Initiation Modal",E="Pro Trial Downgrade Modal";var v=(e=>(e[e.SELECT_TEAM=0]="SELECT_TEAM",e[e.SELECT_TEAM_TYPE=1]="SELECT_TEAM_TYPE",e[e.SELECT_FEATURES=2]="SELECT_FEATURES",e))(v||{}),b=(e=>(e.FREELANCER="freelancer",e.AGENCY="agency",e.PRODUCT="product",e.OTHER="other",e))(b||{}),x=(e=>(e.UNLIMITED_FILES="unlimited_files",e.COMPONENT_LIBRARIES="component_libraries",e.ORGANIZING_FILES="organizing_files",e.VOTING_WORKSHOPS="voting_workshops",e.PLAYING_VIDEOS="playing_videos",e.SHARING_FILES="sharing_files",e.INVITING_VISITORS="inviting_visitors",e.AUDIO="audio",e))(x||{});let S=Object.keys(v).length/2,I={freelancer:(0,s.ck)("06cfa92c773695fb0be0202d467640e521950e67"),agency:(0,s.ck)("e98abc8479042db5e94f5c35bf764ad4326f892f"),product:(0,s.ck)("915ace9058a397e6e4ceadc221dd20a9d95898d7"),other:(0,s.ck)("4423aaa8499d483db2703e6cad1b4c90805e7f16")},A=[{teamType:"freelancer",imageAltText:()=>(0,n.t)("pro_trials_v3.pro_trial_initiation_modal.freelancer"),descriptionText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,n.tx)("pro_trials_v3.pro_trial_initiation_modal.freelancer")})},{teamType:"agency",imageAltText:()=>(0,n.t)("pro_trials_v3.pro_trial_initiation_modal.agency"),descriptionText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,n.tx)("pro_trials_v3.pro_trial_initiation_modal.agency")})},{teamType:"product",imageAltText:()=>(0,n.t)("pro_trials_v3.pro_trial_initiation_modal.product"),descriptionText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,n.tx)("pro_trials_v3.pro_trial_initiation_modal.product")})},{teamType:"other",imageAltText:()=>(0,n.t)("pro_trials_v3.pro_trial_initiation_modal.other_team_type"),descriptionText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,n.tx)("pro_trials_v3.pro_trial_initiation_modal.other_team_type")})}],P={unlimited_files:(0,r.jsx)(l.B,{svg:p.A}),component_libraries:(0,r.jsx)(l.B,{svg:f.A}),organizing_files:(0,r.jsx)(l.B,{svg:m.A}),voting_workshops:(0,r.jsx)(l.B,{svg:y.A}),playing_videos:(0,r.jsx)(l.B,{svg:h.A}),sharing_files:(0,r.jsx)(l.B,{svg:g.A}),inviting_visitors:(0,r.jsx)(l.B,{svg:c.A}),audio:(0,r.jsx)(l.B,{svg:u.A})},j=[{featureType:"unlimited_files",featureText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,n.tx)("pro_trials_v3.pro_trial_initiation_modal.unlimited_files")})},{featureType:"component_libraries",featureText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,n.tx)("pro_trials_v3.pro_trial_initiation_modal.component_libraries")})},{featureType:"organizing_files",featureText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,n.tx)("pro_trials_v3.pro_trial_initiation_modal.organizing_files")})},{featureType:"voting_workshops",featureText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,n.tx)("pro_trials_v3.pro_trial_initiation_modal.voting_workshopping")})},{featureType:"playing_videos",featureText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,n.tx)("pro_trials_v3.pro_trial_initiation_modal.playing_videos")})},{featureType:"sharing_files",featureText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,n.tx)("pro_trials_v3.pro_trial_initiation_modal.sharing_files")})},{featureType:"inviting_visitors",featureText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,n.tx)("pro_trials_v3.pro_trial_initiation_modal.inviting_visitors")})},{featureType:"audio",featureText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,n.tx)("pro_trials_v3.pro_trial_initiation_modal.using_audio")})}];(a||(a={})).trackInitiationSubmit=function(e,t){(0,o.sx)("pro_trial_initiation_submit",{startedTrialSuccessfully:t,...e,..._.ng.getTrackingProperties(),features:e.features?e.features.join(", "):null})}},457749:(e,t,i)=>{i.d(t,{X:()=>l});var a=i(239976),r=i(259714),n=i(154963),o=i(210823),s=i(484802);function l(e){return(0,a.jsxs)("p",{className:n.s.flex.itemsCenter.gap8.mt8.$,children:[(0,a.jsx)(r.B,{svg:s.A,className:n.s.colorIconDesign.$}),(0,a.jsx)(o.E,{fontSize:13,children:e.bulletLabel})]})}},959205:(e,t,i)=>{i.d(t,{C:()=>v});var a=i(239976),r=i(20002),n=i(379141),o=i(210823),s=i(536378),l=i(240431),d=i(639184),_=i(605985),p=i(983461),m=i(747079),c=i(322691),u=i(393463),g=i(154963),f=i(457749);let h="seen_pro_onboarding_welcome_modal";function y(){return(0,a.jsxs)("div",{className:g.s.mt16.$,children:[(0,a.jsx)(f.X,{bulletLabel:(0,n.t)("pro_onboarding.unlimited_files_for_all_your_ideas")}),(0,a.jsx)(f.X,{bulletLabel:(0,n.t)("pro_onboarding.unlimited_projects_to_organize_your_files")}),(0,a.jsx)(f.X,{bulletLabel:(0,n.t)("pro_onboarding.dev_mode_for_simpler_inspection_and_handoff")})]})}function T({user:e}){return(0,a.jsx)(o.E,{fontSize:24,fontWeight:"bold",children:(0,n.tx)("pro_onboarding.welcome_to_professional",{userName:e.name.split(" ")[0]})})}function E(){return(0,a.jsx)("img",{width:313,src:(0,u.ck)("4323e87513cec17f5decef84ebf66c12c0d2ea59"),alt:"An illustration welcoming you to Figma Professional"})}let v=(0,m.Ju)(function({teamId:e}){let t=(0,_.iZ)(),i=(0,r.d4)(t=>t.teams[e]),m=(0,r.wA)(),u=(0,r.d4)(e=>e.userTeamFlags);if(!t||u[e]?.[h])return null;let g=()=>{m(l.bE({all_team_flags:[{team_id:e,flags:{[h]:!0}}]})),m(s.Ce())},f=(0,a.jsxs)(a.Fragment,{children:[(0,n.tx)("pro_onboarding.you_successfully_upgraded_team_name_to_a_professional_plan",{teamName:(0,a.jsx)(o.E,{fontWeight:"bold",children:i.name})}),(0,a.jsx)(y,{})]});return(0,a.jsx)(c.xx,{title:(0,a.jsx)(T,{user:t}),description:f,media:(0,a.jsx)(E,{}),primaryCta:{type:"button",label:(0,a.jsx)(o.E,{fontSize:13,children:(0,n.tx)("pro_onboarding.get_started")}),ctaTrackingDescriptor:d.c.GET_STARTED,onClick:g},trackingContextName:"Pro Onboarding Team Upgrader Welcome Modal",trackingProperties:p.S.getTrackingProperties(e),onClose:g,closeButtonColor:"light"})},"ProOnboardingTeamUpgraderWelcomeModal")}}]);

//# debugId=8770b85c-0101-5939-88cc-ebcf045d8e29

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/dc903e616f39b1ad184d48520877c9329a445fea/5918-9e8f9f6cfa9371ce.min.js.map