"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="5bbf4cf5-0f25-5191-a475-af3c6cb5f0c3")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[3063],{802325:(e,t,n)=>{n.d(t,{$g:()=>c,DI:()=>d,Eh:()=>s,GK:()=>a,J1:()=>l,KV:()=>i,b:()=>r,cr:()=>h,jG:()=>u,kz:()=>_,nW:()=>p,o8:()=>m,u1:()=>o,wv:()=>f});let r="universal_upgrade_sequence--closeButton--3LXgX",a="universal_upgrade_sequence--modalTitle--7aZxv text--fontPos18--FkHj- text--_fontBase--VaHfk",i="universal_upgrade_sequence--modalSubtitle--Is02S text--fontPos14--QJNQC text--_fontBase--VaHfk",s="universal_upgrade_sequence--createTeamInput--lrMGO basic_form--labeledInputGroup--ruFib text--fontPos14--QJNQC text--_fontBase--VaHfk",o="universal_upgrade_sequence--spinner--zfNQF",l="universal_upgrade_sequence--tileUpgradeButton--X5gGp",d="universal_upgrade_sequence--nextButtonSmall--HVQ8Z universal_upgrade_sequence--nextButton---ljFU",c="universal_upgrade_sequence--createTeamSection--DJV23",u="universal_upgrade_sequence--scrollContainer--MMo2A",_="universal_upgrade_sequence--scrollContainerTopBorder--Rh5KD",m="universal_upgrade_sequence--scrollContainerBottomBorder--m-SIg",p="universal_upgrade_sequence--teamTileContainer--1Haj8 org_self_serve--teamLargeTileContainer--4xUun",h="universal_upgrade_sequence--teamTile--z8VqZ org_self_serve--teamTileLarge--OVNkR text--fontPos14--QJNQC text--_fontBase--VaHfk",f="universal_upgrade_sequence--lastTeamTile--Pj-q- universal_upgrade_sequence--teamTile--z8VqZ org_self_serve--teamTileLarge--OVNkR text--fontPos14--QJNQC text--_fontBase--VaHfk"},251122:(e,t,n)=>{n.d(t,{p:()=>r});let r="org_plugins_view--emptyState--zToHQ tiles_view--emptyState--n6KR- text--fontPos11--rO47d text--_fontBase--VaHfk"},795755:(e,t,n)=>{n.d(t,{Hh:()=>o,Ys:()=>s,_U:()=>i,p$:()=>a,rP:()=>r,wD:()=>l});let r="team_tile--teamIcon--pPOqj",a="team_tile--emptyState--C43dH tiles_view--emptyState--n6KR- text--fontPos11--rO47d text--_fontBase--VaHfk",i="team_tile--emptyTitle--hfICf tiles_view--emptyTitle--yIxCD",s="team_tile--joinSpinner--G56Xm",o="team_tile--guestCardDescription--b-W6- text--fontPos13--5OfL8 text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",l="team_tile--guestCardDescriptionColor--kTwGh"},20203:(e,t,n)=>{n.d(t,{d:()=>r,s:()=>a});let r="teams_items_view--emptyContainer--p3oxd text--fontPos11--rO47d text--_fontBase--VaHfk",a="teams_items_view--listName--xHsy7 search_list_row--name--2nVLU search_list_row--_name--7KI9C ellipsis--ellipsis--70pHK"},869746:(e,t,n)=>{n.d(t,{p:()=>a,x:()=>r});var r=(e=>(e.SINGLE_EDITOR="single_editor",e.MULTI_EDITOR="multi_editor",e))(r||{});let a="completed_pro_checkout_streamlined"},576192:(e,t,n)=>{n.d(t,{A:()=>l,H:()=>o});var r=n(449979),a=n(858254),i=n(737091),s=n(931558);function o(e,t){for(let t of Object.values(e))if((0,r.uy)(t)||!(0,s.dA)(t))return!1;for(let n of Object.keys(e))if(!t.includes(n))return!1;return!0}function l(e,t){return(0,a.UL)(e)>=d[t]}let d={pro:i.f8,org:i.WQ,enterprise:1/0}},984864:(e,t,n)=>{n.d(t,{I:()=>m});var r=n(239976),a=n(105652),i=n(379141),s=n(346942),o=n(933870),l=n(639184),d=n(338630),c=n(329076),u=n(569693),_=n(802325);function m({customUpgradeText:e,eligibleTeams:t,selectTeam:n,numDesignFilesPerTeam:m,showEditorCount:p=!0}){let[h,f]=(0,a.useState)(!1),[x,g]=(0,a.useState)(!1);a.useEffect(()=>{f(t.length>=5)},[t]);let b=`${_.jG}`;h&&(b+=` ${_.o8}`),x&&(b+=` ${_.kz}`);let v=t[t.length-1],y=m&&m.length===t.length;return(0,r.jsx)(o.P,{onScroll:(e,n)=>{let r=t.length>=5,a=r&&0!==e,i=r&&e+n.trackHeight!==n.scrollHeight;i!==h&&f(i),a!==x&&g(a)},className:b,scrollingDisabled:!1,children:(0,r.jsx)("div",{className:_.nW,children:t.map((t,a)=>(0,r.jsxs)(d.jm,{className:t===v?_.wv:_.cr,onClick:()=>n(t),trackingProperties:{teamId:t.id,trackingDescriptor:l.c.UPGRADE},innerText:"Upgrade",children:[(0,r.jsxs)("div",{className:"org_self_serve--teamInfo--yPWq9",children:[(0,r.jsx)(u.Ro,{className:"org_self_serve--teamIcon--PdXRs",entity:t,size:40,shape:"SQUARE"}),(0,r.jsxs)("div",{className:"org_self_serve--teamText--9uXHS",children:[(0,r.jsx)("p",{className:"org_self_serve--teamName--lk7qc text--fontPos11--rO47d text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",children:t.name}),(0,r.jsxs)("p",{className:"org_self_serve--teamEditors--kP2gj text--fontPos11--rO47d text--_fontBase--VaHfk",children:[!y&&p&&(0,i.tx)("universal_upgrade.select_team.editor_count.seat_rename",{editors:t.editors}),y&&m&&(0,i.tx)("universal_upgrade.select_team.files_per_team_figma_files_used",{numFilesUsed:m[a],numFreeFilesAllowed:c.WW})]})]})]}),(0,r.jsx)(s.nR,{className:_.J1,dataTestId:"select_team.upgrade",children:e??(0,i.tx)("universal_upgrade.select_team.upgrade")})]},t.id))})})}},515768:(e,t,n)=>{let r;n.d(t,{y:()=>s});var a=n(724438),i=n(747079);function s(){return r??=(0,i.Ju)(a.A.createLazyComponent(()=>Promise.all([n.e(4080),n.e(5897),n.e(7688),n.e(8375),n.e(1247),n.e(7048),n.e(1056),n.e(5316),n.e(6048)]).then(n.bind(n,37531)).then(e=>e.FolderRenameModal),(0,i.Ij)("FolderRenameModal")))}},844888:(e,t,n)=>{n.d(t,{Jo:()=>a,Mc:()=>o,RQ:()=>r,cm:()=>s,uZ:()=>i}),n(444107),n(184262);let r="team-link-context-menu",a="TEAM_PROJECT_LINK_ONBOARDING_KEY",i="DRAFT_FOLDER_LINK_ONBOARDING_KEY";var s=(e=>(e.PENDING_ASSET_TRANSFER="pending_asset_transfer",e.PENDING_RESOURCE_CONNECTION="pending_resource_connection",e.ACTIVE_RESOURCE_CONNECTION="active_resource_connection",e))(s||{}),o=(e=>(e[e.Up=-1]="Up",e[e.Down=1]="Down",e))(o||{})},149314:(e,t,n)=>{n.d(t,{o:()=>l,s:()=>d});var r=n(239976),a=n(735786),i=n(323264),s=n(338630),o=n(52465);function l(e){return e.flatMap(e=>[...e.items.map(e=>({displayText:e.displayText,callback:()=>e.onClick(),disabled:e.disabled,trackingEventName:e.trackingEventName,trackingProperties:e.trackingProperties})),o.w])}function d({groups:e,minItemContentWidth:t=168,trackedContext:n,onTrackedItemClick:o}){return(0,r.jsx)(a.mc,{children:(0,r.jsx)(s.fu,{name:n,children:e.map(e=>(0,r.jsx)(a.YJ,{children:e.items.map(e=>(0,r.jsx)(a.q7,{disabled:e.disabled,onClick:()=>{e.onClick(),e.trackingProperties&&o(e)},children:(0,r.jsx)("span",{...i.Ay.props(c.menuItemContent(t)),children:e.displayText})},e.displayText))},e.key))})})}let c={menuItemContent:e=>[{k7Eaqz:null!=e?"xkj4a21":e,$$css:!0},{"--x-minWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e)}]}},915671:(e,t,n)=>{n.d(t,{Q:()=>l});var r=n(20002),a=n(595433),i=n(406346),s=n(129263),o=n(124720);function l({newFileFrom:e,folderId:t,importToFolderData:n,contextClicked:l,forceOpenNewTab:d}){let c=(0,r.wA)(),{data:u,status:_}=(0,a.nt)(t),m=(0,i.h)(u),p=(0,o.E)({isDraftsFolder:!0,newFileFrom:e,forceOpenNewTab:d}),h="loading"===_;return{newFiles:m.map(({editorType:e,canCreate:t})=>(0,s.p)({editorType:e,isDisabled:!t,isLoading:h,onClick:p({editorType:e,triggerElement:"omnicreate",contextClicked:l})})),import:(0,s.u)({isLoading:h,dispatch:c,targetFolderId:t,importToFolderData:n})}}},920688:(e,t,n)=>{n.r(t),n.d(t,{FAVORITES_COUNT_CROSSED_THRESHOLD_EVENT:()=>w,USER_FLAG_V2:()=>N,default:()=>rw});var r=n(239976),a=n(29161),i=n(445019),s=n(379141),o=n(270450),l=n(224542),d=n.n(l),c=n(346942),u=n(890305),_=n(951633);function m(e){return(0,r.jsx)("div",{className:d()("custom_sections_onboarding_modal--overlay--r85kl",{"custom_sections_onboarding_modal--overlayRedesigned--pQIHu":(0,o.kc)().file_browser_sidebar_row_ui}),children:(0,r.jsxs)(_.CR,{width:360,dismissModal:e.onClickPrimaryCta,targetKey:"custom-sections-nudge-modal",topPadding:4,arrowPosition:u.F_.LEFT_TITLE,pointerBackgroundColor:"var(--color-bg, $figmaBGWhite)",children:[(0,r.jsx)("h1",{className:"custom_sections_onboarding_modal--header--TcTZF",children:(0,s.tx)("favorited_resources.custom_sections_nudge_header")}),(0,r.jsx)("p",{children:(0,s.tx)("favorited_resources.custom_sections_nudge_body",{ellipses:(0,r.jsx)("strong",{children:(0,s.tx)("favorited_resources.ellipses")}),plus:(0,r.jsx)("strong",{children:(0,s.tx)("favorited_resources.plus")})})}),(0,r.jsx)("div",{className:"custom_sections_onboarding_modal--footerContainerButtonRight--sXYiG custom_sections_onboarding_modal--footerContainer--vdkZ9",children:(0,r.jsx)(c.vd,{onClick:e.onClickPrimaryCta,children:(0,s.tx)("rcs.file_browser.got_it")})})]})})}var p=n(338630),h=n(826151),f=n(859100),x=n(634224),g=n(215496),b=n(139850),v=n(271625);let y="seen_custom_sections_nudge",w="favorites-count-crossed-threshold",j=(0,x.r1)(y);function C(){let e=(0,i.md)(j),t=(0,f.e)({overlay:v.LB2,priority:g.N.OVERRIDING_MODAL},[e]);return(0,h.E)(t.uniqueId,w,()=>{t.show({canShow:e=>!e})}),(0,r.jsx)(b.M,{isShowing:t.isShowing,userFlagOnShow:y,children:(0,r.jsx)(p.fu,{name:"Custom Sections Nudge",children:(0,r.jsx)(m,{onClickPrimaryCta:t.complete})})})}var T=n(309742),k=n(574220),E=n(661877),I=n(782415);let N="seen_whats_new_v2_modal",A=(0,x.r1)(N),S=(0,k.tH)("last_figjam_at");function R(){let e=(0,i.md)(x.GW),t=(0,i.md)(k.mp),n=(0,i.md)(S),a=(0,i.md)(A),s=(0,i.md)(k.Ot),{show:o,isShowing:l,complete:d}=(0,f.e)({overlay:v.I3H,priority:g.N.DEFAULT_MODAL},[e,t,a,s]);return(0,T.h)(()=>{o({canShow:(e,t,r,a)=>e&&!a&&(0,E.f)({lastUsedFigjamDate:n,userCreatedAt:t,hasSeenOverlayV2:r})})}),(0,r.jsx)(I.xZ,{context:"file_browser",isShowing:l,onClose:d})}var O=n(105652),D=n(20002),P=n(865702),M=n(127446),L=n(943866),F=n(393463),B=n(910970),U=n(136393),H=n(574159),z=n(650473),V=n(73961),W=n(907490),G=n(795867),q=n(193487),K=n(993976),$=n(616255),Y=n(179834),J=n(711751),X=n(639184),Q=n(390739),Z=n(816379);let ee="File Browser Onboarding -";function et(e){return(0,r.jsx)(Q.X,{description:(0,s.tx)("rcs.take_tour.see_how_to_create_files_learn_about_drafts_and_teams_ways_to_access_community_and_more"),emphasized:!0,isShowing:e.isShowing,onClose:e.onManualDismiss,position:Z.Q.BOTTOM_RIGHT,primaryCta:{label:(0,s.tx)("rcs.take_tour.let_s_go"),type:"button",onClick:e.onClickPrimaryCta,ctaTrackingDescriptor:X.c.LETS_GO},secondaryCta:{label:(0,s.tx)("rcs.take_tour.no_thanks"),type:"button",onClick:e.onManualDismiss,ctaTrackingDescriptor:X.c.NO_THANKS},testId:"TakeTourOfFileBrowserOverlay",title:(0,s.tx)("rcs.take_tour.take_a_quick_tour_of_the_file_browser"),trackingContextName:`${ee} Take tour`})}function en(e){let{close:t}=(0,J.S)(),n=()=>{t(),e.onClickPrimaryCta()};return(0,r.jsx)(K.h,{testId:"AccountSettingsOverlay",modalType:Y.q3.SELF_CONTAINED,trackingContextName:`${ee} Account settings`,element:e=>(0,r.jsx)($.Rx,{dismissModal:e.dismissModal,onClickPrimaryCta:n,forceRender:e.forceRender,step:5,totalSteps:6}),isShowing:e.isShowing,onClickPrimaryCta:n,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var er=n(429921),ea=n(876232),ei=n(763808);function es(e){let t=(0,D.wA)(),n=(0,D.d4)(e=>e.user?.drafts_folder_id);return O.useEffect(()=>((0,ea.pP)(),()=>void(0,ea.nz)()),[t,n]),(0,r.jsx)(er.o,{eventListeners:["onMouseDown"],children:(0,r.jsxs)(_.NJ,{dismissModal:e.dismissModal,width:228,targetKey:ei.l,topPadding:12,alignPointerToLeft:!0,children:[(0,s.tx)("rcs.create_files.create_files_from_scratch_import_designs_from_sketch_or_start_from_templates"),(0,r.jsx)($.IY,{onClick:e.onClickPrimaryCta,step:1,totalSteps:6})]})})}function eo(e){return(0,r.jsx)(K.h,{testId:"CreateFilesOverlay",modalType:Y.q3.SELF_CONTAINED,trackingContextName:`${ee} Create files`,element:es,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var el=n(844888);function ed(e){return(0,r.jsxs)(_.NJ,{dismissModal:e.dismissModal,width:228,targetKey:el.uZ,topPadding:8,alignPointerToLeft:!0,children:[(0,s.tx)("rcs.create_files.files_are_great_for_collaboration_while_your_drafts_are_more_personal_if_you_share_them_they_re_view_only"),(0,r.jsx)($.IY,{onClick:e.onClickPrimaryCta,step:2,totalSteps:6})]})}function ec(e){return(0,r.jsx)(K.h,{testId:"DraftsOverlay",modalType:Y.q3.SELF_CONTAINED,trackingContextName:`${ee} Drafts`,element:ed,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eu=n(771636);function e_(e){let{open:t}=(0,J.S)();return(0,r.jsxs)(_.NJ,{dismissModal:e.dismissModal,width:247,targetKey:eu.Pm,alignPointerToLeft:!0,topPadding:12,children:[(0,s.tx)("rcs.account_switching.explore_community"),(0,r.jsx)($.IY,{onClick:()=>{t(),e.onClickPrimaryCta()},step:4,totalSteps:6})]})}function em(e){return(0,r.jsx)(K.h,{testId:"ExploreCommunityOverlay",modalType:Y.q3.SELF_CONTAINED,trackingContextName:`${ee} Community Hub`,element:e_,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var ep=n(469983);function eh(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(ep.Gv,{src:(0,F.CZ)("app/onboarding/page-4.gif")}),(0,r.jsxs)(ep.ak,{children:[(0,s.tx)("rcs.import.one_of_the_coolest_things_about_figma_is_that_you_don_t_have_to_start_from_scratch_to_get_to_work"),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,s.tx)("rcs.import.just_drag_your_sketch_files_onto_the_browser_and_we_ll_convert_them_to_figma_for_you")]})]})}function ef(e){return(0,r.jsx)(K.h,{currentStepIndex:e.currentStepIndex,element:eh,isShowing:e.isShowing,modalType:Y.q3.DRAGGABLE,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,onboardingKey:"import",testId:"ImportOverlay",title:()=>(0,s.t)("rcs.import.import_sketch_files"),totalNumSteps:e.totalNumSteps,trackingContextName:"Import Sketch File Onboarding Modal",userFlagOnShow:"import_file_onboarded"})}function ex(e){return(0,r.jsx)(K.h,{testId:"NotificationsOverlay",modalType:Y.q3.SELF_CONTAINED,trackingContextName:`${ee} Notifications`,element:e=>(0,r.jsx)($.q9,{dismissModal:e.dismissModal,onClickPrimaryCta:e.onClickPrimaryCta,forceRender:e.forceRender,step:6,totalSteps:6}),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eg=n(102462),eb=n(62440),ev=n(152140),ey=n(702417);function ew(e){return(0,r.jsx)(K.h,{ctaText:(0,s.tx)("rcs.open_file.create_file"),currentStepIndex:e.currentStepIndex,element:()=>(0,r.jsx)(ep.ak,{children:(0,s.tx)("rcs.open_file.open_a_file_to_learn_more_about_figma_s_powerful_editing_features")}),isShowing:e.isShowing,modalType:Y.q3.DRAGGABLE,onClickPrimaryCta:()=>{e.onClickPrimaryCta(),function(){let e=eg.D.getState();eg.D.dispatch(eb.uM((0,ev.xA)({state:e,openNewFileIn:ey.ai.SAME_TAB})))}()},onClose:e.onClose,onManualDismiss:e.onManualDismiss,testId:"OpenFileOverlay",title:()=>(0,s.t)("rcs.open_file.edit_a_file"),totalNumSteps:e.totalNumSteps,trackingContextName:"Edit a File Onboarding Modal"})}var ej=n(988102);function eC(){let e=(0,D.d4)(e=>e.currentUserOrgId),t=(0,ej.c4)(e).data??!1,n=(0,s.tx)("rcs.org_welcome.click_the_all_teams_button_on_the_left_to_find_teams_to_join");return t&&(n=(0,s.tx)("rcs.bigma_org_welcome.click_the_all_workspaces_button_on_the_left_to_find_teams_to_join")),(0,r.jsxs)("div",{children:[(0,r.jsx)(ep.Gv,{src:(0,F.ck)("6f3307f82aeddf6f609eaf97ee9e66e788d485c1"),width:215,margin:"14px 0px 14px 27px"}),(0,r.jsxs)(ep.ak,{children:[(0,r.jsx)("p",{children:(0,s.tx)("rcs.org_welcome.figma_organization_connects_files_projects_libraries_and_teams_securely_across_your_company")}),n]})]})}function eT(e){return(0,r.jsx)(K.h,{currentStepIndex:e.currentStepIndex,element:eC,highlightOnlyKey:"new-team-icon",isShowing:e.isShowing,modalType:Y.q3.DRAGGABLE,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,testId:"OrgWelcomeOverlay",title:()=>(0,s.t)("rcs.org_welcome.welcome_to_your_figma_organization"),totalNumSteps:e.totalNumSteps,trackingContextName:"Orgs Welcome Onboarding Modal",userFlagOnShow:"orgs_onboarded",width:376})}var ek=n(636008),eE=n(396859);function eI(e){let{open:t,close:n}=(0,eE.O)();return O.useEffect(()=>{t()},[t]),(0,r.jsxs)(_.NJ,{dismissModal:e.dismissModal,width:228,targetKey:ek.K,topPadding:8,alignPointerToLeft:!0,className:"plan_spaces_overlay--planSpacesPointerModal--8EIjP pointer_modal--pointerModalBlue--8BCUs pointer_modal--pointerModal--VrJy4",children:[(0,s.tx)("rcs.plan_spaces.file_browser_onboarding_step.seat_rename"),(0,r.jsx)($.IY,{onClick:()=>{n(),e.onClickPrimaryCta()},step:3,totalSteps:6})]})}function eN(e){return(0,r.jsx)(K.h,{testId:"PlanSpacesOverlay",modalType:Y.q3.SELF_CONTAINED,trackingContextName:`${ee} Plan Spaces`,element:eI,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eA=n(842582);function eS(e){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ep.ak,{children:[(0,s.tx)("rcs.welcome_step.welcome_to_figma"),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,s.tx)("rcs.welcome_step.we_re_different_from_other_design_tools_in_some_really_special_ways_so_we_d_like_to_take_you_through_them")]}),(0,r.jsx)(ep.iy,{children:(0,r.jsx)(eA.$z,{onClick:e.onClickPrimaryCta,variant:"primary",children:(0,s.tx)("rcs.welcome_step_view.next")})})]})}function eR(e){let t=(0,D.d4)(e=>e.user?.name),n=t?(0,s.t)("rcs.welcome_step.welcome_user_name",{userFirstName:t}):(0,s.t)("rcs.welcome_step.welcome");return(0,r.jsx)(K.h,{currentStepIndex:e.currentStepIndex,disableFooter:!0,element:eS,isShowing:e.isShowing,modalType:Y.q3.DRAGGABLE,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,testId:"WelcomeOnboardingOverlay",title:()=>n,totalNumSteps:e.totalNumSteps,trackingContextName:"Welcome Onboarding Modal",userFlagOnShow:"welcome_onboarded"})}let eO=(0,x.r1)("file_browser_onboarded"),eD=["seen_sidebar_workspace_onboarding","seen_search_workspace_onboarding","seen_libraries_workspace_onboarding"],eP=e=>["file_browser_onboarded","community_hub_onboarded","variants_onboarded","account_switcher_onboarded",...e?eD:[]],eM=()=>{let e=(0,M.DN)();try{return!!e.get(B.zl)}catch(e){}return!1};function eL(){let e=(0,D.wA)(),t=(0,i.md)(x.qG),n=(0,i.md)(eO),a=(0,L.ZC)(n),s=(0,i.md)(k.d2),o=(0,D.d4)(e=>e.currentUserOrgId),l=(0,z.UC)(o),d=(0,i.md)(l),c=(0,i.md)(k.Ot),u=(0,f.e)({overlay:v.Ob5,priority:g.N.OVERRIDING_MODAL},[t,s,d,c]),[_,m]=(0,O.useState)([]),[p,b]=(0,O.useState)([]),y=(0,O.useCallback)(e=>{u.show({canShow:(t,n,r,a)=>{let i=(function({userFlags:e,userSpace:t,isReset:n,isOrgUserExternallyRestricted:r}){let a=t===G.qo.ORG,i=(0,V.of)(e),s=(0,F.Ay)().is_limited_team_plan,o=(0,V.mW)(e,"not_gen_0"),l=(0,V.mW)(e,"welcome_onboarded"),d=(0,V.mW)(e,"file_browser_onboarded"),c=[eT,ef,(0,W._q)(e)||r?null:ew],u=[...r?[]:[eo,ec],eN,em,en,ex],_=[et,...u];return s?[]:n||o||a?!n&&(a||o)&&d?[]:a?c:i?_:o?eM()||l?[et,...u]:[eR,...u]:_:d?[]:_})({userFlags:t,userSpace:n,isReset:e,isOrgUserExternallyRestricted:a}).filter(e=>!!e);return!!i.length&&(m(i),b(eP(n===G.qo.ORG&&r)),!0)}})},[u]);(0,T.h)(()=>{y(!1)}),(0,h.E)(u.uniqueId,"Reset Onboarding",()=>y(!0)),O.useEffect(()=>{u.isShowing&&a?.status==="loaded"&&a?.data===!1&&n?.status==="loaded"&&n?.data===!0&&u.complete()},[u,n,a]);let w=O.useCallback(()=>{let t={};for(let e of p)t[e]=!0;e(U.b(t)),u.complete()},[e,u,p]);return u.isShowing&&0!==_.length?(0,r.jsx)(eF,{steps:_,onComplete:w}):null}function eF(e){let{steps:t,onComplete:n}=e,a=(0,H.A)({numSteps:t.length,onComplete:n});return(0,r.jsx)(q.U,{currentStep:a.currentStep,isShowing:!0,children:O.useMemo(()=>t.map((e,r)=>O.createElement(e,{onClickPrimaryCta:a.next,onClose:P.lQ,onManualDismiss:n,isShowing:!0,currentStepIndex:r,totalNumSteps:t.length})),[t,a,n])})}var eB=n(289252),eU=n(154963),eH=n(67562),ez=n(656635),eV=n(790147);function eW(){let e=(0,D.d4)(e=>e.currentUserOrgId),t=(0,i.md)(ez.Z),n=(0,eV.RG)(),a=(0,s.tx)("rcs.org_welcome.click_on_the_organization_button_on_the_left_to_find_teams_to_join");return(0,eH.D6)(e)?a=n?(0,s.tx)("rcs.bigma_org_welcome.click_the_all_workspaces_button_on_the_left_to_find_teams_to_join"):(0,s.tx)("rcs.org_welcome.click_the_all_teams_button_on_the_left_to_find_teams_to_join"):t&&(a=(0,s.tx)("rcs.org_welcome.click_the_current_org_name_span_button_on_the_left_to_find_teams_to_join",{orgName:(0,r.jsx)("span",{className:eU.s.fontBold.$,children:t.name})})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:eU.s.pb8.$,children:(0,s.tx)("rcs.org_welcome.figma_organization_connects_files_projects_libraries_and_teams_securely_across_your_company")}),a]})}let eG="orgs_onboarded",eq=(0,x.r1)(eG);function eK(){let e=(0,i.md)(k.d2),t=(0,i.md)(eq),n=(0,f.e)({overlay:v.X5_,priority:g.N.OVERRIDING_MODAL},[e,t]);return(0,T.h)(()=>{n.show({canShow:(e,t)=>e===G.qo.ORG&&!t})}),(0,r.jsx)(Q.X,{description:(0,r.jsx)(eW,{}),isShowing:n.isShowing,media:(0,r.jsx)(eB.y,{src:(0,F.ck)("87621fc5a99a1d24beb515288cf764febb8f01e9.png"),alt:"A screenshot of the teams list with cursor hovering over the 'Request to Join' link",aspectRatio:1.75}),onClose:n.complete,position:Z.Q.CENTER,primaryCta:{label:(0,s.tx)("rcs.rcs_shared.done"),type:"button",onClick:n.complete,ctaTrackingDescriptor:X.c.DONE},title:(0,s.tx)("rcs.org_welcome.welcome_to_your_figma_organization"),trackingContextName:"Orgs Welcome Onboarding Modal",userFlagOnShow:eG,width:350})}var e$=n(787049),eY=n(295870),eJ=n(129416),eX=n(933302),eQ=n(443447),eZ=n(816505),e0=n(610604),e1=n(790016),e2=n(948188),e5=n(522568),e3=n(904414),e4=n(585574),e6=n(933870),e9=n(678337),e7=n(569693),e8=n(717096);let te="workspace_selector";function tt({workspaces:e,onModalClose:t}){let[n,a]=O.useState(null),i=(0,D.wA)(),o=(0,D.d4)(({selectedView:e})=>e),l=(0,eZ.sZ)();if(!l)throw Error("org is not defined");("fullscreen"===o.view||"prototype"===o.view)&&t();let d=(0,r.jsxs)("div",{className:eU.s.flexShrink0.flex.flexColumn.itemsCenter.gap8.$,children:[(0,r.jsx)("img",{className:eU.s.w100.h100.$,src:(0,F.ck)("b907892c6132bbea2173d8e95c096187288f54f9"),alt:"",width:100,height:100}),(0,r.jsx)("span",{className:eU.s.textHeadingLarge.colorText.$,children:(0,s.tx)("onboarding.workspace_step.title")}),(0,r.jsx)("span",{className:eU.s.textBodyLarge.colorText.$,children:(0,r.jsx)("div",{className:"workspace_selector--descriptionContainer--lmit4",children:(0,s.tx)("onboarding.workspace_step.subtitle_v2",{orgName:l.name,tipText:(0,r.jsx)("span",{className:eU.s.textBodyLargeStrong.$,children:(0,s.tx)("onboarding.workspace_step.tip")})})})})]}),c=(0,r.jsx)(e6.P,{className:eU.s.flexShrink1.minH200.mt24.$,innerClassName:eU.s.flex.flexColumn.gap12.p16.pt2.$,children:e.map(e=>(0,r.jsx)(tn,{workspace:e,onClick:()=>a(e),isSelected:n?.id===e.id},e.id))}),u=(0,r.jsx)("div",{className:eU.s.flex.justifyEnd.p16.colorBorder.bSolid.bt1.$,children:(0,r.jsxs)("div",{className:eU.s.flex.gap10.$,children:[(0,r.jsx)(e3.tM,{onClick:t,trackingProperties:{trackingDescriptor:X.c.SKIP},children:(0,s.tx)("onboarding.skip")}),(0,r.jsx)(e3.vd,{onClick:()=>{n&&(i(e9.x({workspace:n})),t())},disabled:null===n,trackingProperties:{trackingDescriptor:X.c.JOIN},children:(0,s.tx)("onboarding.workspace_step.join")})]})});return(0,r.jsx)(p.fu,{name:te,children:(0,r.jsxs)(e8.ey,{className:eU.s.relative.$,size:680,height:576,padding:0,tintedModalBackground:!0,hide:e=>{(0,e5.sx)("Modal Close",{source:e,trackingContext:te}),t()},disableClickOutsideToHide:!0,children:[(0,r.jsxs)("div",{className:eU.s.flex.flexColumn.hFull.$,children:[(0,r.jsxs)(e6.P,{className:eU.s.flexGrow1.$,innerClassName:eU.s.borderBox.hFull.flex.flexColumn.itemsCenter.alignCenter.px32.pt32.$,children:[d,c]}),u]}),(0,r.jsx)(e4.Jn,{className:eU.s.absolute.top0.right0.mt8.mr8.$,onClick:t,trackingProperties:{trackingDescriptor:X.c.CLOSE_BUTTON}})]})})}function tn({workspace:e,isSelected:t,onClick:n}){return(0,r.jsxs)("button",{className:d()("workspace_selector--workspaceOptionButton--TSBPy",{"workspace_selector--workspaceOptionButtonSelected--oMlyq":t}),onClick:n,type:"button",children:[(0,r.jsx)(e7.z6,{entity:e,size:32}),(0,r.jsx)("span",{className:eU.s.flexGrow1.truncate.textBodyLarge.colorText.ml16.$,children:e.name}),(0,r.jsx)("div",{className:d()("workspace_selector--radioButton--nvy9a",{"workspace_selector--radioButtonSelected--MndgM":t})})]})}let tr="workspace_selector_seen",ta=(0,eQ.g)(tr),ti=(0,i.Iz)(e=>(0,eX.Z1)(e0.saW.Query({orgId:e}),e=>{if(!e.org?.workspaces)return null;let t=e.org.workspaces.filter(e=>e.canView);return(0,e$.KQ)(t,"name"),t}));function ts(){let e=(0,eZ.dq)(),t=(0,e1.D6)("OrgSelectWorkspaceOverlay"),n="loaded"===t.status?t?.data?.key.parentId??void 0:void 0,a=(0,O.useRef)(void 0);a.current=n;let s=(0,i.md)(k.d2),o=(0,i.md)(z.uA),l=(0,ej.Au)(e),d=(0,i.md)(ti(e)),c=(0,i.md)(ta),{show:u,complete:_,isShowing:m}=(0,f.e)({overlay:v.USq,priority:g.N.HIGH_PRIORITY_MODAL},[s,o,l,d,c,t]);return((0,T.h)(()=>{u({canShow:(e,t,n,r,a,i)=>e===G.qo.ORG&&!!t&&!n&&!!r&&0!==r.length&&!a&&!!i,onShow:()=>{e2.G.postOrgUserFlags({orgUserId:a.current,flags:{[tr]:!0}})}})}),m&&"loaded"===d.status)?d.data?(0,r.jsx)(b.M,{isShowing:!0,testId:"org-select-workspace-overlay",children:(0,r.jsx)(tt,{onModalClose:_,workspaces:d.data})}):((0,eJ.$D)(eY.e.SCALE,Error("workspaceSelectorOptionsAtomQuery.data not present after OrgSelectWorkspace overlay is showing")),_(),null):null}var to=n(7857),tl=n(90194),td=n(811804),tc=n(462213),tu=n(15039),t_=n(783844),tm=n(355441),tp=n(141288),th=n(210823);let tf=(e,t)=>e?(0,r.jsx)(th.E,{fontSize:20,fontWeight:"medium",children:(0,s.tx)("rcs.plan_spaces.drafts_have_a_new_home")}):t?(0,r.jsx)(th.E,{fontSize:20,fontWeight:"medium",children:(0,s.tx)("rcs.plan_spaces.a_simpler_switcher_menu")}):(0,r.jsx)(th.E,{fontSize:20,fontWeight:"medium",children:(0,s.tx)("rcs.plan_spaces.changes_to_your_drafts")}),tx=(e,t)=>e?(0,r.jsx)(th.E,{fontSize:14,children:(0,s.tx)("rcs.plan_spaces.drafts_lived_in_separate_area")}):t?(0,r.jsx)(th.E,{fontSize:14,children:(0,s.tx)("rcs.plan_spaces.a_simpler_switcher_menu.description")}):(0,r.jsx)(th.E,{fontSize:14,children:(0,s.tx)("rcs.plan_spaces.starter_pro.onboarding_modal_description")}),tg=(e,t)=>e?(0,r.jsx)(th.E,{fontSize:14,children:(0,s.tx)("rcs.plan_spaces.nothing_else_has_changed")}):t?(0,r.jsx)(th.E,{fontSize:14,color:"secondary",children:(0,s.tx)("rcs.plan_spaces.user_help_migrating_drafts_awareness")}):(0,r.jsx)(th.E,{fontSize:14,children:(0,s.tx)("rcs.plan_spaces.starter_pro.onboarding_modal_body")}),tb=(e,t)=>(0,r.jsx)(th.E,{fontSize:13,children:(0,s.tx)(t||e?"rcs.plan_spaces.got_it":"rcs.plan_spaces.show_me_what_changed")}),tv=O.memo(({hasOrgPlan:e,assetSrc:t,onClickPrimaryCTA:n,hasOnlyOneStarterPlan:a})=>(0,r.jsx)(ty,{onClickPrimaryCTA:n,titleText:tf(a,e),descriptionText:tx(a,e),secondaryDescriptionText:tg(a,e),primaryButtonText:tb(a,e),assetSrc:t,hasOnlyOneStarterPlan:a})),ty=O.memo(({titleText:e,descriptionText:t,onClickPrimaryCTA:n,secondaryDescriptionText:a,primaryButtonText:i,assetSrc:o,hasOnlyOneStarterPlan:l})=>{let d=O.useCallback(()=>{tp.Ay.unsafeRedirect("https://www.figma.com/blog/updates-to-how-drafts-work/","_blank")},[]);return(0,r.jsxs)("div",{className:"plan_spaces_launch_modal_components--container--0UK5W",children:[(0,r.jsxs)("div",{className:"plan_spaces_launch_modal_components--textContainer--HG1gG",children:[(0,r.jsx)("p",{className:"plan_spaces_launch_modal_components--titleProperties--kVsSn",children:e}),(0,r.jsx)("div",{className:eU.s.pb16.$,children:t}),(0,r.jsx)("div",{children:a}),(0,r.jsxs)("div",{className:"plan_spaces_launch_modal_components--ctaRow--8aRzU",children:[(0,r.jsx)(c.nD,{onClick:n,children:i}),(0,r.jsx)(c.$9,{onClick:d,children:(0,r.jsx)(th.E,{fontSize:13,children:(0,s.tx)("rcs.plan_spaces.learn_more")})})]})]}),l?(0,r.jsx)("img",{src:o,alt:"An illustration of the Figma sidebar",width:364}):(0,r.jsx)(ep.GV,{width:364,src:o})]})}),tw=new Date("2024-05-15T20:00:00.000Z").getTime();function tj(){return(0,r.jsx)(to.u9,{label:"PlanSpacesFileBrowserOverlays",children:(0,r.jsx)(tC,{})})}function tC(){let e=(0,D.d4)(e=>e.plans),t=(0,D.d4)(e=>e.teams),n=e.filter(e=>e.plan_type===tu.O.TEAM).map(e=>t[e.plan_id]).filter(e=>!!e),a=(0,td.DP)(),o=(0,i.md)(k.mp),l=e.some(e=>e.plan_type===tu.O.ORG),d=1===n.length&&n[0].starter_team&&!l,c=function(e,t,n){let r={darkMode:{org:(0,F.ck)("35339bd6f100fd7c2dca24546e4ded3f7397d137"),teams:(0,F.ck)("055e7f20c52382bdb565fbe89f04d9673952663a"),starter:(0,F.ck)("6327332cd808163a39e7093c9c388f6e16927cc4")},lightMode:{org:(0,F.ck)("d26daa4a5677426d2b01aa43677bf4c65f50b0bd"),teams:(0,F.ck)("1c1ca856971dff41eff57240862cf81437cb4dce"),starter:(0,F.ck)("b425061637a5821d58f2ce45dee702f544ea52d6")}},a=e?"darkMode":"lightMode";return n?r[a].starter:t?r[a].org:r[a].teams}("dark"===a,l,d),u=(0,tc.d)(),{currentStep:_,next:m}=(0,H.A)({numSteps:2,onComplete:P.lQ}),p=[{title:(0,s.tx)("rcs.plan_spaces_onboarding_sequence.drafts_in_a_team"),description:(0,s.tx)("rcs.plan_spaces_onboarding_sequence.private_drafts_folder"),trackingContextName:"Plan spaces onboarding - Team drafts folder",targetKey:el.uZ,emphasized:!0,pointToLeftEdge:!0,disableHighlight:!0},{title:(0,s.tx)("rcs.plan_spaces_onboarding_sequence.new_space_for_teams"),description:(0,s.tx)("rcs.plan_spaces_onboarding_sequence.switch_between_teams"),trackingContextName:"Plan spaces onboarding - A new way to access teams",targetKey:tl.U,emphasized:!0,shouldCenterArrow:tm.EL.BEST_EFFORT,disableHighlight:!0}],{show:h,isShowing:x,complete:b}=(0,f.e)({overlay:v.sqw,priority:g.N.DEFAULT_MODAL+1},[o]);(0,O.useEffect)(()=>{u||h({canShow:e=>!!e&&e.getTime()<=tw})},[u,h]);let y=(0,O.useCallback)(e=>(0,r.jsx)(tv,{hasOrgPlan:l,hasOnlyOneStarterPlan:d,assetSrc:c,onClickPrimaryCTA:e.onClickPrimaryCta}),[l,c,d]);return e.length?(0,r.jsxs)(q.U,{currentStep:_,isShowing:x,children:[(0,r.jsx)(K.h,{closeButtonStyle:Y.M_.ON_LIGHT,disableClickOutsideToHide:!0,element:y,isShowing:x,modalType:Y.q3.FEATURE_UPDATE,onClickPrimaryCta:l?b:m,onClose:P.lQ,onManualDismiss:b,trackingContextName:"plan_spaces_launch_modal",userFlagOnShow:"seen_limited_spaces_onboarding"}),(0,r.jsx)(t_.WZ,{steps:p,isShowing:x,onComplete:b})]}):null}var tT=n(527205);let tk="saw_recreated_starter_team_onboarding",tE=(0,x.r1)(tk),tI=(0,x.r1)("had_recreated_starter_team");function tN(){let e=(0,i.md)(tE),t=(0,tc.d)(),n=(0,i.md)(tI),{show:a,isShowing:o,complete:l}=(0,f.e)({overlay:v.yjU,priority:g.N.DEFAULT_MODAL},[e,n]);return(0,T.h)(()=>{t||a({canShow:(e,t)=>!e&&t})}),(0,r.jsx)(tT.rq,{arrowPosition:tm.F_.LEFT_TITLE,description:(0,r.jsx)("p",{children:(0,s.tx)("rcs.plan_spaces_new_starter_team.text")}),emphasized:!0,isShowing:o,onClose:l,targetKey:tl.U,testId:"PlanSpacesRecreatedStarterTeamOverlay",title:(0,s.tx)("rcs.plan_spaces_new_starter_team.title"),trackingContextName:"plan_spaces_recreated_starter_team_modal",userFlagOnShow:tk})}var tA=n(869746),tS=n(536378),tR=n(748181),tO=n(898301),tD=n(959205);function tP(){let e=(0,D.wA)(),t=(0,tR.f)(tA.p),n=(0,tO.ol)(),r=n?.id||null,{show:a,isShowing:i,complete:s}=(0,f.e)({overlay:v.xf0,priority:g.N.OVERRIDING_MODAL});return(0,T.h)(()=>{t&&r&&a()}),O.useEffect(()=>{i&&r&&(e(U.b({[tA.p]:!1})),e(tS.to({type:tD.C,data:{teamId:r}})),s())},[i,r,e,s]),null}var tM=n(576787),tL=n(276571),tF=n(950850),tB=n(227517),tU=n(174773);function tH({title:e,leftComponent:t,isExpanded:n,onClick:a,children:i}){let[s,o]=(0,O.useState)(n??!1);return(0,O.useEffect)(()=>{void 0!==n&&o(n)},[n]),(0,r.jsxs)(tB.Y,{verticalAlignItems:"start",width:"100%",height:"hug-contents",children:[t,(0,r.jsxs)(tB.Y,{direction:"vertical",children:[(0,r.jsx)("div",{tabIndex:0,className:eU.s.wFull.$,role:"button",onClick:()=>{a&&a(s),o(e=>!e)},children:(0,r.jsxs)(tB.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"center",children:[(0,r.jsx)("div",{className:eU.s.font14.fontMedium.$,children:e}),(0,r.jsx)(tU.In,{icon:s?"chevron-up-32":"chevron-down-32"})]})}),s&&(0,r.jsx)("div",{className:eU.s.font13.$,children:i})]})]})}var tz=n(259714);function tV({hideModal:e,trackingName:t,trackingProperties:n,children:a}){return(0,r.jsx)(p.fu,{name:t,properties:{...n,...tF.ng.getTrackingProperties()},children:(0,r.jsx)(e8.ey,{hide:e,size:"any",className:"pro_trial_form_modal--modalContainer--XjIJT",children:a})})}var tW=n(714252);function tG(e){let{stepProps:t,titleText:n,descriptionText:a,middleContent:i,ctaOnClick:o,ctaDisabled:l,ctaText:d,textCtaOnClick:u,textCtaText:_,hideModal:m}=e;return(0,r.jsxs)("div",{className:"pro_trial_form_modal--container--xE-iQ",children:[(0,r.jsxs)("div",{className:"pro_trial_form_modal--header--mFvic",children:[(0,r.jsx)(tz.B,{svg:tW.A,className:"pro_trial_form_modal--icon--SYmUe",useOriginalSrcFills_DEPRECATED:!0}),(0,r.jsx)(e4.Jn,{innerText:"Close",onClick:m})]}),(0,r.jsxs)("div",{className:"pro_trial_form_modal--content--KX2hl text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:[(0,r.jsxs)("div",{className:"pro_trial_form_modal--titleTextContainer--q3CqM",children:[t&&(0,r.jsx)(th.E,{color:"secondary",fontSize:13,children:(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.step_counter",{currentStep:t.currentStep+1,totalSteps:t.totalSteps})}),n,a]}),i,(0,r.jsxs)("div",{className:"pro_trial_form_modal--footer--BZ3NK",children:[(0,r.jsx)(c.nD,{onClick:o,className:"pro_trial_form_modal--footerCTA--Ipx1e",disabled:l,trackingProperties:tF.ng.getTrackingProperties("continue"),children:d}),(0,r.jsx)(c.eM,{trackingProperties:tF.ng.getTrackingProperties("go back"),onClick:u,children:_})]})]})]})}var tq=n(240431),tK=n(329076),t$=n(861725),tY=n(747079),tJ=n(491616),tX=n(947056);function tQ(){let[e,t]=(0,O.useState)(),n=(0,O.useMemo)(()=>[{title:(0,r.jsx)(th.E,{children:(0,s.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.consumption_limit.title",{maxNumOfFiles:tK.WW,maxNumOfProjects:tK.Wf})}),children:(0,r.jsx)(th.E,{children:(0,s.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.consumption_limit.description")}),leftComponent:(0,r.jsx)(tB.Y,{width:"hug-contents",height:"hug-contents",padding:{top:8},children:(0,r.jsx)(tz.B,{svg:tJ.A,className:eU.s.colorIconDanger.$})})},{title:(0,r.jsx)(th.E,{children:(0,s.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.team_library.title")}),children:(0,r.jsx)(th.E,{children:(0,s.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.team_library.description")}),leftComponent:(0,r.jsx)(tB.Y,{width:"hug-contents",height:"hug-contents",padding:{top:8},children:(0,r.jsx)(tz.B,{svg:tX.A,className:eU.s.colorIconDanger.$})})},{title:(0,r.jsx)(th.E,{children:(0,s.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.other.title")}),children:(0,r.jsx)(th.E,{children:(0,s.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.other.description")}),leftComponent:(0,r.jsx)(tB.Y,{width:"hug-contents",height:"hug-contents",padding:{top:8},children:(0,r.jsx)(tz.B,{svg:tX.A,className:eU.s.colorIconDanger.$})})}],[]);return(0,r.jsx)(tB.Y,{width:"100%",direction:"vertical",spacing:24,padding:{top:32},children:n.map(({title:n,children:a,leftComponent:i},s)=>(0,r.jsx)(tB.Y,{height:"hug-contents",strokeColor:"default",strokeWidth:{left:0,top:0,right:0,bottom:1},padding:{bottom:24},children:(0,r.jsx)(tH,{leftComponent:i,title:n,isExpanded:e===s,onClick:e=>{e?t(void 0):t(s)},children:a})},s))})}let tZ=(0,tY.Ju)(function({teamId:e}){let t=(0,D.wA)(),n=(0,O.useCallback)(()=>{t(tS.Ce())},[t]),a=(0,O.useCallback)(()=>{n(),t(tq.bE({all_team_flags:[{team_id:e,flags:{[tF.u_]:!1}}]}))},[t,n,e]);return(0,r.jsx)(tV,{trackingName:t$.Mm,hideModal:n,children:(0,r.jsx)(tG,{titleText:(0,r.jsx)(th.E,{fontSize:24,fontWeight:"bold",children:(0,s.tx)("pro_trials_v3.downgrade_modal.title")}),descriptionText:(0,r.jsx)(th.E,{color:"secondary",fontSize:13,children:(0,s.tx)("pro_trials_v3.downgrade_modal.description")}),middleContent:(0,r.jsx)(tQ,{}),ctaOnClick:n,ctaDisabled:!1,ctaText:(0,r.jsx)(th.E,{children:(0,s.tx)("pro_trials_v3.downgrade_modal.cta.text")}),textCtaOnClick:a,textCtaText:(0,r.jsx)(th.E,{children:(0,s.tx)("pro_trials_v3.downgrade_modal.text_cta.text")}),hideModal:n})})},"ProTrialDowngradeModal");var t0=n(371971),t1=n(450207),t2=n(835918);function t5(e){let{selectedFeatures:t,setSelectedFeatures:n,shuffledFeaturesContent:a,hideModal:i,onClickCTA:o,onBack:l}=e;return(0,r.jsx)(p.fu,{name:t$.iX[t$.iX.SELECT_FEATURES],children:(0,r.jsx)(tG,{ctaDisabled:0===t.size,ctaOnClick:o,ctaText:(0,r.jsx)(th.E,{children:(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.finish")}),descriptionText:(0,r.jsx)(th.E,{fontSize:13,children:(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.you_have_14_days",{proTrialDuration:tF.$g})}),hideModal:i,middleContent:(0,r.jsx)("div",{className:"pro_trial_form_modal--proTrialFeatureSelectContainer--IDPeD",children:a.map(({featureType:e,featureText:a})=>(0,r.jsx)(t3,{featureIcon:t$.bo[e],featureText:a,onClick:()=>{t.has(e)?n(new Set([...t].filter(t=>e!==t))):n(new Set([...t,e]))},isSelected:t.has(e)},e))}),stepProps:{currentStep:t$.iX.SELECT_FEATURES,totalSteps:t$.h3},textCtaOnClick:l,textCtaText:(0,r.jsx)(th.E,{fontSize:13,children:(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.go_back")}),titleText:(0,r.jsx)(th.E,{fontSize:24,fontWeight:"bold",children:(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.what_are_you_excited")})})})}function t3(e){let{featureIcon:t,featureText:n,onClick:a,isSelected:i}=e;return(0,r.jsx)(p.jm,{role:"button",className:i?"pro_trial_form_modal--proTrialFeatureContainerSelected--9SSaM pro_trial_form_modal--proTrialFeatureContainer--3Hxo9":"pro_trial_form_modal--proTrialFeatureContainer--3Hxo9",onClick:a,children:(0,r.jsxs)(tB.Y,{direction:"horizontal",horizontalAlignItems:"start",verticalAlignItems:"center",spacing:"12px",children:[(0,r.jsx)(tB.Y,{direction:"horizontal",horizontalAlignItems:"center",verticalAlignItems:"center",width:32,height:32,children:t}),n]})})}function t4(e){let{selectedTeamName:t,setSelectedTeamType:n,selectedTeamType:a,shuffledTeamTypeContent:i,hideModal:o,onClickCTA:l,onBack:d}=e;return(0,r.jsx)(p.fu,{name:t$.iX[t$.iX.SELECT_TEAM_TYPE],children:(0,r.jsx)(tG,{ctaDisabled:void 0===a,ctaOnClick:l,ctaText:(0,r.jsx)(th.E,{children:(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.continue")}),descriptionText:(0,r.jsx)(th.E,{fontSize:13,children:(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.not_being_nosy")}),hideModal:o,middleContent:(0,r.jsx)(tB.Y,{direction:"horizontal",horizontalAlignItems:"center",verticalAlignItems:"center",spacing:"12px",children:i.map(({teamType:e,imageAltText:t,descriptionText:i})=>(0,r.jsx)(t6,{isSelected:e===a,onClick:()=>{e!==a?n(e):n(void 0)},image:(0,r.jsx)("img",{src:t$.$Q[e],alt:t(),height:110}),text:i},e))}),stepProps:{currentStep:t$.iX.SELECT_TEAM_TYPE,totalSteps:t$.h3},textCtaOnClick:d,textCtaText:(0,r.jsx)(th.E,{fontSize:13,children:(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.go_back")}),titleText:(0,r.jsx)(th.E,{fontSize:24,fontWeight:"bold",children:(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.what_type_of_team",{teamName:t})})})})}function t6(e){let{image:t,text:n,onClick:a,isSelected:i}=e;return(0,r.jsx)(p.jm,{role:"button",className:i?"pro_trial_form_modal--teamTypeCardContainerSelected--oOqOC pro_trial_form_modal--teamTypeCardContainer--Coo8U":"pro_trial_form_modal--teamTypeCardContainer--Coo8U",onClick:a,children:(0,r.jsxs)(tB.Y,{direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"start",spacing:8,padding:{horizontal:12},height:195,children:[t,n]})})}var t9=n(363337),t7=n(970780);function t8(e){let{teams:t,setSelectedTeamID:n,selectedTeamID:a,hideModal:i,onClickCTA:o,onBack:l}=e;return(0,r.jsx)(p.fu,{name:t$.iX[t$.iX.SELECT_TEAM],children:(0,r.jsx)(tG,{ctaDisabled:void 0===a,ctaOnClick:o,ctaText:(0,r.jsx)(th.E,{children:(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.upgrade_to_pro")}),descriptionText:(0,r.jsx)(th.E,{fontSize:13,children:(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.everyone_will_be_upgraded")}),hideModal:i,middleContent:(0,r.jsx)("div",{className:"pro_trial_form_modal--teamSelectContainer--8bggj",children:t.map(e=>(0,r.jsx)(ne,{team:e,onClick:()=>{e.id!==a?n(e.id):n(void 0)},isSelected:e.id===a},e.id))}),stepProps:{currentStep:t$.iX.SELECT_TEAM,totalSteps:t$.h3},textCtaOnClick:l,textCtaText:(0,r.jsx)(th.E,{fontSize:13,children:(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.cancel")}),titleText:(0,r.jsx)(th.E,{fontSize:24,fontWeight:"bold",children:(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.pick_a_team")})})})}function ne(e){let{team:t,onClick:n,isSelected:a}=e;return(0,r.jsxs)(p.jm,{role:"button",className:a?"pro_trial_form_modal--teamContainerSelected--bR6Yn pro_trial_form_modal--teamContainer--6mvsu":"pro_trial_form_modal--teamContainer--6mvsu",onClick:n,children:[(0,r.jsxs)("div",{className:"pro_trial_form_modal--teamContainerHead--HEBml",children:[(0,r.jsx)(t9.nl,{team:t,size:t7.P.LARGE}),(0,r.jsx)("div",{className:"pro_trial_form_modal--teamNameContainer--d38Py",children:(0,r.jsx)(th.E,{children:t.name,fontSize:14,truncate:"end",fontWeight:"medium"})})]}),(0,r.jsx)(th.E,{color:"secondary",fontSize:14,fontWeight:"medium",children:(0,s.tx)("pro_trials_v3.pro_trial_initiation_modal.editors.seat_rename",{numEditors:t.editors})})]})}let nt=(0,tY.Ju)(function(){let[e,t]=(0,O.useState)(t$.iX.SELECT_TEAM),[n,a]=(0,O.useState)(),[i,o]=(0,O.useState)(),[l,d]=(0,O.useState)(()=>new Set),[c,u]=(0,O.useState)(t$.TB),[_,m]=(0,O.useState)(t$.PG),p=(0,tM.xX)(),h=(0,D.wA)(),f=(0,O.useCallback)(()=>p.find(e=>e.id===n)?.name??(0,s.t)("pro_trials_v3.pro_trial_initiation_modal.your_team"),[p,n]),x=(0,O.useCallback)(()=>h(tS.Ce()),[h]),g=(0,s.t)("payments.pro_trial.start_pro_trial_error");(0,O.useEffect)(()=>{u((0,e$.k4)(t$.TB)),m((0,e$.k4)(t$.PG))},[]);let b=(0,O.useCallback)(()=>{void 0===n?t(t$.iX.SELECT_TEAM):p.find(e=>e.id===n)?h((0,t2.cw)({teamId:n,surveyResult:{teamId:n,teamType:i,features:Array.from(l)}})):(h(t1.sf({view:"recentsAndSharing"})),h(t0.s.error(g))),x()},[p,h,x,n,i,l,g]);return 0===p.length&&x(),(0,r.jsxs)(tV,{trackingName:t$.NN,trackingProperties:{currentStage:t$.iX[e],teamId:n,selectedTeamType:i??null,selectedFeatures:l.size>0?Array.from(l).join(" "):null},hideModal:x,children:[e===t$.iX.SELECT_TEAM&&(0,r.jsx)(t8,{teams:p,setSelectedTeamID:a,selectedTeamID:n,hideModal:x,onClickCTA:()=>t(t$.iX.SELECT_TEAM_TYPE),onBack:x}),e===t$.iX.SELECT_TEAM_TYPE&&(0,r.jsx)(t4,{selectedTeamName:f(),setSelectedTeamType:o,selectedTeamType:i,shuffledTeamTypeContent:c,hideModal:x,onClickCTA:()=>t(t$.iX.SELECT_FEATURES),onBack:()=>{t(t$.iX.SELECT_TEAM),o(void 0)}}),e===t$.iX.SELECT_FEATURES&&(0,r.jsx)(t5,{selectedFeatures:l,setSelectedFeatures:d,shuffledFeaturesContent:_,hideModal:x,onClickCTA:b,onBack:()=>{t(t$.iX.SELECT_TEAM_TYPE),d(new Set)}})]})},"ProTrialInitiationModal");var nn=n(267745),nr=n(550534),na=n(11003),ni=n(457749);function ns(e){let{hideModal:t}=e,n=(0,D.wA)(),a=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(th.E,{fontSize:13,children:(0,s.tx)("pro_trials_v3.entry_modal_explanation")}),(0,r.jsx)(nc,{})]}),i=(0,r.jsx)(c.nD,{onClick:()=>{t(),n((0,tS.to)({type:nt}))},trackingProperties:tF.ng.getTrackingProperties("Start professional trial"),children:(0,r.jsx)(th.E,{fontSize:13,children:(0,s.tx)("pro_trials_v3.entry_modal_cta_text")})});return(0,r.jsx)(nd,{titleText:(0,r.jsx)(th.E,{fontSize:24,fontWeight:"bold",children:(0,s.tx)("pro_trials_v3.entry_modal_title")}),descriptionText:a,ctaButton:i,imgSrc:(0,F.ck)("4323e87513cec17f5decef84ebf66c12c0d2ea59")})}function no(e){let{teamId:t,hideModal:n}=e,a=(0,D.wA)(),i=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(th.E,{fontSize:13,children:(0,s.tx)("pro_trials_v3.team_welcome_modal_explanation")}),(0,r.jsx)(nc,{})]}),o=(0,r.jsx)(c.nD,{onClick:()=>{n(),a(t1.sf({view:"team",teamId:t}))},trackingProperties:tF.ng.getTrackingProperties("Team welcome to Professional trial"),children:(0,r.jsx)(th.E,{fontSize:13,children:(0,s.tx)("pro_trials_v3.team_welcome_modal_cta")})});return(0,r.jsx)(nd,{descriptionText:i,titleText:(0,r.jsx)(th.E,{fontSize:24,fontWeight:"bold",children:(0,s.tx)("pro_trials_v3.team_welcome_modal_title")}),imgSrc:(0,F.ck)("4323e87513cec17f5decef84ebf66c12c0d2ea59"),ctaButton:o})}function nl(e){let{hideModal:t,teamId:n}=e,a=(0,D.wA)(),i={view:"team",teamId:n},o=(0,r.jsx)(c.nD,{onClick:()=>{t(),a(nn.WX({teamId:n,selectedView:i,entryPoint:(0,na.cH)(nr.C.PRO_TRIAL_UPSELL_MODAL)}))},trackingProperties:tF.ng.getTrackingProperties("Upgrade from Pro trial expiry modal"),children:(0,r.jsx)(th.E,{fontSize:13,children:(0,s.tx)("pro_trials_v3.expiry_modal_cta_text")})}),l=(0,r.jsx)(c.$9,{onClick:()=>{a((0,tS.to)({type:tZ,data:{teamId:n}}))},trackingProperties:tF.ng.getTrackingProperties("Go back to Starter from Pro trial expiry modal"),children:(0,r.jsx)(th.E,{fontSize:13,children:(0,s.tx)("pro_trials_v3.expiry_modal_secondary_cta_text")})});return(0,r.jsx)(nd,{titleText:(0,r.jsx)(th.E,{fontSize:24,fontWeight:"bold",children:(0,s.tx)("pro_trials_v3.expiry_modal_title")}),descriptionText:(0,r.jsx)(th.E,{fontSize:13,children:(0,s.tx)("pro_trials_v3.expiry_modal_explanation")}),ctaButton:o,secondaryCtaButton:l,imgSrc:(0,F.ck)("47a15784276e736195c9794a0c47c4d02c4c3ca4")})}function nd(e){let{titleText:t,descriptionText:n,ctaButton:a,imgSrc:i,secondaryCtaButton:s}=e;return(0,r.jsxs)("div",{className:"pro_trials_v3_modal_components--container--HGJuM",children:[(0,r.jsxs)("div",{className:"pro_trials_v3_modal_components--textContainer--lpMTQ",children:[(0,r.jsx)("p",{children:t}),(0,r.jsx)("div",{children:n}),(0,r.jsxs)("div",{className:"pro_trials_v3_modal_components--ctaRow--vK4mL",children:[a,s]})]}),(0,r.jsx)(ep.Gv,{width:313,src:i})]})}function nc(){return(0,r.jsxs)("div",{className:"pro_trials_v3_modal_components--proFeatureCheckBullets--T3rkc",children:[(0,r.jsx)(ni.X,{bulletLabel:(0,s.t)("pro_trials_v3.entry_modal_bullet_pt_1")}),(0,r.jsx)(ni.X,{bulletLabel:(0,s.t)("pro_trials_v3.entry_modal_bullet_pt_2")}),(0,r.jsx)(ni.X,{bulletLabel:(0,s.t)("pro_trials_v3.entry_modal_bullet_pt_3")})]})}function nu(){let e=(0,f.e)({overlay:v.MwQ,priority:g.N.DEFAULT_MODAL}),t=(0,D.wA)();return(0,T.h)(()=>{e.show()}),(0,r.jsx)(K.h,{closeButtonStyle:Y.M_.ON_DARK,disableClickOutsideToHide:!0,element:()=>(0,r.jsx)(ns,{hideModal:e.complete}),height:404,isShowing:e.isShowing,modalType:Y.q3.FEATURE_UPDATE,onClickPrimaryCta:e.complete,onClose:()=>{t(U.b({[tF.Jy]:!0})),e.complete()},onManualDismiss:e.complete,trackingContextName:"pro_trials_entry_modal",trackingProperties:tF.ng.getTrackingProperties(),width:700})}function n_(e){let t=(0,f.e)({overlay:v.NdL,priority:g.N.DEFAULT_MODAL}),{proTrial:n}=e,a=n.teamId,i=(0,D.wA)();(0,T.h)(()=>{t.show()});let s=O.useCallback(()=>i(tq.bE({all_team_flags:[{team_id:a,flags:{[tF.u_]:!0}}]})),[i,a]);return(0,r.jsx)(K.h,{closeButtonStyle:Y.M_.ON_LIGHT,disableClickOutsideToHide:!0,element:()=>(0,r.jsx)(nl,{teamId:a,hideModal:t.complete}),height:404,isShowing:t.isShowing,modalType:Y.q3.FEATURE_UPDATE,onClickPrimaryCta:t.complete,onClose:()=>{s(),t.complete()},onManualDismiss:t.complete,trackingContextName:"pro_trials_expiry_modal",trackingProperties:tF.ng.getTrackingProperties(),width:700})}function nm(e){let t=(0,f.e)({overlay:v.bGx,priority:g.N.DEFAULT_MODAL}),{proTrial:n}=e,a=n.teamId,i=(0,D.wA)();(0,T.h)(()=>{t.show()});let s=O.useCallback(()=>i(tq.bE({all_team_flags:[{team_id:a,flags:{[tF.v$]:!0}}]})),[i,a]);return(0,r.jsx)(K.h,{closeButtonStyle:Y.M_.ON_DARK,disableClickOutsideToHide:!0,element:()=>(0,r.jsx)(no,{teamId:a,hideModal:t.complete}),height:404,isShowing:t.isShowing,modalType:Y.q3.FEATURE_UPDATE,onClickPrimaryCta:t.complete,onClose:()=>{s(),t.complete()},onManualDismiss:t.complete,trackingContextName:"pro_trials_v3_team_welcome_modal",trackingProperties:tF.ng.getTrackingProperties(),width:700})}function np(){let e=(0,tL._6)(),t=(0,D.d4)(e=>e.userTeamFlags),n=(0,D.d4)(e=>!!e.modalShown),a=(0,tR.f)(tF.Jy),i=(0,tM.xX)(),{ongoingTrials:s,expiredTrials:o}=(0,tM.j9)(),l=tF.ng.entryEnabled()&&i.length>0&&!a,d=s.find(e=>{let n=t[e.teamId]?.[tF.v$];return!e.isOwner&&!n&&e.daysLeft>0}),c=o.find(e=>{if(!tF.ng.canSeeProTrialExpiryUx(e))return!1;let n=t[e.teamId]?.[tF.u_];return e.isOwner&&!n}),u=O.useCallback(()=>l?(0,r.jsx)(nu,{}):c?(0,r.jsx)(n_,{proTrial:c}):d?(0,r.jsx)(nm,{proTrial:d}):null,[l,c,d]);return!tF.ng.isEligibleTrialEntryView(e)||n?null:(0,r.jsx)("div",{"data-testid":"proTrialsV3FileBrowserOverlayWrapper",children:u()})}var nh=n(862446),nf=n(543740),nx=n(322519);let ng=(0,i.eU)(()=>{let e=(0,nh.UG)();try{return e.get(nf.Bq)}catch(e){console.error("Failed to get show modal cookie",e)}return!1}),nb=(0,nx.bt)(e=>null!=e.payment.promo),nv=(0,eX.Z1)(k.Vm,e=>(e??[]).some(e=>null!=e&&!(0,tK.w5)({subscription:e.subscription,student_team:!!e.studentTeamAt,grace_period_end:e.gracePeriodEnd?e.gracePeriodEnd.toISOString():null})&&!e.orgId&&e.canEdit));var ny=n(427122);function nw({dismissModal:e}){let t=(0,D.d4)(({payment:e})=>e.promo);return((0,T.h)(()=>{(0,nf.lc)()}),(0,O.useEffect)(()=>{null==t&&e()},[e,t]),null==t)?null:(0,r.jsxs)(_.NJ,{targetKey:tl.U,dismissModal:e,width:301,shouldScrollTargetIntoView:!0,children:[(0,r.jsx)("div",{className:ny.Hj,children:(0,s.tx)("rcs.promo_new_team_create_pointer.first_create_a_team")}),(0,s.tx)("rcs.promo_new_team_create_pointer.to_get_professional_free_for_days_you_ll_need_to_set_up_a_new_team_first_it_ll_take_less_than_a_minute",{days:parseInt(t.promo_value)})]})}function nj(){let e=(0,i.md)(nv),t=(0,i.md)(ng),n=(0,i.md)(nb),a=(0,f.e)({overlay:v.Qlc,priority:g.N.OVERRIDING_MODAL},[e]),s=(0,O.useCallback)(()=>{t&&n&&a.show({canShow:e=>!e})},[t,n,a]);return(0,T.h)(()=>{s()}),(0,r.jsx)(K.h,{element:nw,isShowing:a.isShowing,modalType:Y.q3.SELF_CONTAINED,onClickPrimaryCta:a.complete,onClose:a.complete,onManualDismiss:a.complete,trackingContextName:"Redeem Promo Code > Create Team"})}var nC=n(719749),nT=n(984864),nk=n(877964),nE=n(832374);function nI(e){let t=(0,D.wA)(),n=e.promo,a="",i=parseInt(n.promo_value);if(n.claims_end_at){let e=new Date(Date.parse(n.claims_end_at));a=n.is_multi_redeemable?(0,s.t)("promo.select_team.multi_redeem_w_deadline_promo_str.seat_rename",{days:i,date:e}):(0,s.t)("promo.select_team.single_redeem_w_deadline_promo_str.seat_rename",{days:i,date:e})}else a=n.is_multi_redeemable?(0,s.t)("promo.select_team.multi_redeem_without_deadline_promo_str.seat_rename",{days:i}):(0,s.t)("promo.select_team.single_redeem_without_deadline_promo_str.seat_rename",{days:i});return(0,r.jsxs)(e8.ey,{hide:e.dismissModal,size:437,className:"promo_code_select_team_content--modal--KySTj",children:[(0,r.jsx)("div",{className:"promo_code_select_team_content--promoSelectTeamTitle---Mz2l text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:(0,s.tx)("promo.select_team.choose_teams_to_upgrade")}),(0,r.jsx)("div",{className:"promo_code_select_team_content--promoSelectTeamDescription--D0r5- text--fontPos11--rO47d text--_fontBase--VaHfk",children:a}),(0,r.jsx)(e4.Jn,{className:"promo_code_select_team_content--closeButton--bEkPe",onClick:e.dismissModal,innerText:"close"}),(0,r.jsx)(c.Kz,{multiple:2}),(0,r.jsx)(nT.I,{eligibleTeams:e.starterTeams,selectTeam:n=>{t(t2.g_({teamId:n.id,teamName:n.name,previousView:e.previousView}))},numDesignFilesPerTeam:e.filesPerStarterTeam})]})}function nN({dismissModal:e}){let t=(0,D.d4)(({payment:e})=>e.promo),n=(0,D.d4)(({selectedView:e})=>e),a=(0,D.d4)(e=>e.teams),i=(0,nk.FC)(),s=O.useMemo(()=>Object.values(a).filter(e=>!(0,tK.w5)(e)&&(0,nE.canEditTeam)(e.id,i)),[a,i]),o=[],l=O.useMemo(()=>s.map(e=>({teamId:e.id})),[s]);return((0,nC.p)(e0.bel,l).forEach(e=>{o.push(e.result.data?.team?.teamFileCounts?.designFileCount??0)}),(0,T.h)(()=>{(0,nf.lc)()}),(0,O.useEffect)(()=>{(null==t||0===s.length)&&e()},[e,t,s]),null==t||0===s.length)?null:(0,r.jsx)(nI,{starterTeams:s,promo:t,filesPerStarterTeam:o,dismissModal:e,previousView:n})}function nA(){let e=(0,i.md)(nv),t=(0,i.md)(ng),n=(0,i.md)(nb),a=(0,f.e)({overlay:v.I$z,priority:g.N.OVERRIDING_MODAL},[e]),s=(0,O.useCallback)(()=>{t&&n&&a.show({canShow:e=>e})},[t,n,a]);return(0,T.h)(()=>{s()}),(0,r.jsx)(K.h,{element:nN,isShowing:a.isShowing,modalType:Y.q3.WELCOME,onClickPrimaryCta:a.complete,onClose:a.complete,onManualDismiss:a.complete,trackingContextName:"Redeem Promo Code > Select Team"})}var nS=n(241729),nR=n(408465),nO=n(408562),nD=n(969430);function nP(){let e=(0,i.md)((0,x.r1)(nO.a4)),t=(0,i.md)(k.Fy),n=(0,nR.mj)(),a=(0,nR.eH)(),o=n&&!a,{show:l,isShowing:d,complete:c}=(0,f.e)({overlay:v.utg,priority:g.N.DEFAULT_MODAL},[e,t]);(0,T.h)(()=>{l({canShow:(e,t)=>(n||a)&&!e&&t})});let u={arrowPosition:tm.F_.LEFT_TITLE,description:(0,s.tx)("community.resource_hub.get_inspired_by_community"),emphasized:!0,primaryCta:o?{ctaTrackingDescriptor:X.c.GOT_IT,label:(0,s.tx)("community.resource_hub.got_it"),onClick:c,type:"button"}:void 0,targetKey:eu.Pm,title:(0,s.tx)("community.resource_hub.reconnect_with_community"),trackingContextName:nD.HH.COMMUNITY_IA_CHANGE_OVERLAY,whenTargetLost:"complete"},_={arrowPosition:tm.F_.LEFT_TITLE,description:(0,s.tx)("community.resource_hub.see_your_teammates_resources"),emphasized:!0,primaryCtaLabel:(0,s.tx)("community.resource_hub.got_it"),targetKey:eu.d6,title:(0,s.tx)("community.resource_hub.created_by_your_teammates"),trackingContextName:nD.HH.INTERNAL_IA_CHANGE_OVERLAY,whenTargetLost:"complete"};return o?(0,r.jsx)(tT.rq,{arrowPosition:tm.F_.LEFT_TITLE,isShowing:d,...u,onClose:c,userFlagOnShow:nO.a4}):(0,r.jsx)(t_.WZ,{isShowing:d,onComplete:c,steps:[u,_],userFlagOnShow:nO.a4})}var nM=n(330116),nL=n(56107),nF=n(75962),nB=n(574474),nU=n(322691),nH=n(265560);let nz=()=>Date.now()-864e5,nV=(e,t)=>{let n=F.Ay()?.iso_code,r=F.Ay()?.user_data?.signup_locale;return!!(!t&&null!=e&&e.getTime()<nz())&&!!("de"===r||navigator.languages.some(e=>nB.BF.includes(e))||n&&nB._H.includes(n))};function nW(e){let t=(0,D.wA)(),n=(0,td.DP)();return(0,r.jsx)(nU._l,{isShowing:e.isShowing,trackingContextName:"de_de_launch_announcement",onClose:e.onClose,title:(0,r.jsx)(r.Fragment,{children:(0,s.tx)("de_de_announcement.title")}),description:(0,s.tx)("de_de_announcement.description"),primaryCta:{label:(0,s.tx)("de_de_announcement.cta_button"),type:"button",onClick:()=>{t((0,tS.to)({type:nH.kA,data:{source:nH.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:X.c.UPDATE_LANGUAGE_SETTINGS},media:(0,r.jsx)(nF.oW,{width:332,height:404,src:(0,F.ck)("dark"===n?"0f90e908025398bf24b7a986d6d31629f5e80233":"e590fc8927a503d1e7d403cc9b96b6aee7da7344"),alt:(0,s.t)("de_de_announcement.image_alt_text")})})}let nG=(0,x.r1)("has_tried_de_de");function nq(){let e=(0,D.wA)(),t=(0,i.md)(nG),n=(0,i.md)(k.mp),a="loaded"===t.status&&"loaded"===n.status,{show:s,isShowing:l,complete:d}=(0,f.e)({overlay:v._1l,priority:g.N.SECONDARY_MODAL},[n,t]);return((0,O.useEffect)(()=>{F.Ay().user_data?.locale===nL.Locale.DE&&"loaded"===t.status&&!1===t.data&&e(U.b({has_tried_de_de:!0}))},[e,t]),(0,O.useEffect)(()=>{a&&(0,o.kc)().i18n_de&&(0,o.kc)().i18n_de_full_launch&&F.Ay().user_data?.locale!==nL.Locale.DE&&nV(n.data,t.data)&&s()},[e,s,a,t,n]),a&&(0,o.kc)().i18n_de&&(0,o.kc)().i18n_de_full_launch&&nV(n.data,t.data))?(0,r.jsx)(nW,{isShowing:l,onClose:d}):null}var nK=n(164785),n$=n(366712),nY=n(130763);let nJ="seen_team_project_link_overlay",nX=(0,x.r1)(nJ);function nQ(){let e=(0,i.md)(nX),t=(0,nY.fn)(),n=()=>t===nY.ih.CONTROL,{show:a,isShowing:o,complete:l}=(0,f.e)({overlay:v.BTz,priority:g.N.DEFAULT_MODAL,experiment:{check:()=>n(),predicate:e=>!e,postCheck:e=>!e}},[e]);return(0,T.h)(()=>{a({canShow:e=>!e})}),(0,r.jsx)(tT.rq,{arrowPosition:u.F_.LEFT_TITLE,description:(0,s.tx)("team_project_link.overlay.description"),emphasized:!0,isShowing:o,onClose:l,targetKey:el.Jo,trackingContextName:"Team Project Link Overlay",userFlagOnShow:nJ,zIndex:Z.R.MODAL})}let nZ=()=>Date.now()-864e5,n0=(e,t)=>{let n=F.Ay()?.iso_code,r=F.Ay()?.user_data?.signup_locale;return!!(!t&&null!=e&&e.getTime()<nZ())&&!!("fr"===r||navigator.languages.some(e=>nB.FI.includes(e))||n&&nB.Q9.includes(n))};function n1(e){let t=(0,D.wA)(),n=(0,td.DP)();return(0,r.jsx)(nU._l,{isShowing:e.isShowing,trackingContextName:"fr_fr_launch_announcement",onClose:e.onClose,title:(0,r.jsx)(r.Fragment,{children:(0,s.tx)("fr_fr_announcement.title")}),description:(0,s.tx)("fr_fr_announcement.description"),primaryCta:{label:(0,s.tx)("fr_fr_announcement.cta_button"),type:"button",onClick:()=>{t((0,tS.to)({type:nH.kA,data:{source:nH.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:X.c.UPDATE_LANGUAGE_SETTINGS},media:(0,r.jsx)(nF.oW,{width:332,height:404,src:(0,F.ck)("dark"===n?"ce746ed0388befd7e209f4dcefa0dd30d46ea816":"00de2888337422748db3f69e4919f9f784ba7c0c"),alt:(0,s.t)("fr_fr_announcement.image_alt_text")})})}let n2=(0,x.r1)("has_tried_fr_fr");function n5(){let e=(0,D.wA)(),t=(0,i.md)(n2),n=(0,i.md)(k.mp),a="loaded"===t.status&&"loaded"===n.status,{show:s,isShowing:l,complete:d}=(0,f.e)({overlay:v.ciq,priority:g.N.SECONDARY_MODAL},[n,t]);return((0,O.useEffect)(()=>{F.Ay().user_data?.locale===nL.Locale.FR&&"loaded"===t.status&&!1===t.data&&e(U.b({has_tried_fr_fr:!0}))},[e,t]),(0,O.useEffect)(()=>{a&&(0,o.kc)().i18n_fr&&(0,o.kc)().i18n_fr_full_launch&&F.Ay().user_data?.locale!==nL.Locale.FR&&n0(n.data,t.data)&&s()},[e,s,a,t,n]),a&&(0,o.kc)().i18n_fr&&(0,o.kc)().i18n_fr_full_launch&&n0(n.data,t.data))?(0,r.jsx)(n1,{isShowing:l,onClose:d}):null}var n3=n(642003),n4=n(857017),n6=n(857622),n9=n(588367),n7=n(58369),n8=n(493064),re=n(348149),rt=n(920675);function rn(){let{getConfig:e}=(0,re.I7)("starter_global_file_limits"),t=(0,e1.S2)(),n=(0,n8.oA)(t?.data?.tier),{show:a,isShowing:i,complete:l}=(0,f.e)({overlay:v.dYj,priority:g.N.DEFAULT_MODAL,experiment:{check:()=>{if(!(0,o.kc)().sts_starter_enabled)return!1;let t=new Date("2025-04-26T23:59:59").getTime();return!(Date.now()>t)&&e().get("enabled",!1)},predicate:e=>e,postCheck:()=>!0}},[t]);return(0,T.h)(()=>{a({canShow:e=>e?.tier===rt.Ag.STARTER})}),(0,r.jsx)(nU._l,{closeButtonColor:"dark",description:(0,s.tx)("starter_plan_updates_modal.description"),isShowing:i,media:(0,r.jsx)(nU.B$,{aspectRatio:1.625,width:700,src:(0,F.ck)("8bed8822b149a1da0cefb322e58ed4bd83ed7a28"),alt:"An illustration of several Figma features"}),onClose:l,orientation:"landscape",primaryCta:{label:(0,s.tx)("starter_plan_updates_modal.primary_cta_button"),type:"button",onClick:l,ctaTrackingDescriptor:X.c.GOT_IT},secondaryCta:{label:(0,s.tx)("starter_plan_updates_modal.secondary_cta_button"),type:"link",href:"https://help.figma.com/hc/categories/31823555275671-Figma-Sites",ctaTrackingDescriptor:X.c.LEARN_MORE},title:(0,s.tx)("starter_plan_updates_modal.title"),trackingContextName:"starter_plan_updates_overlay",trackingProperties:{plan:n}})}var rr=n(768512),ra=n(743212),ri=n(695207),rs=n(942383);function ro(){let e=(0,i.md)(x.qG),t=(0,i.md)(k.Qm),n=(0,i.md)(k.zN),r=(0,tO.ol)(),a=(0,D.wA)(),s=(0,f.e)({overlay:v.Ult,priority:g.N.HIGH_PRIORITY_MODAL},[e,t,n]);return(0,T.h)(()=>{s.show({canShow:(e,t,n)=>{let a=!!r?.restrictions_list?.includes(rt.P4.LOCKED),i=(0,ri.oM)(t,n,r?.student_team_state,a);return!(0,V.mW)(e,"seen_edu_offboarding_modal")&&(i.showExpiringSoon||i.showExpired)},onShow:()=>{a((0,tS.to)({type:rs.Z})),a(U.b({seen_edu_offboarding_modal:!0})),s.complete()}})}),null}var rl=n(485571),rd=n(206955),rc=n(96743),ru=n(249165);function r_(){let e=(0,f.e)({overlay:v.kmq,priority:g.N.HIGH_PRIORITY_MODAL}),t=(0,D.wA)();return(0,T.h)(()=>{let n=(0,rd.QL)(rc.ND.key),r=(0,rd.QL)(rc.pC.key);n===rc.ND.value?e.show({onShow:()=>{t(rl.Dw({isEduTeam:!0})),(0,rd.EM)(rc.ND.key)}}):r===rc.pC.value&&e.show({onShow:()=>{t((0,tS.to)({type:ru.q})),(0,rd.EM)(rc.pC.key)}})}),null}let rm=(0,x.Fu)("seen_plan_spaces_launch_modal"),rp=(0,x.Fu)("seen_limited_spaces_onboarding"),rh=new Date("2024-10-30T20:00:00.000Z").getTime();function rf(){let e=(0,D.d4)(e=>e.plans),t=(0,i.md)(k.mp),n=(0,i.md)(rm),a=(0,i.md)(rp),o=e.some(e=>e.plan_type===tu.O.TEAM&&e.is_guest),{show:l,isShowing:d,complete:c}=(0,f.e)({overlay:v.Sgd,priority:g.N.HIGH_PRIORITY_MODAL},[t,n,a]);return(O.useEffect(()=>{o&&l({canShow:(e,t,n)=>!!t&&!n&&e.getTime()<=rh})},[o,l]),e.length)?(0,r.jsx)(tT.rq,{arrowPosition:tm.F_.RIGHT_TITLE,description:(0,s.tx)("rcs.limited_spaces.external_projects"),disableHighlight:!0,emphasized:!0,isShowing:d,onClose:c,primaryCta:{label:(0,s.tx)("rcs.got_it"),type:"button",onClick:c,ctaTrackingDescriptor:X.c.GOT_IT},targetKey:tl.U,testId:"limited_plan_spaces_onboarding_test_id",title:(0,s.tx)("rcs.limited_spaces.find_shared_projects"),trackingContextName:"Limited Spaces Onboarding Overlay"}):null}var rx=n(624929),rg=n(124720);let rb=new Date("2025-09-16T15:00:00+0000");function rv(){let e=(0,re.bY)("starter_global_file_limits").getDynamicConfig().get("grandfather_date",rb),t=(0,o.kc)().sites_design_starter_combined_file_limit,n=(0,o.kc)().sts_starter_enabled,a=(0,i.md)(k.mp),l=(0,i.md)(k.t),d="recentsAndSharing"===(0,tL.z3)(),c=(0,rg.$)({editorType:rt._Y.SITES,newFileFrom:ey.f6.SITES_ON_STARTER_OVERLAY,isDraftsFolder:!0,contextClicked:"sites_on_starter_overlay_create_site"}),{isShowing:u,show:_,complete:m}=(0,f.e)({overlay:v.VRV,priority:g.N.SECONDARY_MODAL},[a,l]);return(0,T.h)(()=>{_({canShow:(r,a)=>r.getTime()<=e.getTime()&&a&&!!t&&!!n&&d})}),(0,r.jsx)(tT.rq,{description:(0,s.tx)("upsell.sites_on_starter.description"),isShowing:u,media:(0,r.jsx)(eB.y,{src:(0,F.ck)("8f7c39f3429e8e63ad5495fd18998cf2bfe6314c"),alt:(0,s.t)("upsell.sites_on_starter.alt_text"),aspectRatio:240/135}),onClose:m,primaryCta:{label:(0,s.tx)("upsell.sites_on_starter.create_site"),type:"button",onClick:()=>{c(),m()},ctaTrackingDescriptor:X.c.SEE_PLANS},secondaryCta:{label:(0,s.tx)("upsell.sites_on_starter.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/31230436657815-Explore-Figma-Sites",ctaTrackingDescriptor:X.c.LEARN_MORE},targetKey:rx.z,title:(0,s.tx)("upsell.sites_on_starter.title"),trackingContextName:"Sites On Starter Overlay"})}var ry=n(821549);function rw(){let e=!!(0,eZ.dq)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(nM.p,{children:(0,r.jsx)(ra.$,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(ry.A,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(r_,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(ro,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(n9.j,{entryPoint:rr.C5.FileBrowser})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(tP,{})}),(a.Ay.isIpad||!a.Ay.isMobileBrowser)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(nM.p,{children:(0,r.jsx)(eL,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(n3.P,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(nK.A,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(n$.Ay,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(n7.A,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(n4.A,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(n5,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(nq,{})})]}),(0,r.jsx)(nM.p,{featureFlag:"pro_trials_v3_ux",children:(0,r.jsx)(np,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(rn,{})}),(0,r.jsxs)(nM.p,{children:[(0,r.jsx)(tj,{}),(0,r.jsx)(rf,{})]}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(tN,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(nQ,{})}),(0,r.jsxs)(nM.p,{children:[(0,r.jsx)(nj,{}),(0,r.jsx)(nA,{})]}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(R,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(C,{})}),e&&(0,r.jsx)(nM.p,{children:(0,r.jsx)(ts,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(eK,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(rv,{})}),(0,r.jsx)(nM.p,{featureFlag:"scrub_file_browser_search_results",children:(0,r.jsx)(nS.b0,{})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(n6.C,{source:"file_browser"})}),(0,r.jsx)(nM.p,{children:(0,r.jsx)(nP,{})})]})}},763808:(e,t,n)=>{n.d(t,{l:()=>r});let r="CREATE_FILES_ONBOARDING_KEY"},821549:(e,t,n)=>{n.d(t,{A:()=>b,y:()=>g});var r=n(20002),a=n(445019),i=n(309742),s=n(554408),o=n(761633),l=n(418977),d=n(536378),c=n(859100),u=n(206955),_=n(574220),m=n(550534),p=n(11003),h=n(215496),f=n(795867),x=n(271625);let g="upgrade";function b(){let e=(0,r.wA)(),t=(0,a.md)(_.d2),n=(0,c.e)({overlay:x.Wb3,priority:h.N.URGENT_ALERT},[t]);return(0,i.h)(()=>{let t=(0,u.QL)(g),r=(0,u.QL)("entryPoint");switch(t){case"pro":n.show({canShow:e=>e===f.qo.PERSONAL,onShow:()=>{let t={dispatch:e,plan:o.I.PRO,entryPoint:r?parseInt(r,10):(0,p.cH)(m.C.PRO_UPGRADE_SEQUENCE_FROM_DEEPLINK)};e((0,d.to)({type:l.dR,data:{...t}})),n.complete()}});break;case"plan_comparison":n.show({canShow:e=>e===f.qo.PERSONAL,onShow:()=>{e((0,d.to)({type:s.V,data:{entrypoint:r?{kind:"cart",id:parseInt(r,10)}:m.C.PLAN_COMPARISON_MODAL_FROM_DEEPLINK}})),n.complete()}})}}),null}},289203:(e,t,n)=>{let r;n.d(t,{U:()=>s});var a=n(948006),i=n(747079);function s(){return r??=(0,i.Ju)(a.A.createLazyComponent(()=>Promise.all([n.e(2055),n.e(7427),n.e(1413),n.e(5897),n.e(3823),n.e(7688),n.e(8375),n.e(7241),n.e(5918),n.e(3063),n.e(1436),n.e(7048),n.e(7804),n.e(1056),n.e(7269),n.e(8717)]).then(n.bind(n,628616)).then(e=>e.FolderPermanentlyDeleteConfirmModal),(0,i.Ij)("FolderPermanentlyDeleteConfirmModal")))}},372750:(e,t,n)=>{let r;n.d(t,{V:()=>s});var a=n(948006),i=n(747079);function s(){return r??=(0,i.Ju)(a.A.createLazyComponent(()=>Promise.all([n.e(2055),n.e(7427),n.e(1413),n.e(5897),n.e(3823),n.e(7688),n.e(8375),n.e(7241),n.e(5918),n.e(3063),n.e(1436),n.e(7048),n.e(7804),n.e(1056),n.e(7269),n.e(8717)]).then(n.bind(n,774735)).then(e=>e.FolderTrashConfirmModal),(0,i.Ij)("FolderTrashConfirmModal")))}},616958:(e,t,n)=>{n.d(t,{r:()=>u});var r=n(239976),a=n(105652),i=n(796557),s=n(4245),o=n(379141),l=n(154963),d=n(236410),c=n(414577);function u(e){let t=a.useRef(null),{toggle:n,showing:u,data:_}=(0,c.Di)();return(0,c.j_)().unwrapOr(!1)?(0,r.jsxs)("div",{className:l.s.ml4.$,children:[(0,r.jsx)(i.d,{ref:t,"aria-expanded":u,onClick:r=>{r.stopPropagation();let a=t.current?.getBoundingClientRect();n({data:{publishedResource:e.resource,targetRect:a}})},"aria-label":(0,o.t)("universal_insert.more_options"),"data-tooltip-type":d.Ib.TEXT,"data-tooltip":(0,o.t)("universal_insert.more_options"),children:(0,r.jsx)(s.J,{})}),u&&_&&(0,r.jsx)(c.ii,{dropdownData:_,isFromDropdownButton:!0})]}):null}},562280:(e,t,n)=>{n.d(t,{C:()=>T,y:()=>k});var r=n(239976),a=n(105652),i=n(20002),s=n(116695),o=n(379141);n(323264);var l=n(309742),d=n(441452),c=n(969644),u=n(703614),_=n(319925),m=n(536378),p=n(338630),h=n(526575),f=n(816505),x=n(425519),g=n(641200),b=n(553564),v=n(619832),y=n(616958),w=n(414577),j=n(283366),C=n(251122);function T(){let e=(0,i.d4)(e=>e.publishedPlugins),t=(0,f.dq)(),n=(0,j.S)(e,t||void 0),a=(0,i.wA)();return((0,l.h)(()=>{a(_.Xt())}),t&&0!==n.length)?(0,r.jsx)(k,{plugins:n,renderPluginDropdownButton:!0}):(0,r.jsx)("div",{className:C.p,children:(0,o.tx)("org_view.private_plugins_will_appear_here")})}function k({plugins:e,renderPluginDropdownButton:t}){return(0,r.jsx)(p.QE.Consumer,{children:n=>(0,r.jsx)(E,{plugins:e,trackingContext:n.name,renderPluginDropdownButton:t})})}function E({plugins:e,trackingContext:t,renderPluginDropdownButton:n}){let s=(0,i.wA)(),o=(0,w.j_)(),l=(0,c.B)(),{showing:d,show:p,data:f}=(0,w.Di)();a.useEffect(()=>{s(_.Xt())},[s]);let v=a.useMemo(()=>e.map(e=>({plugin:e,version:(0,x.uF)(e)})),[e]),y=a.useCallback(({version:e})=>e.name??"",[]),j=a.useCallback(({plugin:e},n)=>{(0,h.Cu)({context:t,text:"Plugin Tile",pluginId:e.id}),l(e,n)},[l,t]),C=a.useCallback(e=>{if(1!==e.length)return;let t=e[0].plugin;s((0,m.to)({type:b.H,data:{plugin:t},showModalsBeneath:!0}))},[s]),T=a.useCallback((e,t,n)=>{1===e.length&&p({data:{publishedResource:e[0].plugin,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:n}})},[p]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{items:v,getAriaLabel:y,viewType:g.XU.GRID,handleOpenItem:j,handleContextMenu:T,handleDeleteKey:o.unwrapOr(!1)?C:void 0,multiselectDisabled:!0,isDraggable:!1,gridViewProps:{containerStyle:A.grid,renderCard:({ref:e,item:t,isSelected:a,role:i,onFocus:s,onClick:o,onBlur:l})=>(0,r.jsx)(I,{buttonRef:e,isSelected:a,plugin:t.plugin,cardRole:i,onFocus:s,onClick:o,onBlur:l,renderPluginDropdownButton:n})}}),d&&f&&(0,r.jsx)(w.ii,{dropdownData:f})]})}function I({plugin:e,buttonRef:t,cardRole:n,isSelected:i,renderPluginDropdownButton:s,onFocus:o,onClick:l,onBlur:c}){let[u,_]=a.useState(!1),m=a.useCallback(()=>{_(!0)},[]),p=a.useCallback(()=>{_(!1)},[]);return(0,r.jsx)("div",{onMouseEnter:m,onMouseLeave:p,children:(0,r.jsx)(d.R.Root,{ref:t,ariaLabel:x.Ar(e)?.name??"",cardRole:n,footer:(0,r.jsx)(N,{plugin:e,renderPluginDropdownButton:s,forceHover:u}),isSelected:i,onBlur:c,onClick:l,onFocus:o,children:(0,r.jsx)(v.Ce,{plugin:e,isPublishing:!1,showNewBadge:!1,isPublicOverride:!1})})})}function N({plugin:e,renderPluginDropdownButton:t,forceHover:n}){return(0,r.jsx)(v.Xg,{showInstallCount:!0,plugin:e,isPublicOverride:!1,forceHover:n,dropdown:t?(0,r.jsx)(s.HG,{className:"xjp7ctv",children:(0,r.jsx)(y.r,{resource:e})}):void 0})}let A={grid:{kmVPX3:"x15fnm84",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,$$css:!0}}},414577:(e,t,n)=>{n.d(t,{Di:()=>k,ii:()=>E,j_:()=>T});var r=n(239976),a=n(105652),i=n(20002),s=n(379141),o=n(141288),l=n(968949),d=n(969644),c=n(975990),u=n(490549),_=n(536378),m=n(168520),p=n(964731),h=n(816505),f=n(605985),x=n(920675),g=n(790016),b=n(52465),v=n(347725),y=n(242736),w=n(740886),j=n(553564),C=n(469543);function T(){let e=(0,f.TA)(),t=(0,h.sZ)(),n=(0,g.D6)("useCanAdminOrgQuery");return a.useMemo(()=>n.transform(n=>!!t&&!!e&&(0,g.A8)(n,x.Xn.ADMIN)),[n,t,e])}function k(){let e=a.useId();return(0,p.BK)(`ORG_ADMIN_RESOURCE_DROPDOWN_${e}`)}function E(e){let{publishedResource:t,targetRect:n}=e.dropdownData,a=(0,i.wA)(),p=(0,f.TA)(),h=T(),x=(0,l.s)(),g=(0,d.B)();if(!n)return null;let k=e=>{e?.stopPropagation(),a((0,_.to)({type:j.H,data:{plugin:t},showModalsBeneath:!0}))},E=[y.KM.PERMISSIONS],I=[];e.isFromDropdownButton||(I.push({displayText:(0,s.t)("general.open"),callback:(e,n,r,a)=>{t.is_widget?x(t,a):g(t,a)}}),I.push({displayText:(0,s.t)("file_browser.open_in_new_tab"),callback:(e,n,r,a)=>{t.is_widget?o.Ay.redirect((0,w.YW)(t.id),"_blank"):o.Ay.redirect((0,w.ho)(t.id),"_blank")}}),I.push(b.w)),h.unwrapOr(!1)&&(((0,m.Ro)(t,p??"")||t.creator.id===p)&&(E.push(y.KM.PUBLISH),I.push({displayText:t.is_widget?(0,s.t)("community.plugins.edit_resource_details.widget"):(0,s.t)("community.plugins.edit_resource_details.plugin"),callback:(e,t,n,r)=>N(y.KM.PUBLISH,r)})),I.push({displayText:(0,s.t)("universal_insert.manage_permissions"),callback:(e,t,n,r)=>{N(y.KM.PERMISSIONS,r)}}),e.isFromDropdownButton&&I.push(b.w),I.push({displayText:(0,s.t)("community.resource.unpublish"),callback:(e,t,n,r)=>k(r)})),e.isFromDropdownButton||I.push(b.w,{displayText:(0,s.t)("file_browser.copy_link"),callback:(e,n,r,i)=>{t.is_widget?a(u.le({view:"communityHub",subView:"widget",widgetId:t.id})):a(u.le({view:"communityHub",subView:"plugin",publishedPluginId:t.id}))}});let N=(e,n)=>{n?.stopPropagation(),a((0,c.r)({publishedPluginId:t?.id,initialTab:e,entryPoint:v.k2.ADMIN,initialAllowedTabs:E}))};return(0,r.jsx)(C.j,{autofocusPrevOnDismount:!0,dispatch:a,hidePointWhenContentOffScreen:!0,items:I,lean:e.isFromDropdownButton?"left":"right",onSelectItem:(e,t)=>e.callback?.("",{},a,t),parentRect:n,rootAndSubmenuMaxWidth:190,rootAndSubmenuMinWidth:120,shouldUsePortal:!0,showPoint:!!e.isFromDropdownButton})}},766632:(e,t,n)=>{n.d(t,{x:()=>K,N:()=>$});var r=n(239976),a=n(105652),i=n(20002),s=n(379141);n(323264);var o=n(441452),l=n(968949),d=n(703614),c=n(319925),u=n(536378),_=n(816505),m=n(425519),p=n(641200),h=n(836848),f=n(475829),x=n(116695),g=n(943360),b=n(7857),v=n(259714),y=n(616958),w=n(338630),j=n(535782),C=n(740886),T=n(152013),k=n(29161),E=n(475464),I=n(768223),N=n(605985),A=n(591600),S=n(702746),R=n(346874),O=n(151028),D=n(213252),P=n(573682),M=n(367544);function L(e){let t=(0,i.wA)(),n=(0,N.iZ)(),{dropdownIsShown:s,toggleSwitchEditorDropdown:o,PluginTrySwitchEditorDropdown:l}=(0,R.WW)(e.resource,"left",e.viewContext),d=a.useRef(null),c=(0,A.xQ)(e.resource),_=(0,m.uF)(e.resource),p=_.manifest.editorType?.[0]??S.FW.FIGMA;return e.isDisabled?(0,r.jsx)(D.x8,{icon:M.A,metric:e.resource.unique_run_count}):(0,r.jsxs)("div",{onMouseLeave:()=>o(d,!1),children:[(0,r.jsx)("div",{ref:d,onMouseEnter:()=>o(d,!0),children:(0,r.jsx)(D.vE,{icon:M.A,hoverIcon:M.A,activeIcon:M.A,metric:e.resource.unique_run_count,classNameOverride:s?p===S.FW.FIGMA?P.Qe:P._y:void 0,onClick:r=>{if(r.preventDefault(),r.stopPropagation(),n){if(k.Ay.mobile){t((0,u.to)({type:O.x,data:{dispatch:t}}));return}o(d)}else{let n=(0,I.k)(e.resource);t(E.cx({isWidget:c,redirectPath:n}))}}})}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:P.MJ}),(0,r.jsx)(l,{})]})]})}var F=n(619832),B=n(834051),U=n(144735);function H({version:e,widget:t,lastViewedAtForNewBadge:n,isInItemsView:a,forceHover:i}){let o=f.iv({placement:"bottom"}),l=(0,T.y1)({editorType:e.manifest.editorType}),d=(0,r.jsxs)(r.Fragment,{children:[!!(n&&Date.parse(t.created_at)>Date.parse(n))&&(0,r.jsx)(F.Q7,{}),(0,r.jsx)(B.z,{src:e.redirect_snapshot_url||e.redirect_icon_url,context:"community"})]});return(0,r.jsxs)(j.WM,{removeBorder:a,children:[(0,r.jsx)("div",{...{0:{className:"x1y2wqyl xg01cxk x1o7uuvo x1euntei x10l6tqk xn0vg7t xpnmzw7"},1:{className:"x1y2wqyl x10l6tqk xn0vg7t xpnmzw7 x1hc1fzr"}}[!!(i||o.isOpen)<<0],children:l?(0,r.jsxs)(x.HG,{className:"xjp7ctv",children:[(0,r.jsx)(g.E,{...o.getTriggerProps(),className:"x12oqio5 xb3r6kr x5hs570","aria-label":(0,s.t)("community.detail_view.compatibility_tooltip_trigger"),"data-testid":l.testId,children:"single-editor"===l.type?(0,r.jsx)(l.Icon,{}):"multi-editor"===l.type?(0,r.jsx)(v.B,{svg:l.svg,useOriginalSrcFills_DEPRECATED:!0}):(0,h.xb)(l)}),(0,r.jsx)(f.mc,{manager:o,children:(0,r.jsx)(f.UC,{children:l.label})})]}):null}),a?d:(0,r.jsx)("a",{href:(0,C.YW)(t.id),children:d})]})}let z=(0,b._d)(function({version:e,widget:t,viewContext:n}){let a=!!t.org_id,o=(0,i.d4)(e=>e.orgById),l="search"===(0,i.d4)(({selectedView:e})=>e).view,d=t.org_id&&o[t.org_id];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(j.dY.MetadataContainer,{children:[a?(0,r.jsx)(j.dY.PublisherAvatar,{publishers:t.community_publishers?.accepted}):(0,r.jsx)(j.dY.PublisherAvatarWithDropdown,{publishers:t.community_publishers?.accepted}),(0,r.jsx)(j.dY.TextMetadataLayout,{primaryText:(0,r.jsx)("h2",{className:"xt0psk2",children:e.name}),secondaryText:a?(0,r.jsx)(j.dY.MetadataAuthor,{publishers:t.community_publishers?.accepted}):(0,r.jsx)(j.dY.MetadataAuthorWithDropdown,{publishers:t.community_publishers?.accepted}),planIconEntity:l?d:null})]}),(0,r.jsx)(j.dY.ResourceActionContainer,{children:a?(0,r.jsx)(j.dY.ButtonWrapper,{children:(0,r.jsxs)("div",{className:"widget_card--privateWidget--yUNjV text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:[(0,r.jsx)(v.B,{className:"widget_card--lockIcon--1Kheg",svg:U.A,ariaHidden:!0}),(0,s.tx)("community.cards.private"),"OrgWidgetsView"===n&&(0,r.jsx)(x.HG,{className:"xjp7ctv",children:(0,r.jsx)(y.r,{resource:t})})]})}):(0,r.jsx)(j.dY.ButtonWrapper,{children:(0,r.jsx)(L,{resource:t,viewContext:n})})})]})},"WidgetCardBottomRow");(0,w.tf)(function(e){let{onTileClicked:t,version:n}=function({onClick:e,widget:t}){let n=(0,l.s)();return{onTileClicked:a.useCallback(r=>{e?.(t.id),n(t,r)},[t,e,n]),version:(0,m.uF)(t)}}({onClick:e.onClick,widget:e.widget});return(0,r.jsx)(j.sU,{onClick:t,image:(0,r.jsx)(H,{version:n,widget:e.widget,lastViewedAtForNewBadge:e.lastViewedAtForNewBadge}),bottomRow:(0,r.jsx)(z,{widget:e.widget,version:n,viewContext:e.viewContext})})});var V=n(553564),W=n(414577),G=n(283366),q=n(251122);function K(){let e=(0,i.wA)(),t=(0,_.dq)(),n=(0,i.d4)(e=>e.publishedWidgets);a.useEffect(()=>{e(c.gI())},[e]);let o=(0,G.S)(n,t||void 0);return t&&0!==o.length?(0,r.jsx)($,{widgets:o}):(0,r.jsx)("div",{className:q.p,children:(0,s.tx)("org_view.private_widgets_will_appear_here")})}function $({widgets:e}){let t=(0,i.wA)(),n=(0,W.j_)();a.useEffect(()=>{t(c.gI())},[t]);let s=(0,l.s)(),{showing:o,show:_,data:h}=(0,W.Di)(),f=a.useMemo(()=>e.map(e=>({widget:e,version:(0,m.uF)(e)})),[e]),x=a.useCallback(({version:e})=>e.name??"",[]),g=a.useCallback(({widget:e},t)=>s(e,t),[s]),b=a.useCallback(e=>{if(1!==e.length)return;let n=e[0].widget;t((0,u.to)({type:V.H,data:{plugin:n},showModalsBeneath:!0}))},[t]),v=a.useCallback((e,t,n)=>{1===e.length&&_({data:{publishedResource:e[0].widget,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:n}})},[_]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{items:f,getAriaLabel:x,viewType:p.XU.GRID,handleOpenItem:g,handleContextMenu:v,handleDeleteKey:n.unwrapOr(!1)?b:void 0,multiselectDisabled:!0,isDraggable:!1,gridViewProps:{containerStyle:X.grid,renderCard:({ref:e,isSelected:t,onClick:n,onFocus:a,onBlur:i,role:s,item:o})=>(0,r.jsx)(Y,{buttonRef:e,isSelected:t,onClick:n,onFocus:a,onBlur:i,cardRole:s,widget:o.widget,version:o.version})}}),o&&h&&(0,r.jsx)(W.ii,{dropdownData:h})]})}function Y({buttonRef:e,isSelected:t,widget:n,version:i,onClick:s,onFocus:l,onBlur:d,cardRole:c}){let[u,_]=a.useState(!1),m=u||t,p=a.useCallback(()=>{_(!0)},[]),h=a.useCallback(()=>{_(!1)},[]);return(0,r.jsx)("div",{onMouseEnter:p,onMouseLeave:h,children:(0,r.jsx)(o.R.Root,{ref:e,ariaLabel:i.name??"",cardRole:c,footer:(0,r.jsx)(J,{widget:n,version:i}),isSelected:t,onBlur:d,onClick:s,onFocus:l,children:(0,r.jsx)(H,{widget:n,version:i,forceHover:m,isInItemsView:!0})})})}function J({widget:e,version:t}){return(0,r.jsx)("div",{className:"x78zum5 x1q0g3np xsdox4t x87ps6o",children:(0,r.jsx)(z,{widget:e,version:t,viewContext:"OrgWidgetsView"})})}let X={grid:{kmVPX3:"x15fnm84",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,$$css:!0}}},283366:(e,t,n)=>{n.d(t,{S:()=>i});var r=n(105652),a=n(425519);function i(e,t){return r.useMemo(()=>t?Object.values((0,a.Qt)((0,a.i8)(Object.values(e)),t)):[],[t,e])}},129263:(e,t,n)=>{n.d(t,{p:()=>b,u:()=>v});var r=n(239976),a=n(787049),i=n(926270),s=n(680874),o=n(627917),l=n(564942),d=n(132421),c=n(328414),u=n(461761),_=n(379141),m=n(485571),p=n(35064),h=n(920675),f=n(362844),x=n(641731),g=n(216410);function b({editorType:e,isDisabled:t,isLoading:n,onClick:u,showRequestLabel:m,showRequestSentLabel:p}){let b={[h._Y.DESIGN]:{title:(0,_.t)("file_browser.creation_buttons.design"),brand:"design",dataTestId:"new-design-file-button",icon:(0,r.jsx)(i.a,{})},[h._Y.WHITEBOARD]:{title:(0,_.t)("file_browser.creation_buttons.figjam"),brand:"whiteboard",dataTestId:"new-whiteboard-file-button",icon:(0,r.jsx)(s.A,{})},[h._Y.SLIDES]:{title:(0,_.t)("file_browser.creation_buttons.slide_deck"),brand:"piper",dataTestId:"new-slides-file-button",icon:(0,r.jsx)(o.o,{})},[h._Y.SITES]:{title:(0,_.t)("file_browser.creation_buttons.sites"),brand:"seascape",dataTestId:`new-${f.oQ}-file-button`,icon:(0,r.jsx)(l.a,{}),badge:function(){if("BETA"===(0,x.z)())return g._.BETA}()},[h._Y.COOPER]:{title:(0,_.t)("file_browser.creation_buttons.marketing_asset"),brand:"cooper",dataTestId:`new-${f.sq}-file-button`,icon:(0,r.jsx)(d.h,{}),badge:g._.BETA},[h._Y.FIGMAKE]:{title:(0,_.t)("file_browser.creation_buttons.figmake"),brand:"bake-filebrowser",dataTestId:`new-${f.GJ}-file-button`,icon:(0,r.jsx)(c.s,{}),badge:void 0}}[e],v=(0,a.WI)([m?g._.REQUEST_UPGRADE:null,p?g._.REQUEST_SENT:null,b.badge]);return{key:e,isDisabled:t,isLoading:n,onClick:u,title:b.title,dataTestId:b.dataTestId,brand:b.brand,icon:b.icon,badges:v}}function v({isLoading:e,dispatch:t,targetFolderId:n,importToFolderData:a}){return{key:"import-file",isLoading:e,onClick:()=>{n&&t((0,m.gN)(n)),t((0,p.L)({importToFolderData:a}))},title:(0,_.t)("file_browser.creation_buttons.import"),dataTestId:"file-import-button",icon:(0,r.jsx)(u.R,{})}}},70255:(e,t,n)=>{n.d(t,{V:()=>p});var r=n(239976),a=n(943360),i=n(159773),s=n(769347),o=n(454705),l=n(379141);n(323264);var d=n(985836),c=n(259660),u=n(595433),_=n(790016),m=n(236410);function p(e){let t=(0,_.X$)("FileCreationPillButton"),n=(0,_.YY)(t).unwrapOr(!1),a=(0,u.qI)().unwrapOr(null),i="";return n&&!e.isLoading&&e.showComingSoon?i=(0,l.t)("file_browser.creation_buttons.coming_soon"):e.isDisabled&&!e.isLoading&&a&&(i=a),(0,r.jsx)(h,{...e,tooltipText:i})}function h(e){let t=e.isDisabled||e.isLoading,n=(0,i.O)();return(0,r.jsx)(o.J,{brand:e.brand,children:(0,r.jsx)(a.E,{...{0:{className:"x19op3sw xej0tt4 xlb5elq x10ytl9y xjld0yd xirtdz7 x1nonkbi xi951o6 x1338tou x1d213w6 x136xn3g x1mis9oq xlrpslg x39v4z8 x7ql0sr x15z6xun xfu8tpu x1hovt7 xn0whsw x2lah0s x1d36bvo x1v8gsql x17c7w1w x1tt564c x8ge37t x6bkol7 xrhlwir xsfrc4e x129mn88 xb3r6kr"},2:{className:"x19op3sw xej0tt4 xlb5elq x10ytl9y xjld0yd xirtdz7 x1nonkbi xi951o6 x1338tou x1d213w6 x136xn3g x1mis9oq xlrpslg x39v4z8 x7ql0sr x15z6xun xfu8tpu x1hovt7 x2lah0s x1d36bvo x1v8gsql x17c7w1w x1tt564c x8ge37t x6bkol7 xrhlwir xsfrc4e x129mn88 xb3r6kr xwa2v1s"},1:{className:"x19op3sw xej0tt4 xlb5elq x10ytl9y xjld0yd xirtdz7 x1nonkbi xi951o6 x1338tou x1d213w6 x136xn3g x1mis9oq xlrpslg x39v4z8 x7ql0sr x15z6xun xfu8tpu x1hovt7 x2lah0s x1d36bvo xb3r6kr xz8z4lq x15kbib2 x1yjdb4r x6bkol7 x1icplyp"},3:{className:"x19op3sw xej0tt4 xlb5elq x10ytl9y xjld0yd xirtdz7 x1nonkbi xi951o6 x1338tou x1d213w6 x136xn3g x1mis9oq xlrpslg x39v4z8 x7ql0sr x15z6xun xfu8tpu x1hovt7 x2lah0s x1d36bvo xb3r6kr xz8z4lq x15kbib2 x1yjdb4r x6bkol7 x1icplyp"}}[!("bake-filebrowser"!==e.brand)<<1|!!t<<0],onClick:e.onClick,"data-testid":e.isLoading?void 0:e.dataTestId,disabled:t,"data-onboarding-key":e.dataOnboardingKey,"data-tooltip":e.tooltipText,"data-tooltip-type":m.Ib.TEXT,"data-tooltip-timeout-delay":50,"aria-label":(0,l.t)("file_browser.file_creation_button_aria_label",{fileType:e.title}),children:(0,r.jsx)(c.xv,{loaded:!e.isLoading,loadingSkeletonElement:(0,r.jsx)("div",{className:"x1yjdb4r",children:(0,r.jsx)(d.Qp,{animationType:d.JR.LIGHT_SHIMMER,className:"x10w6t97"})}),showElementBeforeLoaded:!0,children:(0,r.jsxs)("div",{className:"x1y1aw1k xwib8y2 xyfqnmn xnm25rq x78zum5 x6s0dn4 x167g77z",children:[(0,r.jsx)("div",{...{0:{className:"xahcd82 x6s0dn4 xl56j7k x1a00udw xx3o462"},2:{className:"xu5wzci x192jxwq xahcd82 x6s0dn4 xl56j7k x1a00udw xx3o462"},1:{className:"x12u4mv4"},3:{className:"xu5wzci x192jxwq x12u4mv4"}}[!t<<1|!!n<<0],"data-testid":"file-icon",children:e.icon}),(0,r.jsx)("div",{...{0:{className:"xtz2s2v x1a00udw xx3o462"},2:{className:"xu5wzci x192jxwq xtz2s2v x1a00udw xx3o462"},1:{className:"xtz2s2v"},3:{className:"xu5wzci x192jxwq xtz2s2v"}}[!t<<1|!!n<<0],"data-testid":"plus-icon",children:(0,r.jsx)(s.J,{})}),(0,r.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xiuzu7u",children:e.title})]})})})})}},624929:(e,t,n)=>{n.d(t,{Z:()=>_,z:()=>u});var r=n(239976),a=n(376235),i=n(379141),s=n(270450),o=n(70255),l=n(124720),d=n(920675),c=n(362844);let u="sites_on_starter_onboarding_key";function _({isDisabled:e,isLoading:t,newFileFrom:n}){let _=(0,l.$)({isDraftsFolder:!0,editorType:d._Y.SITES,newFileFrom:n,triggerElement:"pill",contextClicked:"recents_file_creation_thumbnails_created"});return(0,r.jsx)(o.V,{title:(0,i.t)("file_browser.creation_buttons.sites"),brand:"seascape",dataTestId:`new-${c.oQ}-file-button`,icon:(0,r.jsx)(a.$,{}),isDisabled:e,isLoading:t,onClick:_,showComingSoon:!(0,s.kc)().sts_starter_enabled,dataOnboardingKey:u})}},876232:(e,t,n)=>{n.d(t,{iM:()=>b,nz:()=>g,pP:()=>x});var r=n(239976),a=n(105652),i=n(735786),s=n(378721),o=n(255398),l=n(379141),d=n(270450);n(323264);var c=n(460743),u=n(915671),_=n(763808),m=n(184262),p=n(702417);let h=(0,c.o)(),f=(0,c.o)();function x(){h.emit()}function g(){f.emit()}function b({folderId:e,isContainerHovered:t}){let{getTriggerProps:n,manager:x}=i.b({config2025CuratorHacks:(0,d.kc)().fpl_menu_under_curator});(0,c.p)(h,a.useCallback(()=>x.setOpen(!0),[x])),(0,c.p)(f,a.useCallback(()=>x.setOpen(!1),[x]));let g=(0,u.Q)({newFileFrom:p.f6.FILE_BROWSER_SIDEBAR_DRAFTS,folderId:e,importToFolderData:"IMPORT_TO_DRAFTS",contextClicked:"file_browser_sidebar_drafts_new_file_created"});return(0,r.jsx)("div",{...{0:{},1:{className:"xg01cxk x1o7uuvo x1uxbtfk x4gyw5p x1euntei"}}[!t<<0],children:(0,r.jsxs)(i.bL,{manager:x,children:[(0,r.jsx)(s.K,{"data-tooltip":(0,l.t)("sidebar.new_file"),"data-onboarding-key":"new-file-icon","aria-label":(0,l.t)("sidebar.new_file"),...n(),children:(0,r.jsx)(o.$,{})}),(0,r.jsx)(m.f,{menuItems:g,"data-onboarding-key":_.l})]})})}},90194:(e,t,n)=>{n.d(t,{U:()=>A,b:()=>S});var r=n(239976),a=n(105652),i=n(20002),s=n(735786),o=n(943360),l=n(415839),d=n(442182),c=n(318584),u=n(379141),_=n(270450),m=n(847923);n(323264);var p=n(446232),h=n(713903),f=n(210823),x=n(410703),g=n(136393),b=n(332195),v=n(796617),y=n(946762),w=n(832374),j=n(790016),C=n(592687),T=n(670102),k=n(636008),E=n(396859),I=n(969580),N=n(464207);let A="PLAN_SWITCHER_ONBOARDING_KEY";function S(){let e=(0,i.wA)(),t=(0,i.d4)(e=>(0,w.getPermissionsStateMemoized)(e)),n=(0,m.R)(e=>(0,v.vp)(e.user,e.currentUserOrgId,e.currentTeamId)),s=(0,i.d4)(e=>e.user),o=(0,i.d4)(e=>e.plans),l=(0,j.S2)();if(a.useEffect(()=>{e((0,b.hr)({loadedPlans:o}))},[]),!n||!s)return null;let d=(0,v.HE)(t,n);return(0,r.jsx)(R,{teamName:d,currentWorkspace:n,currentUser:s,planResult:l})}function R({teamName:e,currentWorkspace:t,currentUser:n,planResult:a}){let m=(0,i.wA)(),{manager:g,getTriggerProps:b}=s.b({config2025CuratorHacks:!0}),{menuGroups:v,onChange:w,onCreateTeam:S}=(0,k.g)({currentUser:n}),R=v.flatMap(e=>e.items).find(e=>e.isSelected)?.planId,M={...g,getFloatingProps:e=>{let t=g.getFloatingProps(e);return{...t,style:{...t?.style,minWidth:T.g-8}}}};(0,E.T)(g);let L=(0,j.S2)(),{isDraftsToMovePlan:F,dtmMigrationCompleted:B,starterTeamCreated:U,dtmMigrationPlanName:H,dtmPlanParentId:z,dtmPlanParentType:V}=(0,y.V)((0,p.unwrap)(L.data)||void 0),W=!F&&B&&(0,_.kc)().dtm_deprecation_post_migration_onboarding;return(0,r.jsxs)(s.bL,{manager:M,children:[(0,r.jsxs)(O,{children:[(0,r.jsxs)(o.E,{...{0:{className:"x78zum5 x6s0dn4 x10w6t97 x12oqio5 x6wrskw xb3r6kr xv2f06h x5hs570"},1:{className:"x78zum5 x6s0dn4 x10w6t97 x12oqio5 x6wrskw xb3r6kr x5hs570 x30nh5c"}}[!!g.isOpen<<0],...b(),"aria-label":(0,u.t)("navbar.navbar.plan_label",{name:e}),children:[(0,r.jsxs)("div",{className:"x78zum5 x1q0g3np x6s0dn4 xb3r6kr",children:[(0,r.jsx)(h.n,{size:16,userId:t.userId,orgId:t.orgId,teamId:t.teamId,personalSpaceIcon:I.A,personalSpaceIcon1x:N.A}),(0,r.jsx)("div",{className:"x78zum5 x1q0g3np xet2fuk xb3r6kr",children:(0,r.jsx)(f.E,{fontSize:13,fontWeight:"medium",color:"default",truncate:!0,children:e})})]}),(0,r.jsx)(d.r,{className:"x2lah0s"})]}),"loaded"===a.status&&(0,r.jsx)("div",{className:"x78zum5 xozqiw3 xj3b58b x1yf7rl7",children:(0,r.jsx)(x.A,{workspace:t,planTier:a.data.tier})})]}),(0,r.jsxs)(s.mc,{"data-onboarding-key":k.K,children:[(0,r.jsx)(l.z6,{title:null,onChange:e=>{w(e)},value:R,children:v.map(e=>(0,r.jsx)(s.YJ,{title:e.title?(0,r.jsx)(s.hE,{children:e.title}):null,children:e.items.map(e=>(0,r.jsxs)(l.CU,{value:e.planId,children:[(0,r.jsx)(s.Q$,{children:e.icon}),P(e.displayText),e.badge?(0,r.jsx)(s.Ov,{children:e.badge}):null]},e.planId))},e.key))}),S?(0,r.jsxs)(s.q7,{onClick:()=>S(),children:[(0,r.jsx)(s.Q$,{children:(0,r.jsx)(c.e,{})}),(0,u.t)("navbar.navbar.create_new")]}):null]}),W&&(0,r.jsx)(C.a,{entryPoint:"plan_nav",planName:H,targetKey:A,starterTeamCreated:U??!1,isOrg:"org"===V,navigateToPlan:()=>{z&&D(z,m,w)}})]})}function O({children:e}){return(0,r.jsx)("div",{...{0:{className:"x78zum5 x1q0g3np x6s0dn4 x1nhvcw1 x1jnr06f x6wrskw"},1:{className:"x78zum5 x1q0g3np x6s0dn4 x1nhvcw1 x1jnr06f x163pfp"}}[!!(0,_.kc)().file_browser_sidebar_row_ui<<0],"data-onboarding-key":A,children:e})}let D=(e,t,n)=>{e&&n(e,!0),t(g.b({switched_to_new_plan_from_dtm_deprecation_onboarding:!0}))},P=e=>(0,r.jsx)("div",{className:"xb3r6kr xlyipyv xuxw1ft xenbecp",children:e})},636008:(e,t,n)=>{n.d(t,{K:()=>I,g:()=>N});var r=n(239976),a=n(105652),i=n(20002),s=n(295870),o=n(379141),l=n(270450),d=n(446232),c=n(540327),u=n.n(c),_=n(393463),m=n(719749),p=n(987425),h=n(129416),f=n(713903),x=n(485571),g=n(410703),b=n(136393),v=n(136708),y=n(526575),w=n(796617),j=n(610604),C=n(910175),T=n(832374),k=n(470098),E=n(15039);let I="PLAN_SPACES_ONBOARDING_KEY";function N({currentUser:e}){let t=(0,i.wA)(),n=(0,i.d4)(e=>e.plans),r=(0,i.d4)(e=>(0,T.getPermissionsStateMemoized)(e)),c=(0,v.z)(),f=(0,m.bc)(j.InN,{},{enabled:(0,l.kc)().dtm_deprecation_post_migration_onboarding}),g=(0,d.unwrap)(f.data?.personalDraftToPlanDraftLocation),w=d.unwrap(g?.toDraftsFolder?.team?.trackTags)?.is_auto_created_for_dtm_migration??!1,I=g?.status==="complete",N=(0,m.bc)((0,j.sMZ)({name:"seen_dtm_post_migration_badge"})),S=!!N?.data?.currentUser?.userFlagByName,R=(0,C.nx)(e),O=R&&n.length>1,D=!R&&!(0,_.sL)();return{menuGroups:(0,a.useMemo)(()=>{let t=n.some(e=>e.is_guest),{full:a,limited:i}=function({userPlans:e,currentUser:t,hasRestrictedTeams:n}){let r=[],a=[];return e.forEach(e=>{n?e.plan_type===E.O.ORG&&e.plan_id===t.external_restricted_org_id?r.push(e):a.push(e):e.is_guest?a.push(e):r.push(e)}),n&&0===r.length&&(0,h.$D)(s.e.WORKFLOW,Error(`Enterprise plan not found in Plan Switcher for user ${t.id}`),{extra:{...e}}),{full:r,limited:a}}({currentUser:e,userPlans:n,hasRestrictedTeams:O}),l=a.map(t=>A(t,e,r,{isDraftsToMovePlan:w&&g?.planParentId===t.plan_id,dtmMigrationCompleted:w&&I,starterTeamCreated:w,seenDtmPostMigrationBadge:S})).sort((e,t)=>e.displayText.localeCompare(t.displayText)),d=i.map(t=>A(t,e,r,{isDraftsToMovePlan:w&&g?.planParentId===t.plan_id,dtmMigrationCompleted:w&&I,starterTeamCreated:w,seenDtmPostMigrationBadge:S})).sort((e,t)=>e.displayText.localeCompare(t.displayText));return u()([l.length>0&&{key:"full",title:t?(0,o.t)("navbar.navbar.full_team_member_access"):void 0,items:l},d.length>0&&{key:"limited",title:O||!t?(0,o.t)("navbar.navbar.view_only_plans_disabled_by_admins"):(0,o.t)("navbar.navbar.limited_team_member_access"),items:d}])},[n,O,e,r,w,I,S,g?.planParentId]),onChange:(a,i)=>{let s;let o=n.find(e=>e.plan_id===a);if(!o)return;let d=(0,p.O)(o,e.id),c=r.currentUserOrgId,u=r.currentTeamId,m=d.orgId,h=d.teamId,f=!!(0,_.tl)().is_limited_team_plan,v=!!h&&o.is_guest,j=o.draft_folder_id;s=i&&(0,l.kc)().dtm_deprecation_post_migration_onboarding&&j?{view:"folder",folderId:j}:d.teamId&&!o.is_guest?{view:"team",teamId:d.teamId}:d.teamId&&o.is_guest?{view:"limitedTeamSharedProjects"}:{view:"org",orgId:d.orgId,orgViewTab:k.X.HOME},I&&w&&g?.planParentId===o.plan_id&&t(b.b({seen_dtm_post_migration_badge:!0})),(0,y.uE)("Plan Switcher Plan Clicked",{user:e},{currentOrgId:c,currentTeamId:u,newOrgId:m,newTeamId:h,isCurrentPlanLimitedTeamPlan:f,isNextPlanLimitedTeamPlan:v}),t(x._l({workspace:d,view:s}))},onCreateTeam:D?c:null}}function A(e,t,n,a){let i=(0,p.O)(e,t.id),s=(0,w.HE)(n,i),o=(0,w.O_)(n,i),d=(0,l.kc)().dtm_deprecation_post_migration_onboarding&&a?.starterTeamCreated&&a?.isDraftsToMovePlan&&a?.dtmMigrationCompleted&&!a?.seenDtmPostMigrationBadge;return{planId:e.plan_id,isSelected:o,displayText:s,badge:(0,r.jsx)(g.A,{planTier:e.tier,workspace:i,isInDropdown:!0,isGuest:e.is_guest,shouldShowDtmPostMigrationBadge:d}),icon:(0,r.jsx)(f.n,{userId:i.userId,orgId:i.orgId,teamId:i.teamId,size:16})}}},396859:(e,t,n)=>{n.d(t,{O:()=>o,T:()=>l});let{open:r,close:a,useRegisterMenu:i}=(0,n(97452).K)(),s={open:r,close:a};function o(){return s}let l=i},410703:(e,t,n)=>{n.d(t,{A:()=>R});var r=n(239976),a=n(423407),i=n(379141),s=n(393463),o=n(920675);function l(e){let t=e.planTier===o.Ag.ENTERPRISE,n=(0,s.sL)()?(0,i.t)("navbar.navbar.government"):e.isGuest?(0,i.t)("navbar.navbar.guest"):t?(0,i.t)("navbar.navbar.enterprise"):(0,i.t)("navbar.navbar.org");return(0,r.jsx)(a.E,{variant:"defaultFilled",children:n})}var d=n(105652),c=n(20002);n(323264);var u=n(522568),_=n(719749),m=n(969816),p=n(154963),h=n(554408),f=n(485571),x=n(536378),g=n(639184),b=n(338630),v=n(535996),y=n(550534),w=n(576787),j=n(610604),C=n(329076),T=n(832374),k=n(950850),E=n(477916),I=n(271470),N=n(236410);let A=(0,n(145652).ex)("pro_trial",function(e){let t=(0,r.jsx)("span",{style:{fontWeight:600},children:(0,i.tx)("team_list.pro_trial_time_left_days",{daysLeft:e.daysLeft})});return(0,r.jsx)("div",{className:p.s.flex.itemsCenter.justifyCenter.$,children:(0,r.jsx)("p",{children:(0,i.tx)("team_list.pro_trial_time_left",{daysLeftText:t})})})},e=>({daysLeft:Number(e.getAttribute("data-tooltip-pro-trials-days-left")||0)}));function S(e){let t=(0,c.wA)(),n=(0,c.d4)(e=>e.user),s=(0,c.d4)(e=>e.teams)[e.teamId],l=(0,c.d4)(e=>(0,T.getPermissionsStateMemoized)(e)),S=e.planTier===o.Ag.PRO,R=e.planTier===o.Ag.STUDENT,O=e.planTier===o.Ag.STARTER,D=(0,_.bc)((0,j.yQw)({teamId:e.teamId})),P=D.transform(({team:e})=>!!(e?.roleOnObjectForUser&&e.roleOnObjectForUser.level>=I.e6.EDITOR)).unwrapOr(!1),M=D.transform(({team:e})=>!!(e?.roleOnObjectForUser&&e.roleOnObjectForUser.level>=I.e6.ADMIN)).unwrapOr(!1),L=(0,w.TN)(e.teamId),F=(0,c.d4)(e=>e.plans),B=(0,c.d4)(e=>e.modalShown?.type===h.y),U=F.find(t=>t.plan_id===e.teamId&&"team"===t.plan_type),H=!!U?.is_guest,[z,V]=(0,d.useState)(!1),W=(0,d.useRef)(void 0);if(!n||!s)return null;let G=e=>{t((0,x.to)({type:h.V,data:{teamId:s.id,entrypoint:e}}))};if(H&&e.isInDropdown)return(0,r.jsx)(r.Fragment,{});if(R){if(e.isInDropdown)return(0,r.jsx)(a.E,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.edu")})}else if((0,C.oc)(s.id,l)){if(s.student_team_at)return null;let t=k.ng.canSeeProTrialExpiryUx(L),o=(0,r.jsx)(a.E,{variant:"warningFilled",children:(0,i.t)("navbar.navbar.trial_expired")}),l=(0,r.jsx)(a.E,{variant:"warningFilled",children:(0,i.t)("navbar.navbar.locked")});return e.isInDropdown?t?o:l:t?(0,r.jsx)(b.fu,{name:m._Y.PRO_TRIAL_EXPIRED,properties:{userId:n.id,teamId:s.id,...k.ng.getTrackingProperties()},children:o}):P?(0,r.jsx)(b.fu,{name:m._Y.LOCKED,properties:{userId:n.id,teamId:s.id,trackingDescriptor:g.c.LOCKED},children:(0,r.jsx)(b.$z,{"aria-label":(0,i.t)("navbar.navbar.locked_label",{teamName:s.name}),"aria-expanded":B,onClick:()=>G(y.C.LOCKED_TEAM_BADGE),className:"xctca69",children:l})}):l}else if(L&&k.ng.canSeeProTrialUx(L)){let t=(0,r.jsx)(a.E,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.pro_trial")});return e.isInDropdown?t:(0,r.jsx)(b.fu,{name:m._Y.PRO_TRIAL,properties:{userId:n.id,teamId:s.id,...k.ng.getTrackingProperties()},children:(0,r.jsx)(b.$z,{type:"button",onClick:()=>G(y.C.PRO_TRIAL_UPSELL_MODAL),className:p.s.ml8.noWrap.$,trackingProperties:k.ng.getTrackingProperties("Badge Clicked"),children:(0,r.jsx)("span",{"data-tooltip-type":N.Ib.SPECIAL,"data-tooltip":A,"data-tooltip-pro-trials-days-left":L.daysLeft,"data-tooltip-show-right":!0,"data-tooltip-max-width":195,"data-tooltip-timeout-delay":50,children:t})})})}else if(S){if(e.isInDropdown)return(0,r.jsx)(a.E,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.pro")});{let e=(0,r.jsx)(m.Ex,{size:m.vj.LARGE,color:m.zE.DEFAULT,text:(0,i.t)("navbar.navbar.professional"),className:"x1fgql6j xj3b58b x1yf7rl7 xyk4uir xdkpnqj xuxw1ft x78zum5"});return M?(0,r.jsx)(b.fu,{name:m._Y.PROFESSIONAL,properties:{userId:n.id,teamId:s.id,trackingDescriptor:g.c.PROFESSIONAL},children:(0,r.jsx)(b.$z,{"aria-label":(0,i.t)("navbar.navbar.professional_label",{teamName:s.name}),"aria-expanded":B,onClick:()=>G(y.C.SIDEBAR_PLAN_SWITCHER_PROFESSIONAL_BADGE),className:"xctca69",children:e})}):e}}else if(O){let o=(0,r.jsx)(a.E,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.free")});if(e.isInDropdown)return o;if(P){let e={monetization_surface:v.h.MonetizationSurface.FILE_BROWSER,monetization_trigger:E.b.STARTER_TEAM_BADGE};return(0,r.jsx)("button",{"aria-label":(0,i.t)("navbar.navbar.free_label",{teamName:s.name}),"aria-expanded":B,onClick:r=>{r.stopPropagation(),t(f.dm(s.id)),G(y.C.STARTER_TEAM_BADGE),(0,u.sx)("Starter Team Badge Clicked",{userId:n.id,teamId:s.id,...e})},onMouseEnter:()=>{z||(W.current=setTimeout(()=>{(0,u.sx)("Starter Team Badge Viewed",{userId:n.id,teamId:s.id,...e}),V(!0)},1e3))},onMouseLeave:()=>{clearTimeout(W.current)},className:p.s.bgTransparent.$,className:"xctca69",children:(0,r.jsx)(m.Ex,{size:m.vj.LARGE,color:m.zE.DEFAULT,text:(0,i.t)("navbar.navbar.free"),className:`${p.s.noWrap.flex.$} plan_switcher_team_badges--freeBadgeHover--Y8BVx`})})}}return null}function R({workspace:e,isInDropdown:t,planTier:n,isGuest:s,shouldShowDtmPostMigrationBadge:o}){if(o)return(0,r.jsx)(a.E,{variant:"brandFilled",children:(0,i.t)("file_browser.drafts_to_move.new")});if(e.orgId){if(t)return(0,r.jsx)(l,{orgId:e.orgId,planTier:n,isGuest:!!s})}else if(e.teamId)return(0,r.jsx)(S,{teamId:e.teamId,isInDropdown:t,planTier:n});return null}},637612:(e,t,n)=>{n.d(t,{P:()=>d});var r=n(239976),a=n(105652),i=n(116695),s=n(693613),o=n(323264),l=n(441452);let d=a.forwardRef(function({title:e,subtitle:t,topRightContent:n,iconImage:a,backgroundColor:d,isSelected:u,onClick:_,onFocus:m,onBlur:p,cardRole:h,draggable:f,ariaCurrent:x,isHoverContentVisibleOverride:g},b){return(0,r.jsx)(l.R.Root,{ref:b,ariaCurrent:x,cardRole:h,draggable:f,isHoverContentVisibleOverride:g,isSelected:!!u,onBlur:p,onClick:_,onFocus:m,children:(0,r.jsxs)("div",{className:"x1n2onr6",children:[n&&(0,r.jsx)(i.HG,{children:(0,r.jsx)("span",{className:"x78zum5 x1q0g3np xuk3077 x1i71x30 x1qughib x10l6tqk x13vifvy x3m8u43 xi4r6k5 xb3r6kr x98rzlu x9f619 x13qp9f6",children:n})}),(0,r.jsxs)("div",{...o.xk(c.content,c.contentWithBackgroundColor(d??s.Tj.bg)),children:[(0,r.jsx)("div",{className:"x78zum5 xh8yej3 x1qughib xb3r6kr x5yr21d",children:a}),(0,r.jsxs)("div",{className:"x98rzlu x78zum5 xh8yej3 xdt5ytf x195vfkc xb3r6kr",children:[(0,r.jsx)(l.R.Title,{children:e}),(0,r.jsx)(l.R.Subtitle,{children:t})]})]})]})})}),c={content:{k1xSpc:"x78zum5",kXwgrk:"xdt5ytf",kGNEyG:"x6s0dn4",kmVPX3:"x1dipnxa",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,kOIVth:"x1excjyp",khm7nJ:null,k1C7PZ:null,$$css:!0},contentWithBackgroundColor:e=>[{kWkggS:null!=e?"xl8spv7":e,$$css:!0},{"--x-backgroundColor":null!=e?e:void 0}]}},476039:(e,t,n)=>{n.d(t,{g:()=>r});var r,a=n(239976),i=n(379141),s=n(29161),o=n(641200),l=n(619832);(e=>{e.SearchResult=t=>e.renderSearchResult(t.searchResult,o.XU.LIST),(e.SortKeys||(e.SortKeys={})).NAME="name",e.viewBarConfig={viewId:"search-public_profiles",sortKeys:["name"],sortKeyDescriptions:{[o.XU.GRID]:{name:(0,i.tx)("search.sort_option.name")},[o.XU.LIST]:{name:(0,i.tx)("search.sort_option.name")}},defaultOptions:{viewMode:o.XU.LIST,sortMode:{sortKey:"name",sortDesc:!1}},includeSortDirection:e=>!1,settingsSpacer:s.Ay.tablet||s.Ay.mobile},e.renderSearchResult=function(e,t){return(0,a.jsx)(l.TL,{publicProfile:e.model,resources:e.resources,notTabletSidebarOptimized:!0},e.model.id)},e.getValidOptions=function(){return e.viewBarConfig.defaultOptions}})(r||(r={}))},863748:(e,t,n)=>{let r;n.d(t,{_:()=>e7,g:()=>e9});var a=n(239976),i=n(105652),s=n(20002),o=n(836848),l=n(943360),d=n(379141),c=n(719749),u=n(535209),_=n(699165),m=n(259714),p=n(321719),h=n(610604),f=n(741402),x=n(641200),g=n(480972),b=n(270450),v=n(528856),y=n(522568),w=n(393463),j=n(29161),C=n(323072),T=n(637030),k=n(326141),E=n(898301),I=n(716759),N=n(221237),A=n(944322),S=n(476039),R=n(295870),O=n(225145),D=n(914556),P=n(184743),M=n(129416),L=n(297094),F=n(748753),B=n(685110),U=n(884533),H=n(526575),z=n(877964),V=n(276571),W=n(569693);function G(e){let{href:t,onClickWithDefaults:n,children:r}=e;return(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)(O._,{onClick:n,href:t,children:r}),!t&&r]})}let q=i.memo(function(e){let{searchResult:t}=e,n=t.files_last_touched_at,r=t.model,s=t.model.created_at,{onClick:o,onJoin:l,onLeave:d}=(0,B.A)(r.id,e.canUserViewTeam),c=(0,z.FC)(),u=(0,V._6)(),_=i.useId(),m=(0,P.Gc)(t=>{t.preventDefault(),(0,H._J)("file_browser_team_click",e.searchResult.model.id,c,{selectedView:"recentsAndSharing"===u.view?u.tab:u.view,viewMode:"list"}),o()});return(0,a.jsx)(G,{onClickWithDefaults:m,href:e.canUserViewTeam?`/files/team/${r.id}`:void 0,children:(0,a.jsxs)("div",{className:"teams--row--9hD7Q teams--rowTemplate--cfcHq search_list_row--row--qb8Am text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:[(0,a.jsx)("div",{className:e.canUserViewTeam?"teams--name--ucfma search_list_row--name--2nVLU search_list_row--_name--7KI9C ellipsis--ellipsis--70pHK":"teams--nameDisabled--QC366 search_list_row--nameDisabled--Jek4j search_list_row--_name--7KI9C ellipsis--ellipsis--70pHK",id:_,children:(0,a.jsx)(W.rE,{entity:r,size:10,hideFallbackInitial:!0,onClick:void 0},r.id)}),(0,a.jsx)("div",{className:"teams--touchedAt--scYZu",children:n?(0,a.jsx)(L.h1,{date:n}):"\u2013"}),(0,a.jsx)("div",{className:"teams--createdAt--4IdXi",children:(0,a.jsx)(L.h1,{date:s})}),(0,a.jsx)("div",{className:"teams--memberCount--cUzuR",children:t.member_count}),(0,a.jsx)("div",{className:"teams--join--TeGYZ",children:(0,a.jsx)(U.W,{titleId:_,team:r,isCurrentUserInTeam:e.isCurrentUserInTeam,isLoading:e.isLoading,onOpenTeam:m,onJoin:l,onLeave:d,spinnerClassName:"teams--joinSpinner--Mrqiu",isCardActive:!1})}),(0,a.jsx)(F.C,{...e.settingsButtonProps})]})})}),K=(r={[x.XU.GRID]:function(e){return i.useEffect(()=>{(0,M.$D)(R.e.SEARCH,Error("Unexpectedly received grid view mode in teams SearchResult"))},[]),null},[x.XU.LIST]:function(e){let t=e.searchResult.model,n=(0,c.bc)(h.y_L,{teamId:t.id}),r=!1,i=!1;if("loaded"===n.status&&n.data?.team){let e=(0,D.ci)(n.data.team);r=e.canView,i=e.isInTeam}return(0,a.jsx)(q,{...e,isLoading:"loaded"!==n.status,canUserViewTeam:r,isCurrentUserInTeam:i})}},function(e){let t=r[e.viewMode];return(0,a.jsx)(t,{...e})});var $=n(918),Y=n(577225),J=n(640125),X=n(214056),Q=n(450460),Z=n(509938),ee=n(923954),et=n(241729),en=n(17453),er=n(338630),ea=n(113877),ei=n(773444),es=n(795867),eo=n(330116);let el={showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicateToDrafts:!0,delete:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0},ed=e=>{switch(e){case x.C0.NAME:return f.Lk.NAME;case x.C0.CREATED_AT:return f.Lk.CREATED_AT;case x.C0.TOUCHED_AT:return f.Lk.TOUCHED_AT;case x.C0.SEARCH_RELEVANCE:return f.Lk.RELEVANCY;default:return(0,o.KF)(!0,"Should not try to sort by any other key in search list view"),f.Lk.NAME}},ec=e=>{switch(e){case f.Lk.NAME:return x.C0.NAME;case f.Lk.CREATED_AT:return x.C0.CREATED_AT;case f.Lk.TOUCHED_AT:return x.C0.TOUCHED_AT;case f.Lk.RELEVANCY:return x.C0.SEARCH_RELEVANCE}};function eu(e){let t=(0,s.wA)(),n=(0,s.d4)(e=>e.search.parameters.sortState),r=(0,J.db)(),{Sprig:o}=(0,Y.A)(),[l,d]=i.useState(null);(0,$.Cm)(l??[]);let{showing:c,show:_,data:m}=(0,Q.L)(),h=i.useCallback((n,a,i)=>{n.type===ea.nb.FILE&&(t(en.yJ({file:ei.F.toSinatra(n.file)})),r(i,"key"in a&&"Enter"===a.key?u.vj.Query.ClickAction.ENTER:u.vj.Query.ClickAction.CLICK,e.results.find(e=>e.model.key===n.file.key))),(0,b.kc)().file_browser_sentiment_survey&&o("setAttribute","fb_file_opened",!0)},[t,e.results,r,o]),g=i.useCallback(e=>{let r=ed(e);if(!r)return;let a={...n,[f.uH.FILES]:{sortKey:r,sortDesc:n.files.sortKey!==r||!n.files.sortDesc}};t(p.qv({sortState:a}))},[t,n]),v=i.useMemo(()=>e.results.map(({model:e})=>(0,ea.fA)(e)),[e.results]),y=i.useCallback((e,t,n)=>{_({data:{tile:e,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:n}})},[_]),w=(0,X.v)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ee.d,{checksForViewOnlyLabels:e.checksForViewOnlyLabels,doNotFocusOnLoad:!0,handleOpenDropdown:y,handleOpenTile:h,interactiveThumbnailsEnabled:!!(0,b.kc)().scrub_file_browser_search_results,items:v,sortBy:g,sortConfig:{key:ec(n.files.sortKey),dir:n.files.sortDesc?x.ue.DESC:x.ue.ASC},updateVisibleItems:d,viewType:e.viewMode}),(0,a.jsx)(eo.p,{featureFlag:"scrub_file_browser_search_results",children:(0,a.jsx)(et.b0,{})}),(()=>{let t=m?.tile??null,n=t?.type===ea.nb.FILE?v.findIndex(e=>e.file.key===t?.file.key):void 0,i=()=>{if(t&&void 0!==n){if(t.type===ea.nb.FILE){let a=e.results.find(e=>e.model.key===t.file.key);r(n,u.vj.Query.ClickAction.CONTEXT_CLICK,a)}(0,b.kc)().file_browser_sentiment_survey&&o("setAttribute","fb_file_opened",!0)}},s=t?[t]:[];return(0,a.jsx)(er.fu,{name:es.e0.TILES_VIEW_DROP_DOWN,enabled:c,properties:{tileType:t?.type,tileFileId:t?.type===ea.nb.FILE?t?.file.key:void 0},children:(0,a.jsx)(Z.i,{tileActions:el,tile:t,selectedTiles:s,openTile:e=>{t&&(w(t,e),i())},dropdownVisible:c,trackSearchFn:i})})})()]})}var e_=n(562280);function em(e){let t=(0,s.d4)(e=>e.publishedPlugins),n=i.useMemo(()=>e.results.map(e=>t[e.model.id]??e.model),[e.results,t]);return(0,a.jsx)(e_.y,{plugins:n})}var ep=n(865702),eh=n(190429),ef=n(841081),ex=n(691589),eg=n(395189);let eb=e=>{switch(e){case eg.Dq.NAME:return f.mp.NAME;case eg.Dq.CREATED_AT:return f.mp.CREATED_AT;default:return(0,o.KF)(!0,"Should not try to sort by any other key in search list view"),f.mp.NAME}},ev=e=>{switch(e){case f.mp.NAME:return eg.Dq.NAME;case f.mp.CREATED_AT:return eg.Dq.CREATED_AT;case f.mp.RELEVANCY:return eg.Dq.RELEVANCY;default:return(0,o.d_)("Should not try to sort by any other key in search list view"),eg.Dq.NAME}};function ey(e){let t=(0,s.wA)(),n=(0,s.d4)(e=>e.search.parameters.sortState),r=(0,s.d4)(e=>(0,eh.H)(e.dropdownShown)),o=e=>{let r=eb(e.sortKey);if(!r)return;let a={...n,[f.uH.PROJECTS]:{sortKey:r,sortDesc:n.projects.sortKey!==r||!n.projects.sortDesc}};t(p.qv({sortState:a}))},l=e.results.map(e=>({...e.model,files_last_touched_at:e.files_last_touched_at})),d=(0,J.hA)(),c=i.useCallback((t,n)=>{let r=n?"key"in n&&"Enter"===n.key?u.vj.Query.ClickAction.ENTER:u.vj.Query.ClickAction.CLICK:u.vj.Query.ClickAction.CONTEXT_CLICK,a=e.results.find(e=>e.model.id===t);d(l.findIndex(e=>e.id===t),r,a)},[l,e.results,d]),_=i.useCallback(()=>{r&&c(r.id,null)},[r,c]);return(0,a.jsx)(g.kq.Consumer,{children:t=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ef.m,{onOpenFolder:(0,b.kc)().merge_project_context_menus?c:ep.lQ,folderList:l,onContextMenuOverride:e.viewMode===x.XU.GRID||(0,b.kc)().merge_project_context_menus?void 0:(n,r,a)=>{t.onContextMenuClick({data:e.results[a],index:a},r)},currentSortOverride:{field:ev(n.projects.sortKey),isDescending:n.projects.sortDesc},onChangeSortOptions:o,checksForViewOnlyLabels:e.checksForViewOnlyLabels,viewType:e.viewMode}),r&&(0,a.jsx)(ex.p,{folder:r,shouldHideShareOption:!1,trackSearchFolder:_})]})})}var ew=n(33317);function ej(e){let t=i.useMemo(()=>e.results.map(e=>({...e.model,team_last_touched_at:e.files_last_touched_at,member_count:e.member_count})),[e.results]),n=(0,J.aL)(),r=i.useCallback((r,a)=>{let i=a?0===a.detail?u.vj.Query.ClickAction.ENTER:u.vj.Query.ClickAction.CLICK:u.vj.Query.ClickAction.CONTEXT_CLICK,s=e.results.find(e=>e.model.id===r);n(t.findIndex(e=>e.id===r),i,s)},[e.results,t,n]);return(0,a.jsx)(ew.w,{orgTeams:t,viewType:e.viewType,trackSearchClick:r})}var eC=n(323264),eT=n(224542),ek=n.n(eT),eE=n(154963),eI=n(363337),eN=n(675204),eA=n(303587),eS=n(703614),eR=n(778812),eO=(e=>(e.NAME="name",e.EMAIL="email",e))(eO||{});let eD=e=>{switch(e){case f.a7.NAME:return"name";case f.a7.EMAIL:return"email";default:return(0,o.KF)(!0,"Should not try to sort by any other key in search users list view"),"name"}},eP=e=>{switch(e){case"name":return f.a7.NAME;case"email":return f.a7.EMAIL;default:return(0,o.KF)(!0,"Should not try to sort by any other key in search list view"),f.a7.NAME}};var eM=n(141288),eL=n(124724),eF=n(490549),eB=n(964731),eU=n(52465),eH=n(469543);function ez(e){let{user:t,targetRect:n}=e.dropdownData,r=(0,s.wA)(),i=(0,eN.y)(),o=(0,eL.t)(t,t.org_id);if(!n)return null;let l=[];return l.push({displayText:(0,d.t)("general.open"),callback:(e,n,r,a)=>i(t,a)}),l.push({displayText:(0,d.t)("file_browser.open_in_new_tab"),callback:(e,t,n,r)=>eM.Ay.redirect(`${location.origin}`+o,"_blank")}),l.push(eU.w),l.push({displayText:(0,d.t)("file_browser.copy_link"),callback:()=>{r(eF.S({url:`${location.origin}`+o}))}}),(0,a.jsx)(eH.j,{dispatch:r,parentRect:n,rootAndSubmenuMinWidth:120,rootAndSubmenuMaxWidth:190,items:l,onSelectItem:(e,t)=>e.callback?.("",{},r,t),shouldUsePortal:!0,showPoint:!1})}let eV={field:eO.NAME,renderHeaderCell:()=>(0,d.t)("file_browser.user_list_view.header_name_column"),renderStaticRowCell:e=>(0,a.jsx)("div",{className:ek()("search_results_users_items_view--listName--gjBk- search_list_row--name--2nVLU search_list_row--_name--7KI9C ellipsis--ellipsis--70pHK",eC.Ay.classNames(eq.rowPadding)),children:(0,a.jsx)(W.az,{entity:e,size:24},e.id)})},eW={field:eO.EMAIL,renderHeaderCell:()=>(0,d.t)("file_browser.user_list_view.header_email_column"),renderStaticRowCell:e=>(0,a.jsx)(eA.B,{truncate:!0,children:e.email})};function eG(e){let t=i.useMemo(()=>e.results.map(e=>({...e.model,last_active_at:e.last_active_at})),[e.results]),{currentSort:n,sortBy:r}=function(){let e=(0,s.wA)(),t=(0,s.d4)(e=>e.search.parameters.sortState);return{currentSort:{field:eD(t.users.sortKey),isDescending:t.users.sortDesc},sortBy:n=>{let r=eP(n);if(!r)return;let a={...t,[f.uH.USERS]:{sortKey:r,sortDesc:t.users.sortKey!==r||!t.users.sortDesc}};e(p.qv({sortState:a}))}}}(),o=j.Ay.mobile||j.Ay.tablet,l=(0,s.d4)(e=>e.orgById),c=(0,eN.y)(),{showing:u,show:_,data:m}=function(){let e=i.useId();return(0,eB.BK)(`USER_DROPDOWN_${e}`)}(),h=i.useCallback((e,t,n)=>{1===e.length&&_({data:{user:e[0],targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:n}})},[_]),x=i.useCallback(e=>{let t=e.org_id&&l[e.org_id];return(0,a.jsxs)("div",{className:"search_results_users_items_view--tileContainer--bZjzN",children:[(0,a.jsx)("div",{className:ek()(eE.s.flex.justifyEnd.pt12.pr12.minW32.minH32.$,"search_results_users_items_view--settingsButton--siOWu"),children:(0,a.jsx)(F.C,{showSettingsIcon:o})}),(0,a.jsxs)("div",{className:ek()(eE.s.flex.flexColumn.cursorDefault.selectNone.itemsCenter.$,"search_results_users_items_view--tileContent--667Ir"),children:[(0,a.jsx)(eI.H8,{user:e,size:eI.Pf.XLARGE}),(0,a.jsx)("div",{className:ek()(eE.s.mt16.font13.$,"search_results_users_items_view--tileName--G4eSg search_results_users_items_view--gridEllipsis--BDT9b ellipsis--ellipsis--70pHK"),children:e.name||e.handle}),(0,a.jsx)("div",{className:ek()(eE.s.minH16.$,"search_results_users_items_view--email--qecki search_results_users_items_view--gridEllipsis--BDT9b ellipsis--ellipsis--70pHK"),children:e.email}),(0,a.jsxs)("div",{className:ek()(eE.s.h36.py36.$,"search_results_users_items_view--lastActiveAt--2MHvs"),children:[t&&(0,a.jsxs)("div",{className:eE.s.flex.flexRow.itemsCenter.justifyCenter.mb4.$,children:[(0,a.jsx)(eR.H,{entityId:t.id,entityName:t.name,imgUrl:t.img_url,hideTooltip:!0}),t.name]}),e.last_active_at?(0,d.tx)("search.user_view.last_active",{relativeTimeString:(0,a.jsx)(L.h1,{date:e.last_active_at})}):(0,d.tx)("search.user_view.not_active_yet")]})]})]})},[l,o]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eS.A,{getAriaLabel:e=>e.handle,gridViewProps:{containerStyle:eq.gridPadding,tileBorderRadius:4,renderTile:x},handleContextMenu:h,handleOpenItem:c,isDraggable:!1,items:t,listViewProps:{columns:[eV,eW],currentSort:n,handleSortBy:r},multiselectDisabled:!0,updateRenderedItems:ep.lQ,viewType:e.viewMode}),u&&m&&(0,a.jsx)(ez,{dropdownData:m})]})}let eq={gridPadding:{kE3dHu:"x1nz7w5u",kpe85a:"xyx8554",kZCmMZ:null,kwRFfy:null,kGO01o:"xpezlj7",$$css:!0},rowPadding:{kLKAdn:"x1gskr33",kGO01o:"x1ihwiht",$$css:!0}};var eK=n(766632);function e$(e){let t=i.useMemo(()=>e.results.map(e=>({...e.model})),[e.results]);return(0,a.jsx)(eK.N,{widgets:t})}function eY(e){i.useEffect(()=>{y.az.trackDefinedEvent("search_experience.dead_code",{userId:w.Ay().user_data?.id,codeLocation:`SearchResult - type: ${e.searchResult.search_model_type} ${e.viewMode}`})},[e.searchResult.search_model_type,e.viewMode]);let t={showSettingsIcon:!1};switch((j.Ay.mobile||j.Ay.tablet)&&(t={showSettingsIcon:!0,onFileSettingsClick:C.j}),e.searchResult.search_model_type){case f.uH.TEAMS:return(0,a.jsx)(K,{searchResult:e.searchResult,viewMode:e.viewMode,setSelectedSearchResultId:e.setSelectedSearchResultId,selectedSearchResultId:e.selectedSearchResultId,settingsButtonProps:t});case f.uH.HUB_FILES:return(0,a.jsx)(A.q0,{searchResult:e.searchResult});case f.uH.PUBLIC_PROFILES:return(0,a.jsx)(S.g.SearchResult,{searchResult:e.searchResult,viewMode:e.viewMode});default:return(0,v.assertNever)(e.searchResult),null}}function eJ(e){let[t,n]=i.useState(void 0),r=(0,E.cD)(),o=(0,N.vt)(r),l=(0,I.jn)(),d=i.useMemo(()=>e.searchModelType===f.uH.TEAMS?e.searchResults.map(e=>({teamId:e.model.id})):[],[e.searchModelType,e.searchResults]),u=(0,c.p)(h.H5I,d,{enabled:e.searchModelType===f.uH.TEAMS}),_=(0,s.wA)();i.useEffect(()=>{if(e.searchModelType===f.uH.TEAMS){let t={};u.forEach(e=>{t[e.args.teamId]=e.result.data?.team.status==="loaded"&&!!e.result.data.team.data?.isOrphaned});let n=e.searchResults.map(e=>{let n=e.model;return{...n,orphaned:t[n.id]}});_(k.hZ({teams:n}))}},[_,e.searchResults,u,e.searchModelType]);let m=r?{teamId:r,isLockedTeam:o||l}:void 0;switch(e.searchModelType){case f.uH.FILES:return(0,a.jsx)(eu,{results:e.searchResults,viewMode:e.viewMode,checksForViewOnlyLabels:m});case f.uH.PROJECTS:return(0,a.jsx)(ey,{results:e.searchResults,checksForViewOnlyLabels:m,viewMode:e.viewMode});case f.uH.PUBLIC_PLUGINS:case f.uH.PRIVATE_PLUGINS:return(0,a.jsx)(em,{results:e.searchResults});case f.uH.PUBLIC_WIDGETS:case f.uH.PRIVATE_WIDGETS:return(0,a.jsx)(e$,{results:e.searchResults});default:if((e.viewMode===x.XU.GRID||(0,b.kc)().teams_list_view_search)&&e.searchModelType===f.uH.TEAMS)return(0,a.jsx)(ej,{results:e.searchResults,viewType:e.viewMode});if(e.searchModelType===f.uH.USERS)return(0,a.jsx)(eG,{results:e.searchResults,viewMode:e.viewMode});return(0,a.jsx)(a.Fragment,{children:e.searchResults.map((r,i)=>{let s="key"in r.model?r.model.key:r.model.id;return(0,a.jsx)(T.G,{category:e.searchModelType,searchResult:r,index:i,planFilter:e.planFilter,children:(0,a.jsx)(g.ro,{data:r,index:i,children:(0,a.jsx)(eY,{searchResult:r,viewMode:e.viewMode,selectedSearchResultId:t,setSelectedSearchResultId:n,checksForViewOnlyLabels:m},s)})},s)})})}}var eX=n(838354);let eQ="search_results_view--emptyStateStrongText--Pypb2";var eZ=n(534223),e0=n(525793),e1=n(312620),e2=n(378683),e5=n(851179);let e3={[f.uH.HUB_FILES]:e0.A,[f.uH.PUBLIC_PLUGINS]:e1.A,[f.uH.PRIVATE_PLUGINS]:null,[f.uH.PUBLIC_PROFILES]:eZ.A,[f.uH.FILES]:null,[f.uH.PROJECTS]:null,[f.uH.TEAMS]:null,[f.uH.USERS]:null,[f.uH.PUBLIC_WIDGETS]:e2.A,[f.uH.PRIVATE_WIDGETS]:null},e4={[f.uH.PUBLIC_PROFILES]:"search_results_view--profilesList--Yi03k"};class e6 extends i.Component{componentDidMount(){!this.props.isLoading&&this.props.search.queryId!==this.props.search.lastAckedQueryId&&this.props.search.parameters.query.length>0&&(this.props.setSearchLastAckedQueryId(this.props.search.queryId),this.props.setLastLoadedQuery(this.props.search.sessionId,this.props.search.parameters.query,this.props.search.queryId),u.vj.Session.trackClientResult(this.props.search,this.props.selectedView))}componentDidUpdate(){!this.props.isLoading&&this.props.search.queryId!==this.props.search.lastAckedQueryId&&this.props.search.parameters.query.length>0&&(this.props.setSearchLastAckedQueryId(this.props.search.queryId),this.props.setLastLoadedQuery(this.props.search.sessionId,this.props.search.parameters.query,this.props.search.queryId),u.vj.Session.trackClientResult(this.props.search,this.props.selectedView))}renderContent(){let e;if(this.props.viewMode===x.XU.LIST)e=e4[this.props.searchModelType]??"search_results_view--list--PE88A";else if(this.props.viewMode===x.XU.GRID)switch(this.props.searchModelType){case f.uH.PUBLIC_PROFILES:case f.uH.HUB_FILES:e="search_results_view--grid--AwZ1i"}else(0,o.xb)(this.props.viewMode);e+=this.props.isLoggedIn?" search_results_view--resultsContainerMarginLoggedIn--fU5aJ":"";let t=this.props.didSucceed&&0===this.props.searchResults.length;return(0,a.jsx)(_.x,{isLoading:this.props.isLoading,className:"search_results_view--loadingContainer--wJ-PI",children:()=>this.props.didFail?(0,a.jsx)(e7,{illustration:e5.A,resourceTypeDisplayString:this.props.failureMessage||(0,d.t)("search.search_model_type.search_error"),searchModelType:this.props.searchModelType,query:null,activePlan:this.props.activePlan,activeWorkspaceFilter:this.props.activeWorkspaceFilter,onResetWorkspaceFilter:this.props.onResetWorkspaceFilter}):t?(0,a.jsx)(e7,{illustration:e3[this.props.searchModelType],resourceTypeDisplayString:(0,f.hf)(this.props.searchModelType),searchModelType:this.props.searchModelType,query:this.props.query,activePlan:this.props.activePlan,activeWorkspaceFilter:this.props.activeWorkspaceFilter,onResetWorkspaceFilter:this.props.onResetWorkspaceFilter}):(0,a.jsx)("div",{className:"search_results_view--resultsContainer--htXqo",children:(0,a.jsx)("div",{className:e,children:(0,a.jsx)(eJ,{searchModelType:this.props.searchModelType,searchResults:this.props.searchResults,viewMode:this.props.viewMode,planFilter:this.props.planFilter})})})})}render(){let e=this.props.searchModelType===f.uH.FILES?void 0:this.props.viewMode===x.XU.LIST?"search_results_view--searchResultsViewList--RDhRY search_results_view--searchResultsView--Mm-V0":"search_results_view--searchResultsView--Mm-V0";return(0,a.jsx)(g.Q0,{isDropdown:!1,...this.props,children:(0,a.jsx)("div",{className:e,children:this.renderContent()})})}}function e9(e){let t=(0,s.wA)(),n=(0,s.d4)(t=>(0,eX.zQ[e.searchModelType])(t.search.parameters,t.viewBarViewModeOptionByView).viewMode),r=(0,s.d4)(e=>!!e.user),o=(0,s.d4)(e=>e.search),l=(0,s.d4)(e=>e.search.parameters.workspaceFilter),d=(0,s.d4)(e=>e.search.parameters.planFilter),c=(0,s.d4)(e=>e.currentUserOrgId),u=(0,s.d4)(e=>e.selectedView),_=i.useCallback(()=>{t(p.HI({}))},[t]),m=i.useCallback(e=>{t(p.ej({lastAckedQueryId:e}))},[t]),h=i.useCallback((e,n,r)=>{t(p.w2({sessionId:e,query:n,queryId:r}))},[t]);return(0,a.jsx)(e6,{...e,activePlan:d,activeWorkspaceFilter:l,currentOrgId:c,isLoggedIn:r,onResetWorkspaceFilter:_,search:o,selectedView:u,setLastLoadedQuery:h,setSearchLastAckedQueryId:m,viewMode:n})}function e7(e){let{query:t,resourceTypeDisplayString:n}=e,r=(0,s.d4)(e=>e.currentUserOrgId),o="NON_ORG_TEAMS"!==e.activePlan&&e.activePlan||r,u=(0,c.bc)(h.N63,{orgId:o??null}),_=i.useMemo(()=>"loaded"===u.status?u.data?.org?.workspaces:[],[u]),p=_?.find(t=>null!=e.activeWorkspaceFilter&&t.id===e.activeWorkspaceFilter),f=e.onResetWorkspaceFilter,x=i.useMemo(()=>(0,a.jsxs)(a.Fragment,{children:[n,null!==t?(0,a.jsxs)(a.Fragment,{children:["\xa0",(0,a.jsx)("span",{className:eQ,children:t})]}):null,null!=p&&(0,a.jsxs)(a.Fragment,{children:[" in the ",(0,a.jsx)("span",{className:eQ,children:p.name})," workspace",(0,a.jsx)("br",{}),(0,a.jsx)(l.E,{className:"search_results_view--removeSearchFilterText--UmIGh",onClick:()=>{f&&f()},"aria-label":(0,d.t)("search.empty_state.try_searching_whole_org"),children:(0,d.tx)("search.empty_state.try_searching_whole_org")})]})]}),[t,f,p,n]);return(0,a.jsxs)("div",{className:"search_results_view--emptyState--LZ6oz tiles_view--emptyState--n6KR- text--fontPos11--rO47d text--_fontBase--VaHfk",children:[e.illustration&&(0,a.jsx)(m.B,{className:"search_results_view--emptyStateIllustrations--2LGH2",svg:e.illustration,useOriginalSrcFills_DEPRECATED:!0}),(0,a.jsx)("div",{className:"search_results_view--emptyStateTextWrapper--PDSC8",children:(0,a.jsx)("span",{className:"search_results_view--emptyStateText--LtXOM ellipsis--ellipsis--70pHK text--fontPos11--rO47d text--_fontBase--VaHfk",children:x})}),e.cta?(0,a.jsx)("div",{className:"search_results_view--inactiveScopeLink--53JnA",children:e.cta}):null]})}e6.displayName="SearchResultView",e7.displayName="SearchResultEmptyState"},838354:(e,t,n)=>{n.d(t,{ZG:()=>eA,zQ:()=>eN});var r,a=n(239976),i=n(105652),s=n(20002),o=n(836848),l=n(943360),d=n(563225),c=n(445019),u=n(154963),_=n(444107),m=n(835204),p=n(944322),h=n(888830),f=n(943866),x=n(741402);function g(e){let{onChange:t}=e,n=x.fS[e.searchScope].modelTypes,[r,,s]=h.t.useTabs(n.reduce((e,t)=>(e[t]=!0,e),{}),{defaultActive:e.searchModelType});i.useEffect(()=>{t(s.activeTab)},[s.activeTab,t]);let o=(0,f.ZC)(e.searchModelType);return i.useEffect(()=>{o&&o!==e.searchModelType&&s.activeTab!==e.searchModelType&&s.setActiveTab(e.searchModelType)},[e.searchModelType,o,s]),(0,a.jsx)("div",{className:"search_model_toggle--tabsRedesign--yId-B",children:(0,a.jsx)(h.t.TabStrip,{manager:s,children:n.map(e=>(0,i.createElement)(h.t.Tab,{...r[e],key:e},(0,x.q6)(e)))})})}var b=n(450207),v=n(321719),y=n(964731),w=n(641200),j=n(521199),C=n(300594),T=n(122053),k=n(328620),E=n(546092),I=n(617568),N=n(379141),A=n(522568),S=n(259714),R=n(843138);let O="relevancy_dropdown_options--row--XT9IA",D="relevancy_dropdown_options--heading--qgooU relevancy_dropdown_options--row--XT9IA",P="relevancy_dropdown_options--icon--qvVy6";var M=n(657049);function L({checkedValue:e,currentDirection:t,dirValuesToDisplayText:n,tileSortValues:r,values:o,valuesToDisplayText:l,onChange:d}){let u=(0,s.wA)(),_=(0,c.md)(I.R9),m=i.useCallback((t,n,r)=>{t.stopPropagation(),u(b.oB()),(0,A.sx)("Sort Changed - Dropdown",{oldValueString:e,newValueString:n,model:_,dir:r===w.ue.ASC?"asc":r===w.ue.DESC?"desc":void 0}),d?.(n,r)},[e,u,d,_]);return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:D,children:(0,N.tx)("tile.sort_filter.sort_by_label")}),o.map(t=>(0,a.jsxs)("div",{className:O,onMouseDown:e=>{m(e,t)},role:"button",tabIndex:-1,children:[l[t],e===t&&(0,a.jsx)(S.B,{svg:M.A,className:P})]},t)),r.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"relevancy_dropdown_options--separator--WLIio"}),(0,a.jsx)("div",{className:D,children:(0,N.tx)("tile.sort_filter.order_label")})]}),r.map((r,i)=>(0,a.jsxs)("div",{className:O,onMouseDown:t=>m(t,e,r),role:"button",tabIndex:-1,children:[n(r,(0,R.E)(e)),t===r&&(0,a.jsx)(S.B,{svg:M.A,className:P})]},i))]})}var F=n(798762),B=n(224542),U=n.n(B),H=n(719749),z=n(610604),V=n(330116),W=n(309742),G=n(859100),q=n(650473),K=n(634224),$=n(215496),Y=n(527205),J=n(271625);let X="seen_search_workspace_onboarding",Q="SEARCH_WORKSPACE_ONBOARDING_KEY",Z=(0,K.r1)("file_browser_onboarded"),ee=(0,K.r1)(X);function et(){let e=(0,s.d4)(e=>e.currentUserOrgId),t=(0,q.UC)(e),n=(0,c.md)(t),r=(0,c.md)(Z),i=(0,c.md)(ee),o=(0,G.e)({overlay:J.tBR,priority:$.N.DEFAULT_MODAL},[r,n,i]);return(0,W.h)(()=>{o.show({canShow:(e,t,n)=>e&&t&&!n})}),(0,a.jsx)(Y.rq,{isShowing:o.isShowing,trackingContextName:"Search Workspace Onboarding",userFlagOnShow:X,onClose:o.complete,targetKey:Q,title:(0,N.tx)("rcs.search_workspace_onboarding_modal.title"),description:(0,a.jsx)("p",{children:(0,N.tx)("rcs.search_workspace_onboarding_modal.text")}),emphasized:!0})}let en="workspace_dropdown_filters--row--LpH--",er="workspace_dropdown_filters--icon--p5JdY";function ea({values:e,valuesToDisplayText:t,checkedValue:n,onResetFilter:r,onChange:o}){let l=(0,s.wA)(),d=i.useCallback(e=>{e.stopPropagation(),l(b.oB())},[l]);return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"workspace_dropdown_filters--heading--ciHlx workspace_dropdown_filters--row--LpH--",children:(0,N.tx)("search.facets.workspaces")}),(0,a.jsxs)("div",{className:en,onMouseDown:e=>{d(e),r()},role:"button",tabIndex:-1,children:[t.ALL,"ALL"===n&&(0,a.jsx)(S.B,{svg:M.A,className:er})]},"ALL"),e.map(e=>(0,a.jsxs)("div",{className:en,onMouseDown:t=>{d(t),o?.(e)},role:"button",tabIndex:-1,children:[t[e],n===e&&(0,a.jsx)(S.B,{svg:M.A,className:er})]},e))]})}var ei=n(869226),es=n(493795);let eo={},el=(e,t)=>{let n=e.name.toUpperCase(),r=t.name.toUpperCase();return n<r?-1:n>r?1:0};function ed(e){let t=(0,s.d4)(e=>e.currentUserOrgId),n="NON_ORG_TEAMS"!==e.planId&&e.planId||t,r=(0,H.bc)(z.N63,{orgId:n}),{currentWorkspace:o,viewableWorkspaces:l}=i.useMemo(()=>{if("loaded"===r.status){let e=r.data?.org?.workspaces,t=e?.filter(e=>e.canView),n=r.data?.currentUser.baseOrgUser?.workspaceUsers?.find(e=>e.isMainWorkspace)?.workspaceId;return{currentWorkspace:t?.find(e=>e.id===n),viewableWorkspaces:t}}return{currentWorkspace:null,viewableWorkspaces:[]}},[r]),d=(0,s.d4)(e=>e.orgById[n]);eo.ALL=(0,N.t)("search.search_filter.all_org_results",{orgName:d?.name});let u=[],_=(0,c.md)(C.P_);return i.useMemo(()=>_&&!_.value[x.qy.FOLDER].length&&!_.value[x.qy.TEAM].length&&1===_.value[x.qy.ORG].length,[_])&&e.planId&&"NON_ORG_TEAMS"!==e.planId&&l?.length?(o&&u.push(o.id),l?.sort(el).forEach(e=>{e.id!==o?.id&&u.push(e.id),eo[e.id]=e.name}),(0,a.jsxs)("div",{"data-onboarding-key":Q,children:[(0,a.jsx)(ec,{dropdownId:"search-dropdown-group-filter",sortControlsDisabled:e.sortControlsDisabled,values:u,checkedValue:e.workspaceFilter??"ALL",onChange:e.onChangeWorkspaceFilter,onClickDropdown:e.onClickDropdown,onResetFilter:e.onResetWorkspaceFilter}),(0,a.jsx)(V.p,{children:(0,a.jsx)(et,{})})]})):(0,a.jsx)(a.Fragment,{})}function ec(e){let t=(0,s.wA)(),n=(0,i.useRef)(null),r=(0,s.d4)(e=>e.dropdownShown),o=r?.type===e.dropdownId,l=e=>{e.stopPropagation()};return(0,a.jsxs)("div",{className:e.sortControlsDisabled&&"ALL"===e.checkedValue?ei.b6:ei.P2,onMouseDown:r=>{o?(t(b.oB()),e.onClickDropdown(x.tC.CLOSE)):n.current&&(t(b.j7({type:e.dropdownId,data:{targetRect:n.current.getBoundingClientRect()}})),e.onClickDropdown(x.tC.OPEN)),l(r)},onClick:l,children:[(0,a.jsx)("span",{children:eo[e.checkedValue]}),(0,a.jsx)("div",{className:ei.dN,ref:n,children:(0,a.jsx)(S.B,{svg:es.A,className:U()(ei.OW,o?ei.iw:"")})}),o&&(0,a.jsx)(F.G,{dropdownId:e.dropdownId,dropdownChild:(0,a.jsx)(ea,{values:e.values,valuesToDisplayText:eo,checkedValue:e.checkedValue,onResetFilter:e.onResetFilter,onChange:e.onChange})})]})}var eu=n(667565),e_=n(940951),em=n(476039),ep=n(926428),eh=n(60021),ef=n(620030),ex=n(259388),eg=n(605985),eb=n(617654);let ev=ef.wv,ey="NON_ORG_TEAMS",ew={};function ej(e){let t=(0,eg.iZ)(),n=(0,s.d4)(e=>t?e.authedUsers.byId[t.id]?.plans:null);if(n&&0===n.length)return(0,a.jsx)(a.Fragment,{});let r=[];ew.ALL=(0,N.t)("search.search_filter.all_organizations_results");let i=!1;return n?.forEach(e=>{e.is_org?(r.push(e.plan_id),ew[e.plan_id]=e.name):i=!0}),i&&(r.push(ey),ew[ey]=(0,N.t)("search.search_filter.non_org_teams")),(0,a.jsx)(eC,{dropdownId:"search-dropdown-plan-filter",sortControlsDisabled:e.sortControlsDisabled,values:r,checkedValue:e.planFilter??"ALL",onChange:e.onChangePlanFilter,onClickDropdown:e.onClickDropdown,onResetFilter:e.onResetPlanFilter})}function eC(e){let t=(0,s.wA)(),n=(0,i.useRef)(null),r=(0,s.d4)(e=>e.dropdownShown),o=r?.type===e.dropdownId,[l,d]=i.useState(window.innerHeight-175);i.useEffect(()=>{let e=(0,eh.s)(function(){d(window.innerHeight-175)},250);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=e=>{e.stopPropagation()},u=()=>{o&&t(b.oB())};return(0,a.jsxs)("div",{className:e.sortControlsDisabled&&"ALL"===e.checkedValue?ei.b6:ei.P2,onMouseDown:r=>{o?(t(b.oB()),e.onClickDropdown(x.tC.CLOSE)):n.current&&(t(b.j7({type:e.dropdownId,data:{targetRect:n.current.getBoundingClientRect()}})),e.onClickDropdown(x.tC.OPEN)),c(r)},onClick:c,children:[e.checkedValue&&"ALL"!==e.checkedValue&&e.checkedValue!==ey&&(0,a.jsx)(ex.lV,{planOption:{label:ew[e.checkedValue],plan_id:e.checkedValue,plan_type:"org"}}),(0,a.jsx)("span",{ref:n,children:ew[e.checkedValue]}),(0,a.jsx)("div",{className:ei.dN,children:(0,a.jsx)(S.B,{svg:es.A,className:U()(ei.OW,o?ei.iw:"")})}),o&&(0,a.jsxs)(eb.Cf,{targetRect:r.data.targetRect,minWidth:162,maxWidth:500,maxHeight:l,showPoint:!0,lean:"right",propagateCloseClick:!0,children:[(0,a.jsx)(ef.MM,{checked:"ALL"===e.checkedValue,onClick:()=>{u(),e.onResetFilter()},children:ew.ALL},"ALL"),(0,a.jsx)(ev,{}),e.values.map(t=>(0,a.jsx)(ef.MM,{checked:t===e.checkedValue,onClick:()=>{u(),e.onChange(t)},children:ew[t]&&ew[t]},t))]})]})}var eT=n(464918),ek=n(965825);(e=>{class t extends i.Component{constructor(){super(...arguments),this.onChange=(e,t)=>{let n={...this.props.sortState,[this.props.searchModelType]:{sortKey:e,sortDesc:void 0===t?e===x.Lk.TOUCHED_AT||e===x.Lk.CREATED_AT:t===w.ue.DESC}};this.props.onChange(n)}}render(){let e=`search-sort-${this.props.searchModelType}`,t=this.props.sortState[this.props.searchModelType],n={includeSortDirection:!1};return this.props.includeSortDirection(t.sortKey)&&(n={includeSortDirection:!0,tileSortValues:ex.R1.sortOptions,currentDirection:t.sortDesc?w.ue.DESC:w.ue.ASC}),(0,a.jsx)(eS,{dropdownId:e,values:this.props.sortKeys,valuesToDisplayText:this.props.sortKeyDescriptions[this.props.viewMode],checkedValue:t.sortKey,onChange:this.onChange,disabled:this.props.disabled,...n})}}e.SearchSortDropdown=function(e){switch(e.searchModelType){case x.uH.HUB_FILES:return(0,a.jsx)(t,{...e,...p.xH});case x.uH.PUBLIC_PLUGINS:return(0,a.jsx)(t,{...e,...e_.x});case x.uH.PRIVATE_PLUGINS:return(0,a.jsx)(t,{...e,...eu.x});case x.uH.FILES:return(0,a.jsx)(t,{...e,..._.KJ});case x.uH.PROJECTS:return(0,a.jsx)(t,{...e,..._.$T});case x.uH.TEAMS:return(0,a.jsx)(t,{...e,..._.Vx});case x.uH.USERS:return(0,a.jsx)(t,{...e,..._.V0});case x.uH.PUBLIC_PROFILES:case x.uH.PUBLIC_WIDGETS:case x.uH.PRIVATE_WIDGETS:return null;default:(0,o.xb)(e.searchModelType)}}})(r||(r={}));let eE=r.SearchSortDropdown;function eI(e){switch(e.searchModelType){case x.uH.FILES:return(0,a.jsx)(ek.Kc,{...e,..._.KJ});case x.uH.PROJECTS:return(0,a.jsx)(ek.Kc,{...e,..._.$T});case x.uH.TEAMS:return(0,a.jsx)(ek.Kc,{...e,..._.Vx});case x.uH.USERS:return(0,a.jsx)(ek.Kc,{...e,..._.V0});case x.uH.HUB_FILES:case x.uH.PUBLIC_PLUGINS:case x.uH.PRIVATE_PLUGINS:case x.uH.PUBLIC_PROFILES:case x.uH.PUBLIC_WIDGETS:case x.uH.PRIVATE_WIDGETS:return null;default:return(0,o.xb)(e.searchModelType)}}let eN={[x.uH.FILES]:(e,t)=>({sortMode:e.sortState.files,viewMode:(0,j.y2)(_.KJ.viewId,t,_.KJ.defaultOptions.viewMode),shouldShowGroupFilter:!0,shouldShowPlanFilter:!0}),[x.uH.PROJECTS]:(e,t)=>({sortMode:e.sortState.projects,viewMode:(0,j.y2)(_.$T.viewId,t,_.$T.defaultOptions.viewMode),shouldShowGroupFilter:!0,shouldShowPlanFilter:!0}),[x.uH.TEAMS]:(e,t)=>({sortMode:e.sortState.teams,viewMode:(0,j.y2)(_.Vx.viewId,t,_.Vx.defaultOptions.viewMode),shouldShowGroupFilter:!0,shouldShowPlanFilter:!0}),[x.uH.USERS]:(e,t)=>({sortMode:e.sortState.users,viewMode:(0,j.y2)(_.V0.viewId,t,_.V0.defaultOptions.viewMode),shouldShowGroupFilter:!1,shouldShowPlanFilter:!0}),[x.uH.HUB_FILES]:p.eB,[x.uH.PUBLIC_PLUGINS]:e_.z,[x.uH.PRIVATE_PLUGINS]:eu.z,[x.uH.PUBLIC_PROFILES]:em.g.getValidOptions,[x.uH.PUBLIC_WIDGETS]:ep.n.getValidOptions,[x.uH.PRIVATE_WIDGETS]:ep.u.getValidOptions};function eA(e){let t=(0,s.wA)(),n=(0,s.d4)(e=>e.search.parameters),r=(0,s.d4)(e=>e.viewBarViewModeOptionByView),[o,l]=(0,c.fp)(I.R9),d=(0,c.md)(C.P_),_=(0,c.md)(C.J),p=o??x.uH.FILES,h=(0,k.r4)(p),f=h.includes(x.WY.RESOURCE),b=h.includes(x.WY.CREATOR),y=h.includes(x.WY.SPACE),w=y&&(p===x.uH.FILES||p===x.uH.PROJECTS||p===x.uH.TEAMS),j=(0,eN[p])(n,r),N=j.viewMode,A=!y&&(j.shouldShowPlanFilter??!1),S=(0,c.md)(m.hO.isFragmentSearchAtom),R=(0,c.md)(I.sC),O=(0,E.L)(S?"fragment_search_modal":"file_browser",R,!1),D=(0,c.md)(I.Q8),P=(0,c.Xr)((0,C.l4)(x.WY.RESOURCE)),M=i.useCallback(e=>{if(e===p)return;let n=(0,x.Wr)(e),r=(0,k.jN)(n);P(r),l(e);let a=(0,k.r4)(e).includes(x.WY.CREATOR),i=(0,k.r4)(e).includes(x.WY.SPACE);(r?.value===x.$L.PLUGINS||r?.value===x.$L.WIDGETS)&&t(v.HI({}));let s=(0,k.nX)(r,a?_:null,i?d:null,e);O(D,e,s,!0,!0,!1),window.scrollTo(0,0)},[p,t,_,d,O,D,P,l]),L=e=>{t(v.vj({clickType:e}))},F=(0,a.jsx)(eE,{viewMode:N,searchModelType:p,sortState:n.sortState,onChange:e=>{t(v.qv({sortState:e}))},disabled:e.sortControlsDisabled},"search-view-bar-search-sort-dropdown"),B=(0,a.jsx)("div",{className:u.s.flex.itemsCenter.mlAuto.$,children:(0,a.jsx)(eI,{searchModelType:p,disabled:e.sortControlsDisabled})},"search-view-bar-search-view-mode-toggle"),U=A&&(0,a.jsx)("div",{children:(0,a.jsx)(ej,{sortControlsDisabled:e.sortControlsDisabled,planFilter:n.planFilter,onChangePlanFilter:e=>{t(v.c3({planFilter:e}))},onClickDropdown:L,onResetPlanFilter:()=>{t(v.tw({}))}},"search-view-bar-search-plan-filter-dropdown")}),H=f&&(0,a.jsx)(T.l,{dropdownId:"full-search-results-resource-facet-dropdown",facetType:x.WY.RESOURCE},"search-view-bar-file-type-dropdown"),z=b&&(0,a.jsx)(T.l,{dropdownId:"full-search-results-creator-facet-dropdown",facetType:x.WY.CREATOR},"search-view-bar-creator-facet-dropdown"),V=y&&(0,a.jsx)(T.l,{dropdownId:"full-search-results-space-facet-dropdown",facetType:x.WY.SPACE},"search-view-bar-space-facet-dropdown"),W=d&&1===d.value[x.qy.ORG].length?d.value[x.qy.ORG][0].id:void 0,G=[U,H,z,V,w&&(0,a.jsx)(ed,{sortControlsDisabled:e.sortControlsDisabled,workspaceFilter:n.workspaceFilter,onChangeWorkspaceFilter:e=>{t(v.MB({workspaceFilter:e}))},onClickDropdown:L,onResetWorkspaceFilter:()=>{t(v.HI({}))},planId:W},"search-view-bar-facet-workspace-dropdown"),F,B];return(0,a.jsx)(eT.f,{leftSide:(0,a.jsx)(g,{searchScope:n.searchScope,searchModelType:p,onChange:M}),rightSide:G,rightSideMobile:G,shouldStackRightSideMobile:!0})}function eS(e){let t=(0,s.wA)(),n=(0,i.useRef)(null),r=(0,y.Um)(),o=r?.type===e.dropdownId,c=r=>{r.stopPropagation(),o?t(b.oB()):n.current&&t(b.j7({type:e.dropdownId,data:{targetRect:n.current.getBoundingClientRect()}}))},u=e.disabled?ei.b6:ei.P2,_=(0,a.jsx)(F.G,{dropdownId:e.dropdownId,dropdownChild:(0,a.jsx)(L,{checkedValue:e.checkedValue,currentDirection:e.includeSortDirection?e.currentDirection:null,tileSortValues:e.includeSortDirection?e.tileSortValues:[],dirValuesToDisplayText:ex.R1.sortOptionsDisplayText,values:e.values,valuesToDisplayText:e.valuesToDisplayText,onChange:e.onChange})});return(0,a.jsxs)("div",{className:u,children:[(0,a.jsxs)(l.E,{onClick:e=>{c(e)},"aria-expanded":o,children:[(0,a.jsx)("span",{ref:n,children:e.valuesToDisplayText[e.checkedValue]}),(0,a.jsx)(d.O,{})]}),o?_:null]})}},259388:(e,t,n)=>{n.d(t,{FU:()=>D,KH:()=>A,R1:()=>E,gr:()=>N,lI:()=>O,lV:()=>k,mc:()=>M,qD:()=>T,ve:()=>R,ye:()=>S});var r=n(239976),a=n(105652),i=n(20002),s=n(836848),o=n(177102),l=n(103922),d=n(735786),c=n(415839),u=n(563225),_=n(379141),m=n(522568),p=n(154963),h=n(363337),f=n(137744),x=n(39171),g=n(526575),b=n(597298),v=n(641200),y=n(778812),w=n(329983),j=n(363198),C=n(843138);function T(e){let t=(0,b.wW)(e.userId).user;return(0,r.jsx)("div",{className:p.s.mr4.flex.itemsCenter.$,children:t&&(0,r.jsx)(h.H8,{user:t,size:14})})}function k(e){let t=(0,i.d4)(e=>e.teams),n=(0,i.d4)(e=>e.orgById);if(!e.planOption?.plan_id)return null;let a="org"===e.planOption.plan_type&&e.planOption.plan_id?n[e.planOption.plan_id]?.img_url:t[e.planOption.plan_id]?.img_url;return(0,r.jsx)("div",{className:p.s.flex.itemsCenter.$,children:(0,r.jsx)(y.H,{entityId:e.planOption.plan_id,entityName:e.planOption.label,imgUrl:a})})}let E={sortOptions:[v.ue.ASC,v.ue.DESC],sortOptionsDisplayText:(e,t)=>{switch(e){case v.ue.ASC:switch(t){case v.rR.TIME:return(0,_.t)("tile.sort_filter.sort_direction_oldest_first");case v.rR.ALPHABETICAL:return(0,_.t)("tile.sort_filter.sort_direction_a_to_z");default:return(0,_.t)("tile.sort_filter.sort_direction_ascending")}case v.ue.DESC:switch(t){case v.rR.TIME:return(0,_.t)("tile.sort_filter.sort_direction_newest_first");case v.rR.ALPHABETICAL:return(0,_.t)("tile.sort_filter.sort_direction_z_to_a");default:return(0,_.t)("tile.sort_filter.sort_direction_descending")}default:(0,s.xb)(e)}}};function I(e){let t=e.checkedValue.toString(),n=(t,n)=>{let r=e.filterOptions.find(e=>e.toString()===t);void 0!==r&&e.onChange(r,n)};return(0,r.jsxs)(o.Root,{value:t,onChange:e=>n(e??""),children:[(0,r.jsx)(l.v.SelectTrigger,{selected:"0"!==t&&""!==t,children:(0,r.jsx)("span",{children:e.filterDisplayText[e.checkedValue]})}),(0,r.jsx)(o.Container,{children:e.filterOptions.map(t=>(0,r.jsx)(o.Option,{value:t.toString(),children:e.filterDisplayText[t]},t))})]})}function N(e){return(0,r.jsx)(I,{filterOptions:[v.rJ.ANY,v.rJ.SELF,v.rJ.OTHER],filterDisplayText:{[v.rJ.ANY]:(0,_.tx)("tile.sort_filter.created_by_anyone"),[v.rJ.SELF]:(0,_.tx)("tile.sort_filter.created_by_you"),[v.rJ.OTHER]:(0,_.tx)("tile.sort_filter.created_by_others")},checkedValue:e.options.tileSortFilterConfig.filters.creator,onChange:t=>{let n=e.options.tileSortFilterConfig,r={...n,filters:{...n.filters,creator:t}};e.dispatch(f.JF({selectedView:e.selectedView,config:r})),m.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:"creator",filterValue:t.toString(),previousFilterValue:n.filters.creator?.toString()??"",page:e.selectedView.view})}})}function A(e){return(0,r.jsx)(I,{filterOptions:[v.Jh.CAN_BE_RESTORED_DELETED,v.Jh.CAN_BE_VIEWED],filterDisplayText:{[v.Jh.CAN_BE_RESTORED_DELETED]:(0,_.tx)("tile.sort_filter.can_be_restored_permanently_deleted"),[v.Jh.CAN_BE_VIEWED]:(0,_.tx)("tile.sort_filter.can_be_viewed")},checkedValue:e.options.tileSortFilterConfig.filters.role??v.Jh.CAN_BE_RESTORED_DELETED,onChange:t=>{let n=e.options.tileSortFilterConfig,r={...n,filters:{...n.filters,role:t}};e.dispatch(f.JF({selectedView:e.selectedView,config:r})),m.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:"role",filterValue:(0,v.xp)(t),previousFilterValue:(0,v.xp)(n.filters.role)??"",page:e.selectedView.view})}})}function S(e){let t=(0,i.wA)(),n=(0,i.d4)(e=>e.selectedView),a=(0,j.oz)(),s=(0,x.HH)(),o=(0,w.aI)(),l="recentsAndSharing"===n.view,d=[v.t2.ANY,v.t2.DESIGN,v.t2.FIGJAM,v.t2.SLIDES];d=s?d.concat([v.t2.COOPER]):d,d=a?d.concat([v.t2.SITES]):d,d=o?d.concat([v.t2.MAKE]):d,d=l?d.concat([v.t2.PROTOTYPE]):d;let c={[v.t2.ANY]:(0,_.tx)("tile.sort_filter.filter_by_all_files"),[v.t2.DESIGN]:(0,_.tx)("tile.sort_filter.filter_by_design_files"),[v.t2.FIGJAM]:(0,_.tx)("tile.sort_filter.filter_by_figjam_files"),[v.t2.PROTOTYPE]:(0,_.tx)("tile.sort_filter.filter_by_prototype_files"),[v.t2.SITES]:(0,_.tx)("tile.sort_filter.filter_by_sites_files"),[v.t2.SLIDES]:(0,_.tx)("tile.sort_filter.filter_by_slides_files"),[v.t2.COOPER]:(0,_.tx)("tile.sort_filter.filter_by_buzz_files"),[v.t2.MAKE]:(0,_.tx)("tile.sort_filter.filter_by_make_files")};return(0,r.jsx)(I,{filterOptions:d,filterDisplayText:c,checkedValue:e.config.filters.fileType,onChange:r=>{let a={...e.config,filters:{...e.config.filters,fileType:r}};t(f.JF({selectedView:n,config:a,tab:e.tab})),m.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:"fileType",filterValue:(0,v.kf)(r??v.t2.ANY),previousFilterValue:(0,v.kf)(e.config.filters.fileType),page:n.view})}})}function R(e){let t=(0,i.wA)(),n=(0,i.d4)(e=>e.selectedView),a=Object.values(v.oc),s={[v.oc.ALL]:(0,_.t)("shared_with_you.filters.shared_with.all"),[v.oc.USER]:(0,_.t)("shared_with_you.filters.shared_with.you_directly"),[v.oc.USER_GROUP]:(0,_.t)("shared_with_you.filters.shared_with.your_user_groups")},o=e.userGroupIdFilterOptions??{},m=Object.keys(o),p=e.config.filters.sharedWith??v.oc.ALL,h=e.config.filters.sharedWithUserGroupIdFilter,x=r=>{let a={...e.config,filters:{...e.config.filters,sharedWith:r,sharedWithUserGroupIdFilter:r===v.oc.USER_GROUP?e.config.filters.sharedWithUserGroupIdFilter:void 0}};t(f.JF({selectedView:n,config:a,tab:e.tab}))},g=r=>{let a={...e.config,filters:{...e.config.filters,sharedWithUserGroupIdFilter:r}};t(f.JF({selectedView:n,config:a,tab:e.tab}))},{getTriggerProps:b,manager:y}=d.b(),w=p!==v.oc.ALL||void 0!==h;return(0,r.jsxs)(d.bL,{manager:y,children:[(0,r.jsx)(l.v,{trailing:(0,r.jsx)(u.O,{}),selected:w,...b(),children:(0,r.jsx)("span",{children:(()=>{if(h&&o[h])return`${(0,_.t)("shared_with_you.filters.shared_with.label")}: ${o[h]}`;switch(p){case v.oc.ALL:return(0,_.t)("shared_with_you.filters.shared_with.all");case v.oc.USER:return`${(0,_.t)("shared_with_you.filters.shared_with.label")}: ${(0,_.t)("shared_with_you.filters.shared_with.you_directly")}`;case v.oc.USER_GROUP:return`${(0,_.t)("shared_with_you.filters.shared_with.label")}: ${(0,_.t)("shared_with_you.filters.shared_with.your_user_groups")}`;default:return(0,_.t)("shared_with_you.filters.shared_with.all")}})()})}),(0,r.jsxs)(d.mc,{children:[(0,r.jsx)(d.YJ,{title:(0,r.jsx)(d.hE,{children:(0,_.tx)("shared_with_you.filters.shared_with.label")}),children:a.map(e=>(0,r.jsx)(c.H_,{onChange:()=>x(e),checked:e===p,children:s[e]},`shared-with-${e}`))},"shared-with-filter"),m.length>0&&p===v.oc.USER_GROUP&&(0,r.jsxs)(d.YJ,{title:(0,r.jsx)(d.hE,{children:(0,_.tx)("shared_with_you.filters.user_group.label")}),children:[(0,r.jsx)(c.H_,{onChange:()=>g(void 0),checked:void 0===h,children:(0,_.t)("shared_with_you.filters.user_group.all")},"user-group-all"),m.map(e=>(0,r.jsx)(c.H_,{onChange:()=>g(e),checked:e===h,children:o[e]},`user-group-${e}`))]},"user-group-filter")]})]})}function O(e){let t=(0,i.wA)(),n=(0,i.d4)(e=>e.selectedView);return(0,r.jsx)(I,{checkedValue:e.config.filters.sharedBy??"",onChange:r=>{let a={...e.config,filters:{...e.config.filters,sharedBy:r}},i="recentsAndSharing"===n.view?n.tab:n.view;(0,g.nX)(r,i),m.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:"sharedBy",filterValue:r,previousFilterValue:e.config.filters.sharedBy??"anyone",page:i}),t(f.JF({selectedView:n,config:a,tab:e.tab}))},filterOptions:Object.keys(e.filterOptions),filterDisplayText:e.filterOptions})}function D(e){let t=(0,i.wA)(),n=(0,i.d4)(e=>e.selectedView),s=a.useMemo(()=>{let t={};return Object.entries(e.filterOptions).forEach(([e,n])=>{t[e]=n.label}),t},[e.filterOptions]),o=e.config.filters.plan?.planId??"";return a.useEffect(()=>{let r=e.config.filters.plan?.planId;if(r&&!s[r]){let r={...e.config,filters:{...e.config.filters,plan:{planId:void 0,planType:void 0}}};t(f.JF({selectedView:n,config:r,tab:e.tab}))}},[e.config,e.tab,t,n,s]),(0,r.jsx)(I,{checkedValue:o,onChange:r=>{let a=e.filterOptions[r];if(!a)return;let{plan_id:i,plan_type:s}=a,l={...e.config,filters:{...e.config.filters,plan:{planId:i,planType:s}}},d="recentsAndSharing"===n.view?n.tab:n.view;(0,g.FE)(i,d,s),t(f.JF({selectedView:n,config:l,tab:e.tab})),m.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:"plan",filterValue:i??"all_plans",previousFilterValue:o??"all_plans",page:d})},filterOptions:Object.keys(e.filterOptions),filterDisplayText:s})}let P={[v.C0.NAME]:v.ue.ASC,[v.C0.CREATED_AT]:v.ue.DESC,[v.C0.TOUCHED_AT]:v.ue.DESC,[v.C0.TRASHED_AT]:v.ue.DESC,[v.C0.PROJECT_NAME]:v.ue.ASC,[v.C0.ACCESSED_AT]:v.ue.DESC,[v.C0.SHARED_AT]:v.ue.DESC,[v.C0.SEARCH_RELEVANCE]:v.ue.DESC};function M(e){let{options:t,selectedView:n,tab:i,dispatch:s}=e,o=e=>P[e]??v.ue.ASC,p=a.useCallback((e,r)=>{let a=t.tileSortFilterConfig,l=void 0===r?o(e):r,d={...a,sort:{key:e,dir:l}};s(f.JF({selectedView:n,config:d,tab:i})),m.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:void 0===r?"sortKey":"sortDir",sortKey:(0,v._5)(e),sortDir:(0,v.GB)(l),previousSortKey:(0,v._5)(a.sort.key),previousSortDir:(0,v.GB)(a.sort.dir),page:n.view})},[t.tileSortFilterConfig,n,i,s]);a.useEffect(()=>{t.sortKeys.some(e=>e===t.tileSortFilterConfig.sort.key)||p(t.sortKeys[t.sortKeys.length-1],t.tileSortFilterConfig.sort.dir)},[t.sortKeys,t.tileSortFilterConfig.sort.key,t.tileSortFilterConfig.sort.dir,p]);let h={[v.C0.CREATED_AT]:(0,_.tx)("tile.sort_filter.sort_date_created"),[v.C0.TOUCHED_AT]:(0,_.tx)("tile.sort_filter.sort_last_modified"),[v.C0.ACCESSED_AT]:(0,_.tx)("tile.sort_filter.sort_last_viewed"),[v.C0.NAME]:(0,_.tx)("tile.sort_filter.sort_alphabetical"),[v.C0.TRASHED_AT]:(0,_.tx)("tile.sort_filter.sort_date_trashed"),[v.C0.SHARED_AT]:(0,_.tx)("tile.sort_filter.date_shared"),[v.C0.SEARCH_RELEVANCE]:(0,_.tx)("tile.sort_filter.trending"),[v.C0.PROJECT_NAME]:(0,_.tx)("tile.sort_filter.team")},{getTriggerProps:x,manager:g}=d.b();return(0,r.jsxs)(d.bL,{manager:g,children:[(0,r.jsx)(l.v,{trailing:(0,r.jsx)(u.O,{}),...x(),children:(0,r.jsx)("span",{children:h[t.tileSortFilterConfig.sort.key]})}),(0,r.jsxs)(d.mc,{children:[t.sortKeys.length>1&&(0,r.jsx)(d.YJ,{title:(0,r.jsx)(d.hE,{children:(0,_.t)("tile.sort_filter.sort_by_label")}),children:t.sortKeys.map(e=>(0,r.jsx)(c.H_,{onChange:()=>p(e),checked:e===t.tileSortFilterConfig.sort.key,children:h[e]},`sort-filter-label-${e}`))},"sort-filter-label"),(0,r.jsx)(d.YJ,{title:(0,r.jsx)(d.hE,{children:(0,_.t)("tile.sort_filter.order_label")}),children:E.sortOptions.map((e,n)=>(0,r.jsx)(c.H_,{onChange:()=>p(t.tileSortFilterConfig.sort.key,e),checked:e===t.tileSortFilterConfig.sort.dir,children:E.sortOptionsDisplayText(e,(0,C.E)(t.tileSortFilterConfig.sort.key))},`sort-option-label-${n}`))},"sort-option-label")]})]})}},843138:(e,t,n)=>{n.d(t,{E:()=>l});var r=n(295870),a=n(129416),i=n(395189),s=n(741402),o=n(641200);function l(e){switch(e){case o.C0.ACCESSED_AT:case o.C0.CREATED_AT:case o.C0.TOUCHED_AT:case o.C0.TRASHED_AT:case o.C0.SHARED_AT:case s.j9.CREATED_AT:case s.j9.TOUCHED_AT:case s.j9.UPDATED_AT:case s.j9.RECENCY:case i.Dq.LAST_MODIFIED:case i.Dq.SHARED_AT:return o.rR.TIME;case o.C0.NAME:case o.C0.PROJECT_NAME:case s.j9.NAME:case s.j9.AUTHOR_NAME:case s.j9.EMAIL:case i.Dq.NAME:case i.Dq.OWNER:case i.Dq.TEAM:return o.rR.ALPHABETICAL;case s.j9.INSTALL_COUNT:case s.j9.MEMBER_COUNT:case s.j9.RELEVANCY:case s.j9.POPULARITY:return o.rR.OTHER;default:let t=Error(`Uncaught sort key: ${e}`);return(0,a.$D)(r.e.WAYFINDING,t),o.rR.OTHER}}},965825:(e,t,n)=>{n.d(t,{$c:()=>h,Kc:()=>f});var r=n(239976),a=n(105652),i=n(20002),s=n(727640),o=n(733200),l=n(533472),d=n(644404),c=n(379141),u=n(522568),_=n(137744),m=n(641200);function p({viewMode:e,onViewModeChange:t,disabled:n}){let a=()=>{(0,u.sx)("file_browser_view_mode_toggle",{newViewMode:m.XU.GRID}),t(m.XU.GRID)},i=()=>{(0,u.sx)("file_browser_view_mode_toggle",{newViewMode:m.XU.LIST}),t(m.XU.LIST)};return(0,r.jsx)("form",{children:(0,r.jsxs)(s.bL,{value:e?.toString(),legend:(0,r.jsx)(o.q,{children:(0,c.t)("fullscreen.view_mode.view_mode")}),readonly:n,onChange:e=>{e===m.XU.GRID.toString()?a():i()},children:[(0,r.jsx)(s.c$,{value:m.XU.GRID.toString(),icon:(0,r.jsx)(l.t,{}),"aria-label":(0,c.t)("fullscreen.view_mode.show_as_grid")}),(0,r.jsx)(s.c$,{value:m.XU.LIST.toString(),icon:(0,r.jsx)(d.Z,{}),"aria-label":(0,c.t)("fullscreen.view_mode.show_as_list")})]})})}class h extends a.PureComponent{constructor(e){super(e),this.onViewModeChange=e=>{this.setState({viewMode:e},()=>{this.props.onViewModeChange(e)})},this.state={viewMode:e.initialViewMode}}render(){return(0,r.jsx)(p,{viewMode:this.state.viewMode,onViewModeChange:this.onViewModeChange})}}function f(e){let t=(0,i.wA)(),n=(0,i.d4)(t=>t.viewBarViewModeOptionByView[e.viewId])??e.defaultOptions.viewMode;return(0,r.jsx)(p,{viewMode:n,onViewModeChange:n=>{t(_.uV({viewId:e.viewId,viewMode:n}))},disabled:e.disabled})}},969644:(e,t,n)=>{n.d(t,{B:()=>c});var r=n(105652),a=n(20002),i=n(141288),s=n(184743),o=n(450207),l=n(425519),d=n(740886);function c(){let e=(0,a.wA)();return r.useCallback((t,n)=>{let r=l.uF(t)?.name;if(n?.stopPropagation(),(0,s.oJ)(n)){i.Ay.redirect((0,d.ho)(t.id,r),"_blank");return}n?.preventDefault(),e(o.sf({view:"communityHub",subView:"plugin",publishedPluginId:t.id}))},[e])}},968949:(e,t,n)=>{n.d(t,{s:()=>c});var r=n(105652),a=n(20002),i=n(141288),s=n(184743),o=n(450207),l=n(425519),d=n(740886);function c(){let e=(0,a.wA)();return r.useCallback((t,n)=>{let r=l.uF(t)?.name;if(n?.stopPropagation(),(0,s.oJ)(n)){i.Ay.redirect((0,d.YW)(t.id,r),"_blank");return}n?.preventDefault(),e(o.sf({view:"communityHub",subView:"widget",widgetId:t.id}))},[e])}},685110:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(105652),a=n(20002),i=n(485571),s=n(536378),o=n(326141),l=n(992937);function d(e,t){let n=(0,a.wA)();return r.useMemo(()=>({onClick:t?()=>{n(i.dm(e))}:()=>{},onJoin:o.GR(n,e),onLeave:()=>{n(s.to({type:l.p,data:{teamId:e}}))}}),[n,e,t])}},573894:(e,t,n)=>{n.d(t,{t:()=>a});var r=n(379141);function a(e){return e<999?e.toString():(0,r.t)("file_browser.folder.truncated_file_count",{maxCount:999})}},241729:(e,t,n)=>{n.d(t,{b0:()=>v});var r=n(239976),a=n(105652),i=n(379141),s=n(270450),o=n(445019),l=n(393463),d=n(997925),c=n(859100),u=n(574220),_=n(634224),m=n(215496),p=n(289252),h=n(527205),f=n(355441),x=n(271625);let g="seen_file_preview_overlay",b=(0,_.r1)(g);function v(){let e=(0,o.md)(d.i),t=(0,o.md)(u.Fy),n=!!(0,s.kc)().scrub_file_browser_search_results,_=(0,o.md)(b),{show:v,isShowing:y,complete:w}=(0,c.e)({overlay:x.b0J,priority:m.N.DEFAULT_MODAL},[t,_]);return a.useEffect(()=>{e.size&&n&&v({canShow:(e,t)=>e&&!t})},[n,e,v]),(0,r.jsx)(h.rq,{arrowPosition:f.F_.LEFT_TITLE,description:(0,i.tx)("file_preview_onboarding.move_your_cursor"),disableHighlight:!0,isShowing:y,media:(0,r.jsx)(p.w,{src:(0,l.ck)("31df1314d5fec4580db0bc6ceda8fcca7a600e30"),aspectRatio:16/9}),onClose:w,onTargetLost:w,targetKey:"scrubbable-thumbnail",title:(0,i.tx)("file_preview_onboarding.new_ways_to_preview_files"),trackingContextName:"FilePreviewOverlay",userFlagOnShow:g})}},691589:(e,t,n)=>{n.d(t,{p:()=>M,u:()=>P});var r=n(239976),a=n(20002),i=n(379141),s=n(270450),o=n(522568),l=n(40297),d=n(894696),c=n(732838),u=n(391596),_=n(371971),m=n(485571),p=n(149314),h=n(289203),f=n(895679),x=n(399769),g=n(913109),b=n(490549),v=n(536378),y=n(338630),w=n(526575),j=n(852553),C=n(550534),T=n(578172),k=n(276571),E=n(898301),I=n(935467),N=n(395189),A=n(21612),S=n(469543),R=n(222041),O=n(628433),D=n(526865);function P(e){let t=(0,a.d4)(e=>e.currentUserOrgId),n=(0,a.d4)(e=>e.currentTeamId),r=(0,a.d4)(e=>e.loadedFolders),p=(0,k._6)(),y=(0,x.ym)(),w=(0,x.WJ)(),S=(0,u.gY)(T.k4),P=t||n,M=(0,a.d4)(e=>e.teams),L=(0,d.YO)(e),F=(0,a.wA)();return({folder:e,shouldShowJoinButton:n,shouldHideShareOption:a,trackSearchFolder:d})=>{let u=e.teamId,x=e&&u?M[u]:void 0,k=x?x.org_id:e.orgId;if("loaded"!==L.status)return[];let B=!!L.data?.canShare,U=!!L.data?.canMove&&(!L.data?.hasPendingResourceConnectionInvite||!!k),H=!!L.data?.canRestore,z=!!L.data?.canPermanentlyDelete,V=()=>{F(m.kg({clickedResourceType:"team",resourceIdOrKey:e.id})),y(e.id)},W=()=>{F(m.kg({clickedResourceType:"team",resourceIdOrKey:e.id})),w(e.id)},G=window.innerWidth<=(0,l.hG)(D.tgj),q=!B||(a||!(0,s.kc)().merge_project_context_menus)&&!G,K=[],$=[];if($.push({displayText:(0,i.t)("general.open"),onClick:()=>{d&&d(),V()},disabled:"trashedFolders"===p.view}),c.eD||$.push({displayText:(0,i.t)("file_browser.open_in_new_tab"),onClick:()=>{d&&d(),W()},disabled:"trashedFolders"===p.view}),e.trashedAt)return H&&K.push({displayText:(0,i.t)("project_menu.restore"),onClick:()=>{(0,o.sx)("Folder Restore Click",{folderId:e.id,teamId:u,orgId:k}),x&&!(0,E.rR)(x,{type:E.sK.ADD_PROJECT})?F(v.to({type:R.DV,data:{team:x,resource:I.vL.FOLDER,action:A.ZN.CREATE_FOLDER,currentPlan:j.F.Plan.STARTER,upsellPlan:j.F.Plan.PRO,editorType:null,entryPoint:C.C.FOLDER_RESTORE}})):S({folderId:e.id,team:x}).catch(()=>{F(_.s.error((0,i.t)("file_browser.api_folder.error_when_restoring")))})},disabled:!H}),z&&K.push({displayText:(0,i.t)("project_menu.permanently_delete"),onClick:()=>{(0,o.sx)("Folder Permanently Delete Click",{folderId:e.id,teamId:e.teamId,orgId:k}),F(v.to({type:(0,h.U)(),data:{folder:e,folderOrgId:k}}))},disabled:!z}),[{key:"trashed",items:K}];K.push({displayText:(0,i.t)("file_browser.copy_link"),onClick:()=>{let n=(0,N.EE)(e.id,t);F(b.S({url:n,linkType:"project"}))}}),n||(q||K.push({displayText:(0,i.t)("sidebar.share"),onClick:()=>{F((0,T.jl)({folderId:e.id,loadedFolders:r})),F(v.to({type:O.WY,data:{folderId:e.id}}))}}),(k===P||u===P)&&K.push({displayText:(0,i.t)("sidebar.move_project"),onClick:()=>{F((0,T.jl)({folderId:e.id,loadedFolders:r})),F(v.to({type:f.J,data:{folderId:e.id}}))},disabled:!U}));let Y=[];return!q&&(0,s.kc)().merge_project_context_menus&&Y.push({key:"open",items:$}),Y.push({key:"default",items:K}),Y.push({key:"settings",items:[{displayText:(0,i.t)("project_menu.settings"),onClick:()=>{F(v.to({type:g.l,data:{folderId:e.id}}))},trackingEventName:"Folder Settings Click",trackingProperties:{folderId:e.id,entryPoint:"Folder Context Menu"}}]}),Y}}function M({className:e,folder:t,shouldHideShareOption:n,trackSearchFolder:i}){let s=(0,a.d4)(e=>e.dropdownShown),o=(0,a.wA)(),l=(0,y.j6)(),d=P(t.id),c=s?.data?.targetRect;if(!c)return null;let u=d({folder:t,shouldHideShareOption:n,trackSearchFolder:i});return(0,r.jsx)(y.fu,{name:"Folder Context Menu",children:(0,r.jsx)(S.j,{className:e,items:(0,p.o)(u),parentRect:c,showPoint:!1,lean:"right",dispatch:o,onSelectItem:(e,t)=>{e.callback&&e.callback("",{},o,t),e.trackingProperties&&(0,w.Cu)({...l.properties,trackingContext:e.trackingEventName||l.name,...e.trackingProperties})},shouldUsePortal:!0,autofocusPrevOnDismount:!0})})}},841081:(e,t,n)=>{n.d(t,{m:()=>tp});var r=n(239976),a=n(105652),i=n(20002),s=n(379141),o=n(270450),l=n(323264),d=n(522568),c=n(894696),u=n(391596),_=n(371971),m=n(485571),p=n(289203),h=n(372750),f=n(399769),x=n(190429),g=n(865702),b=n(735786),v=n(116695),y=n(943360),w=n(225145),j=n(634020),C=n(224542),T=n.n(C),k=n(732838),E=n(184743),I=n(719749),N=n(29161),A=n(577225),S=n(969816),R=n(806130),O=n(985836),D=n(259660),P=n(748753),M=n(259714),L=n(620132),F=n(788030),B=n(154963),U=n(210823),H=n(196180),z=n(635426),V=n(441452);let W=a.forwardRef(function({topLeftThumbnailPreview:e,topRightThumbnailPreview:t,bottomLeftThumbnailPreview:n,bottomRightThumbnailPreview:a,title:i,subtitle:s,topRightContent:o,isSelected:l,onClick:d,onFocus:c,onBlur:u,cardRole:_,draggable:m},p){return(0,r.jsx)(V.R.Root,{isSelected:!!l,ref:p,onClick:d,onFocus:c,onBlur:u,cardRole:_,draggable:m,children:(0,r.jsxs)("div",{className:"x1n2onr6",children:[o&&(0,r.jsx)("div",{className:"x78zum5 x1q0g3np xuk3077 x1i71x30 x1qughib x10l6tqk x1vjfegm x13vifvy x3m8u43 xi4r6k5 xb3r6kr x98rzlu x9f619 x13qp9f6",children:o}),(0,r.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x1dipnxa x1excjyp x1yjdb4r",children:[(0,r.jsx)(G,{topLeftPreview:e,topRightPreview:t,bottomLeftPreview:n,bottomRightPreview:a}),(0,r.jsxs)("div",{className:"x98rzlu x78zum5 xh8yej3 xdt5ytf x195vfkc xb3r6kr",children:[(0,r.jsx)(V.R.Title,{children:i}),(0,r.jsx)(V.R.Subtitle,{children:s})]})]})]})})});function G({topLeftPreview:e,topRightPreview:t,bottomLeftPreview:n,bottomRightPreview:a}){return(0,r.jsxs)("div",{className:"xrvj5dj x3qb07v x1p9eum2 x1i71x30 xh8yej3 x5yr21d",children:[e,t,n,a]})}var q=n(214056),K=n(276571);function $(e){let t=(0,K._6)(),n=(0,i.d4)(e=>e.currentUserOrgId);return"recentsAndSharing"===t.view&&"shared-projects"===t.tab?e.parent_org?.id??null:n}function Y(e){let t=(0,K._6)(),n=(0,i.d4)(e=>e.currentTeamId);return"recentsAndSharing"===t.view&&"shared-projects"===t.tab?e.parent_team?.id??null:n}var J=n(573894),X=n(110081),Q=n(97387),Z=n(130763),ee=n(155862),et=n(920675);function en(e){let{folder:t}=e,n=(0,i.wA)(),s=$(e.folder),o=e.folder.team_id,l=(0,ee.jm)(s,o),d=(0,Z.fn)()===Z.ih.CONTROL,c=a.useCallback(({favoriteId:e,sectionId:r})=>{n(Q.Mv({entrypoint:"folder_list_card",favoriteId:e,sectionId:r,folder:t}))},[n,t]),u=a.useCallback(({favoriteId:e})=>{n(Q.jv({entrypoint:"folder_list_card",favoriteId:e,folderId:t.id}))},[n,t]);return d&&l?(0,r.jsx)(X.H,{favoriteStarMenu:e.favoriteStarMenu,setFavorite:c,removeFavorite:u,favoriteType:et.bk.FOLDER,resourceId:e.folder.id,orgId:s,teamId:o}):(0,r.jsx)(r.Fragment,{})}var er=n(90040),ea=n(509938),ei=n(450460),es=n(450207),eo=n(62440),el=n(459594),ed=n(526575),ec=n(67562),eu=n(113877),e_=n(964731),em=n(785403),ep=n(877964),eh=n(639605),ef=n(605985),ex=n(610604),eg=n(690925),eb=n(702417),ev=n(374677),ey=n(236410),ew=n(427194);function ej(){return(0,r.jsx)(ew.X,{FileThumbnailComponent:eC})}function eC(){return(0,r.jsx)(F.q,{noBorder:!0,borderRadius:8,children:(0,r.jsx)(O.Qp,{animationType:O.JR.LIGHT_SHIMMER,className:T()(B.s.wFull.hFull.$)})})}let eT="folder_list_card--fileTile--0Od0C";var ek=n(555346);let eE=a.forwardRef(function(e,t){let n=(0,i.wA)(),s=(0,ep.FC)(),l=(0,K._6)(),d=(0,ef.TA)(),u=$(e.folder),_=Y(e.folder),p=(0,e_.Um)(),h=b.b(),y=(0,I.bc)(ex.qjT,{resourceId:e.folder.id,resourceType:et.bk.FOLDER,orgId:u,teamId:u?null:_}),w=j.Qw.useTransform(y,e=>void 0!==(0,ec.eU)(e,et.bk.FOLDER)).unwrapOr(!!e.folder.is_favorited),C=(0,c.YO)(e.folder.id),k=(0,f.EB)(),E=t=>{"trashedFolders"!==l.view&&(n(m.kg({clickedResourceType:"team",resourceIdOrKey:e.folder.id})),(0,ed.xr)("file_browser_folder_click",e.folder.id,e.folder.team_id,s,{selectedView:"recentsAndSharing"===l.view?l.tab:l.view,planFilterId:e.currentPlanFilter?.planId||null,planFilterType:e.currentPlanFilter?.planType||null,viewMode:"grid"}),k(e.folder.id,t))},A="loaded"===C.status&&!!C.data?.canCreateDesignFileWithReasons.result,S=j.Qw.useTransform(e.folderFilesResult,(0,a.useCallback)(e=>e.sort((e,t)=>e.touched_at===t.touched_at?0:e.touched_at<t.touched_at?1:-1).slice(0,15),[])),R=j.Qw.useTransform(S,(0,a.useCallback)(t=>{let n=t.slice(0,4).map(t=>(0,r.jsx)(eP,{file:t,teamId:e.folder.team_id},t.key));for(;n.length<4;)n.push((0,r.jsx)(eB,{folderId:e.folder.id,teamId:e.folder.team_id,canCreateFile:A},`${n.length}`));return n},[A,e.folder]));if((0,o.kc)().file_browser_folder_cards){let n=!!e.checksForViewOnlyLabels&&e.checksForViewOnlyLabels.teamId===e.folder.team_id&&e.checksForViewOnlyLabels.isLockedTeam;return(0,r.jsx)(W,{ref:t,bottomLeftThumbnailPreview:(0,r.jsx)(eI,{folderId:e.folder.id,fileTilesResult:e.folderFilesResult,itemIndex:2,teamId:_,canCreateFile:A}),bottomRightThumbnailPreview:(0,r.jsx)(eI,{folderId:e.folder.id,fileTilesResult:e.folderFilesResult,itemIndex:3,teamId:_,canCreateFile:A}),cardRole:e.cardRole,isHoverContentVisibleOverride:h.manager.isOpen,isSelected:e.isSelected,onBlur:e.onBlur,onClick:e.onClick,onFocus:e.onFocus,subtitle:(0,r.jsx)(eD,{folder:e.folder,folderTeamName:e.folderTeamName}),title:(0,r.jsx)(eO,{showViewOnlyLabel:n,folder:e.folder,folderName:e.folderName,settingsButtonProps:e.settingsButtonProps}),topLeftThumbnailPreview:(0,r.jsx)(eI,{folderId:e.folder.id,fileTilesResult:e.folderFilesResult,itemIndex:0,teamId:_,canCreateFile:A}),topRightContent:"trashedFolders"===l.view?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(v.HG,{children:(0,r.jsx)(V.R.Overlay,{isHoverContentVisibleOverride:h.manager.isOpen,children:(0,r.jsx)(en,{folder:{...e.folder,is_subscribed:w},favoriteStarMenu:h})})}),topRightThumbnailPreview:(0,r.jsx)(eI,{folderId:e.folder.id,fileTilesResult:e.folderFilesResult,itemIndex:1,teamId:_,canCreateFile:A})})}return(0,r.jsx)("div",{className:e.inItemsView?"folder_list_card--folderCardInItemsView--cP15c":"folder_list_card--folderCard--UK-LM",onClick:e.inItemsView?g.lQ:e=>{e.preventDefault(),e.stopPropagation(),(2===e.detail||N.Ay.mobile||N.Ay.tablet)&&E(e)},onContextMenu:e.inItemsView?g.lQ:t=>{t.stopPropagation(),t.preventDefault();let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};n(es.j7({type:x.B,data:{folder:{...(0,eg.Bp)(e.folder),description:e.folder.description,isSubscribed:w},targetRect:r}}))},"data-onboarding-key":e.dataOnboardingKey,tabIndex:0,children:(0,r.jsxs)("div",{className:"folder_list_card--folderCardContent--fon-l",children:[(0,r.jsx)(D.xv,{loaded:"loaded"===R.status,loadingSkeletonElement:(0,r.jsx)(ej,{}),children:(0,r.jsx)("div",{className:"folder_list_card--folderTiles--LWmEf",onFocus:e.onChildFocusChange,onBlur:e.onChildFocusChange,children:R.data})}),(0,r.jsxs)(r.Fragment,{children:["trashedFolders"===l.view?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)("div",{className:T()("folder_list_card--topRightControls--lWZC-",{"folder_list_card--topRightControlsVisible--yyYDk":p?.data?.resourceId===e.folder.id||w||h.manager.isOpen}),children:(0,r.jsx)(en,{folder:{...e.folder,is_subscribed:w},favoriteStarMenu:h})}),(0,r.jsx)("div",{className:"folder_list_card--folderCardFooter--e7YKx",children:(0,r.jsx)(eR,{...e,currentUserId:d,folder:e.folder,folderLastUpdated:e.folderLastUpdated,folderName:e.folderName,folderTeamName:e.folderTeamName,isSharerInfoIncluded:e.isSharerInfoIncluded,showFavoriteStar:!1})})]})]})})});function eI({folderId:e,fileTilesResult:t,itemIndex:n,teamId:a,canCreateFile:i}){let s=(0,K._6)();return(0,r.jsx)(D.xv,{loaded:"loaded"===t.status,loadingSkeletonElement:(0,r.jsx)(eC,{}),children:t.data?.[n]?"trashedFolders"===s.view?(0,r.jsx)(eM,{file:t.data[n]}):(0,r.jsx)(v.HG,{className:"x78zum5 xh8yej3",children:(0,r.jsx)(eL,{file:t.data[n],teamId:a},n)}):(0,r.jsx)(eB,{folderId:e,teamId:a,canCreateFile:i})})}let eN=a.forwardRef(function(e,t){return(0,r.jsx)(R.tH,{boundaryKey:"FolderListCard",fallback:R.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,r.jsx)(eE,{ref:t,...e})})}),eA=a.forwardRef(function(e,t){let n=(0,K._6)(),a=(0,H.R)({folderId:e.folder.id,shouldShowOnlyTrashedFiles:"trashedFolders"===n.view});return(0,r.jsx)(eN,{ref:t,...e,...(0,er.Z)(e.folder),folderFilesResult:a})}),eS={open:!0,openNewTab:!0,share:!0,copyLink:!0,delete:!0,moveFile:!0};function eR(e){let t=e.folder,n=e.folderTeamName,a=!!e.checksForViewOnlyLabels&&e.checksForViewOnlyLabels.teamId===e.folder.team_id&&e.checksForViewOnlyLabels.isLockedTeam;return(0,r.jsxs)("div",{className:"folder_list_card--folderInfoTile--nH-VS",children:[(0,r.jsx)(eO,{showViewOnlyLabel:a,folder:t,folderName:e.folderName,settingsButtonProps:e.settingsButtonProps}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"folder_list_card--folderInfoFooter--FgL5-",children:(0,r.jsx)("div",{className:"folder_list_card--folderActivity--HdcJD",children:(0,r.jsx)(eD,{folder:t,folderTeamName:n})})})})]})}function eO({showViewOnlyLabel:e,folder:t,folderName:n,settingsButtonProps:a}){return(0,r.jsxs)("div",{className:"folder_list_card--folderUpperRow--AYAiP",children:[(0,r.jsxs)("div",{className:"folder_list_card--folderName--93E42 text--fontPos13--5OfL8 text--_fontBase--VaHfk",children:[(0,r.jsx)(U.E,{fontSize:13,fontWeight:"medium",truncate:!0,showTooltipWhenTruncated:!1,children:n}),e&&(0,r.jsx)(v.HG,{children:(0,r.jsx)(S.Ex,{color:S.zE.WARNING_TERTIARY,text:(0,s.t)("locked_team.label.view_only"),dataTooltip:(0,s.t)("locked_team.label.tooltip"),dataTooltipType:ey.Ib.TEXT,className:"folder_list_card--viewOnlyLabel--q-V1W"})}),!e&&t.is_connected_project&&(0,r.jsx)("div",{className:B.s.pl4.$,children:(0,r.jsx)(v.HG,{children:(0,r.jsx)(z.W,{hostPlanName:t.resource_connection?.hostPlanName,connectedPlanName:t.resource_connection?.connectedPlanName})})})]}),(0,r.jsx)(v.HG,{children:(0,r.jsx)(P.C,{...a})})]})}function eD({folder:e,folderTeamName:t}){let n="trashedFolders"===(0,K._6)().view,a=(0,em.x)(e.id,n);if("loaded"!==a.status)return(0,r.jsx)(O.Wi,{className:B.s.h16.w150.$,animationType:O.JR.NO_SHIMMER});let i=(0,s.t)("file_browser.folder.number_of_files",{numFiles:a.data,formattedNumFiles:(0,J.t)(a.data)});return(0,r.jsx)("div",{className:B.s.flex.flexRow.itemsCenter.justifyStart.overflowHidden.$,children:(0,r.jsxs)(U.E,{fontSize:11,truncate:!0,children:[t&&(0,r.jsxs)(r.Fragment,{children:[t,"\xa0\xb7\xa0"]}),i]})})}function eP({file:e,teamId:t}){return"trashedFolders"===(0,K._6)().view?(0,r.jsx)(eM,{file:e}):(0,r.jsx)(eL,{file:e,teamId:t})}function eM({file:e}){return(0,r.jsx)("div",{className:eT,children:(0,r.jsx)(eF,{file:e})})}function eL({file:e,teamId:t}){let n=(0,i.wA)(),s=(0,q.v)(),{Sprig:o}=(0,A.A)(),l=a.useMemo(()=>(0,eu.fA)(e),[e]),{showing:c,show:u,data:_}=(0,ei.L)(),p=!!_?.tile&&eu.Tf.getId(_.tile)===e.key,h=a.useCallback(r=>{r.stopPropagation(),r.preventDefault(),(2===r.detail||0===r.detail)&&(k.eD&&(0,d.sx)("Open File Click",{fileKey:e.key,uiSelectedView:JSON.stringify({teamId:t})}),n(m.UN({fileKey:e.key,entrypoint:"folder list card",sprig:o})),s(l,r))},[s,n,l,e.key,t,o]),f=a.useCallback(e=>{e.preventDefault(),e.stopPropagation(),u({data:{tile:l,targetRect:{top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1}}}),n(el.an()),n(el.y$({type:ev.F.FILES,tiles:[l]}))},[u,n,l]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.E,{className:T()(eT,{"folder_list_card--selected--dUrjq":p}),onClick:h,onContextMenu:f,children:(0,r.jsx)(eF,{file:e})}),c?(0,r.jsx)(ea.i,{tileActions:eS,tile:l,selectedTiles:[l],openTile:h,dropdownVisible:c}):null]})}function eF({file:e}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(L.NU,{file:e,borderRadius:8,noBorder:!0}),(0,r.jsx)("div",{className:"folder_list_card--fileTileOverlay--jsoUI",children:(0,r.jsx)("div",{className:"folder_list_card--fileTileOverlayText--q2pev",children:e.name})})]})}function eB({canCreateFile:e,folderId:t,teamId:n}){return e?(0,r.jsx)(eH,{folderId:t,teamId:n}):(0,r.jsx)(eU,{})}function eU(){return(0,r.jsx)(F.q,{borderRadius:8})}function eH({folderId:e,teamId:t}){let n=(0,i.wA)(),a=(0,eh.B)(),o=(0,i.d4)(e=>t?e.teams[t]:void 0);return(0,r.jsx)(w._,{href:"#",onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},"aria-label":(0,s.t)("team_view.empty_file_tile.label"),className:"folder_list_card--emptyFileTile--P3v3s",onClick:t=>{t.preventDefault(),t.stopPropagation(),n(eo.zE({state:a,editorType:et._Y.DESIGN,folderId:e,team:o,from:eb.f6.FILE_BROWSER_FOLDER_EMPTY_TILE,openNewFileIn:(0,E.oJ)(t)?eb.ai.NEW_TAB:eb.ai.SAME_TAB}))},trusted:!0,children:(0,r.jsx)(M.B,{svg:ek.A,"aria-hidden":!0})})}var ez=n(703614),eV=n(536378),eW=n(578172),eG=n(254842),eq=n(395189),eK=n(641200),e$=n(315588);let eY=(0,eG.Mz)(e$.h,e=>"team"===e.view?`${e.view}-${e.teamId}`:e.view),eJ=(0,eG.Mz)(e$.h,eY,e=>e.viewBarSortOptionsByView,e=>e.tileSortFilterStateByView,(e,t,n,r)=>{if("team"===e.view){let e=r.team;return{sortKey:e.sort.key===eK.C0.NAME?eq.Dq.NAME:eq.Dq.LAST_MODIFIED,sortDesc:e.sort.dir===eK.ue.DESC}}return n[t]});var eX=n(297094),eQ=n(743544),eZ=n(638333),e0=n(303587),e1=n(238974),e2=n(310955);function e5({folderId:e}){let t="trashedFolders"===(0,K._6)().view,n=(0,em.x)(e,t);return"loaded"!==n.status?(0,r.jsx)(O.Wi,{className:B.s.w48.$,animationType:O.JR.NO_SHIMMER}):(0,r.jsx)(U.E,{truncate:!0,children:(0,r.jsx)("span",{...l.Ay.props(e2.g.textBodyMedium),children:(0,s.t)("file_browser.folder.number_of_files",{formattedNumFiles:(0,J.t)(n.data),numFiles:n.data})})})}function e3(e){let t=e.folder.shared_at;return t?(0,r.jsx)(eX.h1,{date:t}):(0,r.jsx)(U.E,{truncate:!0,children:"--"})}var e4=n(363337),e6=n(597298);function e9(e){let t=e.folder.shared_by_user?.name,n=e.folder.shared_by??null,a=(0,e6.wW)(n).user;return n?(0,r.jsxs)("div",{className:B.s.flex.itemsCenter.gap8.$,children:[a&&(0,r.jsx)(e4.H8,{user:a,size:e4.Pf.MEDIUM}),(0,r.jsx)(U.E,{truncate:!0,children:t})]}):(0,r.jsx)(U.E,{truncate:!0,children:"--"})}function e7(e){let t=e.folder.trashed_at;return t?(0,r.jsx)(eX.h1,{date:t}):(0,r.jsx)(U.E,{truncate:!0,children:"--"})}let e8={renderScreenReaderHeaderCell:()=>(0,s.t)("file_browser.generic_list_view.header_star_column"),renderInteractiveRowCell:(e,{isSelected:t,isHovered:n})=>(0,r.jsx)(te,{folder:e,isSelected:t,isHovered:n})};function te({folder:e,isSelected:t,isHovered:n}){let a=b.b(),i=$(e),s=Y(e),o=!!(0,e1.Y)(e.id,et.bk.FOLDER,i,s).favorite||t||n||a.manager.isOpen;return(0,r.jsx)("div",{...l.Ay.props(eQ.R.invisible,eQ.R.hoverTarget(o)),children:(0,r.jsx)(en,{folder:e,favoriteStarMenu:a})})}let tt=({dataOnboardingKey:e,dataOnboardingKeyIndex:t,checksForViewOnlyLabels:n}={})=>({headerCellStyles:t_.headerCellStyles,field:eq.Dq.NAME,renderHeaderCell:()=>(0,s.t)("file_browser.folder_list_view.header_name_column"),renderStaticRowCell:(a,{itemIndex:i})=>{let s=!!n&&a.team_id===n.teamId&&n.isLockedTeam;return(0,r.jsx)(eZ.L,{folder:a,dataOnboardingKey:i===t?e:"",showViewOnlyLabel:s})}}),tn={renderHeaderCell:()=>(0,s.t)("file_browser.folder_list_view.header_files_column"),renderStaticRowCell:e=>(0,r.jsx)(e5,{folderId:e.id})},tr={field:eq.Dq.LAST_MODIFIED,renderHeaderCell:()=>(0,s.t)("file_browser.folder_list_view.header_updated_column"),renderStaticRowCell:e=>(0,r.jsx)(e0.B,{children:(0,r.jsx)(eX.h1,{date:e.folderLastUpdated??e.updated_at})})},ta={renderHeaderCell:()=>(0,s.t)("file_browser.folder_list_view.header_updated_column"),renderStaticRowCell:e=>(0,r.jsx)(e0.B,{children:(0,r.jsx)(eX.h1,{date:e.files_last_touched_at??e.updated_at})})},ti={field:eq.Dq.CREATED_AT,renderHeaderCell:()=>(0,s.t)("file_browser.folder_list_view.header_created_column"),renderStaticRowCell:e=>(0,r.jsx)(e0.B,{children:(0,r.jsx)(eX.h1,{date:e.created_at})})},ts={field:eq.Dq.SHARED_AT,renderHeaderCell:()=>(0,s.t)("file_browser.folder_list_view.header_shared_at_column"),renderStaticRowCell:e=>(0,r.jsx)(e0.B,{children:(0,r.jsx)(e3,{folder:e})})},to={renderHeaderCell:()=>(0,s.t)("file_browser.folder_list_view.header_shared_by_column"),renderStaticRowCell:e=>(0,r.jsx)(e0.B,{children:(0,r.jsx)(e9,{folder:e})})},tl={renderHeaderCell:()=>(0,s.t)("file_browser.folder_list_view.header_trashed_at_column"),renderStaticRowCell:e=>(0,r.jsx)(e0.B,{children:(0,r.jsx)(e7,{folder:e})})},td=e=>({gutterColumn:e8,columns:[tt({dataOnboardingKey:e.dataOnboardingKey,dataOnboardingKeyIndex:e.dataOnboardingKeyIndex,checksForViewOnlyLabels:e.checksForViewOnlyLabels}),tn,tr]}),tc=e=>({gutterColumn:e8,columns:[tt({dataOnboardingKey:e.dataOnboardingKey,dataOnboardingKeyIndex:e.dataOnboardingKeyIndex}),tn,to,ts]}),tu=e=>({gutterColumn:void 0,columns:[tt({dataOnboardingKey:e.dataOnboardingKey,dataOnboardingKeyIndex:e.dataOnboardingKeyIndex}),tn,tl]}),t_={headerCellStyles:{kzqmXN:"x3hqpx7",$$css:!0}},tm=(e,t,n,r)=>{switch(e.view){case"recentsAndSharing":return tc({dataOnboardingKeyIndex:n,dataOnboardingKey:t});case"search":return{gutterColumn:void 0,columns:[tt({checksForViewOnlyLabels:r}),tn,ta,ti]};case"trashedFolders":return tu({});default:return td({dataOnboardingKeyIndex:n,dataOnboardingKey:t,checksForViewOnlyLabels:r})}};function tp(e){let[t,n]=a.useState([]),l=(0,i.wA)(),g=(0,i.d4)(eJ),b=(0,K._6)(),v=(0,u.gY)(eW.Ct),y=(0,c.MD)(t),w=(0,i.d4)(e=>e.teams),{columns:j,gutterColumn:C}=tm(b,e.dataOnboardingKey,e.dataOnboardingKeyIndex,e.checksForViewOnlyLabels),T=(0,f.EB)(),k=a.useCallback((e,t)=>{(0,d.sx)("Folder Permanently Delete Click",{folderId:e.id,teamId:e.team_id,orgId:t}),"loaded"===y.projects.status&&y.projects.data[e.id].canPermanentlyDelete&&l(eV.to({type:(0,p.U)(),data:{folder:e,folderOrgId:t}}))},[l,y]),E=a.useCallback((e,t)=>{(0,d.sx)("Folder Trash Click",{folderId:e.id,teamId:e.team_id,orgId:t});let n=y.projects.data?.[e.id];n?.canSkipDeletionConfirmation?v({folderId:e.id}).catch(()=>{l(_.s.error((0,s.t)("file_browser.api_folder.error_when_moving_to_trash")))}):n?.canTrash&&l(eV.to({type:(0,h.V)(),data:{folder:e}}))},[l,y,v]),I=a.useCallback(e=>{if(1!==e.length)return;let t=e[0],n=t.team_id,r=t&&n?w[n]:void 0,a=r?r.org_id:t.org_id;void 0===a&&(a=null),"trashedFolders"===b.view?k(t,a):E(t,a)},[E,k,b.view,w]),N=a.useCallback(t=>e.dataOnboardingKeyIndex&&e.folderList[e.dataOnboardingKeyIndex]?.id===t?"project-card":void 0,[e.dataOnboardingKeyIndex,e.folderList]);return(0,r.jsx)(ez.A,{getAriaLabel:e=>e.name,gridViewProps:{containerStyle:th.gridPadding,trailingGridElements:e.trailingGridElements,...(0,o.kc)().file_browser_folder_cards?{renderCard:({ref:t,item:n,isSelected:a,role:i,onFocus:s,onClick:o,onBlur:l})=>(0,r.jsx)(eA,{ref:t,cardRole:i,checksForViewOnlyLabels:e.checksForViewOnlyLabels,currentPlanFilter:e.currentPlanFilter,dataOnboardingKey:N(n.id),folder:n,isSelected:a,isSharerInfoIncluded:e.isSharerInfoIncluded,onBlur:l,onClick:o,onFocus:s},n.id)}:{tileBorderRadius:16,nestedFocus:!0,renderTile:(t,n)=>(0,r.jsx)(eA,{folder:t,dataOnboardingKey:N(t.id),isSharerInfoIncluded:e.isSharerInfoIncluded,currentPlanFilter:e.currentPlanFilter,checksForViewOnlyLabels:e.checksForViewOnlyLabels,inItemsView:!0,onChildFocusChange:n},t.id)}},handleContextMenu:e.onContextMenuOverride?e.onContextMenuOverride:(e,t)=>{t.stopPropagation(),t.preventDefault();let n=e[0];if(!n)return;let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};l(es.j7({type:x.B,data:{folder:{...(0,eg.Bp)(n),isSubscribed:n.is_favorited},targetRect:r}}))},handleDeleteKey:I,handleOpenItem:(t,n)=>{"trashedFolders"!==b.view&&(l(m.kg({clickedResourceType:"team",resourceIdOrKey:t.id})),e.onOpenFolder&&e.onOpenFolder(t.id,n),T(t.id,n))},items:e.folderList,listViewProps:{columns:j,gutterColumn:C,currentSort:e.currentSortOverride?e.currentSortOverride:{field:g?.sortKey,isDescending:!!g?.sortDesc},handleSortBy:t=>{e.onChangeSortOptions({sortKey:t,sortDesc:t!==g?.sortKey||!g.sortDesc})}},multiselectDisabled:!0,updateRenderedItems:n,viewType:e.viewType})}let th={gridPadding:{kE3dHu:"x1tudf5h",kpe85a:"x1m2p0i2",kZCmMZ:null,kwRFfy:null,$$css:!0}}},190429:(e,t,n)=>{function r(e){return e&&e.type===a?e.data.folder:null}n.d(t,{B:()=>a,H:()=>r});let a="nav-folder-context-menu"},427194:(e,t,n)=>{n.d(t,{X:()=>s});var r=n(239976),a=n(788030),i=n(154963);function s({FileThumbnailComponent:e}){return(0,r.jsx)("div",{className:i.s.grid.gridTemplateColumns2.gap12.wFull.hFull.$,children:Array.from({length:4}).map((t,n)=>(0,r.jsx)(a.q,{noBorder:!0,borderRadius:8,children:(0,r.jsx)(e,{})},n))})}},913109:(e,t,n)=>{n.d(t,{l:()=>es});var r=n(239976),a=n(20002),i=n(245814),s=n(655793),o=n(517478),l=n(943360),d=n(423407),c=n(899543),u=n(379141),_=n(224542),m=n.n(_),p=n(894696),h=n(719749),f=n(391596),x=n(259714),g=n(154963),b=n(371971),v=n(54058),y=n(515768),w=n(947097),j=n(980937),C=n(378721),T=n(254056),k=n(942356),E=n(64939),I=n(302580),N=n(610265),A=n(7857),S=n(529453),R=n(888903),O=n(363337),D=n(902475),P=n(450207),M=n(536378),L=n(338630),F=n(920675),B=n(790016),U=n(510618),H=n(239152),z=n(747079),V=n(267447),W=n(685144),G=n(528596),q=n(735282),K=n(237536);function $(e){let t=(0,B.S2)().unwrapOr(null),n=e.hasOwnProperty("resourceConnectionInvite"),d=n?e.resourceConnectionInvite.hostPlan:e.resourceConnection.hostPlan,c=n?e.resourceConnectionInvite.connectingPlan:e.resourceConnection.connectedPlan,_=n?e.resourceConnectionInvite.projectName:e.resourceConnection.projectName,m=n?e.resourceConnectionInvite.isHostPlanAdmin:e.resourceConnection.isHostPlanAdmin;if(null==d||null==c)throw Error("hostPlan or connectingPlan not found");let p=(0,a.wA)(),h=i.hS({...e,onClose:()=>{p(M.Ce())}}),f=(0,I.Hg)(n?void 0:e.resourceConnection.id),b=(0,I.Bs)(n?"":e.resourceConnection.id,m,!n&&!!e.resourceConnection.id),v=0,y=0,w=!n&&"loaded"===b.status;if(w){let{resourceConnectedUsersWithPlan:e,totalResourceConnectedUsers:t}=b.unwrapOr({resourceConnectedUsersWithPlan:[],totalResourceConnectedUsers:0});v=e?.filter(e=>e?.planId===c.id).length||0,y=t?Number(t)-v:0}let j="loading"===f.status,A=e=>e?e.toLocaleDateString((0,N.A)(e).locale(),{year:"numeric",month:"short",day:"numeric"}):"",z=(()=>{if(!n)return;let t=e.resourceConnectionInvite;return{inviteSentByTimestamp:t.createdAt,inviteSentBy:t.hostInviterName}})(),$=(()=>{if(n)return;let t=e.resourceConnection.resourceConnectionInvite;return{connectedByTimestamp:(m?t?.createdAt:t?.handledAt)??void 0,connectedBy:m?t?.hostInviterName:t?.handledByName}})(),Y=(0,r.jsxs)("div",{className:q.YM,children:[(0,r.jsx)("div",{className:g.s.colorTextSecondary.$,children:m?(0,u.tx)("resource_connection.connected_by"):(0,u.tx)("resource_connection.approved_by")}),(0,r.jsx)("div",{children:(0,u.tx)("resource_connection.connected_by_info",{inviter:$?.connectedBy,timeStamp:A($?.connectedByTimestamp)})})]});return(0,r.jsx)(L.fu,{name:"Manage Project Connection Modal",properties:{resourceConnectionId:n?null:e.resourceConnection.id,resourceConnectionInviteId:n?e.resourceConnectionInvite.id:null},children:(0,r.jsx)(s.bL,{manager:h,width:"md",children:(0,r.jsxs)(o.vo,{children:[(0,r.jsx)(o.Y9,{children:(0,r.jsx)(o.hE,{children:(0,r.jsxs)("div",{className:q.g2,children:[(0,r.jsx)(C.K,{onClick:()=>{p(M.Lo())},"aria-label":(0,u.t)("resource_connection.aria_label.button"),children:(0,r.jsx)(E.C,{})}),(0,u.tx)("resource_connection.manage_connection")]})})}),(0,r.jsxs)(o.nB,{scrolling:"manual",padding:{top:n?0:16,bottom:16,left:0,right:0},children:[n&&(0,r.jsx)("div",{className:g.s.mb16.$,children:(0,r.jsx)(S._,{rounded:!1,dataTestId:"viewer-upgrade-banner",color:S.S.PLAIN,text:(0,u.tx)("resource_connection.pending_modal.connecting_plan_hasnt_approved_invite_yet",{connectingPlan:c.name})})}),(0,r.jsxs)("div",{className:g.s.pl16.pr16.$,children:[(0,r.jsx)("div",{className:g.s.textBodyMediumStrong.pb4.$,children:(0,u.t)("resource_connection.teams")}),(0,r.jsxs)("div",{className:q.Ec,children:[(0,r.jsx)(O.nl,{size:O.Pf.MEDIUM,shape:"CIRCLE",team:d}),(0,r.jsxs)("div",{className:g.s.flex.flexColumn.$,children:[(0,r.jsx)("div",{children:d.name}),(0,r.jsxs)("span",{children:[w&&(0,r.jsxs)("span",{className:g.s.textBodyMedium.colorTextSecondary.$,children:[(0,u.t)("resource_connection.num_members",{count:y})," \xb7\xa0"]}),(0,r.jsx)(T.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD8C3M4MDEVKBHAFEQ",children:(0,u.t)("resource_connection.host")})]})]})]}),(0,r.jsxs)("div",{className:q.Ec,children:[(0,r.jsx)(O.nl,{size:O.Pf.MEDIUM,shape:"CIRCLE",team:c}),(0,r.jsxs)("div",{className:g.s.flex.flexColumn.$,children:[(0,r.jsx)("div",{children:c.name}),(0,r.jsx)("div",{className:g.s.textBodyMedium.colorTextSecondary.$,children:n?(0,u.tx)("resource_connection.invite_pending"):w?(0,u.t)("resource_connection.num_members",{count:v}):null})]})]}),(0,r.jsx)("div",{className:g.s.py8.$,children:!n&&(()=>{let t=[];return m&&e.resourceConnection.projectTeamId&&t.push({label:(0,u.t)("resource_connection.manage_modal.libraries"),description:j?void 0:f.data?(0,u.t)("resource_connection.n_libraries_in_connected_project",{count:f.data}):(0,u.t)("resource_connection.manage_modal.allow_external_teams_to_use_libraries"),onClick:()=>{p(M.to({type:W.T,data:{teamId:e.resourceConnection.projectTeamId,entrypoint:V.r6.CONNECTED_PROJECT_MANAGE_MODAL,resourceConnection:{id:e.resourceConnection.id,projectName:_,hostPlanType:d.type}}}))}}),t})().map((e,t)=>(0,r.jsxs)(l.E,{className:q.lK,onClick:e.onClick,children:[(0,r.jsxs)("div",{className:g.s.flex.flexColumn.my6.$,children:[(0,r.jsx)("div",{className:q.ed,children:e.label}),e.description&&(0,r.jsx)("div",{className:q.q3,children:e.description})]}),(0,r.jsx)("span",{className:q.zc,children:(0,r.jsx)(x.B,{svg:K.A})})]},t))}),n?(0,r.jsxs)("div",{className:q.YM,children:[(0,r.jsx)("div",{className:g.s.colorTextSecondary.$,children:(0,u.tx)("resource_connection.invite_sent")}),(0,r.jsx)("div",{children:(0,u.tx)("resource_connection.invite_sent_info",{inviter:z?.inviteSentBy,timeStamp:A(z?.inviteSentByTimestamp)})})]}):Y,(0,r.jsx)("div",{className:g.s.mb8.mt12.$,children:(0,r.jsx)(k.$n,{variant:"link",onClick:()=>{t&&(t.key.type===F.OL.ORG?p(P.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:U.J7.CONTENT,orgAdminSettingsViewSecondaryTab:U.SN.CONNECTED_PROJECTS,showResourceConnectionFlyout:e.resourceConnection.id})):t.key.type===F.OL.TEAM&&p(P.sf({view:"teamAdminConsole",teamId:t.key.parentId,isProTeam:t.tier===F.Ag.PRO,teamAdminConsoleViewTab:H.Iv.CONTENT,teamAdminConsoleViewSecondaryTab:H.F9.CONNECTED_PROJECTS,showResourceConnectionFlyout:e.resourceConnection.id})),p(M.Ce()))},children:(0,u.t)("resource_connection.manage_modal.view_in_admin_dashboard")})})]})]}),(0,r.jsx)(o.wi,{children:(0,r.jsxs)("div",{className:q.Vr,children:[(0,r.jsx)("a",{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD68CH88F663KG08AJ",target:"_blank",children:(0,r.jsx)(k.$n,{variant:"link",onClick:e=>e.stopPropagation(),children:(0,u.tx)("resource_connection.request_modal.learn_more")})}),(0,r.jsx)(k.$n,{variant:"destructiveSecondary",onClick:n?()=>{p(M.to({type:D.h,data:{resourceConnectionInvite:e.resourceConnectionInvite}}))}:()=>{if(!e.resourceConnection.projectTeamId){p(R.F.enqueue({message:(0,u.t)("resource_connection.visual_bell.generic_error")}));return}p(M.to({type:G.K,data:{resourceConnectionId:e.resourceConnection.id,projectName:_,projectId:e.resourceConnection.projectId,projectTeamId:e.resourceConnection.projectTeamId,hostPlan:d,connectedPlan:c,isHostPlanAdmin:m}}))},children:n?(0,u.tx)("resource_connection.pending_modal.revoke_invite"):(0,u.tx)("resource_connection.manage_modal.deactivate")})]})})]})})})}let Y=(0,z.Ju)(function(e){return(0,r.jsx)(A.u9,{label:"ResourceConnectManageModal",children:(0,r.jsx)($,{...e})})},"ResourceConnectManageModal");var J=n(844888),X=n(291678),Q=n(372750),Z=n(498247),ee=n(526575),et=n(578172),en=n(517838),er=n(610604),ea=n(236410);let ei=(e,t)=>{let n=(0,p.YO)(e),r=(0,h.bc)(er.SWF,{projectId:e}),i=(0,a.wA)(),s=(0,f.gY)(et.Ct),o=r.data?.project,l=o?.activeProjectResourceConnections,d=l?.length?l[0]:null,c=o?.plan,_=d?o?.connectedPlan:null,m=o?.pendingResourceConnectionInvite,x=o?.pendingAssetTransferRequest,g=o?.team?.pendingAssetTransferRequest,C=(0,en.N)(c?.key,()=>{c&&i(M.to({type:j.B,data:{folder:{...o,plan:c},entryPoint:v.wR.PROJECT_SETTINGS,assetTransferRequestWarning:!!(x&&!x.isTransferCopy)}}))});if([n,r].some(e=>"loaded"!==e.status&&"disabled"!==e.status))return[];let T=n.data;if(!T||!o)return[];let k=()=>x?J.cm.PENDING_ASSET_TRANSFER:m?J.cm.PENDING_RESOURCE_CONNECTION:d?J.cm.ACTIVE_RESOURCE_CONNECTION:null,E=e=>{i(M.to({type:(0,w.Lg)(),data:{folderId:o.id,teamId:o.teamId,entryPoint:w.Lq.PROJECT_SETTINGS,shouldTransferCopy:e}}))},I=[{label:(0,u.tx)("file_browser.folder_settings_modal.name"),description:o.name,onClick:()=>{i(M.to({type:(0,y.y)(),data:{folder:o}}))},disabled:!T.canEdit,noDisabledStyling:!0,noChevron:!T.canEdit},{label:(0,u.tx)("file_browser.folder_settings_modal.description"),description:o.description&&""!==o.description?o.description:T.canEdit?(0,u.tx)("file_browser.folder_settings_modal.add_description"):(0,u.tx)("file_browser.folder_settings_modal.no_description_added_yet"),onClick:()=>{i(M.to({type:(0,X.C)(),data:{folder:o}}))},disabled:!T.canEdit,noDisabledStyling:!0,noChevron:!T.canEdit},{label:"",separator:!0}],N=T.isPlanAdmin&&T.planCanConnectWithReasons?.publicDenyReasons&&1===T.planCanConnectWithReasons.publicDenyReasons.length&&T.planCanConnectWithReasons.publicDenyReasons[0]===F.QK.PLAN_DENY_CAN_CONNECT_IF_AT_CONNECTION_LIMIT,A=T.canConnect||N,S=c?.isAdmin,R=_?.isAdmin;return d&&(S||R)?I.push({label:(0,u.t)("file_browser.folder_settings_modal.manage_connection"),description:S?(0,u.t)("file_browser.folder_settings_modal.manage_connection_description"):void 0,onClick:()=>{d&&i(M.to({type:Y,data:{resourceConnection:{...d,hostPlan:{id:d.hostPlanId,name:d.hostPlanName,imgUrl:d.hostPlanImageUrl,type:d.hostPlanType},connectedPlan:{id:d.connectedPlanId,name:d.connectedPlanName,imgUrl:d.connectedPlanImageUrl,type:d.connectedPlanType},projectName:o.name,projectTeamId:o.teamId,projectId:o.id,resourceConnectionInvite:d.resourceConnectionInvite??void 0,isHostPlanAdmin:d.isHostPlanAdmin}}}))}}):m&&S?I.push({label:(0,u.t)("file_browser.folder_settings_modal.manage_connection"),description:(0,u.t)("file_browser.folder_settings_modal.manage_connection_description"),onClick:()=>{m&&i(M.to({type:Y,data:{resourceConnectionInvite:{...m,hostPlan:{id:m.hostPlanId,name:m.hostPlanName,imgUrl:m.hostPlanImageUrl,type:m.hostPlanType},connectingPlan:{id:m.connectingPlanId,name:m.connectingPlanName,imgUrl:m.connectingPlanImageUrl,type:m.connectingPlanType},projectName:o.name,isHostPlanAdmin:m.isHostPlanAdmin}}}))}}):A&&I.push({label:(0,u.t)("file_browser.folder_settings_modal.connect_with_external_plan"),onClick:C,disabled:!!g,disabledMessage:(0,u.t)("file_browser.folder_settings_modal.tooltip.cannot_connect_folder_with_team_asset_transfer_request"),trackingEventName:"Folder Connect Click",trackingProperties:{folderId:o.id}}),x?(T.isPlanMember||T.isPlanAdmin)&&I.push({label:(0,u.t)("project_menu.manage_transfer_request"),onClick:()=>{x&&i(M.to({type:(0,Z.d)(),data:{pending:x&&{id:x.id,source_user_email:x.sourceUser?.email,destination_user_email:x.destinationUser?.email,is_transfer_copy:x.isTransferCopy},canRevokeProjectTransfer:x.isTransferCopy?T.canTransferCopy:T.canTransferExternally}}))}}):(m||d||!T.canTransferExternally||I.push({label:(0,u.t)("project_menu.transfer"),onClick:()=>{E(!1)},disabled:!!g,disabledMessage:(0,u.t)("file_browser.folder_settings_modal.tooltip.cannot_transfer_folder_with_team_asset_transfer_request"),trackingEventName:"Folder Transfer Click",trackingProperties:{folderId:o.id,entryPoint:"Folder Settings Modal"}}),T.canTransferCopy&&I.push({label:(0,u.t)("project_menu.send_a_copy"),onClick:()=>{E(!0)},disabled:!!g,disabledMessage:(0,u.t)("file_browser.folder_settings_modal.tooltip.cannot_transfer_folder_with_team_asset_transfer_request"),trackingEventName:"Folder Transfer Copy Click",trackingProperties:{folderId:o.id,entryPoint:"Folder Settings Modal"}})),I.push({label:"",separator:!0}),T.canTrash&&I.push({label:(0,u.tx)("project_menu.move_to_trash"),onClick:()=>{let e=k();T.canSkipDeletionConfirmation&&!e?(s({folderId:o.id}).catch(()=>{i(b.s.error((0,u.t)("file_browser.api_folder.error_when_moving_to_trash")))}),t()):i(M.to({type:(0,Q.V)(),data:{folder:o,folderState:e}}))},noChevron:!0,trackingEventName:"Folder Trash Click",trackingProperties:{folderId:o.id,entryPoint:"Folder Settings Modal"}}),!T.canTrashWithReasons?.result&&T.canTrashWithReasons?.publicDenyReasons.includes(F.QK.CONNECTED_FOLDER_DENY_CAN_TRASH_DESPITE_CAN_MANAGE_LIFECYCLE)&&I.push({label:(0,u.tx)("project_menu.move_to_trash"),disabled:!0,disabledMessage:T.isPlanAdmin?(0,u.t)("file_browser.folder_settings_modal.tooltip.disconnect_folder_before_moving_to_trash"):(0,u.t)("file_browser.folder_settings_modal.tooltip.contact_your_admin_to_disconnect_folder_before_moving_to_trash"),noChevron:!0}),I},es=(0,z.Ju)(function(e){let t;let n=i.hS({open:e.open,onClose:e.onClose}),{folderId:a}=e,_=(0,L.j6)(),p=(0,h.bc)(er.SWF,{projectId:a}),f=p.data?.project,b=ei(a,e.onClose),v=e=>()=>{!e.disabled&&(e.onClick&&e.onClick(),(e.trackingEventName||e.trackingProperties)&&(0,ee.Cu)({..._.properties,trackingContext:e.trackingEventName||_.name,...e.trackingProperties}))};if(!f)return(0,r.jsx)(r.Fragment,{});let y=e=>e.disabled&&e.disabledMessage?{"data-tooltip":e.disabledMessage,"data-tooltip-type":ea.Ib.TEXT,"data-tooltip-interactive":!0,"data-tooltip-max-width":210,"data-tooltip-show-immediately":!0,"data-tooltip-show-below":!0}:{};return(0,r.jsx)(L.fu,{name:"Folder Settings Modal",properties:{folderId:f?.id},children:(0,r.jsx)(s.bL,{manager:n,width:"lg",children:(0,r.jsxs)(o.vo,{children:[(0,r.jsx)(o.Y9,{children:(0,r.jsx)(o.hE,{children:(0,u.tx)("file_browser.folder_settings_modal.settings")})}),(0,r.jsx)(o.nB,{scrolling:"manual",children:b&&(t=!1,b.slice().reverse().filter(e=>(t||e.separator||(t=!0),t||!e.separator)).reverse().filter((e,t,n)=>!e.separator||0===t||!n[t-1]?.separator)).map((e,t)=>{let n=e.disabled&&!e.noDisabledStyling,a=!e.noChevron&&!e.disabled,i=e.showNewBadge||a||n;return e.separator?(0,r.jsx)("div",{className:"folder_settings_modal--separator--QhhYx"},t):(0,r.jsxs)(l.E,{className:m()("folder_settings_modal--settingsOption--YNmZp",e.disabled&&"folder_settings_modal--settingsOptionDisabled--kOYTD"),disabled:e.disabled,onClick:v(e),children:[(0,r.jsxs)("div",{className:g.s.flex.flexColumn.my6.$,children:[(0,r.jsx)("div",{className:m()("folder_settings_modal--optionLabel--FnlGD",n&&g.s.colorTextSecondary.$),children:e.label}),e.description&&(0,r.jsx)("div",{className:"folder_settings_modal--optionDescription--xs1QH",children:e.description})]}),i&&(0,r.jsxs)("div",{className:"folder_settings_modal--rightSideOptions--g1a-D",children:[e.showNewBadge&&(0,r.jsx)(d.E,{variant:"brandFilled",children:(0,u.tx)("resource_connection.onboarding.new")}),a&&(0,r.jsx)("span",{className:"folder_settings_modal--iconContainer--i6Wca",children:(0,r.jsx)(x.B,{svg:K.A})}),n&&(0,r.jsx)("div",{className:"folder_settings_modal--infoIconWrapper--pgN7P",...y(e),children:(0,r.jsx)(c.B,{})})]})]},t)})})]})})})},"FolderSettingsModal")},303587:(e,t,n)=>{n.d(t,{B:()=>o});var r=n(239976),a=n(310955),i=n(323264),s=n(210823);function o({truncate:e=!1,children:t}){return(0,r.jsx)(s.E,{truncate:e,children:(0,r.jsx)("span",{...i.Ay.props(a.g.textBodyMedium),children:t})})}},599881:(e,t,n)=>{n.d(t,{m3:()=>y,RI:()=>w,_S:()=>j});var r=n(239976),a=n(105652),i=n(20002),s=n(379141),o=n(224542),l=n.n(o),d=n(346942),c=n(450207),u=n(536378),_=n(195470),m=n(326141),p=n(276571),h=n(53709),f=n(832374),x=n(790016),g=n(271470),b=n(925162);let v="org_team_action--showBlueBorder--rV97e";function y(e){let[t,n]=a.useState(!1),o=(0,i.wA)(),u=(0,i.d4)(e=>e.teamRoleRequests),_=(0,i.d4)(e=>e.currentUserOrgId),m=(0,i.d4)(e=>(0,f.getPermissionsState)(e)),g=(0,p._6)(),b=(0,x.px)(),y=(0,x.j_)(b).unwrapOr(!1),C=(0,h.YP)(e.team,u[e.team.id],m,y),T=t=>{t.stopPropagation(),t.preventDefault(),o(c.oB()),null!=C&&j({type:C,team:e.team,onLeave:e.onLeave,onJoin:e.onJoin,onJoinAsAdmin:e.onJoinAsAdmin,dispatch:o,teamRoleRequest:u[e.team.id]})},k=()=>{n(!0)},E=()=>{n(!1)};if(g?.view==="search"&&e.team.org_id!==_||null===C||C===h.gO.CLICK_JOIN||C===h.gO.CLICK_JOIN_AS_ADMIN)return(0,r.jsx)(r.Fragment,{});let I=w({type:C,overrideLeaveText:t||e.isCardActive?(0,s.t)("team_list.org_join_status_leave"):void 0}),N={className:(()=>{switch(C){case h.gO.CLICK_LEAVE:return l()("org_team_action--buttonNegative--kk0Qt org_team_action--actionButton--xhYTF button_styles--button--1U1-p",v);case h.gO.CLICK_REQUEST:return l()("org_team_action--requestButton--sAKWV org_team_action--requestButton--sAKWV org_team_action--actionButton--xhYTF button_styles--button--1U1-p",v);default:return l()("org_team_action--actionButton--xhYTF button_styles--button--1U1-p",v)}})(),onClick:T,onMouseOver:k,onMouseLeave:E,children:I};return C===h.gO.CLICK_LEAVE?(0,r.jsx)(d.s6,{className:N.className,onClick:T,onMouseOver:k,onMouseLeave:E,"aria-describedby":e.titleId,children:I}):(0,r.jsx)(d.nR,{...N,"aria-describedby":e.titleId})}function w({type:e,overrideLeaveText:t}){switch(e){case h.gO.CLICK_LEAVE:if(t)return t;return(0,s.t)("team_list.org_join_status_joined");case h.gO.CLICK_WITHDRAW:return(0,s.t)("teams_table.cancel_join_request");case h.gO.CLICK_JOIN:return(0,s.t)("teams_table.join_team");case h.gO.CLICK_JOIN_AS_ADMIN:return(0,s.t)("teams_table.join_team_as_admin");case h.gO.BYPASS_REQUEST:return(0,s.t)("teams_table.join_team_as_owner");case h.gO.CLICK_REQUEST:return(0,s.t)("teams_table.ask_to_join")}}function j({type:e,team:t,teamRoleRequest:n,onLeave:r,onJoin:a,onJoinAsAdmin:i,dispatch:s}){switch(e){case h.gO.CLICK_LEAVE:r(t);return;case h.gO.CLICK_WITHDRAW:n&&s(_.lT({requestId:n.id}));return;case h.gO.CLICK_JOIN:a?.(t.id);return;case h.gO.CLICK_JOIN_AS_ADMIN:i?.(t.id);return;case h.gO.BYPASS_REQUEST:(0,m.GR)(s,t.id,g.e6.OWNER)();return;case h.gO.CLICK_REQUEST:s(u.to({type:b.$,data:{team:t}}));return}}},884533:(e,t,n)=>{n.d(t,{W:()=>o});var r=n(239976),a=n(105652),i=n(971340),s=n(599881);class o extends a.Component{constructor(){super(...arguments),this.state={isJoining:!1,isRedirecting:!1},this.onJoin=e=>{this.setState({isJoining:!0},()=>{this.props.onJoin&&this.props.onJoin(e)})}}componentDidUpdate(e){!(e.isCurrentUserInTeam&&!e.isLoading)&&this.props.isCurrentUserInTeam&&!this.props.isLoading&&this.state.isJoining&&this.setState({isRedirecting:!0},()=>{this.props.onOpenTeam()})}render(){let e=this.props.isLoading||this.state.isRedirecting;return(0,r.jsxs)("div",{className:e?"redirecting_org_team_action--containerLoading--HwKtN redirecting_org_team_action--_container--djJ8t":"redirecting_org_team_action--container--l6-ng redirecting_org_team_action--_container--djJ8t",children:[(0,r.jsx)("div",{className:`redirecting_org_team_action--spinner--1qTB5 ${this.props.spinnerClassName||""}`,children:e&&(0,r.jsx)(i.kt,{})}),(0,r.jsx)("div",{className:"redirecting_org_team_action--button--urVbT",children:(0,r.jsx)(s.m3,{...this.props,onJoin:this.onJoin})})]})}}},90040:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(632222);function a(e){return{folderName:(0,r.CI)(e),folderTeamName:e.parent_team?.name??null,folderLastUpdated:new Date(e.touched_at),folderSharedAt:e.shared_at?new Date(e.shared_at):null}}},692925:(e,t,n)=>{n.d(t,{F:()=>N,W:()=>A});var r=n(239976),a=n(20002),i=n(379141),s=n(446232),o=n(732838),l=n(719749),d=n(371971),c=n(149314),u=n(836014),_=n(3763),m=n(599881),p=n(490549),h=n(450207),f=n(536378),x=n(326141),g=n(920675),b=n(610604),v=n(53709),y=n(832374),w=n(898301),j=n(271470),C=n(21612),T=n(821476),k=n(469543),E=n(586863),I=n(992937);function N(e){let t=(0,a.d4)(e=>(0,y.getPermissionsState)(e)),n=(0,a.d4)(e=>e.selectedView),r=(0,a.d4)(e=>e.teamRoleRequests),s=(0,a.wA)(),l=(0,_.s)(),c=(0,u.TS)(),b=(0,u.Vj)();return({onRenameClick:a,onChangeTeamIconClick:u,selectedTeamPermissions:_,team:y,shouldBlockTeamActionsDuringDTMMigration:w,overrideOpenAndInviteOptions:k})=>{let N=()=>{s(h.oB()),s(f.to({type:I.p,data:{teamId:y.id}}))},A=(0,x.GR)(s,y.id),S=(0,x.GR)(s,y.id,j.e6.ADMIN),R=e=>{s(f.to({type:I.p,data:{teamId:e.id}}))},O=()=>{s(h.oB());let e=!!y.org_id,t=e=>{s(f.to({type:E.H,data:{team:y,subscriptionStatus:e}}))};e?t(!0):T.$.getSubscriptionStatus({teamId:y.id}).then(({data:e})=>{t(e.meta&&e.meta.subscription_will_renew)}).catch(e=>{e.data?.message&&s(d.s.error(e.data.message))})},D=t.roles.byTeamId[y.id]||{},P=Object.keys(D).filter(e=>!D[e].pending).length,M=_.canAdminOrg,L=y?.org_access===g.bU.PUBLIC||P>1,F=[];F.push({displayText:(0,i.t)("general.open"),onClick:()=>{e&&e(y.id,null),c(y.id)}}),o.eD||F.push({displayText:(0,i.t)("file_browser.open_in_new_tab"),onClick:()=>{e&&e(y.id,null),b(y.id)}});let B=[];if(B.push({displayText:(0,i.t)("file_browser.copy_link"),onClick:()=>{let e=(0,C.bL)(y.id,y.org_id);s(p.S({url:e,linkType:"team"}))}}),"search"===n.view&&y.org_id!==t.currentUserOrgId)return[{key:"search",items:B}];k||B.push({displayText:(0,i.t)("file_browser.team.invite"),onClick:()=>{l({teamId:y.id,canAdmin:_.canAdmin})}}),_.canAdmin&&B.push({displayText:(0,i.t)("team_view.toolbar.rename"),onClick:()=>{s(h.oB()),a&&a(y)}}),_.canAdmin&&u&&B.push({displayText:(0,i.t)("team_view.toolbar.change_icon"),onClick:()=>{s(h.oB()),u&&u(y)}});let U=[];k||U.push({key:"open-team",items:F}),U.push({key:"default",items:B});let H=(()=>{let e=[];if(_.isInTeam)L&&e.push({displayText:(0,i.t)("team_view.toolbar.leave_team"),onClick:N});else if(y.org_id){let n=(0,v.YP)(y,r[y.id],t,M);null!=n&&n!==v.gO.CLICK_JOIN&&e.push({displayText:(0,m.RI)({type:n,overrideLeaveText:(0,i.t)("teams_table.leave_team")}),onClick:()=>{(0,m._S)({type:n,team:y,teamRoleRequest:r[y.id],onLeave:R,onJoin:A,onJoinAsAdmin:S,dispatch:s})}})}return _.canDelete&&e.push({displayText:(0,i.t)("team_view.toolbar.delete_team"),onClick:w?()=>{}:O,disabled:w}),e})();return H.length>0&&U.push({key:"admin",items:H}),U}}function A({className:e,team:t,onRenameClick:n,onChangeTeamIconClick:i,selectedTeamPermissions:o,overrideOpenAndInviteOptions:d,trackSearchClick:u}){let _=(0,a.d4)(e=>e.dropdownShown),m=(0,a.wA)(),p=N(u),h=(0,w.PS)(t),f=(0,l.Rs)(b.InN,{},{enabled:h}),x=(0,s.unwrap)(f.data?.personalDraftToPlanDraftLocation),g=x?.planParentId===t.id&&x?.status==="started";if(!o)return null;let v=p({team:t,onRenameClick:n,onChangeTeamIconClick:i,selectedTeamPermissions:o,shouldBlockTeamActionsDuringDTMMigration:g,overrideOpenAndInviteOptions:d});return(0,r.jsx)(k.j,{className:e,items:(0,c.o)(v),parentRect:_?.data?.targetRect,showPoint:!1,lean:"right",dispatch:m,onSelectItem:(e,t)=>{e.callback&&e.callback("",{},m,t)},autofocusPrevOnDismount:!0})}},577739:(e,t,n)=>{n.d(t,{C:()=>l});var r=n(239976),a=n(942356),i=n(318584),s=n(379141);n(323264);var o=n(795755);function l(e){return(0,r.jsxs)("div",{className:o.p$,children:[(0,r.jsx)("div",{className:o._U,children:(0,s.tx)("team_tile.no_teams.title")}),e.onCreateTeam&&(0,r.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xou54vl",children:[(0,r.jsx)("p",{children:(0,s.tx)("team_tile.no_teams.info")}),(0,r.jsx)(a.$n,{onClick:e.onCreateTeam,variant:"secondary",iconPrefix:(0,r.jsx)(i.e,{}),children:(0,s.tx)("team_tile.no_teams.create_team_button")})]})]})}},33317:(e,t,n)=>{n.d(t,{w:()=>ey});var r=n(239976),a=n(105652),i=n(20002);n(323264);var s=n(914556),o=n(184743),l=n(371971),d=n(844888),c=n(477206),u=n(836014),_=n(703614),m=n(692925),p=n(577739),h=n(116695),f=n(346524),x=n(735786),g=n(345123),b=n(379141),v=n(270450),y=n(154963),w=n(363337),j=n(210823),C=n(485571),T=n(441452),k=n(637612),E=n(884533),I=n(238974),N=n(110081),A=n(97387),S=n(450207),R=n(536378),O=n(526575),D=n(877964),P=n(120928),M=n(920675),L=n(908756),F=n(816212),B=n(53709),U=n(790016),H=n(236410),z=n(925162),V=n(778812),W=n(795755),G=n(657651);function q({team:e,titleId:t}){let n,a,i;return e.org_access===M.bU.PRIVATE?(n=(0,b.t)("file_browser.team_header.closed_team_header"),a=(0,b.t)("file_browser.team_header.closed_team_subtitle"),i=(0,b.t)("file_browser.team_header.closed_team_sr_only_text")):e.org_access===M.bU.SECRET&&(a=(0,b.t)("file_browser.team_header.secret_team_subtitle"),n=(0,b.t)("file_browser.team_header.secret_team_header"),i=(0,b.t)("file_browser.team_header.secret_team_sr_only_text")),(0,r.jsxs)("span",{className:"x78zum5 x1q0g3np x6s0dn4 xg2d0mh",children:[(0,r.jsx)(j.E,{fontWeight:"medium",fontSize:13,fontFamily:"primary",truncate:"end",children:(0,r.jsx)("span",{id:t,children:e.name})}),e.org_access===M.bU.PRIVATE||e.org_access===M.bU.SECRET?(0,r.jsxs)(h.HG,{children:[(0,r.jsx)(f.E,{children:i}),(0,r.jsx)("div",{"data-tooltip-type":H.Ib.TEXT,"data-tooltip":n,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200,"data-tooltip-subtext":a,children:(0,r.jsx)(g.s,{})})]}):void 0]})}function K({team:e,inSearchView:t,isCurrentUserInTeam:n}){let a=(0,F.x)(),s=(0,i.d4)(e=>e.orgById),o=e.member_count??0,l=e.org_id&&s[e.org_id]||e.id&&a[e.id],d=(0,b.tx)("team_tile.members_count",{numMembers:o});return(0,r.jsxs)("div",{className:y.s.flex.flexRow.itemsCenter.$,children:[t&&l&&(0,r.jsx)(V.H,{entityId:l.id,entityName:l.name,imgUrl:l.img_url}),n&&(0,r.jsxs)(r.Fragment,{children:[(0,b.tx)("team_list.org_join_status_joined"),(0,r.jsx)("span",{children:"\xa0\xb7\xa0"})]}),(0,r.jsx)("span",{children:d})]})}let $=a.forwardRef(function({team:e,teamPermissions:t,isSelected:n,onJoin:s,onLeave:o,cardRole:l,onClick:d,onFocus:c,onBlur:_,draggable:m},p){let h=(0,i.wA)(),f=a.useId(),g=(0,i.d4)(e=>e.currentUserOrgId),b=(0,D.FC)(),y=(0,i.d4)(({selectedView:e})=>e),j=(0,i.d4)(e=>e.loadingState),F=(0,I.Y)(e.id,M.bk.TEAM,g),H=a.useMemo(()=>"loaded"===F.status&&void 0!==F.favorite,[F]),V=x.b(),$=(0,U.No)().unwrapOr(null),Y=(0,P.y)($?.planRecordId),J=t?.isInTeam??!1,X=t?.canView??!1,Q=e=>{h(R.to({type:z.$,data:{team:e}}))},Z=(0,u.lo)(),ee=a.useCallback(({favoriteId:t,sectionId:n})=>{h(A.DN({team:e,entrypoint:"org_browse_teams_view",sectionId:n,favoriteId:t}))},[h,e]),et=a.useCallback(({favoriteId:t})=>{h(A.ox({team:e,entrypoint:"org_browse_teams_view",favoriteId:t}))},[h,e]),en=(0,r.jsxs)("div",{className:"x78zum5 xg2d0mh",children:[(0,r.jsx)(T.R.Overlay,{children:(0,r.jsx)(E.W,{team:e,isCurrentUserInTeam:J,isLoading:(0,L.VP)(j,(0,B.p9)(e.id)),onOpenTeam:()=>{if(!X){Q(e);return}(0,O._J)("file_browser_team_click",e.id,b,{selectedView:"recentsAndSharing"===y.view?y.tab:y.view,viewMode:"grid"}),h(C.kg({clickedResourceType:"team",resourceIdOrKey:e.id})),(0,v.kc)().file_browser_search_panel_fpl_migration?Z(e):h(S.sf({view:"team",teamId:e.id}))},onJoin:s,onLeave:o,spinnerClassName:W.Ys,titleId:f,isCardActive:!0})}),g&&X&&(0,r.jsx)(T.R.Overlay,{isHoverContentVisibleOverride:H,children:(0,r.jsx)(N.H,{favoriteStarMenu:V,setFavorite:ee,removeFavorite:et,favoriteType:M.bk.TEAM,resourceId:e.id,orgId:e.org_id})})]}),er=(0,r.jsx)(q,{team:e,titleId:f}),ea=(0,r.jsx)(K,{team:e,inSearchView:"search"===y.view,isCurrentUserInTeam:J});return(0,r.jsx)(k.P,{ref:p,ariaCurrent:n,cardRole:l,draggable:m,iconImage:(0,r.jsx)(w.nl,{team:e,size:40,avatarSvg:Y?void 0:G.A}),isHoverContentVisibleOverride:V.manager.isOpen,isSelected:n,onBlur:_,onClick:d,onFocus:c,subtitle:ea,title:er,topRightContent:en})});var Y=n(326141),J=n(964731),X=n(276571),Q=n(821476),Z=n(586863),ee=n(992937),et=n(719749),en=n(297094),er=n(685110),ea=n(303587),ei=n(590277),es=n(610604),eo=n(21612),el=n(569693),ed=n(20203);let ec={field:eo.o6.NAME,renderHeaderCell:()=>(0,b.t)("file_browser.team_list_view.header_name_column"),renderStaticRowCell:e=>(0,r.jsx)("div",{className:ed.s,children:(0,r.jsx)(el.rE,{entity:e,size:10,hideFallbackInitial:!0,onClick:void 0},e.id)})},eu={field:eo.o6.MEMBER_COUNT,renderHeaderCell:()=>(0,b.t)("file_browser.team_list_view.header_member_column"),renderStaticRowCell:e=>(0,r.jsx)(ea.B,{children:e.member_count})},e_={field:eo.o6.LAST_MODIFIED,renderHeaderCell:()=>(0,b.t)("file_browser.team_list_view.header_updated_column"),renderStaticRowCell:e=>{let t=e.team_last_touched_at;return(0,r.jsx)(ea.B,{children:t?(0,r.jsx)(en.h1,{date:t}):"\u2013"})}},em={field:eo.o6.CREATED_AT,renderHeaderCell:()=>(0,b.t)("file_browser.team_list_view.header_created_column"),renderStaticRowCell:e=>(0,r.jsx)(ea.B,{children:(0,r.jsx)(en.h1,{date:e.created_at})})};function ep(e){let t=e.team,n=(0,et.bc)(es.y_L,{teamId:t.id}),a=(0,s.dr)([t]),[i,l]=a.teams.transform(e=>{let n=e[t.id];return n?[n.canView,n.isInTeam]:[!1,!1]}).unwrapOr([!1,!1]),d=!1,c=!1;if("loaded"===n.status&&n.data?.team){let e=(0,s.ci)(n.data.team);d=e.canView,c=e.isInTeam}(0,ei.u8)({oldValue:[d,c],newValue:[i,l],label:ei.A5.TeamsItemsView.orgTeamActionListView,oldValueReady:"loaded"===n.status,newValueReady:"loaded"===a.teams.status});let{onClick:u,onJoin:_,onLeave:m}=(0,er.A)(t.id,d),p=(0,D.FC)(),h=(0,X._6)(),f=(0,o.Gc)(e=>{e.preventDefault(),(0,O._J)("file_browser_team_click",t.id,p,{selectedView:"recentsAndSharing"===h.view?h.tab:h.view,viewMode:"list"}),u()});return(0,r.jsx)(E.W,{titleId:e.titleId,team:t,isCurrentUserInTeam:c,isLoading:"loaded"!==n.status,onOpenTeam:f,onJoin:_,onLeave:m,isCardActive:!1})}let eh={renderHeaderCell:()=>(0,b.t)("file_browser.team_list_view.header_action_column"),renderInteractiveRowCell:(e,{mainContentId:t})=>(0,r.jsx)(ep,{team:e,titleId:t})};var ef=n(836848),ex=n(321719),eg=n(741402);let eb=e=>{switch(e){case eg.qm.NAME:return eo.o6.NAME;case eg.qm.CREATED_AT:return eo.o6.CREATED_AT;case eg.qm.FILES_LAST_TOUCHED_AT:return eo.o6.LAST_MODIFIED;case eg.qm.MEMBER_COUNT:return eo.o6.MEMBER_COUNT;case eg.qm.RELEVANCY:return eo.o6.RELEVANCY;default:return(0,ef.d_)("Should not try to sort by any other key in search list view"),eo.o6.NAME}},ev=e=>{switch(e){case eo.o6.NAME:return eg.qm.NAME;case eo.o6.CREATED_AT:return eg.qm.CREATED_AT;case eo.o6.LAST_MODIFIED:return eg.qm.FILES_LAST_TOUCHED_AT;case eo.o6.MEMBER_COUNT:return eg.qm.MEMBER_COUNT;case eo.o6.RELEVANCY:return eg.qm.RELEVANCY;case eo.o6.ACTION:return null;default:return(0,ef.d_)("Should not try to sort by any other key in search list view"),null}};function ey(e){let t=(0,i.d4)(e=>e.teams),n=(0,X._6)(),h=e.orgTeams,f=(0,i.wA)(),{showing:x,show:g,data:b}=(0,J.BK)(d.RQ),v=a.useCallback((e,t)=>{g({data:{team:e[0],targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}})},[g]),y=e=>(0,Y.GR)(f,e)(),w=e=>{f(R.to({type:ee.p,data:{teamId:e.id}}))},j=a.useCallback(e=>{f(R.to({type:(0,c.h)(),data:{team:e}}))},[f]),[C,T]=a.useState([]),k=(0,s.dr)(C),E=(0,u.TS)(),I=(0,u.Vj)(),{currentSort:N,sortBy:A}=function(){let e=(0,i.wA)(),t=(0,i.d4)(e=>e.search.parameters.sortState);return{currentSort:{field:eb(t.teams.sortKey),isDescending:t.teams.sortDesc},sortBy:n=>{let r=ev(n);if(!r)return;let a={...t,[eg.uH.TEAMS]:{sortKey:r,sortDesc:t.teams.sortKey!==r||!t.teams.sortDesc}};e(ex.qv({sortState:a}))}}}(),D=e.trackSearchClick,P=b?.team?.id,M=P?k.teams.unwrapOr({})[P]:void 0,L=a.useCallback((r,a)=>{if(!k.teams.transform(e=>{let t=e[r.id];return!t||t.canView}).unwrapOr(!0)){f(R.to({type:z.$,data:{team:r}}));return}if(D&&D(r.id,a),(0,O._J)("file_browser_team_click",r.id,{teams:t,orgTeams:e.orgTeamStatus?{status:e.orgTeamStatus,teams:h}:void 0},{selectedView:"recentsAndSharing"===n.view?n.tab:n.view,viewMode:"grid"}),(0,o.oJ)(a)){I(r.id),a.stopPropagation();return}E(r.id),a.stopPropagation(),a.preventDefault()},[k.teams,D,t,e.orgTeamStatus,h,n,E,f,I]),F=a.useCallback(e=>{if(1!==e.length)return;let t=e[0];if(!k.teams.data?.[t.id]?.canAdmin)return;f(S.oB());let n=!!t.org_id,r=e=>{f(R.to({type:Z.H,data:{team:t,subscriptionStatus:e}}))};n?r(!0):Q.$.getSubscriptionStatus({teamId:t.id}).then(({data:e})=>{r(e.meta&&e.meta.subscription_will_renew)}).catch(e=>{e.data?.message&&f(l.s.error(e.data.message))})},[f,k]),{columns:B}={columns:[ec,e_,em,eu,eh]};return!e.orgTeams||Array.isArray(e.orgTeams)&&!e.orgTeams.length?(0,r.jsx)("div",{className:ed.d,children:e.emptyView??(0,r.jsx)(p.C,{onCreateTeam:e.onCreateTeam})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.A,{getAriaLabel:e=>e.name,gridViewProps:{containerStyle:ew.gridPadding,renderCard:({ref:e,item:t,isSelected:n,role:a,onFocus:i,onClick:s,onBlur:o})=>(0,r.jsx)($,{ref:e,cardRole:a,isSelected:n,onBlur:o,onClick:s,onFocus:i,onJoin:y,onLeave:w,team:t,teamPermissions:k.teams.data?.[t.id]},`TeamGridCard-${t.id}`)},handleContextMenu:v,handleDeleteKey:F,handleOpenItem:L,isDraggable:!1,items:h,listViewProps:{columns:B,currentSort:N,handleSortBy:A},multiselectDisabled:!0,updateRenderedItems:T,viewType:e.viewType}),x&&M&&(0,r.jsx)(m.W,{team:b.team,onRenameClick:j,selectedTeamPermissions:M,overrideOpenAndInviteOptions:!1,trackSearchClick:e.trackSearchClick})]})}let ew={gridPadding:{kE3dHu:"x1nz7w5u",kpe85a:"xyx8554",kZCmMZ:null,kwRFfy:null,kGO01o:"xpezlj7",$$css:!0}}},948968:(e,t,n)=>{n.d(t,{i:()=>i});var r=n(239976);n(323264);var a=n(210823);function i({thumbnail:e,title:t,subtitle:n,bottomLeftIcon:i,topLeftContent:s,topRightContent:o,bottomRightContent:l,isHovered:d,onFocus:c,onBlur:u}){return(0,r.jsxs)("div",{className:"x78zum5 xdt5ytf",onFocus:c,onBlur:u,children:[(0,r.jsxs)("div",{className:"x1n2onr6",children:[e,(0,r.jsxs)("div",{className:"x78zum5 x1q0g3np x1cy8zhl xou54vl x1qughib x10l6tqk xu96u03 x13vifvy x3m8u43 x1tamke2 xb3r6kr xeuugli x98rzlu x9f619",children:[s?(0,r.jsx)("div",{className:"xs83m0k xb3r6kr xeuugli",children:s}):null,o?(0,r.jsx)("div",{className:"xs83m0k x13qp9f6",children:o}):null]})]}),(0,r.jsxs)("div",{...{0:{className:"x78zum5 x1q0g3np x6s0dn4 xnm25rq xyfqnmn xz9dl7a xsag5q8 x1v2ro7d x1yjdb4r x1y0btm7 x178xt8z x7z60cl"},1:{className:"x78zum5 x1q0g3np x6s0dn4 xnm25rq xyfqnmn xz9dl7a xsag5q8 x1v2ro7d x1y0btm7 x178xt8z x7z60cl x30nh5c"}}[!!d<<0],children:[i,(0,r.jsxs)("div",{className:"x1iyjqo2 x1r8uery x78zum5 xdt5ytf x195vfkc xb3r6kr",children:[(0,r.jsx)(a.E,{truncate:!0,color:"default",children:(0,r.jsx)("span",{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh",children:t})}),(0,r.jsx)(a.E,{truncate:!0,color:"secondary",children:(0,r.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up",children:n})})]}),l]})]})}},923954:(e,t,n)=>{n.d(t,{d:()=>tt});var r=n(239976),a=n(105652),i=n(20002),s=n(836848),o=n(379141),l=n(270450),d=n(445019),c=n(323264),u=n(360309),_=n(254503),m=n(918),p=n(577225),h=n(516663),f=n(371971),x=n(214056),g=n(703614),b=n(682100),v=n(459594),y=n(113877),w=n(816505),j=n(276571),C=n(773444),T=n(665180),k=n(6720),E=n(641200);function I(e){let t=(0,j._6)();return N(e,(0,w.dq)())&&A(t)}function N(e,t){return e.type!==y.nb.OFFLINE_FILE&&y.Tf.getOrgId(e)===t}function A(e){return"deletedFiles"!==e.view}var S=n(955098),R=n(154963),O=n(210823);function D(e){return(0,r.jsxs)("div",{className:R.s.gap8.h40.flex.flexRow.itemsCenter.$,children:[(0,r.jsx)("div",{className:"tile_drag_image--thumbnailContainer--xZzN5",children:(0,r.jsx)(h.e,{tile:e.tile,size:S.y.SMALL,borderRadius:4,hideUntilLoaded:!1})}),(0,r.jsx)(O.E,{fontSize:13,truncate:!0,fontWeight:"medium",children:y.Tf.getName(e.tile)})]})}var P=n(735786),M=n(423407),L=n(159773);let F=(0,a.memo)(function(e){return(0,L.O)()?(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,r.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"m17.043 9.928-.055-.759a4.5 4.5 0 0 0-8.504-1.703l-.257.507-.567.038A5 5 0 0 0 8 18h2a.5.5 0 1 1 0 1H8a6 6 0 0 1-.407-11.986 5.5 5.5 0 0 1 10.393 2.083A5.002 5.002 0 0 1 17 19h-3a.5.5 0 0 1 0-1h3a4 4 0 0 0 .79-7.922zm-4.69 1.219a.5.5 0 0 0-.707 0l-2.5 2.5a.5.5 0 1 0 .708.707l1.646-1.647V19a.5.5 0 1 0 1 0v-6.293l1.646 1.647a.5.5 0 0 0 .708-.707z",clipRule:"evenodd"})}):(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,r.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"m17.043 9.928-.055-.759a4.5 4.5 0 0 0-8.504-1.703l-.257.507-.567.038A5 5 0 0 0 8 18h1.5a.5.5 0 0 1 0 1H8a6 6 0 0 1-.407-11.986 5.5 5.5 0 0 1 10.393 2.083A5.002 5.002 0 0 1 17 19h-3.5a.5.5 0 0 1 0-1H17a4 4 0 0 0 .79-7.922zm-5.19 1.218a.5.5 0 0 0-.707 0l-3 3a.5.5 0 0 0 .708.708L11 12.707V19.5a.5.5 0 0 0 1 0v-6.793l2.146 2.147a.5.5 0 0 0 .708-.708z",clipRule:"evenodd"})})});var B=n(454705),U=n(980438),H=n(441452),z=n(116695);let V=a.forwardRef(function({thumbnail:e,title:t,subtitle:n,bottomLeftIcon:a,topLeftContent:i,topRightContent:s,bottomRightContent:o,isSelected:l,onClick:d,cardRole:c,onFocus:u,onBlur:_,draggable:m,isHoverContentVisibleOverride:p},h){return(0,r.jsxs)(H.R.Root,{isSelected:!!l,ref:h,onClick:d,onFocus:u,onBlur:_,cardRole:c,draggable:m,isHoverContentVisibleOverride:p,children:[(0,r.jsxs)("div",{className:"x1n2onr6",children:[e,(0,r.jsxs)("div",{className:"x78zum5 x1q0g3np x1cy8zhl xou54vl x1qughib x10l6tqk xu96u03 x13vifvy x3m8u43 x1tamke2 xb3r6kr xeuugli x98rzlu x9f619",children:[i&&(0,r.jsx)(z.HG,{className:"xb3r6kr xeuugli",children:i}),s&&(0,r.jsx)(z.HG,{className:"x13qp9f6",children:s})]})]}),(0,r.jsxs)("div",{className:"x78zum5 x1q0g3np x6s0dn4 x1gcgh60 x1jwbysl x1xvsi7n xdmjnt8 x1pulhmw x1yjdb4r x1y0btm7 x178xt8z x7z60cl",children:[(0,r.jsx)(z.HG,{children:a}),(0,r.jsxs)("div",{className:"x98rzlu x78zum5 xdt5ytf x195vfkc xb3r6kr",children:[(0,r.jsx)(H.R.Title,{children:t}),(0,r.jsx)(H.R.Subtitle,{children:n})]}),(0,r.jsx)(z.HG,{children:o})]})]})});var W=n(832433),G=n(62163),q=n(985563),K=n(605985),$=n(254842);let Y=e=>e.activeFileUsers,J=e=>(0,$.Mz)(Y,t=>t[e]||{});var X=n(533603);function Q(e){let t=y.Tf.getFileOrSelectedBranchKey(e.tile)||"",n=(0,K.Pc)(),a=Object.values((0,i.d4)(J(t)));return a.length?(0,r.jsx)(X.W,{entityList:a,maxNumHeads:3,currentUser:n,overlapped:!0}):null}var Z=n(110081),ee=n(97387),et=n(155862);function en(e){let t=(0,i.wA)(),n=a.useCallback(({favoriteId:n,sectionId:r})=>{t(ee.EX({entrypoint:e.entrypoint,favoriteId:n,sectionId:r,tile:e.tile,fileBrowserEntryPoint:!0}))},[t,e.tile,e.entrypoint]),s=a.useCallback(({favoriteId:n})=>{t(ee.dy({entrypoint:e.entrypoint,favoriteId:n,tile:e.tile,fileBrowserEntryPoint:!0}))},[t,e.tile,e.entrypoint]),o=y.Tf.getOrgId(e.tile)??null,l=y.Tf.getFavoriteResourceTeamId(e.tile)??null;return(0,et.jm)(o,l)?(0,r.jsx)(Z.H,{favoriteStarMenu:e.favoriteStarMenu,setFavorite:n,removeFavorite:s,favoriteType:y.Tf.getFavoritedResourceType(e.tile),resourceId:y.Tf.getFavoriteResourceId(e.tile)||"",orgId:y.Tf.getOrgId(e.tile)??null,teamId:y.Tf.getFavoriteResourceTeamId(e.tile)??null}):(0,r.jsx)(r.Fragment,{})}var er=n(778812);function ea(e){let t=(0,i.d4)(e=>e.orgById),n=y.Tf.getOrgId(e.tile);if(!n)return(0,r.jsx)(r.Fragment,{});let a=t[n];return a?(0,r.jsx)(er.H,{entityId:n,entityName:a.name,imgUrl:a.img_url,size:e.size}):(0,r.jsx)(r.Fragment,{})}var ei=n(943360),es=n(399769),eo=n(889419),el=n(297094);function ed(e){let t=e.getDateFromGenericTile(e.tile),n=(0,el.Ak)(t);return(0,r.jsx)(r.Fragment,{children:n??"--"})}function ec(e){let t=(0,K.TA)(),n=y.Tf.getTrashedUserId(e.tile),a=(0,r.jsx)(ed,{tile:e.tile,getDateFromGenericTile:y.Tf.getTrashedAt});return n&&n===t?(0,o.tx)("tile.file_tile.trashed_by_you",{time:a}):(0,o.tx)("tile.file_tile.trashed_generic",{time:a})}function eu({tile:e,selectedView:t,hideBranchIndicator:n}){return(0,r.jsxs)("div",{className:"x78zum5 x6s0dn4 xh8yej3",children:[(0,r.jsx)(e_,{tile:e,hideBranchIndicator:n}),(0,r.jsx)(em,{tile:e,selectedView:t})]})}function e_(e){let t=e.tile.type===y.nb.REPO&&e.tile.branches.filter(e=>!e.trashed_at).length||0;return!e.hideBranchIndicator&&t>1?(0,r.jsxs)(r.Fragment,{children:[(0,o.tx)("tile.file_tile.branch_count",{branchCount:t}),"\xa0\xb7\xa0"]}):(0,r.jsx)(eh,{tile:e.tile})}function em(e){let t=(0,o.tx)("tile.file_tile.edited_time",{time:(0,r.jsx)(ed,{tile:e.tile,getDateFromGenericTile:y.Tf.getTouchedAt})});return"deletedFiles"===e.selectedView.view?(0,r.jsx)(ec,{tile:e.tile}):"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===k.Gw.SHARED_FILES?y.Tf.getSharedBy(e.tile)?(0,r.jsx)(O.E,{truncate:!0,showTooltipWhenTruncated:!0,children:(0,o.tx)("team_tile.shared_by",{shared_by_text:y.Tf.getSharedByName(e.tile)})}):(0,r.jsx)(O.E,{truncate:!0,showTooltipWhenTruncated:!0,children:(0,o.tx)("swy_tile.shared_date",{shared_date:(0,r.jsx)(ed,{tile:e.tile,getDateFromGenericTile:y.Tf.getSharedAt})})}):"user"===e.selectedView.view?(0,o.tx)("tile.file_tile.last_activity_time",{time:(0,r.jsx)(ed,{tile:e.tile,getDateFromGenericTile:y.Tf.getTouchedAt})}):e.tile.type===y.nb.FILE&&e.tile.file.trackTags?.source==="import"&&new Date(e.tile.file.touchedAt)<=e.tile.file.createdAt?(0,o.tx)("tile.file_tile.imported_time",{time:(0,r.jsx)(ed,{tile:e.tile,getDateFromGenericTile:y.Tf.getCreatedAt})}):y.Tf.getIsPasswordProtected(e.tile)?(0,r.jsx)(ep,{tile:e.tile,defaultText:t}):t}function ep(e){let t=(0,d.md)((0,y.hi)({tile:e.tile}));if("loading"===t.status)return null;if(!t.data)switch(e.tile.type){case y.nb.FILE:case y.nb.REPO:case y.nb.PINNED_FILE:case y.nb.OFFLINE_FILE:return(0,o.tx)("tile.file_tile.password_protected");case y.nb.PROTOTYPE:return(0,o.tx)("tile.file_tile.password_protected_prototype");default:(0,s.xb)(e.tile)}return(0,r.jsxs)(r.Fragment,{children:[(0,o.tx)("tile.file_tile.password_protected_shorter")," \xb7 ",e.defaultText]})}function eh(e){let t=y.Tf.getFolderId(e.tile),n=(0,eo.h)(t),a=n.data?.folderName||null,i=n.data?.isTrashed||!1,s=(0,es.EB)();return"loaded"===n.status&&a&&t?i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(O.E,{truncate:!0,children:[a,"\xa0",(0,o.t)("file_browser.folder.trashed_folder")]}),"\xa0\xb7\xa0"]}):(0,r.jsxs)("div",{className:"x78zum5 xs83m0k xeuugli x6s0dn4",children:[(0,r.jsx)(ei.E,{onClick:e=>{e.stopPropagation(),s(t,e)},className:"x1n0bwc9 xs83m0k xeuugli xt0b8zv x1kuswnt",children:(0,r.jsx)(O.E,{truncate:!0,children:a})}),"\xa0\xb7\xa0"]}):null}var ef=n(112564),ex=n(236410),eg=n(522568),eb=n(415839),ev=n(318584),ey=n(600195),ew=n(563225),ej=n(653092),eC=n(376129),eT=n(424888),ek=n(538349),eE=n(795867);function eI({branch:e}){return(0,r.jsx)(eb.CU,{value:e.key,children:e.name})}function eN({sourceFileKey:e,createBranchStatus:t,dispatch:n}){return(0,r.jsxs)(P.q7,{onClick:()=>{let r=eE.e0.FILE_BROWSER;switch(t){case"upsell-org":n(ej.j({trackingContextName:r}));break;case"enabled":n(ej.l({trackingContextName:r,sourceFileKey:e,dispatchedFromEditor:!1}));break;case"disabled":break;default:(0,s.xb)(t)}},disabled:"disabled"===t,children:[(0,r.jsx)(P.Q$,{children:(0,r.jsx)(ev.e,{})}),(0,o.t)("tile.branching.create_new_branch")]})}function eA({branches:e,selectedBranchKey:t,sourceFileKey:n,onSelectBranch:i,createBranchStatus:s,dispatch:l}){let{mainBranches:d,ownedBranches:c,submenuBranches:u}=a.useMemo(()=>{let t=[],n=[],r=[];for(let a of e)a.isMain?t.push(a):a.ownedByUser?n.push(a):r.push(a);return{mainBranches:t,ownedBranches:n,submenuBranches:r}},[e]);return(0,r.jsxs)(P.mc,{rareUseIndentOptOut:!0,children:[(0,r.jsxs)(eb.z6,{value:t,onChange:i,title:(0,r.jsx)(P.r1,{children:(0,o.t)("tile.branching.change_default_branch")}),children:[d.map(e=>(0,r.jsx)(eI,{branch:e},e.key)),c.map(e=>(0,r.jsx)(eI,{branch:e},e.key))]}),"hidden"!==s.status&&u.length>0?(0,r.jsx)(P.YJ,{children:(0,r.jsxs)(P.g8,{children:[(0,r.jsx)(P.ZP,{children:(0,o.t)("tile.branching.see_all_branches")}),(0,r.jsx)(P.MJ,{children:(0,r.jsx)(eb.z6,{value:t,onChange:i,title:(0,r.jsx)(P.r1,{children:(0,o.t)("tile.branching.see_all_branches")}),children:u.map(e=>(0,r.jsx)(eI,{branch:e},e.key))})})]})}):null,"hidden"!==s.status&&n?(0,r.jsx)(eN,{sourceFileKey:n,createBranchStatus:s.status,dispatch:l}):null]})}function eS(e){let t=ek.M4.useFile(e.fileKey).data,n=(0,i.d4)(e=>e.repos),s=t?(0,eC.L8)(t,n):null,d=ek.M4.File.useValue(s?.default_file_key).data,c=(0,eT.ac)(d?C.F.toLiveGraph(d):null),u=(0,i.wA)(),{getTriggerProps:_,manager:m}=e.menu,p=a.useMemo(()=>e.branches.find(t=>t.key===(e.selectedBranchKey??s?.default_file_key)),[e.branches,e.selectedBranchKey,s?.default_file_key]),h=(0,l.kc)().file_branch_menu_observability,f=a.useCallback(()=>{h&&eg.az.trackDefinedEvent("file_browser.branch_menu_opened",{fileKey:e.fileKey,branchCount:e.branches.length})},[h,e.fileKey,e.branches.length]);return"loaded"!==c.status?null:(0,r.jsxs)(P.bL,{manager:m,children:[(0,r.jsxs)(ei.E,{..._({onClick:f}),className:"x78zum5 x6s0dn4 x1mh6rdz xg2d0mh xon4yw5 x1sxf85j xh8yej3 x1a2a7pz xiym6m8 x1g40iwv","data-testid":"branch-indicator-dropdown","aria-label":(0,o.t)("tile.branching.change_default_branch"),children:[(0,r.jsx)(ey.L,{"aria-hidden":!0,className:"xn0whsw x2lah0s"}),(0,r.jsx)(O.E,{truncate:!0,color:"menu",children:p?.name}),(0,r.jsx)(ew.O,{"aria-hidden":!0,className:"xn0whsw x2lah0s"})]}),(0,r.jsx)(eA,{branches:e.branches,selectedBranchKey:e.selectedBranchKey,sourceFileKey:d?.key,onSelectBranch:e.onSelectBranch,createBranchStatus:c.data,dispatch:u})]})}var eR=n(265467);function eO({repoTile:e,menu:t}){let n=(0,i.wA)(),s=(0,i.d4)(e=>e.roles.byFileKey),o=(0,K.Pc)(),l=(0,i.d4)(e=>e.selectedBranchKeyByRepoId),d=e.branches.filter(e=>!e.trashed_at),c=(0,eC.mr)(e.repo,e.branches,l),u=a.useMemo(()=>(0,eC.gx)(e.repo,d,s,o.id),[e,d,s,o]);return d.length<=1||!c?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(eS,{fileKey:e.repo.default_file_key,branches:u,selectedBranchKey:c.key,onSelectBranch:t=>{(0,eg.sx)("Branch Tile Drop Down Clicked Through",{fileRepoId:e.repo.id,selectedFileKey:t,previousFileKey:c?.key}),n(eR.kE({repoId:e.repo.id,branchKey:t}))},menu:t})}var eD=n(948968);function eP({tile:e,isHovered:t,isSelected:n,showPlanIcon:i,hideBranchIndicator:s,checksForViewOnlyLabels:l,interactiveThumbnailsEnabled:d,onChildFocusChange:c}){let[u,_]=a.useState(!1),m=(0,W.C)(e),p=(0,j._6)(),f=(0,y.c_)(e).unwrapOr(!1),x=P.b(),g=P.b(),b=t||n||u||x.manager.isOpen||g.manager.isOpen;return(0,r.jsx)(H.R.OverlayHoverTarget,{isHoverContentVisibleOverride:b,children:(0,r.jsx)(eD.i,{thumbnail:(0,r.jsx)(h.e,{tile:e,noBorder:!0,interactiveThumbnailsEnabled:d}),topLeftContent:(0,r.jsx)(eL,{tile:e,repoMenu:g,hideBranchIndicator:s}),topRightContent:(0,r.jsx)(eF,{tile:e,showPlanIcon:i,favoriteStarMenu:x}),bottomLeftIcon:f?(0,r.jsx)(q.K,{}):(0,r.jsx)(U.w4,{size:16,type:m}),title:(0,r.jsx)(ef.A,{tile:e,checksForViewOnlyLabels:l}),subtitle:(0,r.jsx)(eu,{tile:e,hideBranchIndicator:s,selectedView:p}),bottomRightContent:e.type===y.nb.OFFLINE_FILE?(0,r.jsx)(F,{"data-tooltip":(0,o.t)("tile.offline_file_tile.offline_upload_tooltip"),"data-tooltip-type":ex.Ib.TEXT}):(0,r.jsx)(Q,{tile:e}),onFocus:()=>{_(!0),c?.()},onBlur:()=>{_(!1),c?.()}})})}let eM=a.forwardRef(function({tile:e,isSelected:t,showPlanIcon:n,hideBranchIndicator:a,checksForViewOnlyLabels:i,interactiveThumbnailsEnabled:s,cardRole:l,onClick:d,onFocus:c,onBlur:u,draggable:_},m){let p=(0,W.C)(e),f=(0,j._6)(),x=P.b(),g=P.b(),b=(0,y.c_)(e).unwrapOr(!1),v=x.manager.isOpen||g.manager.isOpen;return(0,r.jsx)(V,{ref:m,bottomLeftIcon:b?(0,r.jsx)(q.K,{}):(0,r.jsx)(U.w4,{size:16,type:p}),bottomRightContent:e.type===y.nb.OFFLINE_FILE?(0,r.jsx)(F,{"data-tooltip":(0,o.t)("tile.offline_file_tile.offline_upload_tooltip"),"data-tooltip-type":ex.Ib.TEXT}):(0,r.jsx)(Q,{tile:e}),cardRole:l,draggable:_,isHoverContentVisibleOverride:v,isSelected:t,onBlur:u,onClick:d,onFocus:c,subtitle:(0,r.jsx)(eu,{tile:e,hideBranchIndicator:a,selectedView:f}),thumbnail:(0,r.jsx)(h.e,{tile:e,noBorder:!0,interactiveThumbnailsEnabled:s}),title:(0,r.jsx)(ef.A,{tile:e,checksForViewOnlyLabels:i}),topLeftContent:(0,r.jsx)(eL,{tile:e,hideBranchIndicator:a,repoMenu:g}),topRightContent:(0,r.jsx)(eF,{tile:e,showPlanIcon:n,favoriteStarMenu:x})})});function eL({tile:e,hideBranchIndicator:t,repoMenu:n}){let a=(()=>{let t=y.Tf.getEditorType(e);return(0,l.kc)().template_badge_file_browser&&y.Tf.getIsTeamTemplate(e)&&t?(0,r.jsx)(B.J,{brand:(0,G.K)(t),children:(0,r.jsx)(M.E,{variant:"brandFilled",children:(0,o.t)("file_browser.file_grid_view.template")})}):e.type===y.nb.FILE&&e.file.isPublishedSite&&t?(0,r.jsx)(B.J,{brand:(0,G.K)(t),children:(0,r.jsx)(M.E,{variant:"brandFilled",children:(0,o.t)("file_browser.file_grid_view.published")})}):null})();return(0,r.jsxs)("div",{className:"x78zum5 x6s0dn4 x1nfngrj",children:[a,e.type===y.nb.REPO&&!t&&(0,r.jsx)(H.R.Overlay,{children:(0,r.jsx)(eO,{repoTile:e,menu:n})})]})}function eF({tile:e,showPlanIcon:t,favoriteStarMenu:n}){if(!I(e))return null;let a=y.Tf.getIsFavorited(e);return(0,r.jsxs)("div",{className:"x78zum5 x6s0dn4 x1nfngrj",children:[t&&(0,r.jsx)(H.R.Overlay,{children:(0,r.jsx)(ea,{tile:e,size:24})}),(0,r.jsx)(H.R.Overlay,{isHoverContentVisibleOverride:a,children:(0,r.jsx)(en,{tile:e,entrypoint:"file_tile",favoriteStarMenu:n})})]})}var eB=n(743544),eU=n(450207),eH=n(738464),ez=n(569693);function eV(e){let t=(0,i.wA)(),n=y.Tf.getOwner(e.tile);if(!n)return(0,r.jsx)(O.E,{fontSize:13,truncate:!0,children:"--"});let a=y.Tf.getOrgId(e.tile);return(0,r.jsx)("div",{className:"generic_tile_owner--hugContents--GzU4n",children:(0,r.jsx)(ez.az,{entity:n,size:24,showIsMe:!1,onClick:()=>{t(eU.sf({view:"user",userId:n.id,userViewTab:eH.o.INTERNAL_PROFILE,orgId:a}))}},n.id)})}function eW(e){let t=e.getFolderIdFromGenericTile(e.tile),n=(0,eo.h)(t),a=n.data?.folderName||null,i=n.data?.isTrashed||!1,s=(0,es.EB)(),l=!i;return"loaded"===n.status&&a&&t?l?(0,r.jsx)(ei.E,{onClick:e=>{l&&(e.stopPropagation(),s(t,e))},className:"generic_tile_previous_location--folder_name_clickable--JGvpz",children:(0,r.jsx)(O.E,{fontSize:e.fontSize,truncate:!0,children:a})}):(0,r.jsxs)(O.E,{fontSize:e.fontSize,truncate:!0,children:[a,"\xa0",i&&(0,o.t)("file_browser.folder.trashed_folder")]}):(0,r.jsx)(O.E,{fontSize:e.fontSize,truncate:!0,children:"--"})}var eG=n(310955),eq=n(363337),eK=n(597298);function e$(e){let t=y.Tf.getSharedByName(e.tile),n=y.Tf.getSharedBy(e.tile)??null,a=(0,eK.wW)(n).user;return n?(0,r.jsxs)("div",{className:R.s.flex.itemsCenter.gap8.$,children:[a&&(0,r.jsx)(eq.H8,{user:a,size:eq.Pf.MEDIUM}),(0,r.jsx)(O.E,{truncate:!0,children:(0,r.jsx)("span",{...c.Ay.props(eG.g.textBodyMedium),children:t})})]}):(0,r.jsx)(O.E,{truncate:!0,children:(0,r.jsx)("span",{...c.Ay.props(eG.g.textBodyMedium),children:"--"})})}var eY=n(303587);function eJ(e){let t=(0,W.C)(e.tile);return(0,r.jsxs)("div",{className:R.s.flex.itemsCenter.gap12.overflowHidden.h48.wFull.$,children:[(0,r.jsxs)("div",{className:R.s.relative.flexShrink0.hFull.$,children:[(0,r.jsx)(h.e,{tile:e.tile,size:S.y.SMALL,borderRadius:4}),(0,r.jsx)("div",{className:"tile_name_and_preview--iconContainer--PPIE3",children:(0,r.jsx)(U.w4,{size:16,type:t})})]}),(0,r.jsx)("div",{className:R.s.wFull.$,children:(0,r.jsx)(O.E,{fontWeight:"medium",fontSize:13,truncate:!0,children:(0,r.jsx)(ef.A,{tile:e.tile,isListView:!0,checksForViewOnlyLabels:e.checksForViewOnlyLabels})})})]})}let eX={nameHeaderCellStyles:{kzqmXN:"x3hqpx7",$$css:!0},facePileHeaderCellStyles:{kzqmXN:"x1d7z9mz",$$css:!0}},eQ={renderScreenReaderHeaderCell:()=>(0,o.t)("file_browser.generic_list_view.header_star_column"),renderInteractiveRowCell:(e,{isSelected:t,isHovered:n})=>(0,r.jsx)(eZ,{tile:e,isSelected:t,isHovered:n})};function eZ({tile:e,isSelected:t,isHovered:n}){let a=P.b(),i=I(e),s=y.Tf.getIsFavorited(e);if(!i)return null;let o=s||t||n||a.manager.isOpen;return(0,r.jsx)("div",{...c.Ay.props(eB.R.invisible,eB.R.hoverTarget(o)),children:(0,r.jsx)(en,{tile:e,entrypoint:"file_list_row",favoriteStarMenu:a})})}let e0=e=>({field:E.C0.NAME,headerCellStyles:eX.nameHeaderCellStyles,renderHeaderCell:()=>(0,o.t)("file_browser.file_list_view.header_name_column"),renderStaticRowCell:t=>(0,r.jsx)(eJ,{tile:t,checksForViewOnlyLabels:e})}),e1={renderHeaderCell:()=>(0,o.t)("file_browser.file_list_view.header_last_modified_column"),renderStaticRowCell:e=>(0,r.jsx)(eY.B,{truncate:!0,children:(0,r.jsx)(ed,{tile:e,getDateFromGenericTile:y.Tf.getTouchedAt})})},e2={field:E.C0.TRASHED_AT,renderHeaderCell:()=>(0,o.t)("file_browser.file_list_view.header_trashed_at_column"),renderStaticRowCell:e=>(0,r.jsx)(eY.B,{truncate:!0,children:(0,r.jsx)(ed,{tile:e,getDateFromGenericTile:y.Tf.getTrashedAt})})},e5={renderHeaderCell:()=>(0,o.t)("file_browser.file_list_view.header_previous_location_column"),renderInteractiveRowCell:e=>(0,r.jsx)(eY.B,{children:(0,r.jsx)(eW,{tile:e,getFolderIdFromGenericTile:y.Tf.getFolderId})})},e3={field:E.C0.CREATED_AT,renderHeaderCell:()=>(0,o.t)("file_browser.file_list_view.header_created_column"),renderStaticRowCell:e=>(0,r.jsx)(eY.B,{truncate:!0,children:(0,r.jsx)(ed,{tile:e,getDateFromGenericTile:y.Tf.getCreatedAt})})},e4={field:E.C0.SHARED_AT,renderHeaderCell:()=>(0,o.t)("file_browser.file_list_view.header_shared_at_column"),renderStaticRowCell:e=>(0,r.jsx)(eY.B,{truncate:!0,children:(0,r.jsx)(ed,{tile:e,getDateFromGenericTile:y.Tf.getSharedAt})})},e6={renderHeaderCell:()=>(0,o.t)("file_browser.file_list_view.header_face_pile_column"),isScreenReaderOnly:!0,headerCellStyles:eX.facePileHeaderCellStyles,renderInteractiveRowCell:e=>(0,r.jsx)(Q,{tile:e})},e9={renderHeaderCell:()=>(0,o.t)("file_browser.file_list_view.header_owner_column"),renderInteractiveRowCell:e=>(0,r.jsx)(eV,{tile:e})};function e7(e){return{gutterColumn:eQ,columns:[e0(e),e1,e3,e6]}}let e8={gutterColumn:eQ,columns:[e0(),{renderHeaderCell:()=>(0,o.t)("file_browser.file_list_view.header_shared_by_column"),renderStaticRowCell:e=>(0,r.jsx)(e$,{tile:e})},e4,e6]},te=e=>{let t=[],n=[],r=[],a=[];return e.forEach(e=>{switch(e.type){case y.nb.FILE:n.push(e);break;case y.nb.PROTOTYPE:r.push(e);break;case y.nb.REPO:t.push(e);break;case y.nb.PINNED_FILE:(0,s.KF)(!0,"Do not expect to be rendering project or pinned tiles here");break;case y.nb.OFFLINE_FILE:a.push(e);break;default:(0,s.xb)(e)}}),{repoTiles:t,fileTiles:n,prototypeTiles:r,offlineFileTiles:a}};function tt({handleOpenDropdown:e,handleOpenTile:t,items:n,updateRenderedItems:s,updateVisibleItems:c,sortConfig:I,doNotFocusOnLoad:S,checksForViewOnlyLabels:R,interactiveThumbnailsEnabled:O,gridContainerStyle:P,viewType:M,sortBy:L}){let F=(0,i.wA)(),B=(0,j._6)(),U=(0,w.dq)(),H=(0,d.Xr)(T.yH),{Sprig:z}=(0,p.A)(),V=(0,x.v)(),W=(0,d.md)(y.Y6),G=a.useCallback(e=>{F(v.an());let{fileTiles:t,offlineFileTiles:n,repoTiles:r,prototypeTiles:a}=te(e);t.length>0&&F(v.y$({type:y.YC[y.nb.FILE],tiles:t})),n.length>0&&F(v.y$({type:y.YC[y.nb.OFFLINE_FILE],tiles:n})),r.length>0&&F(v.y$({type:y.YC[y.nb.REPO],tiles:r})),a.length>0&&F(v.y$({type:y.YC[y.nb.PROTOTYPE],tiles:a})),H([...new Set(e.map(e=>y.Tf.getFolderId(e)).filter(e=>null!==e))])},[F,H]),{gutterColumn:q,columns:K}=function(e,t){switch(e.view){case"recentsAndSharing":return e.tab===k.Gw.SHARED_FILES?e8:e7(t);case"search":return{gutterColumn:eQ,columns:[e0(t),e1,e3,e9]};case"deletedFiles":return{gutterColumn:eQ,columns:[e0(t),e2,e5]};default:return e7(t)}}(B,R),{filePermissions:$,repoPermissions:Y}=(0,m.xD)(),J=a.useCallback(e=>e.every(e=>N(e,U)&&!y.Tf.isRenaming(e,W)),[W,U]),X={containerStyle:P??tn.gridContainerDefault,renderTileDragImage:e=>(0,r.jsx)(h.e,{tile:e,noBorder:!0,hideUntilLoaded:!1})},Q="deletedFiles"===B.view,Z={...X,...(0,l.kc)().file_browser_file_cards?{renderCard:({ref:e,item:t,isSelected:n,role:a,onFocus:i,onClick:s,onBlur:o})=>(0,r.jsx)(eM,{ref:e,cardRole:a,checksForViewOnlyLabels:R,draggable:A(B),hideBranchIndicator:Q,interactiveThumbnailsEnabled:O,isSelected:n,onBlur:o,onClick:s,onFocus:i,showPlanIcon:"recentsAndSharing"===B.view&&B.tab===k.Gw.RECENTLY_VIEWED||"search"===B.view,tile:t},`TileGridCard${y.Tf.getId(t)}`)}:{renderTile:(e,t,{isHovered:n,isSelected:a})=>(0,r.jsx)(eP,{tile:e,hideBranchIndicator:Q,isHovered:n,isSelected:a,showPlanIcon:"recentsAndSharing"===B.view&&B.tab===k.Gw.RECENTLY_VIEWED||"search"===B.view,checksForViewOnlyLabels:R,interactiveThumbnailsEnabled:O,onChildFocusChange:t}),tileBorderRadius:"large"}};return(0,r.jsx)(g.A,{canSelectedItemsBeDragged:J,doNotFocusOnLoad:S,getAriaLabel:y.Tf.getName,gridViewProps:Z,handleContextMenu:(t,r,a)=>{let i=n[a];i&&e(i,r,a)},handleDeleteKey:e=>{let{fileTiles:t,repoTiles:n,offlineFileTiles:r}=te(e);if((0,l.kc)().file_browser_sentiment_survey&&z("setAttribute","fb_file_organized",!0),"deletedFiles"===B.view){let e=t.map(e=>e.file.key),r=n.map(e=>e.repo.id),a=e.length+r.length;if(!a||"loaded"!==$.status||"loaded"!==Y.status)return;let i=(0,u.m8)(e,$.data),s=(0,_.gX)(r,Y.data);if(i.length+s.length<a){F(f.s.error((0,o.t)("flash.dont_have_permission_permanently_delete_files")));return}F(b.Fh({fileKeys:i,repoIds:s}))}else{if(t.length+n.length+r.length===0||"loaded"!==$.status||"loaded"!==Y.status)return;let{filesByKey:a,reposById:i,offlineFilesByKey:s,allDrafts:l,deletableCount:d,selectedCount:c}=b.Mw(e,$.data,Y.data);if(d<c){F(f.s.error((0,o.t)("tile.error.permission_error_trash_file",{selectedCount:e.length})));return}F(b.U1({filesByKey:a,reposById:i,offlineFilesByKey:s,allDrafts:l}))}},handleDragDataTransfer:(e,t)=>{let{fileTiles:n,repoTiles:r,prototypeTiles:a}=te(e),i=n.map(e=>C.F.toSinatra(e.file)),s=r.map(e=>e.repo),o=a.map(e=>e.prototype);!i.length||s.length||o.length?i.length||!s.length||o.length?i.length||s.length||!o.length?t.setTilesData_DEPRECATED(i,s,o):t.setPrototypesData_DEPRECATED(o):t.setReposData_DEPRECATED(s,[]):t.setFigFilesData_DEPRECATED(i)},handleOpenItem:"deletedFiles"!==B.view?(e,n,r)=>{t(e,n,r),V(e,n)}:void 0,isDraggable:A(B),items:n,listViewProps:{gutterColumn:q,columns:K,currentSort:{field:I.key,isDescending:I.dir===E.ue.DESC},handleSortBy:L,renderItemDragImage:e=>(0,r.jsx)(D,{tile:e})},onSelection:G,updateRenderedItems:s,updateVisibleItems:c,viewType:M})}let tn={gridContainerDefault:{kE3dHu:"x1tudf5h",kpe85a:"x1m2p0i2",kZCmMZ:null,kwRFfy:null,kGO01o:"x1gan7if",$$css:!0}}},695821:(e,t,n)=>{n.d(t,{l:()=>i});var r=n(692376),a=n(157750);function i(e=!0){let t=e?r.Ez5?.canvasGrid().canvasGridArray:null;return 0===(0,a.ut)(t,[]).length}},448864:(e,t,n)=>{n.d(t,{qv:()=>G,ah:()=>$,rG:()=>Z,iW:()=>el,DM:()=>en,px:()=>et,T5:()=>ee,Vg:()=>Q,EI:()=>J,p9:()=>ea,ON:()=>X});var r=n(239976),a=n(105652),i=n(943360),s=n(942356),o=n(254056),l=n(732108),d=n(763147),c=n(620982),u=n(4245),_=n(255398),m=n(22291),p=n(466082),h=n(379141),f=n(270450),x=n(445019);n(323264);var g=n(224542),b=n.n(g),v=n(312884),y=n(75962),w=n(985836),j=n(545231),C=n(955098),T=n(154963),k=n(842582),E=n(585066),I=n(9270),N=n(452748),A=n(639184),S=n(790016),R=n(236410),O=n(880197),D=n(221274),P=n(288990);let M="cooper_template_ui--tile--5Q2oe",L="cooper_template_ui--detailTileContainer--x1frx",F="cooper_template_ui--detailTile--7EB-N",B="cooper_template_ui--hoverOverlayTarget--uadYO",U="cooper_template_ui--rowMargin--nDKSn",H="cooper_template_ui--rowContainer--gMSFC",z="cooper_template_ui--rowIconContainer--hdv20",V="cooper_template_ui--rowMetadataContainer--4pF3t",W="cooper_template_ui--rowMetadataTitle--DMXJt",G="https://help.figma.com/hc/articles/31271693614487",q={kVIFPx:"x19kjcj4",$$css:!0},K={image:e=>[q,{kZKoxP:null!=e?"x16ye13r":e,$$css:!0},{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e)}]};function $({onboardingKey:e=""}){return(0,r.jsx)("div",{className:T.s.flexColumn.alignCenter.pt32.pb16.$,"data-onboarding-key":e,children:(0,r.jsx)("div",{className:T.s.mxAuto.w24.h24.$,children:(0,r.jsx)(E.k,{})})})}let Y="cooper-tile-id";function J({name:e,label:t,thumbnailUrl:n,additionalThumbnailUrls:a,onClick:s,libraryKey:o,truncateHoverText:l=!1,dataTestIdPrefix:d=""}){let c=(0,P._M)((0,m.l)(o)).data.templates,u=0;for(let e of c)u+=e.components.length;let _=u>0?l?(0,h.t)("cooper.templates.view_n_templates_short",{numTemplates:u}):(0,h.t)("cooper.templates.view_n_templates",{numTemplates:u}):l?(0,h.t)("cooper.templates.view"):(0,h.t)("cooper.templates.view_templates");return(0,r.jsx)(i.E,{onClick:s,"data-testid":`${d}.templateDetailTile.${e}`,className:B,children:(0,r.jsxs)("div",{className:L,children:[(0,r.jsxs)("div",{className:F,children:[n&&a&&a.length>0?(0,r.jsx)("div",{className:"cooper_template_ui--thumbnailContainer--1M5DK",children:(0,r.jsx)(j.A,{thumbnailUrl:n,additionalThumbnailUrls:a||[],thumbnailType:C.F.COOPER,noBorder:!0})}):(0,r.jsx)("div",{className:T.s.flex.justifyCenter.itemsCenter.overflowHidden.wFull.hFull.$,children:(0,r.jsx)(I.Q,{src:n||void 0,alt:e,draggable:!1,imageStyle:K.image("100%"),loading:"lazy",crossOrigin:"use-credentials",fadeInOnLoad:!0})}),(0,r.jsx)(eo,{variant:"view",buttonText:_,ariaLabel:e})]}),(0,r.jsx)(ei,{title:e,subtitle:t})]})})}function X(){return(0,r.jsxs)("div",{className:"cooper_template_ui--detailTilePlaceholderContainer--gi635",children:[(0,r.jsx)("div",{className:M,children:(0,r.jsx)("div",{className:T.s.flex.justifyCenter.itemsCenter.overflowHidden.wFull.hFull.$,children:(0,r.jsx)(w.Qp,{className:"cooper_template_ui--tilePlaceholderImage--cokJ-",animationType:w.JR.LIGHT_SHIMMER,primary:!0})})}),(0,r.jsxs)("div",{className:"cooper_template_ui--tilePlaceholderMetadataContainer--CS0KL",children:[(0,r.jsx)("div",{style:{display:"table-row"},children:(0,r.jsx)(w.Wi,{className:"cooper_template_ui--tilePlaceholderTitle--UjZtP",animationType:w.JR.LIGHT_SHIMMER})}),(0,r.jsx)("div",{style:{display:"table-row"},children:(0,r.jsx)(w.Wi,{className:"cooper_template_ui--tilePlaceholderSubtitle--HEVNr",animationType:w.JR.LIGHT_SHIMMER})})]})]})}function Q({template:e,name:t,thumbnailUrl:n,onPointerDown:i,isAboveFold:s=!1,dimensions:o,assetTypeName:l,hasVideo:d=!1,insertResourceIntoInternalCanvas:c,showPreview:u=!1}){let[_,m]=a.useState(!1);return(0,r.jsxs)("div",{className:"cooper_template_ui--tileContainer--rIySK",children:[(0,r.jsx)(es,{template:e,onPointerDown:i,isSquareTile:!o,shouldShowPlusButtonOnHover:!0,dimensions:o,ariaLabel:l??t,hasVideo:d,insertResourceIntoInternalCanvas:c,showPreview:u,children:(0,r.jsx)("span",{className:T.s.flex.justifyCenter.itemsCenter.overflowHidden.wFull.hFull.$,children:(0,r.jsx)(y.oW,{onLoad:()=>{m(!0)},src:n,alt:t,draggable:!1,style:{objectFit:"contain",transition:"opacity 0.1s ease-in-out",opacity:_?1:0,borderRadius:"var(--radius-medium)",...o?{aspectRatio:o.width/o.height,width:"100%",height:"auto"}:{width:"100%",height:"100%"}},loading:s?"eager":"lazy"})})}),l&&(0,r.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1n0bwc9",children:l})]})}function Z({onPointerDown:e}){let t=(0,S.T5)("useAllowInternalTemplatesCooper"),n="loaded"===t.status?t.data?.name:void 0;return(0,r.jsx)(i.E,{onClick:e,className:B,"data-testid":"create-new-template-tile",children:(0,r.jsxs)("div",{className:L,children:[(0,r.jsxs)("div",{className:F,children:[(0,r.jsx)(l.X,{}),(0,r.jsx)(eo,{variant:"add",buttonText:(0,h.t)("cooper.templates.blank_template")})]}),(0,r.jsx)(ei,{title:(0,h.t)("cooper.templates.new_template"),subtitle:n&&(0,h.t)("cooper.templates.for_plan_name",{planName:n})})]})})}function ee({templateType:e,iconUrl:t,onPointerDown:n}){let{name:a,dimension:i}=e,s=i.x/i.y;return(0,r.jsx)("button",{onClick:n,className:B,"data-testid":"start-from-scratch-template-tile",children:(0,r.jsxs)("div",{className:L,children:[(0,r.jsxs)("div",{className:F,children:[(0,r.jsx)("div",{className:b()("cooper_template_ui--startFromScratchAsset--KNfu0",s>1?"cooper_template_ui--horizontalAspectRatio--vNr1X":"cooper_template_ui--verticalAspectRatio--LimbY"),style:s<2.5&&s>.4?{aspectRatio:i.x/i.y}:void 0,children:t&&(0,r.jsx)(y.oW,{src:t,alt:a,draggable:!1,style:{objectFit:"contain",width:"12px",height:"12px"},loading:"lazy"})}),(0,r.jsx)(eo,{variant:"add",buttonText:(0,h.t)("cooper.templates.add_blank"),ariaLabel:a})]}),(0,r.jsx)(ei,{title:a,subtitle:`${i.x} x ${i.y}`})]})})}function et({templateType:e,iconUrl:t,onPointerDown:n}){let{name:s,dimension:o}=e,l=a.useRef(null),d=(0,P.o6)(l)?{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":s,"data-tooltip-timeout-delay":300}:{};return(0,r.jsx)("div",{className:U,children:(0,r.jsxs)(i.E,{onClick:n,actionOnPointerDown:!0,"data-element-target":Y,className:H,...d,children:[t?(0,r.jsx)("div",{className:z,children:(0,r.jsx)(y.oW,{src:t,alt:s,draggable:!1,style:{objectFit:"contain",width:"12px",height:"12px"},loading:"lazy"})}):(0,r.jsx)(er,{}),(0,r.jsxs)("div",{className:V,children:[s&&(0,r.jsx)("span",{ref:l,className:W,children:s}),o&&(0,r.jsx)("span",{className:"cooper_template_ui--rowMetadataSubtitle--b-0c0",children:`${o.x} x ${o.y}`})]})]})})}function en({onPointerDown:e}){return(0,r.jsx)("div",{className:U,children:(0,r.jsxs)(i.E,{onClick:e,actionOnPointerDown:!0,className:H,recordingKey:"cooperStartFromScratchCustomSize",children:[(0,r.jsx)(er,{}),(0,r.jsx)("div",{className:V,children:(0,r.jsx)("span",{className:W,children:(0,h.t)("cooper.templates.custom_size")})})]})})}function er(){return(0,r.jsx)("div",{className:z,children:(0,r.jsx)(d.v,{})})}function ea({numColumns:e,children:t}){let n=(0,P.VU)(),a=(0,x.md)(N.ce),[i,s]=(0,P.R7)(),o=(0,x.md)(N.U_),l=a.length>0,d=l&&n,c=n&&i.type===N.mF.TEMPLATES,u="COMMUNITY"===o&&!l,_=b()({"cooper_template_ui--grid--k55-0 cooper_template_ui--gridBase--V-7cb":!n,"cooper_template_ui--teamTemplateGrid--EP9v8 cooper_template_ui--gridBase--V-7cb":n&&!c&&!u&&!d,"cooper_template_ui--firstPartyAssetGrid--pJEPA cooper_template_ui--gridBase--V-7cb":n&&(u||d),"cooper_template_ui--templateListGrid--nGoXC cooper_template_ui--gridBase--V-7cb":c&&!u&&!d});return(0,r.jsx)("div",{className:_,style:{"--num-columns":e||3},children:t})}function ei({title:e,subtitle:t}){let n=a.useRef(null),i=(0,P.o6)(n)?{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":e,"data-tooltip-timeout-delay":300}:{};return(0,r.jsxs)("div",{className:"cooper_template_ui--tileMetadataContainer--YqY41",children:[e&&(0,r.jsx)("div",{style:{display:"table-row"},children:(0,r.jsx)("span",{ref:n,...i,className:"cooper_template_ui--tileMetadataTitle--2orFu",children:e})}),t&&(0,r.jsx)("div",{style:{display:"table-row"},children:(0,r.jsx)("span",{className:"cooper_template_ui--tileMetadataSubTitle--3-Tb0",children:t})})]})}function es({template:e,children:t,onPointerDown:n,isSquareTile:i,shouldShowPlusButtonOnHover:s,dimensions:o,ariaLabel:l,hasVideo:d=!1,insertResourceIntoInternalCanvas:_,showPreview:m=!1}){let g=a.useRef(null),v=a.useRef(null),y=(0,x.Xr)(N.jj),w=(0,x.Xr)(N.hD),[j,C]=(0,x.fp)(N.g8),T=(0,x.Xr)(N.Rb),E=(0,x.Xr)(N.J5),I=a.useCallback(()=>{y({}),w([])},[y,w]),S=t=>{T(e),C(""),_(t),I(),v.current&&E(v.current.getBoundingClientRect().y)},R=a.useCallback(e=>{if("Enter"===e.key||" "===e.key){e.preventDefault();let t=window.innerWidth/2,r=window.innerHeight/2,a=new PointerEvent("pointerdown",{pointerId:0,pointerType:"virtual",clientX:t,clientY:r,bubbles:!0});n({...a,target:e.currentTarget,currentTarget:e.currentTarget,preventDefault:()=>{},stopPropagation:()=>{},stopImmediatePropagation:()=>{},isDefaultPrevented:()=>!1,isPropagationStopped:()=>!1,persist:()=>{},nativeEvent:a});let i=new PointerEvent("pointerup",{pointerId:0,pointerType:"virtual",clientX:t,clientY:r,bubbles:!0});document.dispatchEvent(i)}},[n]);return a.useEffect(()=>{if(j===e.id){I();let{guidComponentProps:t,variantPropDefs:n,stateOrLooseComponent:r}=function(e){let t,n;let r=e.containing_frame?.containingStateGroup&&e.containing_frame?.containingStateGroup.nodeId,a=p.UN().getInternalCanvas()?.childrenNodes||[],i=e.node_id;for(let e of a)if(r&&e.publishID===r){for(let n of e.childrenNodes)if(n.publishID===i){t=(0,O.Yg)([n.guid],(0,p.UN)());let r=(0,D.Jm)(e.guid,t);return{guidComponentProps:t,variantPropDefs:r,stateOrLooseComponent:n}}}else e.publishID===i&&(t=(0,O.Yg)([e.guid],(0,p.UN)()),n=e);return{guidComponentProps:t,stateOrLooseComponent:n}}(e);t&&r&&r&&y(t[r.guid]),n&&w(n)}},[j,e.id,I,y,w,e]),(0,r.jsxs)(k.e6,{ref:g,onClick:n,actionOnPointerDown:!0,"data-element-target":Y,"data-testid":"insertableAssetTile",onKeyDown:R,className:b()(i?"cooper_template_ui--templateAssetTile--bw-N0":M,{[B]:s}),style:{position:"relative",...o?{aspectRatio:o.width/o.height,width:"100%",height:"auto"}:{aspectRatio:1}},trackingProperties:{trackingDescriptor:A.c.TEMPLATE_COVER_TILE},children:[s&&(0,r.jsx)(eo,{variant:"add",buttonText:g.current?.clientWidth&&g.current.clientWidth>140?(0,h.t)("cooper.templates.add_template"):(0,h.t)("cooper.templates.add"),ariaLabel:l}),t,d&&(0,r.jsx)(c._,{className:"x10l6tqk x1bfpjnn x1473dw x1n327nk x47corl x192jxwq xmkeg23 x1y0btm7 x1co876m x68m4m9 xwa2v1s"}),m&&(0,f.kc)().buzz_template_sets&&(0,r.jsx)("button",{className:"cooper_template_ui--templatePreviewSeeDetails--FPlW5",onPointerDown:e=>{e.preventDefault(),e.stopPropagation(),S(e)},"aria-label":(0,h.t)("buzz.templates.template_picker.org_view.see_details"),ref:v,children:(0,r.jsx)(u.J,{className:"xwa2v1s"})})]})}function eo({variant:e,buttonText:t,ariaLabel:n}){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"cooper_template_ui--templateTileHoverOverlay--9bZXB","aria-label":n||t,role:"button",children:"add"===e?(0,r.jsx)(s.$n,{iconPrefix:(0,r.jsx)(_.$,{style:{"--color-icon":"white"}}),tabIndex:-1,variant:"primary",children:t}):(0,r.jsx)(i.E,{className:"cooper_template_ui--hoverOverlayWhiteButton--eXeH-",tabIndex:-1,children:t})})})}function el({isWide:e=!1}){return e?(0,r.jsx)(s.IK,{variant:"secondary",onClick:()=>(0,v.FJ)(G,"_blank"),children:(0,h.tx)("cooper.templates.show_me_how")}):(0,r.jsx)(o.N.Button,{href:G,variant:"secondary",trusted:!0,newTab:!0,children:(0,h.tx)("cooper.templates.show_me_how")})}},110081:(e,t,n)=>{n.d(t,{H:()=>_});var r=n(239976),a=n(105652),i=n(943360),s=n(379075),o=n(753834),l=n(693613);n(323264);var d=n(236410);let c=a.forwardRef(function({tooltip:e,isFavorited:t,disabled:n,dataTestId:a="favorite-star-button","aria-pressed":c,"aria-expanded":u,..._},m){return(0,r.jsx)(i.E,{ref:m,"aria-label":e,"aria-pressed":c,"aria-expanded":u,disabled:n,"data-testid":a,...u?{}:{"data-tooltip-type":d.Ib.TEXT,"data-tooltip":e,"data-tooltip-timeout-delay":50},..._,className:"x78zum5 x6s0dn4 xl56j7k xvy4d1p xxk0z11 x19y5rnk x16v0e3u x1pt8ico x5hs570 x16evbv0 x1g40iwv",children:(0,r.jsx)("span",{"aria-hidden":!0,children:t?(0,r.jsx)(s._,{style:{"--color-icon":l.Tj.iconfavorite},"data-testid":`${a}-favorited-icon`}):(0,r.jsx)(o.c,{style:{"--color-icon":l.Tj.iconSecondary},"data-testid":`${a}-unfavorited-icon`})})})});var u=n(221311);function _({favoriteType:e,orgId:t,resourceId:n,setFavorite:a,removeFavorite:i,teamId:s,favoriteStarMenu:o,dataTestId:l="favorite-star-button"}){return(0,r.jsx)(u.k,{resourceId:n,favoriteType:e,orgId:t,teamId:s,setFavorite:a,removeFavorite:i,favoriteStarMenu:o,children:e=>(0,r.jsx)(c,{dataTestId:l,...e})})}},221311:(e,t,n)=>{n.d(t,{k:()=>m});var r=n(239976),a=n(105652),i=n(865702),s=n(735786),o=n(379141),l=n(270450),d=n(577225),c=n(67562),u=n(238974),_=n(38257);function m({resourceId:e,orgId:t,teamId:n,setFavorite:m,removeFavorite:p,favoriteType:h,children:f,favoriteStarMenu:x}){let g=(0,u.Y)(e,h,t,n),b=a.useMemo(()=>(0,c.t$)(g.userSidebarSections??[],g.orderedSidebarSections??[]),[g.userSidebarSections,g.orderedSidebarSections]),v=function({subscription:e,orgId:t,setFavorite:n,removeFavorite:r}){let s=e.favorite,{Sprig:u}=(0,d.A)(),_=e.hasMaxFavorites,m=a.useCallback(()=>{s?r({favoriteId:s.id}):_||n({})},[s,r,n,_]),p=e.userSidebarSections,h=!!(!t||p&&p.length<=1),f=a.useCallback(({sectionId:e})=>{n({favoriteId:s?.id,sectionId:e}),(0,l.kc)().file_browser_sentiment_survey&&u?.("setAttribute","fb_file_organized",!0)},[s,n,u]),x=a.useCallback(()=>{s&&(r({favoriteId:s.id}),(0,l.kc)().file_browser_sentiment_survey&&u?.("setAttribute","fb_file_organized",!0))},[s,r,u]);return{toggle:"loaded"!==e.status?i.lQ:m,shouldUseToggleFavorite:h,setFavorite:f,removeFavorite:x,tooltip:e.favorite?(0,o.t)("favorited_resources.remove_from_sidebar"):e.hasMaxFavorites?(0,o.t)("tile.favoriting.max_favorites",{maxFavorites:(0,c.kK)(t)}):(0,o.t)("favorited_resources.add_to_sidebar")}}({subscription:g,orgId:t,setFavorite:m,removeFavorite:p}),{getTriggerProps:y,manager:w}=x;return"loaded"!==g.status?(0,r.jsx)(r.Fragment,{children:f({disabled:!0,onClick:i.lQ,tooltip:v.tooltip,isFavorited:!1,"aria-pressed":!1})}):v.shouldUseToggleFavorite?(0,r.jsx)(r.Fragment,{children:f({disabled:!1,onClick:v.toggle,tooltip:v.tooltip,isFavorited:!!g.favorite,"aria-pressed":!!g.favorite})}):(0,r.jsxs)(s.bL,{manager:w,children:[f({disabled:!1,tooltip:v.tooltip,isFavorited:!!g.favorite,...y()}),(0,r.jsx)(_.t,{currentSectionId:g.favorite?.resource.sidebarSectionId,"data-testid":"organize-favorite-menu",favoriteId:g.favorite?.id,orderedSidebarSections:b,removeFavorite:v.removeFavorite,resourceId:e,resourceType:h,setFavorite:v.setFavorite,userHasMaxFavorites:g.hasMaxFavorites})]})}},38257:(e,t,n)=>{n.d(t,{b:()=>p,t:()=>h});var r=n(239976),a=n(20002),i=n(735786),s=n(415839),o=n(379141),l=n(137744),d=n(97387),c=n(816505),u=n(285181);function _({currentSectionId:e,orderedSidebarSections:t,resourceType:n,resourceId:s}){let c=(0,a.wA)(),u=(0,a.d4)(e=>e.mobileNavShown);return(0,r.jsx)(i.q7,{onClick:()=>{void 0===u||u||c(l.PY());let r=e?t.findIndex(t=>t.id===e):0;n&&c(d.to({movingResource:{resourceId:s,isFavorited:!0,resourceType:n}})),c(d.pS({newCustomSectionIndex:r}))},children:(0,o.t)("favorited_resources.create_a_new_section")},"create-section")}function m({removeFavorite:e}){return(0,r.jsx)(i.q7,{onClick:e,children:(0,o.t)("favorited_resources.remove_from_sidebar")},"remove-from-sidebar")}function p({favoriteId:e,currentSectionId:t,setFavorite:n,removeFavorite:l,userHasMaxFavorites:p,resourceId:h,resourceType:f,orderedSidebarSections:x}){let g=(0,a.wA)(),b=(0,a.d4)(e=>e.currentTeamId),v=(0,c.dq)(),y=(0,a.d4)(e=>e.favorites.collapsedCustomSections),w=e=>{e===t?l():!p&&e&&(n({sectionId:e}),y.delete(e),g(d.U6({collapsedCustomSections:y})),u.Fp({type:"topLevel",id:"custom",orgId:v,sectionId:e},!0))},j=x.map(e=>{let t=""===e.name?(0,o.t)("sidebar.starred"):e.name;return(0,r.jsx)(s.CU,{value:e.id,children:t},e.id)}),C=x.find(e=>e.id===t),T=e?`${(0,o.t)("favorited_resources.indicate_section_prefix")}: ${C?.name||(0,o.t)("sidebar.starred")}`:(0,o.t)("favorited_resources.add_to_sidebar"),k=[],E=x.length>4;return E?k.push((0,r.jsx)(i.YJ,{children:(0,r.jsxs)(i.g8,{children:[(0,r.jsx)(i.ZP,{children:T}),(0,r.jsxs)(i.MJ,{children:[(0,r.jsx)(s.z6,{title:(0,r.jsx)(i.r1,{children:(0,o.t)("favorited_resources.add_to_sidebar")}),onChange:w,value:t??void 0,children:j},"sections-radio-group"),(0,r.jsx)(_,{currentSectionId:t,orderedSidebarSections:x,resourceType:f,resourceId:h})]})]},"sections-submenu")},"sections-group")):k.push((0,r.jsx)(s.z6,{title:(0,r.jsx)(i.hE,{children:(0,o.t)("favorited_resources.add_to_sidebar")}),value:t??void 0,onChange:w,children:j},"sections-group")),e&&k.push((0,r.jsx)(i.YJ,{children:(0,r.jsx)(m,{removeFavorite:l})},"remove-from-sidebar-group")),b||E||k.push((0,r.jsx)(i.YJ,{children:(0,r.jsx)(_,{currentSectionId:t,orderedSidebarSections:x,resourceType:f,resourceId:h})},"create-section-group")),(0,r.jsx)(r.Fragment,{children:k})}function h({setFavorite:e,removeFavorite:t,orderedSidebarSections:n,resourceId:a,resourceType:s,favoriteId:o,currentSectionId:l,userHasMaxFavorites:d}){return(0,r.jsx)(i.mc,{children:(0,r.jsx)(p,{currentSectionId:l,orderedSidebarSections:n,favoriteId:o,removeFavorite:t,resourceId:a,resourceType:s,setFavorite:e,userHasMaxFavorites:d})})}},544477:(e,t,n)=>{n.d(t,{Te:()=>l,V6:()=>d,ew:()=>o});var r=n(270450),a=n(384203),i=n(223487),s=n(920675);function o(){let e=(0,a.p8)("pagesList");return e.some(t=>t.pageType!==e[0].pageType)}function l(){let e=(0,i.q5)();return e?.editorType===s._Y.DESIGN}function d(){let e=l(),t=o();return e&&(t||(0,r.kc)().interop_pages)}},449340:(e,t,n)=>{n.d(t,{i:()=>j});var r=n(105652),a=n(20002),i=n(738991),s=n(379141),o=n(445019),l=n(522568),d=n(506738),c=n(888903),u=n(732730),_=n(130763),m=n(206955),p=n(19637),h=n(223487),f=n(790016),x=n(947467),g=n(709973),b=n(279886),v=n(30827),y=n(931558),w=n(598334);function j(){let e;let t=(0,a.wA)(),{nudgeUpgradeRequest:n}=(0,b.q0)(),j=(0,_.rb)(),C=(0,o.md)(p.D),[T,k]=(0,r.useState)(!1),E=(0,f.T5)("useUpgradeRequestModalOnPageLoad"),I=(0,h.q5)(),N=(0,m.QL)("entry_point")||"",A=(0,m.QL)("upgrade_request_type")||"",S=null!==I&&("in_editor"===A||N===v.i.INVITE_REDEEM),R=S||(0,y.a_)(A);R&&(e=S?(0,w.wR)(I.editorType):y.TI[A]);let O=(0,i.K)(u.tc,N)??u.tc.UNKNOWN_DEEP_LINK,D=(0,i.K)(v.i,N)??v.i.UNKNOWN_DEEP_LINK,{handleUpgrade:P,getPendingRequest:M,getUpgradeEligibility:L,getIsUpgradeHandlerLoading:F}=(0,x.wH)({entryPoint:O,plan:E?.data?.key?.parentId&&E?.data?.key?.type?{id:E.data.key.parentId,type:E.data.key.type}:void 0}),B=F()||"loading"===E.status,U=R&&!B;(0,r.useEffect)(()=>{T||"NuxOnboardingOverlay"!==C||k(!0)},[C,T,k]),(0,d.R)(()=>{if(!U||!e){A&&l.az.trackDefinedEvent("monetization_expansion.deeplink_request_flow_invalid",{upgradeType:R?A:"invalid",entryPoint:O,licenseType:e||"undefined",planType:E?.data?.key?.type,planParentType:E?.data?.key?.type,planId:E?.data?.key?.parentId||void 0,planParentId:E?.data?.key?.parentId||void 0,fileKey:I?.key});return}if(T)return;let r=L(e);if(l.az.trackDefinedEvent("monetization_expansion.deeplink_request_flow",{upgradeType:A,entryPoint:O,licenseType:e,upgradeEligibility:r,planType:E?.data?.key?.type,planParentType:E?.data?.key?.type,planId:E?.data?.key?.parentId||void 0,planParentId:E?.data?.key?.parentId||void 0,fileKey:I?.key}),r!==g.q.CAN_UPGRADE){let r=M(e);if(r&&O!==u.tc.INVITE_REDEEM){let{requestCanBeNudged:e,upgradeRequestId:a}=(0,b.qm)(r);e?n(a):t(c.F.enqueue({message:(0,s.t)("team_user.actions.request_sent_well_let_you_know")}))}return}(O!==u.tc.INVITE_REDEEM||j())&&P({licenseType:e,editorType:S?I?.editorType??null:null,entryPoint:O,upgradeReason:D})({}),(0,m.EM)("entry_point"),(0,m.EM)("upgrade_request_type")},[B,C],([e,t])=>!e&&!t)}},443447:(e,t,n)=>{n.d(t,{g:()=>d});var r=n(445019),a=n(634020),i=n(610604),s=n(933302),o=n(650473);let l=(0,r.Iz)(({orgId:e,eventType:t})=>(0,s.Z1)(i._ob.Query({orgId:e,eventType:t}),e=>!!e.currentUser.baseOrgUser?.orgUserFlag?.id)),d=(0,r.Iz)(e=>(0,r.eU)(t=>{let n=t(o._s);return n?t(l({orgId:n,eventType:e})):a.Qw.disabled()}))},96743:(e,t,n)=>{n.d(t,{ND:()=>a,l:()=>o,lr:()=>s,pC:()=>i});var r=n(270450);let a={key:"createEduTeam",value:"1"},i={key:"upgradeEduTeam",value:"1"};function s(){return new Date("2025-09-29T00:00:00")}function o(e){return!!(0,r.kc)().edu_in_app_offboarding_reverification_copy&&!!e&&e>new Date(s().getTime()-864e5)}},946762:(e,t,n)=>{n.d(t,{V:()=>o});var r=n(270450),a=n(446232),i=n(719749),s=n(610604);function o(e){let t=(0,i.bc)(s.InN,{},{enabled:(0,r.kc)().dtm_deprecation_post_migration_onboarding});if(!e||!(0,r.kc)().dtm_deprecation_post_migration_onboarding)return{isDraftsToMovePlan:!1,dtmMigrationCompleted:!1,starterTeamCreated:!1};let n=(0,a.unwrap)(t.data?.personalDraftToPlanDraftLocation),o=n?.planParentId===e.key.parentId,l=a.unwrap(n?.toDraftsFolder?.team?.trackTags)?.is_auto_created_for_dtm_migration??!1,d=n?.toDraftsFolder?.plan?.name,c=n?.planParentType,u=n?.planParentId;return{isDraftsToMovePlan:o,dtmMigrationCompleted:n?.status==="complete",starterTeamCreated:l,dtmMigrationPlanName:d,dtmPlanParentId:u,dtmPlanParentType:c}}},576787:(e,t,n)=>{n.d(t,{TN:()=>o,j9:()=>l,xX:()=>d});var r=n(20002),a=n(832374),i=n(950850),s=n(389161);function o(e){let t=!!(0,s.q)({teamId:e,flag:i.uU}),n=(0,r.d4)(t=>t.teams[e]),o=(0,r.d4)(e=>(0,a.getPermissionsStateMemoized)(e));return i.ng.getProTrial(n,t,o)}function l(){let e=(0,r.d4)(e=>e.userTeamFlags),t=(0,r.d4)(e=>(0,a.getPermissionsStateMemoized)(e));return i.ng.getUpgradableProTrials(e,t)}function d(){let e=(0,r.d4)(e=>e.user),t=(0,r.d4)(e=>e.isFreeUser),n=(0,r.d4)(e=>(0,a.getPermissionsStateMemoized)(e)),s=(0,r.d4)(e=>e.userTeamFlags);return i.ng.getEligibleProTrialTeams(e,t,n,s)}},389161:(e,t,n)=>{n.d(t,{q:()=>a});var r=n(20002);function a({teamId:e,flag:t}){return(0,r.d4)(n=>n.userTeamFlags[e]?.[t])}},2286:(e,t,n)=>{n.d(t,{G:()=>p,Q:()=>m});var r=n(239976),a=n(105652),i=n(270450),s=n(445019),o=n(224542),l=n.n(o),d=n(838657),c=n(146773),u=n(806130),_=n(324880),m=(e=>(e.FILE_BROWSER="file_browser",e))(m||{});function p({entryPoint:e}){return(0,r.jsx)(u.tH,{boundaryKey:"figment-debugger",fallback:(0,r.jsx)("div",{}),children:(0,r.jsx)(h,{entryPoint:e})})}function h({entryPoint:e}){let[t,n]=(0,s.fp)(d.eE);return(0,a.useEffect)(()=>{n(!!(0,c.wh)())},[]),t&&(0,i.kc)().figment_debugger?(0,r.jsx)("div",{className:l()("file_browser"===e?"figment_debugger--fileBrowserContainer--WdJz6 figment_debugger--container--GIdQy":"figment_debugger--container--GIdQy",_.s4,_.Dm),children:(0,r.jsx)(f,{})}):null}function f(){let[e,t]=(0,s.fp)(d.a4),[n,i]=(0,a.useState)([]),o=(0,a.useRef)(null),l=o.current&&o.current.value.length>0,c=l?n:e;return(0,r.jsxs)("div",{className:"figment_debugger--mainWrapper--7LAo-",tabIndex:0,"data-fullscreen-intercept":!0,children:[(0,r.jsx)(x,{children:(0,r.jsx)("input",{ref:o,placeholder:"\u{1F50E} Event name",className:"figment_debugger--searchBar--Irw-H",onInput:t=>{let n=t.target.value.toLowerCase();n.length<3&&i([]),i(e.filter(e=>e.requestJson.event.toLowerCase().includes(n)))}})}),(0,r.jsx)(x,{children:(0,r.jsx)("button",{onClick:()=>{t("clear")},children:"[clear]"})}),l&&(0,r.jsx)(x,{children:"Showing "+c.length+" of "+e.length+" most recent events"}),c.map(e=>(0,r.jsx)(g,{req:e},e.requestJson.figment_debugger_uuid))]})}function x(e){return(0,r.jsx)("div",{className:"figment_debugger--sectionWrapper--1V4tY","data-fullscreen-intercept":!0,children:e.children})}function g({req:e}){let[t,n]=(0,a.useState)(!1),[i,s]=(0,a.useState)(!1),o=e.requestJson,l=(0,a.useMemo)(()=>t&&null!=o.properties?Object.entries(o.properties).map(([e,t])=>(0,r.jsxs)("div",{children:[e,": ",JSON.stringify(t)]},e)):[],[o,t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"figment_debugger--logrow--Q6jQ0",tabIndex:0,role:"button",onClick:()=>{n(!t),s(!1)},"data-fullscreen-intercept":!0,children:[(0,r.jsx)("span",{children:t?"\uFF0D":"\uFF0B"}),"\xa0",(0,r.jsx)("span",{children:e.networkState===d.tM.SUCCESS?"\u{1F49A}":e.networkState===d.tM.FAILURE?"\u{1F494}":"\u{1F9E1}"}),"\xa0",(0,r.jsx)("span",{className:"figment_debugger--timestamp--BKm27",children:o.sentAt.slice(11,16)}),"\xa0",o.event]}),t&&(0,r.jsxs)("div",{className:"figment_debugger--propertiesWrapper--cesqI",children:[(0,r.jsx)("div",{className:"figment_debugger--propertiesButtonsRow--rcVKU",children:(0,r.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(e.requestJson.properties)),s(!0)},children:["[",i?"copied":"copy","]"]})}),l]})]})}},605966:(e,t,n)=>{let r;n.d(t,{X:()=>nB,W:()=>nU});var a=n(20002),i=n(270450),s=n(393463),o=n(562418),l=n(223487),d=n(816505),c=n(969314),u=n(239976),_=n(105652),m=n(940901),p=n(836848),h=n(942356),f=n(245814),x=n(939514),g=n(345123),b=n(692376),v=n(582300),y=n(466082),w=n(379141),j=n(445019);n(323264);var C=n(446232),T=n(522568),k=n(312884),E=n(610265),I=n(732838),N=n(862700),A=n(624245),S=n(141288),R=n(865245),O=n(29161),D=n(695207),P=n(592802),M=n(346942),L=n(482144),F=n(154963),B=n(714778),U=n(770785),H=n(26932),z=n(865702),V=n(961016),W=n(391596),G=n(7857),q=n(888903),K=n(842903);let $=new(n(119301)).b({name:"billing_remodel_terms",description:"Code related to informing customers about the billing remodel and new terms that they may need to accept",dependencies:[],exports:{"./components":"./components.ts","./hooks":"./hooks.ts","./modals":"./modals.ts","./overlays":"./overlays.ts"},sideEffects:!1,routeHints:["file_browser"]});var Y=n(747079),J=n(286403),X=n(536378),Q=n(338630),Z=n(235112),ee=n(265649),et=n(605985),en=n(920675),er=n(629876),ea=n(776950),ei=n(299169),es=n(799324);function eo(){let e=(0,a.wA)(),t=(0,et.iZ)(),s=(0,d.sZ)(),o=!!s?.id,l=(0,W.gY)(J.l),c=(0,i.kc)().terms_of_service_may_2025_update,_=(0,K.T)(s),m=!!_?.data?.isEligible,p=(0,Z.vK)({planParentId:s?.id||"",planType:en.OL.ORG},{enabled:o&&m}),h=!!p.data,f=(0,Z.jv)({billableProductKeys:ee.N_,baseQuery:{tier:(0,er.kA)(s)?ea.Ju.ENTERPRISE:ea.Ju.ORG,currency:p.data,renewalTerm:ea.IX.YEAR,unit:ea.IX.MONTH},options:{enabled:h}});if(!s?.id||"loaded"!==_.status||!_.data.isEligible)return null;let g=_.data.orgTermsInfo.renewalDate,b=(0,E.A)(),v=30>=(0,E.A)(g).diff(b,"day");if(!g||!f.data)return null;let y=(0,u.jsxs)("span",{children:[c&&(0,w.tx)("seat_billing_terms.banner.urgent.main_text_v2"),!c&&(v?(0,w.tx)("seat_billing_terms.banner.urgent.main_text"):(0,w.tx)("seat_billing_terms.banner.info.main_text",{renewalDate:g.toDate()}))]}),j=(0,u.jsxs)("span",{children:[c&&(0,w.tx)("seat_billing_terms.banner.urgent.description_v2",{renewalDate:g.toDate()}),!c&&(v?(0,w.tx)("seat_billing_terms.banner.urgent.description"):(0,w.tx)("seat_billing_terms.banner.info.description"))]});return(0,u.jsx)(Q.fu,{name:"Seat Billing Terms Reminder Banner",properties:{userId:t?.id,orgId:s?.id,variant:v?c?"error":"warning":"info"},children:(0,u.jsx)("div",{className:F.s.sticky.top0.$,style:U.sx.add({zIndex:2}).$,children:(0,u.jsx)(ei.C,{content:{id:es.om.SeatBillingTermsReminder,bannerType:v?es.x1.DANGER:es.x1.INFO_SOFT,mainText:y,description:j,dismissible:!1,positionStatic:!0,icon:v?(0,u.jsx)(x.e,{}):(0,u.jsx)(V.M,{}),iconSize:"medium",button:{buttonText:(0,w.tx)("seat_billing_terms.banner.review_and_accept"),onClick:()=>{e(X.to({type:r??=(0,Y.Ju)($.createLazyComponent(()=>Promise.resolve().then(n.bind(n,219019)).then(e=>e.SeatBillingTermsModal),(0,Y.Ij)("SeatBillingTermsModal"))),data:{orgId:s.id,organizationName:s.name,renewalDate:g,isEnterprise:(0,er.kA)(s),onAccept:()=>l({planParentId:s.id,planType:en.OL.ORG}).then(()=>{e(q.F.enqueue({message:(0,w.t)("seat_billing_terms.modal.success")}))}),prices:f.data}}))}}},onDismiss:z.lQ,dataTestId:"seat-billing-terms-banner"})})})}var el=n(536493),ed=n(249563),ec=n(827466),eu=n(587217),e_=n(880335),em=n(682328),ep=n(828268),eh=n(443447),ef=n(538349),ex=n(790016),eg=n(948188),eb=n(660553);let ev="non_admin_billing_terms_banner_seen",ey=(0,eh.g)(ev),ew=ef.M4.Query({fetch:async e=>(await eb.w.getNonAdminBillingTermsBanner(e)).data.meta}),ej=ef.M4.Mutation(async e=>{await eg.G.postOrgUserFlags({orgUserId:e.orgUserId,flags:{[ev]:!0}})});function eC(){let e=(0,et.iZ)(),t=(0,d.sZ)(),n=(0,j.md)((0,K.b)(t?.id??null)),r=(0,j.md)(ey),a=(0,i.kc)().terms_of_service_may_2025_update,s=!!t?.created_at&&(0,ep.d)({date:new Date(t?.created_at)}),o=(0,ex.D6)("NonAdminBillingTermsBanner"),l=(0,ex.Ty)(o?.data??null),[c]=(0,ef.IT)(ew({orgId:t?.id}),{enabled:!!t?.id&&a&&s&&!l}),m=(0,ef.gY)(ej),p=n.unwrapOr(!1),h=o?.data?.key.parentId,{is_eligible:f,renewal_date:x,admin_settings_url:g,admin_emails:b}=c.unwrapOr({is_eligible:!1,renewal_date:"",admin_settings_url:"",admin_emails:[]}),v=(0,E.A)(),y=(0,E.A)(x),C=v.isBefore(y)&&7>=y.diff(v,"day"),k=_.useMemo(()=>(function({adminEmails:e,renewalDate:t,userName:n,adminSettingsLink:r}){if(!e||!t||!r||!t.isValid())return"";let a=encodeURIComponent((0,w.t)("non_admin_billing_terms.email_subject")),i=encodeURIComponent((0,w.t)("non_admin_billing_terms.email_body",{renewalDate:t.toDate(),admin_link:r,userName:n||""})),s=e.join(", ");return`mailto:${s}?subject=${a}&body=${i}`})({adminEmails:b,renewalDate:y,userName:e?.name,adminSettingsLink:g}),[b,y,e,g]);return y.isValid()&&t?.id&&a&&p&&!r.data&&h&&f&&C&&s?(0,u.jsx)(Q.fu,{name:"Non Admin Billing Terms Reminder Banner",properties:{userId:e?.id,orgId:t?.id,emails:b?.join(", ")},children:(0,u.jsxs)(el.Cs,{variant:"warn",onDismiss:()=>{(0,T.sx)("CTA Clicked",{name:"Non Admin Billing Terms Reminder Banner dismissed",currentOrgId:t.id,userId:e?.id,emails:b?.join(",")}),m({orgUserId:h})},children:[(0,u.jsx)(ed.Q,{children:(0,w.tx)("non_admin_billing_terms.banner_description",{name:t.name,renewalDate:y.toDate()})}),k&&(0,u.jsx)(B.pW,{href:k,variant:"secondary",children:(0,w.tx)("non_admin_billing_terms.contact_admin_button")})]})}):null}var eT=n(787049),ek=n(295870),eE=n(842582),eI=n(450207),eN=n(388627),eA=n(815747),eS=n(898301),eR=n(239152),eO=n(236410),eD=n(716759);function eP({team:e,openInvoiceUrls:t}){let n=(0,a.wA)();if(0===t.length)return null;let r={"data-tooltip-type":eO.Ib.TEXT,"data-tooltip":(0,w.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0};return(0,u.jsx)(eE.$z,{onClick:()=>{t.length>1?n(eI.sf({view:"teamAdminConsole",teamId:e.id,teamAdminConsoleViewTab:eR.Iv.BILLING})):(0,k.FJ)(t[0],"_blank","noopener")},variant:"secondary",...r,children:(0,w.t)("team_view.locked_proteam_admin_invoice_reminder_banner.cta",{invoiceCount:t.length})})}function eM(e){let t=e.team?.restrictions_list?.includes(en.P4.LOCKED),n=(0,eA.Ti)({planId:e.team.id,planType:en.OL.TEAM}),r=(0,eN.L)(ek.e.BILLING_EXPERIENCE),a=t?(0,w.tx)("team_view.locked_proteam_admin_invoice_reminder_banner.title"):(0,w.tx)("team_view.pastdue_proteam_admin_invoice_reminder_banner.title"),i=t?(0,w.tx)("team_view.locked_proteam_admin_invoice_reminder_banner.subtitle"):(0,w.tx)("team_view.pastdue_proteam_admin_invoice_reminder_banner.subtitle"),s=(0,eT.WI)(n.data?.map(e=>e.hosted_invoice_url)??[]);return(0,u.jsx)(Q.fu,{name:"team_admin_open_invoice_reminder_banner",properties:{teamId:e.team.id},trackingOptions:r,children:(0,u.jsx)(ei.C,{content:{id:0,bannerType:es.x1.WARN_SOFT,mainText:a,description:i,dismissible:!1,positionStatic:!0,icon:(0,u.jsx)(x.e,{}),iconSize:"medium",button:{type:es.MA.CUSTOM,element:(0,u.jsx)(eP,{team:e.team,openInvoiceUrls:s})}},onDismiss:z.lQ})})}var eL=n(581373),eF=n(923783),eB=n(502960),eU=n(39171),eH=n(27414),ez=n(267745),eV=n(136393),eW=n(240431),eG=n(771636),eq=n(324880),eK=n(639184),e$=n(783868),eY=n(544477),eJ=n(579522),eX=n(109172),eQ=n(590277),eZ=n(550534),e0=n(11003),e1=n(632222),e2=n(819672),e5=n(384203),e3=n(877964),e4=n(748181),e6=n(389161),e9=n(329076),e7=n(910175),e8=n(832374),te=n(950850),tt=n(31613),tn=n(705456),tr=n(575369),ta=n(371971),ti=n(960210),ts=n(598066),to=n(394396),tl=n(981030),td=n(737473),tc=n(644860);function tu(e){let t=(0,ti.xo)(),n=!!(0,ts.hA)(),r=(0,et.TA)(),i=function(){let e=(0,ti.xo)(),t=(0,a.wA)(),n=(0,et.iZ)(),r=(0,l.q5)();return e&&r&&n?async()=>{let e=await td.S.copyFile(r.key);if(e.data.meta){let t=e.data.meta;if(I.eD){I.eD.openFile({fileKey:t.key,title:t.name,fileEditorType:"dev_handoff",target:I.aw.FOCAL_TAB,isBranch:!1,isLibrary:!1,isTeamTemplate:!1,userId:n?.id});return}S.Ay.redirect((0,to.jN)({file:t,isDevHandoff:!0}),"_blank")}else t(ta.s.error((0,w.t)("file_browser.file_browser_actions.file_copy_error")))}:null}(),[s,o]=(0,_.useState)(!1),[d,c]=(0,tl.QF)(r||"")||[],m=async()=>{i&&(o(!0),await i(),o(!1))};if(!t||n)return null;let p=(0,u.jsx)(eE.c,{disabled:!i||s,onClick:m,variant:"primary",trackingProperties:{planId:c,planType:d},children:(0,w.t)("dev_handoff.demo_file.request_access")});return(0,u.jsx)(tc.f,{...e,bannerContent:{dismissible:!1,bannerType:es.x1.INFO_SOFT,icon:(0,u.jsx)(tr.l,{className:"x1aue78i"}),iconSize:"medium",mainText:(0,u.jsx)("span",{className:"xemv814",children:(0,w.t)("dev_handoff.demo_file.get_dev_mode_to_simplify")}),button:{type:es.MA.CUSTOM,element:p}}})}var t_=n(656395),tm=n(732108),tp=n(585066),th=n(692941),tf=n(677451),tx=n(641172),tg=n(702417),tb=n(835585),tv=n(267729),ty=n(397344),tw=n(225798),tj=n(17248),tC=n(433708),tT=n(563738),tk=n(454705),tE=n(488051),tI=n(695821),tN=n(448864),tA=n(452748),tS=n(909194),tR=n(969574),tO=n(20782),tD=n(128550),tP=n(999040),tM=n(470056),tL=n(368227);function tF(){let{openMakePublishFlow:e}=(0,tO.X)(),t=(0,j.md)(tM.td)||!1;return(0,u.jsx)(eE.e6,{...{0:{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1tk3asg xmkeg23 x1y0btm7 xau91oi x1ypdohk"},1:{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1ypdohk x1wei53h xgbcquw xmkeg23 x1y0btm7 x1sc164m"}}[!!t<<0],onClick:()=>e("editor-pre-publish-banner"),trackingProperties:{trackingDescriptor:eK.c.PUBLISH_TEMPLATE,buttonContext:(0,w.t)("slides.templates.banner.publish_template_button"),productType:en._Y.FIGMAKE},disabled:t,children:(0,w.tx)("slides.templates.banner.publish_template_button")})}function tB({showBanner:e}){let{openCooperPublishFlow:t}=(0,tR.t)(),n=(0,tI.l)(e);return(0,u.jsx)(eE.e6,{...{0:{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1r7xphn x1a33sea"},1:{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1r7xphn x1wei53h xgbcquw xmkeg23 x1y0btm7 x1sc164m"}}[!!n<<0],onClick:()=>t("editor-pre-publish-banner"),trackingProperties:{trackingDescriptor:eK.c.PUBLISH_TEMPLATE,buttonContext:(0,w.t)("slides.templates.banner.publish_template_button"),productType:en._Y.COOPER},disabled:n,children:(0,w.tx)("slides.templates.banner.publish_template_button")})}function tU(){return(0,u.jsx)(eE.e6,{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk xmkeg23 x1y0btm7 xau91oi x1tk3asg x1ypdohk",onClick:()=>(0,k.FJ)(tN.qv,"_blank"),trackingProperties:{trackingDescriptor:eK.c.SHOW_ME_HOW,buttonContext:(0,w.t)("cooper.templates.show_me_how"),productType:en._Y.COOPER},children:(0,w.tx)("cooper.templates.show_me_how")})}var tH=n(679704),tz=n(127705),tV=n(925569),tW=n(655793),tG=n(517478);function tq({manager:e,userCanEditFile:t,isUserConnected:n}){return(0,u.jsx)(tW.bL,{manager:e,width:"fit-content",children:(0,u.jsxs)(tG.vo,{children:[(0,u.jsx)(tG.Y9,{children:(0,u.jsx)(tG.hE,{children:t?(0,w.t)("multiplayer_upgrade_modal.content_saving"):(0,w.t)("multiplayer_upgrade_modal.content_reloading")})}),n||(0,u.jsx)(tG.nB,{children:(0,w.t)("multiplayer_upgrade_modal.content_offline")}),(0,u.jsx)(tG.wi,{children:(0,u.jsx)(tG.jk,{children:(0,u.jsx)(tp.k,{size:"md"})})})]})})}var tK=n(274579),t$=n(806196),tY=n(782380),tJ=n(51775);let tX=JSON.parse('{"safari":"16","firefox":"101","chrome":"99","edge":"121","deprecatedOn":"2024-03-18T08:00:00.000Z"}');var tQ=n(549031),tZ=n(682916),t0=n(756690);let t1={bannerId:es.om.TestWarningBanner,Banner:function(e){let t=(0,l.q5)();if(t?._name==="_BANNERTEST PAYMENT"){let t={bannerType:es.x1.WARN,icon:t0.A,mainText:"Payment failed",description:"Our last attempted charge was unsuccessful. Please update your payment source as soon as possible. File editing will be locked after 3 more failed attempts.",button:{buttonText:"Update payment",onClick:()=>{}},dismissible:!0};return(0,u.jsx)(tc.f,{...e,bannerContent:t})}return null},dataTestId:"test-warning-banner"},t2={bannerId:es.om.TestOOMBanner,Banner:function(e){let t=(0,l.q5)();if(t?._name==="_BANNERTEST OOM"){let t={bannerType:es.x1.WARN,icon:t0.A,mainText:"80% of memory used",customElem:(0,u.jsx)("div",{className:tQ.DB,children:(0,u.jsx)(t_.wc,{memoryUsagePercent:80})}),description:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("b",{style:U.sx.fontSemiBold.$,children:"This file is almost out of browser memory."})," Remove content to lower memory use to 50% or less. This will ensure you can continue to work in this file safely."]}),button:{buttonText:"Show memory-reduction tips",onClick:()=>{}}};return(0,u.jsx)(tc.f,{...e,bannerContent:t})}return null},dataTestId:"test-oom-banner"},t5={bannerId:es.om.BrowserDeprecationBanner,Banner:function(e){let{deprecatedOn:t,...n}=tX,r=(0,R.R)("day"),a=new Date(t);if(a>new Date(r.getTime()+24192e5)||!O.Ay.isUnsupportedBrowser(n))return null;let i=a>r?(0,w.t)("banner.browser_deprecation.description",{deprecationDate:a}):(0,w.t)("banner.browser_deprecation.description_now"),s={dismissible:!0,bannerType:es.x1.WARN,icon:t0.A,mainText:(0,w.t)("banner.browser_deprecation.title"),description:i,button:{buttonText:(0,w.t)("banner.browser_deprecation.learn_more"),onClick:()=>S.Ay.redirect("https://help.figma.com/hc/articles/360039827194-Figma-browser-requirements","_blank")}};return(0,u.jsx)(tc.f,{...e,bannerContent:s})},dataTestId:"browser-deprecation-banner"},t3={bannerId:es.om.CooperOldFileBanner,Banner:function(e){let t=(0,eU.to)();if(!(0,_.useMemo)(()=>{if(!t||!(0,eU.HH)())return!1;let e=(0,y.UN)();if(!e||!e.isValidScene)return[];let n=(0,v.bV)(e,"0:1");if(n.find(e=>"cooper_root"===e.name))return!0;let r=n.find(e=>"SLIDE_GRID"===e.type);return!!(r&&r.childrenNodes.find(e=>e.maxWidth!==b.IPu?.gridMaxWidth()))},[t]))return null;{let t={dismissible:!1,bannerType:es.x1.WARN,icon:t0.A,mainText:(0,w.t)("banner.cooper.old_file.title"),description:(0,w.t)("banner.cooper.old_file.description")};return(0,u.jsx)(tc.f,{...e,bannerContent:t})}},dataTestId:"cooper-old-file-banner"},t4={bannerId:es.om.InteropPagesBanner,Banner:function(e){return(0,eY.V6)()?(0,u.jsx)(tc.f,{...e,bannerContent:{dismissible:!0,bannerType:es.x1.WARN_SOFT,icon:t0.A,mainText:"[Internal] Interop pages",description:(0,u.jsxs)("span",{children:["We\u2019ve sunset interop pages, so this file might be wonky. Ping ",(0,u.jsx)("a",{href:"https://figma.slack.com/archives/C065U6BKPBR",target:"_blank",rel:"noopener noreferrer",children:"#feat-interop-pages"})," for help."]})}}):null},dataTestId:"interop-pages-banner"},t6={bannerId:es.om.DesktopDeprecationBanner,Banner:function(e){let t=(0,I.GN)();if(null==t||j.zl.get(N.Pi))return null;let n=(0,w.t)("banner.desktop_app_deprecation.description",{deprecationDate:t.toDate()}),r={dismissible:!0,bannerType:es.x1.WARN,icon:t0.A,mainText:(0,w.t)("banner.desktop_app_deprecation.title"),description:n,button:{buttonText:(0,w.t)("banner.desktop_app_deprecation.learn_more"),onClick:()=>S.Ay.unsafeRedirect(I.tr,"_blank")},dismissedAtom:N.Pi};return(0,u.jsx)(tc.f,{...e,bannerContent:r})},dataTestId:"desktop-deprecation-banner"},t9={bannerId:es.om.TestInfoBanner,Banner:function(e){let t=(0,l.q5)();if(t?._name==="_BANNERTEST EDU"){let t={bannerType:es.x1.INFO,icon:tZ.A,mainText:"File in Education Team",description:"This file is in an Education team. To keep editing this file after 00/00, verify that you're a student or educator.",button:{buttonText:"Verify status",onClick:()=>S.Ay.redirect("/education/apply",O.Ay.isIpadNative?void 0:"_blank")}};return(0,u.jsx)(tc.f,{...e,bannerContent:t})}return null},dataTestId:"test-info-banner"},t7={bannerId:es.om.ProTeamPastDue,Banner:function(e){let t=(0,a.wA)(),n=(0,eS.cD)(),r=(0,a.d4)(e=>n?e.teams[n]:null),i=(0,l.q5)(),s=i?.team,o=(0,e3.FC)(),d=n&&(0,e8.canAdminTeam)(n,o),c=!!s?.canAdmin,_=!!i?.canEdit,m=(0,a.d4)(e=>e.isOpenFileLoadedFromLiveGraph),p=(0,eQ.u8)({oldValue:{id:r?.id,subscription:r?.subscription},newValue:{id:s?.id,subscription:s?.subscription},label:eQ.A5.BannerDefinitions.ProTeamPastDueBannerTeam,enableFullRead:(0,eX.DQ)(eX.Pw.GROUP_8),contextArgs:{teamId:n,openFileTeamDefined:!!i?.team},newValueReady:m}),f=p&&p.subscription===en.Qh.PAST_DUE,g=(0,eQ.u8)({oldValue:d,newValue:c,label:eQ.A5.BannerDefinitions.ProTeamPastDueBannerCanAdmin,enableFullRead:(0,eX.DQ)(eX.Pw.GROUP_8),contextArgs:{teamId:n,openFileTeamDefined:!!i?.team},newValueReady:m}),b={"data-tooltip-type":eO.Ib.TEXT,"data-tooltip":(0,w.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0},v=p.id;if(v&&f&&!_){let n={bannerType:es.x1.WARN_SOFT,icon:(0,u.jsx)(x.e,{}),iconSize:"medium",mainText:g?(0,w.t)("banner.pro_team_past_due_revamp.title"):(0,w.t)("banner.pro_team_past_due_revamp.title_viewer"),description:g?(0,w.t)("banner.pro_team_past_due_revamp.subtitle.can_admin"):(0,w.t)("banner.pro_team_past_due_revamp.subtitle.no_admin"),button:g?{type:es.MA.CUSTOM,element:(0,u.jsx)(h.$n,{onClick:()=>{t?.(eI.sf({view:"teamAdminConsole",teamId:v,teamAdminConsoleViewTab:eR.Iv.BILLING}))},variant:"secondary",htmlAttributes:b,children:(0,w.t)("banner.pro_team_past_due_revamp.cta")})}:void 0,dismissible:!1};return(0,u.jsx)(tc.f,{...e,bannerContent:n})}return null},dataTestId:"pro-team-past-due-banner"},t8={bannerId:es.om.ExternalContentControlBanner,Banner:function(e){let t=(0,a.wA)(),n=(0,l.q5)(),r=(0,et.iZ)(),i=(0,d.dq)(),s=(0,e7.R$)(r,i),o=(0,a.d4)(e=>{if(!s)return null;let t=e.orgById[r.external_restricted_org_id];return t?t.name:null});if(s&&o){let r=!!n&&n.viewerExportRestricted,a={bannerType:es.x1.WARN,icon:t0.A,mainText:(0,w.tx)("external_collaboration_restricted.banner.title"),description:(0,w.tx)("external_collaboration_restricted.banner.restriction_description",{organizationName:o}),button:r?void 0:{buttonText:(0,w.t)("external_collaboration_restricted.banner.export_file"),onClick:()=>{n?.editorType==="design"?t(eH.u1({id:eq.C9})):t(X.to({type:tH.B,data:{pickerInfo:{selectionArea:0,canvasArea:0,nodeCounts:{selectionNodeCount:0,canvasNodeCount:0,selectionStickyCount:0,canvasStickyCount:0,selectionTableCount:0,canvasTableCount:0}}}}))}},dismissible:!1};return(0,u.jsx)(tc.f,{...e,bannerContent:a})}return null},dataTestId:"external-content-control-banner"},ne={bannerId:es.om.ProTeamChargeFailed,Banner:function(e){let t=(0,a.wA)(),n=(0,l.q5)(),r=n?.team,i=(0,eS.cD)(),s=(0,a.d4)(e=>i?e.teams[i]:null),o=(0,e3.FC)(),d=i&&(0,e8.canAdminTeam)(i,o),c=!!r?.canAdmin,_=(0,a.d4)(e=>e.isOpenFileLoadedFromLiveGraph),m=(0,eQ.u8)({oldValue:{id:s?.id,subscription:s?.subscription},newValue:{id:r?.id,subscription:r?.subscription},label:eQ.A5.BannerDefinitions.ProTeamChargeFailedBannerTeam,enableFullRead:(0,eX.DQ)(eX.Pw.GROUP_8),contextArgs:{teamId:i,openFileTeamDefined:!!n?.team},newValueReady:_}),p=m&&m.subscription===en.Qh.GRACE_PERIOD,f=(0,eQ.u8)({oldValue:d,newValue:c,label:eQ.A5.BannerDefinitions.ProTeamChargeFailedBannerCanAdmin,enableFullRead:(0,eX.DQ)(eX.Pw.GROUP_8),contextArgs:{teamId:i,openFileTeamDefined:!!n?.team},newValueReady:_}),g={"data-tooltip-type":eO.Ib.TEXT,"data-tooltip":(0,w.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0},b=m.id;if(b&&p&&f){let n={bannerType:es.x1.WARN_SOFT,icon:(0,u.jsx)(x.e,{}),iconSize:"medium",mainText:(0,w.t)("banner.pro_team_charge_failed_revamp.title"),description:(0,w.t)("banner.pro_team_charge_failed_revamp.subtitle.can_admin"),button:{type:es.MA.CUSTOM,element:(0,u.jsx)(h.$n,{onClick:()=>{t?.(eI.sf({view:"teamAdminConsole",teamId:b,teamAdminConsoleViewTab:eR.Iv.BILLING}))},variant:"secondary",htmlAttributes:g,children:(0,w.t)("banner.pro_team_past_due_revamp.cta")})},dismissible:!1};return(0,u.jsx)(tc.f,{...e,bannerContent:n})}return null},dataTestId:"pro-team-charge-failed-banner"},nt={bannerId:es.om.ProTeamNoMonthlySubEditorCountExceeded,Banner:function(e){let t=(0,a.wA)(),n=(0,eS.cD)(),r=(0,a.d4)(e=>n?e.teams[n]:null),i=(0,e3.FC)(),o=(0,l.q5)(),d=o?.team,c=n&&(0,e8.canAdminTeam)(n,i),_=!!d?.canAdmin,m=(0,a.d4)(e=>e.isOpenFileLoadedFromLiveGraph),p=(0,eQ.u8)({oldValue:{id:r?.id,name:r?.name,subscription:r?.subscription},newValue:{id:d?.id,name:d?.name,subscription:d?.subscription},label:eQ.A5.BannerDefinitions.ProTeamNoMonthlySubEditorCountExceededBannerTeam,enableFullRead:(0,eX.DQ)(eX.Pw.GROUP_8),contextArgs:{teamId:n,openFileTeamDefined:!!o?.team},newValueReady:m}),h=(0,eQ.u8)({oldValue:c,newValue:_,label:eQ.A5.BannerDefinitions.ProTeamNoMonthlySubEditorCountExceededBannerCanAdmin,enableFullRead:(0,eX.DQ)(eX.Pw.GROUP_8),contextArgs:{teamId:n,openFileTeamDefined:!!o?.team},newValueReady:m});if(p&&p.subscription===en.Qh.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED){let r=h?(0,u.jsx)("span",{children:(0,w.tx)("banner.pro_team_no_monthly_sub.over_limit_as_admin.seat_rename",{contactSupportLink:(0,u.jsx)("a",{href:`mailto:${(0,s.W4)()}`,children:(0,w.tx)("banner.pro_team_no_monthly_sub.contact_support")})})}):(0,u.jsx)("span",{children:(0,w.tx)("banner.pro_team_no_monthly_sub.over_team_limit_without_admin.seat_rename",{teamName:p.name})}),a={bannerType:es.x1.WARN,icon:t0.A,mainText:(0,w.t)("banner.pro_team_no_monthly_sub.locked"),description:r,button:h?{buttonText:(0,w.t)("banner.pro_team_no_monthly_sub.manage_plan"),onClick:()=>{t?.(eI.sf({view:"teamAdminConsole",teamId:n,teamAdminConsoleViewTab:eR.Iv.SETTINGS}))}}:void 0};return(0,u.jsx)(tc.f,{...e,bannerContent:a})}return null},dataTestId:"pro-team-no-monthly-sub-editor-count-exceeded-banner"},nn={bannerId:es.om.ProTrialsExpiryBanner,Banner:function(e){let t=(0,a.wA)(),n=(0,l.q5)(),r=(0,eS.cD)(),i=(0,a.d4)(e=>r?e.teams[r]:null),s=(0,e3.FC)(),o=(0,a.d4)(e=>e.userTeamFlags),d=(0,a.Pj)(),c=(0,e6.q)({teamId:r,flag:te.lg}),_=r&&(0,e8.canEditTeam)(r,s),m=!!n?.team?.canEdit,p=(0,a.d4)(e=>e.isOpenFileLoadedFromLiveGraph),h=(0,eQ.u8)({oldValue:_,newValue:m,label:eQ.A5.BannerDefinitions.ProTrialsExpiryBannerCanEdit,enableFullRead:(0,eX.DQ)(eX.Pw.GROUP_8),contextArgs:{teamId:r,openFileTeamDefined:!!n?.team},newValueReady:p});if(!i||!i.id||!n)return null;let f=(0,e9.oc)(i.id,s);if(te.ng.canSeeExpiredProTrialBanner(o,i,s)&&(f||h&&!c)){let r,a,s;f?(s=es.x1.WARN_SOFT,r=h?(0,w.tx)("banner.pro_trial_expiry.locked_description",{lowerUsageLink:(0,u.jsx)("button",{onClick:e=>{e.preventDefault(),t?.(X.to({type:tV.v,data:{teamId:i.id}}))},children:(0,w.tx)("banner.pro_trial_expiry.lower_usage")}),upgradeLink:(0,u.jsx)(Q.$z,{onClick:e=>{e.preventDefault();let n=d.getState();t(ez.WX({teamId:i.id,selectedView:n.selectedView,entryPoint:(0,e0.cH)(eZ.C.PRO_TRIAL_UPSELL_BANNER)}))},children:(0,w.tx)("banner.pro_trial_expiry.upgrade")})}):(0,w.tx)("banner.pro_trial_expiry.locked_description_for_viewer_on_team",{teamName:i.name}),a={buttonText:(0,w.t)("banner.pro_trial_expiry.move_this_file_cta"),onClick:()=>(0,eL.h)({key:n.key,name:n.name,folder_id:n.folderId,team_id:n.teamId,editor_type:n.editorType,parent_org_id:n.parentOrgId},null,t)}):(s=es.x1.INFO,r=(0,w.tx)("banner.pro_trial_expiry.expiry_description",{teamName:i.name}),a={buttonText:(0,w.t)("banner.pro_trial_upgrade_cta.upgrade_to_professional"),onClick:()=>{let e=d.getState();t(ez.WX({teamId:i.id,selectedView:e.selectedView,entryPoint:(0,e0.cH)(eZ.C.PRO_TRIAL_UPSELL_BANNER)}))}});let o={bannerType:s,icon:t0.A,mainText:(0,w.t)("banner.pro_trial_expiry.title"),dismissible:!f,onDismiss:f?void 0:()=>{t(eW.bE({all_team_flags:[{team_id:i.id,flags:{[te.lg]:!0}}]}))},description:r,button:h?a:void 0};return(0,u.jsx)(tc.f,{...e,bannerContent:o})}return null},dataTestId:"pro-trials-expiry-banner"},nr={bannerId:es.om.StarterTeamOverFreeLimitAndLocked,Banner:function(e){let t=(0,a.wA)(),n=(0,eS.cD)(),r=(0,a.d4)(e=>n?e.teams[n]:null),i=(0,e3.FC)(),s=(0,o.m0)(),d=(0,o.ow)(),c=(0,a.Pj)(),_=(0,l.q5)(),m=!!_?.canEdit,p=n&&(0,e8.canEditTeam)(n,i),h=n&&!!_?.team?.canEdit,f=(0,a.d4)(e=>e.isOpenFileLoadedFromLiveGraph),x=(0,eQ.u8)({oldValue:p,newValue:h,label:eQ.A5.BannerDefinitions.StarterTeamOverFreeLimitAndLockedBannerCanEdit,enableFullRead:(0,eX.DQ)(eX.Pw.GROUP_8),contextArgs:{teamId:n,openFileTeamDefined:!!_?.team},newValueReady:f}),b=r&&r.id&&!(0,e9.n0)(r)&&!r.student_team&&(0,e9.oc)(r.id,i);if(b){let a=r.student_team_state===en.kU.STUDENT_TEAM_EXPIRED,i=!!n&&b;if(i&&!m){let i=!!r.stripe_customer_id,o=()=>{t(X.to({type:tz.t,data:{teamId:n,canEditTeam:!0}}))},l=()=>{let e=c.getState();t(ez.WX({teamId:n,selectedView:e.selectedView,entryPoint:(0,e0.cH)(eZ.C.LOCKED_TEAM_BANNER)}))},_=a?(0,w.t)("locked_team.card.title"):d?(0,w.t)("locked_team.banner.this_board_is_part_of_a_locked_team"):(0,w.t)("locked_team.banner.this_file_is_part_of_a_locked_team"),m=a?(0,u.jsx)(Q.fu,{name:"edu_locked_team",children:(0,u.jsx)("div",{style:U.sx.add({marginLeft:"-32px"}).$,children:(0,w.tx)("locked_team.card.edu_description",{reverifyEduLink:(0,u.jsx)(M.Us,{href:"/education/apply",target:"_blank",trusted:!0,children:(0,w.tx)("locked_team.card.reverify_edu_link")}),upgradeProLink:(0,u.jsx)(M.Us,{onClick:l,trusted:!0,children:(0,w.tx)("locked_team.card.upgrade_pro_link")})})})}):(0,u.jsx)("div",{style:U.sx.add({marginLeft:"-32px"}).$,children:(0,w.tx)(s?"locked_team.banner.all_of_this_teams_work_is_currently_view_only_dev_mode":"locked_team.banner.all_of_this_teams_work_is_currently_view_only",{learnMoreLink:x?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),o()},children:(0,w.tx)("locked_team.banner.learn_more")})}):(0,u.jsx)(u.Fragment,{})})}),p=a?{buttonText:(0,w.t)("locked_team.banner.learn_more"),onClick:o,className:tQ.n3}:x?{buttonText:i?(0,w.t)("locked_team.banner.reactivate_professional"):(0,w.t)("locked_team.banner.upgrade_to_professional"),onClick:l,className:tQ.Vg}:void 0,h={bannerType:es.x1.WARN_SOFT,icon:(0,u.jsx)(g.s,{}),mainText:_,description:m,button:p};return(0,u.jsx)(tc.f,{...e,bannerContent:h})}if(!i&&!s){let a;a=x?(0,u.jsxs)("span",{children:[(0,u.jsxs)("b",{style:U.sx.fontSemiBold.$,children:[(0,w.tx)("banner.free_limit_locked.team_locked_over_starter_limits",{teamName:r.name})," "]}),(0,w.tx)("banner.free_limit_locked.upgrade_team_or_lower_usage",{teamName:r.name,learnMoreLink:(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),t?.(X.to({type:tV.v,data:{teamId:n}}))},children:(0,w.tx)("banner.free_limit_locked.learn_more")})})})]}):(0,u.jsxs)("span",{children:[(0,u.jsx)("b",{style:U.sx.fontSemiBold.$,children:(0,w.tx)("banner.free_limit_locked.team_locked_over_starter_limits",{teamName:r.name})})," ",(0,w.tx)("banner.free_limit_locked.ask_your_team_admin_for_details")]});let i={bannerType:es.x1.WARN,icon:t0.A,mainText:(0,w.t)("banner.free_limit_locked.locked"),description:a,button:x?{buttonText:(0,w.t)("banner.free_limit_locked.upgrade_now"),onClick:()=>{let e=c.getState();t(ez.WX({teamId:n,selectedView:e.selectedView,entryPoint:(0,e0.cH)(eZ.C.LOCKED_TEAM_BANNER)}))},className:tQ.n3}:void 0};return(0,u.jsx)(tc.f,{...e,bannerContent:i})}}return null},dataTestId:"starter-team-over-free-limit-and-locked-banner"},na={bannerId:es.om.OrphanedOrgDraftsFile,Banner:function(e){let t=(0,l.q5)(),n=(0,d.dq)(),r=(0,a.d4)(er.wA),i=null,s=null;if(i=n&&(0,C.unwrap)(t?.isAbandonedDraftFile),s=(0,C.unwrap)(t?.canMove)?(0,u.jsxs)(u.Fragment,{children:[(0,w.tx)("banner.orphaned_projects.move_to_project")," ",(0,u.jsx)(M.N_,{trusted:!0,target:"_blank",className:F.s.inline.ml4.$,href:"https://help.figma.com/hc/articles/4420549259799",children:(0,w.tx)("general.learn_more")})]}):(0,w.t)("banner.orphaned_projects.move_to_project.member",{orgName:r?.name??""}),i&&t){let t={bannerType:es.x1.WARN,icon:t0.A,mainText:(0,w.t)("banner.orphaned_projects.file_in_an_abandoned_project"),description:s};return(0,u.jsx)(tc.f,{...e,bannerContent:t})}return null},dataTestId:"orphaned-org-drafts-file-banner"},ni={bannerId:es.om.TeamAbandonedDraftsFile,Banner:function(e){let t=(0,l.q5)(),n=(0,d.dq)(),r=(0,C.unwrap)(t?.isAbandonedDraftFile),a=(0,eS.ol)();if(a&&!n&&r){let n=(0,C.unwrap)(t?.canMove)?(0,u.jsxs)(u.Fragment,{children:[(0,w.tx)("banner.orphaned_projects.move_to_project.team")," ",(0,u.jsx)(M.N_,{trusted:!0,target:"_blank",className:F.s.inline.ml4.$,href:"https://help.figma.com/hc/articles/4420549259799",children:(0,w.tx)("general.learn_more")})]}):(0,w.t)("banner.orphaned_projects.move_to_project.team_member",{teamName:a.name??""});if(t){let t={bannerType:es.x1.WARN,icon:t0.A,mainText:(0,w.t)("banner.orphaned_projects.file_in_an_abandoned_project"),description:n};return(0,u.jsx)(tc.f,{...e,bannerContent:t})}}return null},dataTestId:"team-abandoned-drafts-file-banner"},ns={bannerId:es.om.PersonalProjectDeprecatedFile,Banner:function(e){let t=(0,l.q5)(),n=(0,eS.cD)(),r=(0,a.d4)(e=>n?e.teams[n]:null),i=(0,d.dq)(),s=(0,a.wA)(),o=(0,e3.FC)();if(!(i&&t?.project&&(0,e1.n3)(t.project))&&!r&&t&&(0,e9.f4)(t.folderId,t.teamId,o)){let t={bannerType:es.x1.WARN,icon:t0.A,mainText:(0,w.t)("banner.personal_projects.locked"),description:(0,u.jsx)(u.Fragment,{children:(0,w.tx)("banner.personal_projects.deprecation_message",{learnMoreLink:(0,u.jsx)("a",{href:"/pricing-faq#what-changes-for-me",children:(0,w.tx)("banner.personal_projects.learn_more")})})}),button:{buttonText:(0,w.t)("banner.personal_projects.back_to_files"),onClick:()=>s?.(eI.sf({view:"recentsAndSharing"}))}};return(0,u.jsx)(tc.f,{...e,bannerContent:t})}return null},dataTestId:"personal-project-deprecated-file-banner"},no={bannerId:es.om.EduGracePeriodAccessRestricted,Banner:function(e){let t=(0,eS.cD)(),n=(0,a.d4)(e=>t?e.teams[t]:null),r=(0,et.iZ)(),i=(0,e$.nF)(),s=(0,a.d4)(e=>e.userEduGracePeriods);if(!t||!r)return null;if(n&&!i?.enabled&&(0,D.GU)(s,(0,D.cn)(r),t,!!n.student_team).showAccessRestricted){let t={bannerType:es.x1.WARN,icon:t0.A,mainText:(0,w.t)("banner.edu_grace_period.verification_required"),description:(0,w.t)("banner.edu_grace_period.editing_restricted_on_file",{teamName:n.name}),button:{buttonText:(0,w.t)("banner.edu_grace_period.verify_status_button"),onClick:()=>S.Ay.redirect("/education/apply",O.Ay.isIpadNative?void 0:"_blank")}};return(0,u.jsx)(tc.f,{...e,bannerContent:t})}return null},dataTestId:"edu-grace-period-access-restricted-banner"},nl={bannerId:es.om.EduGracePeriodShowReminder,Banner:function(e){let t=(0,eS.cD)(),n=(0,a.d4)(e=>t?e.teams[t]:null),r=(0,et.iZ)(),i=(0,e$.nF)(),s=(0,a.d4)(e=>e.userEduGracePeriods);if(t&&r){let a=n&&!i?.enabled&&(0,D.GU)(s,(0,D.cn)(r),t,!!n.student_team).showReminder,o=(0,D.zR)(s,t);if(a){let t={bannerType:es.x1.INFO,icon:tZ.A,mainText:(0,w.t)("banner.edu_grace_period.verification_required"),description:(0,w.t)("banner.edu_grace_period.grace_period_team_reminder",{teamName:n.name,endDate:o}),dismissible:!0,button:{buttonText:(0,w.t)("banner.edu_grace_period.verify_status_button"),onClick:()=>S.Ay.redirect("/education/apply",O.Ay.isIpadNative?void 0:"_blank")}};return(0,u.jsx)(tc.f,{...e,bannerContent:t})}}return null},dataTestId:"edu-grace-period-show-reminder-banner"};function nd(e){let t;if(!e)return(0,w.t)("banner.multiplayer_session_upgrade.page_out_of_date");switch(e){case en._Y.DESIGN:t=(0,w.t)("general.figma_design");break;case en._Y.WHITEBOARD:t=(0,w.t)("general.figjam");break;case en._Y.SLIDES:t=(0,w.t)("general.figma_slides");break;case en._Y.SITES:t=(0,w.t)("general.figma_sites");break;case en._Y.COOPER:t=(0,w.t)("general.figma_buzz");break;case en._Y.FIGMAKE:t=(0,w.t)("general.figma_rev");break;default:(0,p.xb)(e)}return(0,w.t)("banner.multiplayer_session_upgrade.with_editor_type",{editorType:t})}let nc={bannerId:es.om.MultiplayerSessionUpgrade,Banner:function(e){let t=(0,e5.p8)("multiplayerSessionState")!==b.kul.UNJOINED,n=!(0,e5.p8)("isReadOnly"),r=(0,a.d4)(e=>e.showingUpgradeBanner),s=l.q5()?.editorType,[o,d]=(0,_.useState)(!1),c=f.hS({open:o,onClose:()=>{},preventUserClose:!0});if(r){let r={bannerType:es.x1.INFO,icon:t0.A,mainText:(0,i.kc)().force_client_reloads_fullscreen_banner_string?nd(s):(0,w.t)("banner.multiplayer_session_upgrade.page_out_of_date"),description:n?(0,w.t)("banner.multiplayer_session_upgrade.out_of_date.editor"):(0,w.t)("banner.multiplayer_session_upgrade.out_of_date.viewer"),button:{buttonText:n?(0,w.t)("banner.multiplayer_session_upgrade.save_and_reload"):(0,w.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{(0,T.sx)("Upgrade Banner Clicked"),b.h3O?.startUpgrade(),d(!0)}}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tc.f,{...e,bannerContent:r}),(0,u.jsx)(tq,{manager:c,userCanEditFile:n,isUserConnected:t})]})}return null},dataTestId:"multiplayer-session-upgrade-banner"},nu={bannerId:es.om.ForceClientReload,Banner:function(e){let[t,n]=_.useState(!1),[r,s]=_.useState(!1),o=(0,j.md)(e2.T),d=(0,a.d4)(e=>!!e.saveStatus?.hasUnsavedChanges),c=l.q5()?.editorType;if(_.useEffect(()=>{o&&!r&&(T.az.trackDefinedEvent("scenegraph_and_sync.force_client_reload_banner.shown",{}),s(!0))},[o,r]),_.useEffect(()=>{t&&!d&&S.Ay.reload("force client reload banner",{isForceClientReloadBanner:!0})},[t,d]),o){let r={bannerType:es.x1.INFO,icon:t0.A,mainText:(0,i.kc)().force_client_reloads_fullscreen_banner_string?nd(c):(0,w.t)("banner.multiplayer_session_upgrade.page_out_of_date"),button:{buttonText:(0,w.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{n(!0),T.az.trackDefinedEvent("scenegraph_and_sync.force_client_reload_banner.clicked",{})},disabled:t}};return(0,u.jsx)(tc.f,{...e,bannerContent:r})}return null},dataTestId:"force-client-reload-banner"},n_={bannerId:es.om.FigJamTryDraftsBanner,Banner:function(e){let t=(0,a.wA)(),n=(0,l.q5)(),r=(0,e$.nF)(),i=(0,et.iZ)(),s=(0,e4.f)("dismissed_figjam_try_drafts_banner"),o=(0,R.R)("minute");if(!r?.enabled||!n||!i)return null;if(!n.isTryFile&&!n.parentOrgId&&n.folderId===i.drafts_folder_id&&!s){let a=(0,E.A)(o),i=Math.ceil((0,E.A)(r.until).diff(a,"hours",!0)),s={bannerType:es.x1.INFO,icon:tZ.A,mainText:i>1?(0,w.t)("figjam_try.drafts_banner_title_more_time",{num_hours:i}):(0,w.t)("figjam_try.drafts_banner_title_1_hour_or_less"),description:(0,w.t)("figjam_try.drafts_banner_description"),onDismiss:()=>t?.(eV.b({dismissed_figjam_try_drafts_banner:!0})),dismissible:!0,button:{buttonText:(0,w.t)("figjam_try.move_file"),onClick:()=>(0,eL.h)({key:n.key,name:n.name,folder_id:n.folderId,team_id:n.teamId,editor_type:n.editorType,parent_org_id:n.parentOrgId},null,t)}};return(0,u.jsx)(tc.f,{...e,bannerContent:s})}return null},dataTestId:"figjam-try-drafts-banner"},nm=(0,j.eU)(!1),np={bannerId:es.om.FigJamTryClaimBanner,Banner:function(e){let t=(0,l.q5)(),{onClaim:n}=(0,tY.E)(t?.key),r=(0,e$.nF)(),a=(0,et.iZ)(),[i,s]=(0,j.fp)(nm),o=(0,R.R)("minute"),d=(0,t$.d)(),c=t?.key;if(!t?.isTryFile||O.Ay.isMeetDevice||!a||!r?.enabled||!c||i||d)return null;let _=(0,E.A)(o),m=Math.ceil((0,E.A)(r.until).diff(_,"hours",!0)),p={bannerType:es.x1.INFO,icon:tZ.A,mainText:m>1?(0,w.t)("figjam_try_v2.timer_hours_left",{hoursLeft:m}):(0,w.t)("figjam_try.claim_banner_title_1_hour_or_less"),description:(0,w.t)("figjam_try_v2.logged_in.after_that_this_board_will_be_deleted"),onDismiss:()=>s(!0),dismissible:!0,button:{buttonText:(0,w.t)("figjam_try_v2.claim_file_logged_in"),onClick:()=>n()}};return(0,u.jsx)(tc.f,{...e,bannerContent:p})},dataTestId:"figjam-try-claim-banner"},nh={bannerId:es.om.DowntimeBanner,Banner:function(e){let t=(0,a.d4)(e=>e.showingDowntimeBanner),{payload:n,status:r}=(0,a.d4)(e=>e.downtime);if(!n||!(0,i.kc)().display_downtime_banner)return null;let s=(0,w.tx)("downtime_banner.warning.description",{minLengthMinutes:n.minLengthMinutes,maxLengthMinutes:n.maxLengthMinutes,startTime:n.downtimeStartDate,helpcenterLink:(0,u.jsx)(M.CY,{target:"_blank",href:n.helpcenterUrl,trusted:!0,children:(0,w.t)("downtime_banner.ongoing_and_warning.learn_more_link")})}),o=(0,u.jsx)("p",{children:(0,w.tx)("downtime_banner.ongoing.description",{minLengthMinutes:n.minLengthMinutes,maxLengthMinutes:n.maxLengthMinutes,helpcenterLink:(0,u.jsx)(M.CY,{target:"_blank",href:n.helpcenterUrl,trusted:!0,children:(0,w.t)("downtime_banner.ongoing_and_warning.learn_more_link")})})}),l=()=>{let e=n.downtimeStartDate.getTime(),t=Date.now();return Math.floor((t<e?Math.floor((e-t)/1e3):0)/60)},d=null;return(t?d={bannerType:es.x1.WARN,icon:t0.A,dismissible:!1,mainText:(0,w.t)("downtime_banner.ongoing.scheduled_maintenance_will_begin_in_minutes",{minutes:l()}),description:s}:r===tn.A.Ongoing?d={bannerType:es.x1.WARN,icon:t0.A,dismissible:!1,mainText:(0,w.t)("downtime_banner.ongoing.scheduled_maintenance_in_progress_header"),description:o}:r===tn.A.Imminent&&(d={bannerType:es.x1.WARN,icon:t0.A,dismissible:!1,mainText:(0,w.t)("downtime_banner.ongoing.scheduled_maintenance_will_begin_in_minutes",{minutes:l()}),description:s}),d)?(0,u.jsx)(tc.f,{...e,bannerContent:d}):null},dataTestId:"downtime-banner"};function nf({hubFile:e}){return(0,eB._)(e)?(0,w.tx)("banner.freemium_preview.this_is_just_a_preview"):(0,w.tx)("banner.freemium_preview.get_the_full_file_on_community")}function nx({hubFile:e}){return(0,eB._)(e)?(0,w.tx)("banner.freemium_preview.you_purchased_this_file_already"):(0,w.tx)("banner.freemium_preview.this_is_just_a_preview_of_the_file_you_can_buy_on_community")}function ng({hubFile:e}){let t=(0,eB._)(e),n=t?"":`?${eG.Tb}`;return(0,u.jsx)(eF.A6,{to:`/community/file/${e.id}${n}`,children:(0,u.jsx)(M.tM,{trackingProperties:{trackingDescriptor:t?eK.c.OPEN_IN_COMMUNITY:eK.c.BUY_THE_RESOURCE},children:t?(0,w.tx)("banner.freemium_preview.open_in_community"):(0,w.tx)("banner.freemium_preview.buy_the_resource")})})}let nb={bannerId:es.om.FreemiumPreviewBanner,Banner:function(e){let t=(0,l.tS)(),n=(0,a.d4)(e=>t?e.figFileDuplicatedFromHubFile[t]:null),r=(0,a.d4)(e=>n?e.hubFiles[n.hubFileId]:null);return n&&n.isPreview&&r&&r.monetized_resource_metadata?(0,u.jsx)(tc.f,{...e,bannerContent:{bannerType:es.x1.INFO,icon:tZ.A,dismissible:!1,mainText:(0,u.jsx)(nf,{hubFile:r}),description:(0,u.jsx)(nx,{hubFile:r}),button:{type:es.MA.CUSTOM,element:(0,u.jsx)(ng,{hubFile:r})}}}):null},dataTestId:"freemium-preview-banner"},nv={bannerId:es.om.FileCreationFailureBanner,Banner:function(e){if((0,a.d4)(e=>e.showingFileCreationFailureBanner)){let t={bannerType:es.x1.WARN,dismissible:!1,mainText:(0,w.tx)("banner.file_creation_failure.title"),description:(0,w.tx)("banner.file_creation_failure.description")};return(0,u.jsx)(tc.f,{...e,bannerContent:t})}return null},dataTestId:"file-creation-failure-banner"},ny={bannerId:es.om.FileIsTeamTemplate,Banner:function(e){let t=(0,a.wA)(),n=(0,e5.aV)(),r=(0,tf.kD)(),i=(0,tx.b4)(),s=(0,l.q5)(),d=(0,tf.tS)(),c=(0,tf.ac)(),_=(0,ty.Td)(),m=(0,o.lg)(),p=(0,tj.sO)(),f=(0,eU.to)(),x=(0,o.ow)(),g=(0,et.iZ)(),b=g?.id&&r&&r.publishedByUserId===g.id,v=(0,tf.J3)(),y=(0,j.md)(tC.wb),C=(0,tx.WS)(),T=null!=r&&C(r.fileKey);if(!d||n||!s||!r||_||null===c||y)return null;let k=c&&v===tf.kN.CAN_PUBLISH,E=()=>{if(r&&s){if(f){let e=new URL((0,tv.e)(m,tg.f6.TEAM_TEMPLATE_BANNER,s.libraryKey),document.baseURI).href;S.Ay.redirect(e,"_blank")}else i({templateIdentifier:{type:tb.vt.TeamTemplate,file_key:r.fileKey},templateName:r.name,openInNewTab:m===en._Y.FIGMAKE})}},I=()=>{(0,tw.YM)(t,r.fileKey,m,"editor-republish-banner")},N=p?(0,w.t)("slides.templates.banner.new_deck_button"):(0,w.t)("whiteboard.delightful_toolbar.custom_template_banner.new_file_button"),A=(0,u.jsx)(th.vu,{editorType:m,libraryKey:s.libraryKey,variant:k&&b?"bannerSecondary":"bannerPrimary"}),R=(0,u.jsx)("div",{className:"x1n2onr6",children:(0,u.jsxs)(h.$n,{variant:"secondary","data-testid":"banner-cta-button",children:[(0,u.jsx)("span",{className:"xlshs6z",children:N}),(0,u.jsx)("span",{className:"x10l6tqk xwa60dl x1nrll8i x11lhmoz",children:(0,u.jsx)(tp.k,{size:"md"})})]})}),O=T?{type:es.MA.CUSTOM,element:R}:{type:es.MA.STRUCTURED,onClick:E,trackingDescriptor:eK.c.USE_IN_NEW_FILE,buttonText:N},D=T?R:(0,u.jsx)("div",{className:"x1n2onr6",children:(0,u.jsx)(eE.e6,{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk xmkeg23 x1y0btm7 xau91oi x1tk3asg xt0e3qv xwa2v1s",onClick:E,trackingProperties:{trackingDescriptor:eK.c.USE_IN_NEW_FILE,buttonContext:N,productType:m},"data-testid":"buzz-banner-cta-button",children:N})});if(k){if(!b){let t=f?{type:es.MA.CUSTOM,element:(0,u.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[D,A]})}:O;return(0,u.jsx)(tc.f,{...e,bannerContent:{dismissible:!1,bannerType:x?es.x1.FPL_BRAND:es.x1.INFO,icon:tT.A,mainText:(0,w.t)("templates.banner.republish.primary_text"),description:(0,w.t)("templates.banner.republish.secondary_text_not_owner"),button:t}})}let t={type:es.MA.STRUCTURED,onClick:I,trackingDescriptor:eK.c.PUBLISH_CHANGES,buttonText:(0,w.t)("templates.banner.republish.republish_action")},n=(0,u.jsx)(eE.e6,{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1r7xphn x1a33sea",onClick:I,trackingProperties:{trackingDescriptor:eK.c.PUBLISH_CHANGES,buttonContext:(0,w.t)("templates.banner.republish.republish_action"),productType:m},children:(0,w.t)("templates.banner.republish.republish_action")}),r=f?{type:es.MA.CUSTOM,element:(0,u.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[D,A,n]})}:t;return(0,u.jsx)(tc.f,{...e,bannerContent:{dismissible:!1,bannerType:x?es.x1.FPL_BRAND:es.x1.INFO,icon:tT.A,mainText:(0,w.t)("templates.banner.republish.primary_text"),description:(0,w.t)("templates.banner.republish.secondary_text"),button:r}})}let P=r.publishedByUser?.handle&&(b?p?(0,w.tx)("slides.templates.banner.republish.you"):(0,w.tx)("templates.banner.made_by_you"):(0,w.tx)("templates.banner.republish.made_by_publisher_name",{publisherName:r.publishedByUser.handle})),M=P?p?(0,w.tx)("slides.templates.banner.republish.made_this",{madeByPublisherName:P}):(0,w.tx)("templates.banner.republish.you_re_viewing_a_template_made_by_publisher_name",{madeByPublisherName:(0,u.jsx)("span",{className:F.s.fontNormal.$,children:P})}):(0,w.t)("templates.banner.republish.you_re_viewing_a_template"),L=f?{type:es.MA.CUSTOM,element:(0,u.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[D,A]})}:O;return(0,u.jsx)(tc.f,{...e,bannerContent:{dismissible:!1,bannerType:x?es.x1.FPL_BRAND:es.x1.INFO,icon:(0,u.jsx)(tm.X,{...{0:{className:"xwa2v1s"},1:{}}[!!p<<0]}),iconSize:"medium",mainText:M,description:p?(0,w.t)("slides.templates.banner.republish.templates_can_be_used_to_create_a_new_slide_deck"):void 0,button:L}})},dataTestId:"team-templates-banner"},nw={bannerId:es.om.TemplatePublishingNudgeBanner,Banner:function(e){let t;let n=(0,e5.aV)(),r=(0,tf.kD)(),a=(0,l.q5)(),i=(0,tf.J3)(),s=(0,tS.j)()&&(0,tf.JU)(i),{draftTemplateKeys:o,isCurrentFileDraftTemplate:d,setUserDraftTemplateKeyForCurrentFile:c}=(0,tL.Iv)(),{openSlidesPublishFlow:m}=(0,tD.X)(),p=(0,j.md)(tA.Hk),h=(0,j.md)(tP.Np);(0,_.useEffect)(()=>{(p||h)&&!d()&&c()},[d,p,h,c]);let f=a?.editorType===en._Y.SLIDES,x=a?.editorType===en._Y.COOPER,g=a?.editorType===en._Y.FIGMAKE,b=(0,tE.bF)()&&(0,tf.JU)(i),v=!!a?.editorType&&!r&&!n&&Object.keys(o).length>0&&(d()||p||h)&&!(x&&!s)&&!(g&&!b);return v?(t=x?{type:es.MA.CUSTOM,element:(0,u.jsx)(tk.J,{mode:"dark",children:(0,u.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[(0,u.jsx)(tU,{}),(0,u.jsx)(tB,{showBanner:v})]})})}:g?{type:es.MA.CUSTOM,element:(0,u.jsx)(tk.J,{mode:"dark",children:(0,u.jsx)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:(0,u.jsx)(tF,{})})})}:{type:es.MA.STRUCTURED,onClick:()=>m("editor-pre-publish-banner"),trackingDescriptor:eK.c.PUBLISH_TEMPLATE,buttonText:(0,w.t)("slides.templates.banner.publish_template_button")},(0,u.jsx)(tc.f,{...e,bannerContent:{dismissible:!1,bannerType:es.x1.INFO,icon:(0,u.jsx)(tm.X,{...{0:{className:"xwa2v1s"},1:{}}[!!f<<0]}),iconSize:"medium",mainText:(0,w.t)("slides.templates.banner.making_a_template"),description:(0,w.t)("slides.templates.banner.publish_when_youre_done"),button:t}})):null},dataTestId:"template-publishing-nudge-banner"},nj={bannerId:es.om.OrgDowngradeBanner,Banner:function(e){let t=(0,eJ.a9)(),n=(0,d.sZ)();if(!(0,i.kc)().org_downgrade_banner||t?.permission!==en._D.ADMIN||n?.org_downgrade?.operation_state!=="scheduled")return null;let r=n?.org_downgrade?.scheduled_run_at;if(!r)return null;let a=new Date(r);if(a<new Date)return null;let s={bannerType:es.x1.WARN,dismissible:!1,mainText:(0,w.tx)("banner.org_downgrade.reminder.title",{orgName:n?.name||"",downgradeDate:a}),positionStatic:!0,button:{type:es.MA.CUSTOM,element:(0,u.jsx)(H.V,{onClick:()=>{(0,k.FJ)("https://help.figma.com/hc/requests/new?ticket_form_id=9707134248215","_blank")},variant:"inverse",children:(0,w.tx)("banner.org_downgrade.reminder.contact_support")})}};return(0,u.jsx)(tc.f,{...e,bannerContent:s})},dataTestId:"org-downgrade-banner"},nC={bannerId:es.om.SeatBillingTermsReminder,Banner:function(){return(0,u.jsx)(G.u9,{label:"SeatBillingTermsReminderBanner",children:(0,u.jsx)(eo,{})})},dataTestId:"seat-billing-terms-banner"},nT={bannerId:es.om.TeamAdminOpenInvoiceReminder,Banner:function(){let e=(0,eS.ol)(),t=(0,eD.R)(e?.id),n=(0,c.n)();return e&&t&&n?(0,u.jsx)(eM,{team:e}):null},dataTestId:"team-admin-open-invoice-reminder-banner"},nk={bannerId:es.om.DevModeDemoFileUpsellBanner,Banner:function(e){return(0,u.jsx)(G.u9,{label:"DevModeDemoFileUpsellBanner",children:(0,u.jsx)(tu,{...e})})},dataTestId:"dev-mode-demo-file-upsell-banner"},nE={bannerId:es.om.OrderFormBillingTermsBanner,Banner:function(){let e=(0,a.wA)(),t=(0,et.iZ)(),n=(0,d.sZ)(),r=(0,em.Az)(n),[i,s]=_.useState(!1),o=_.createRef();if(!r.data?.isEligible)return null;let{isEligible:l,warningType:c,renewalDate:m}=r.data;if(!(l&&c&&m)||i)return null;let{variant:p,buttonText:h,onDismiss:f}={warning:{variant:"warn",buttonText:(0,w.tx)("order_form_billing_terms.button_text.warn"),onDismiss:()=>s(!0)},error:{variant:"danger",buttonText:(0,w.tx)("order_form_billing_terms.button_text.warn"),onDismiss:void 0}}[c];return(0,u.jsx)(Q.fu,{name:"Order Form Renewal Banner",properties:{userId:t?.id,orgId:n?.id,variant:p},children:(0,u.jsxs)("div",{className:F.s.sticky.top0.$,style:U.sx.add({zIndex:2}).$,children:[(0,u.jsxs)(el.Cs,{variant:p,onDismiss:f,"data-testid":"near-renewal-warning-banner",children:[(0,u.jsx)(ed.Q,{title:(0,w.tx)("order_form_billing_terms.headline_banner_text.danger"),children:(0,u.jsx)("p",{children:(0,w.tx)("order_form_billing_terms.description_banner_text.warn",{renewalDate:m.toDate()})})}),(0,u.jsx)(ec.$,{onClick:()=>{(0,eu.ny)({name:t?.name||null,email:t?.email||null},{ticketForms:["billing"],locale:t?.locale,fields:[{id:0x53d2eb6d8d,value:(0,w.t)("order_form_billing_terms.billing_contact_subject")},{id:0x53d2eb6da1,value:(0,w.t)("order_form_billing_terms.billing_contact_description")},{id:0x8d435084517,value:"b_something_else"}],suppressAnswerBot:!0})},children:h})]}),(0,u.jsx)(e_.F,{ref:o,dispatch:e,userName:t?.name||null,userEmail:t?.email||null})]})})},dataTestId:"order-form-billing-terms-banner"},nI={bannerId:es.om.NonAdminBillingTermsBanner,Banner:function(){return(0,u.jsx)(G.u9,{label:"NonAdminBillingTermsBanner",children:(0,u.jsx)(eC,{})})},dataTestId:"non-admin-billing-terms-banner"},nN={bannerId:es.om.eduRestrictedSitesBanner,Banner:function(e){let t=(0,l.q5)(),n=t?.editorType==="sites",{isEligible:r}=function(){let e=(0,l.q5)(),t=!!e?.canEdit,n=!!(e&&e.teamId&&!t),r=e&&e.teamId?e.teamId:null;return{isEligible:n,canEditTeam:(0,tK.$Y)(r),teamId:r}}(),a=(0,ex.No)(),i=a.unwrapOr(null)?.tier||null,s=(0,P.Zb)(),o=i===m.PlanTier.STUDENT&&!s;if(!(r&&n&&o))return null;let d={bannerType:es.x1.FPL_BRAND,icon:t0.A,mainText:(0,w.tx)("banner.sites_view_only_current_plan"),button:{type:es.MA.CUSTOM,element:(0,u.jsx)("div",{className:"x1qbgpp5",children:(0,u.jsx)(B.pW,{href:L.R,newTab:!0,variant:"secondary",children:(0,w.tx)("general.learn_more")})})}};return(0,u.jsx)(tc.f,{...e,bannerContent:d})},dataTestId:"edu-restricted-sites-banner"};es.om.DevModeMCPSSEDeprecationBanner,tJ.Y;let nA={bannerId:es.om.SlotsEnablementReload,Banner:function(e){let[t,n]=_.useState(!1),r=(0,tt.N)(),i=(0,a.d4)(e=>!!e.saveStatus?.hasUnsavedChanges);if(_.useEffect(()=>{t&&!i&&S.Ay.reload("slots enablement reload banner",{isSlotsEnablementReloadBanner:!0})},[t,i]),r){let r={bannerType:es.x1.INFO,icon:t0.A,mainText:(0,s.b5)()&&!(0,s.O_)()?(0,u.jsxs)("span",{children:["This file contains slots, but you are not in all the necessary feature flags. Please refresh the page to enable them. See"," ",(0,u.jsx)(M.CY,{href:"https://go/slots-staging",target:"_blank",trusted:!0,children:"this FAQ"})," ","or #feat-slots for more info."]}):(0,w.tx)("banner.slots_enablement_prod"),button:{buttonText:(0,w.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{n(!0)},disabled:t},dismissible:!0};return(0,u.jsx)(tc.f,{...e,bannerContent:r})}return null},dataTestId:"slots-enablement-reload-banner"},nS={bannerId:es.om.SupportShareWarningBanner,Banner:function(e){let t=(0,et.iZ)(),n=(0,A.fT)(t?.email);if(!(0,i.kc)().support_share_enable_warning_banner||!n)return null;let r={bannerType:es.x1.WARN,icon:t0.A,mainText:(0,u.jsx)("span",{children:"You are viewing this file as the support-share user. Please use caution when making changes as the support-share user."})};return(0,u.jsx)(tc.f,{...e,bannerContent:r})},dataTestId:"support-share-warning-banner"},nR=[nh,t5,t6,nc,nu,...(0,i.kc)().dse_slots_file_enablement?[nA]:[],t3,ny,nw,t7,ne,nt,nn,nr,t8,na,ni,ns,no,nl,nN,n_,np,nb,t4,nS,...(0,s.b5)()?[t1,t2,t9]:[]],nO=[t6,nc,nu,nk,na],nD=[nv],nP=[],nM=[],nL=[nj,nC,nE,nI],nF=[nT];function nB(){let e=(0,l.q5)(),t=(0,o.m0)(),n=e?.teamId,r=(0,a.d4)(e=>n?e.teams[n]:null);return e?n&&!r?nP:t?nO:nR:nD}function nU(){let e=(0,c.n)();return(0,d.dq)()?nL:e?nF:nM}},290029:(e,t,n)=>{n.d(t,{Y:()=>i});var r=n(239976),a=n(105652);let i=a.memo(function({prioritizedBanners:e,location:t}){let{bannerIdToShow:n,registerActiveBanner:i}=function({prioritizedBanners:e}){let[t,n]=(0,a.useState)(()=>new Set);return{registerActiveBanner:(0,a.useCallback)(e=>(n(t=>{if(t.has(e))return t;let n=new Set(t);return n.add(e),n}),()=>{n(t=>{if(t.has(e)){let n=new Set(t);return n.delete(e),n}return t})}),[]),bannerIdToShow:function(e,t=[]){let n=(0,a.useMemo)(()=>t.map(e=>e.bannerId).reduce((e,t,n)=>(e.set(t,n),e),new Map),[t]),r=(0,a.useMemo)(()=>[...e].reduce((e,t)=>{let r=n.get(t)??1/0;return r<e?r:e},1/0),[e,n]);return t[r]?.bannerId??null}(t,e)}}({prioritizedBanners:e});return(0,r.jsx)(r.Fragment,{children:e.map(({bannerId:e,Banner:a,dataTestId:s})=>(0,r.jsx)(a,{bannerId:e,shouldDisplay:e===n,registerAsActive:i,location:t,dataTestId:s},e))})})},782380:(e,t,n)=>{n.d(t,{E:()=>g});var r=n(105652),a=n(20002),i=n(865702),s=n(445019),o=n(419950),l=n(102699),d=n(536378),c=n(884667),u=n(332195),_=n(605985),m=n(920675),p=n(908756),h=n(136572),f=n(442942);let x=!1;function g(e){let t=(0,a.wA)(),n=(0,s.md)(c.g),g=(0,_.iZ)(),b=n!==o.r.LOADING&&n!==o.r.INIT,v=l.Q?.loadingKeyForPayload?.({file_key:e}),y=(0,a.d4)(e=>e.loadingState||{}),w=(0,p.GH)(y,v),j=(0,p.VP)(y,v);r.useEffect(()=>{n===o.r.INIT&&t((0,u.nm)(!1))},[t,n]);let C=(0,h.rc)(b&&g?n.plansByUserId[g.id]:[]),T=(0,r.useCallback)(n=>{e&&t(l.Q({file_key:e,folder_id:n}))},[t,e]),k=(0,r.useCallback)(()=>{if(e&&!j&&!w){if(b){if(1===C.length){let e=C[0];e.isPlanLocked||!e.draftFolderId||e.isFigJamDisabled||T(e.draftFolderId)}else C.length>1?t((0,d.to)({type:f.h,data:{payload:{workspaces:C,onSelectWorkspace:e=>{T(e.draftFolderId)},editorType:m._Y.WHITEBOARD,useCase:"figjamTry"}}})):T()}else{if(x)return;x=!0;return}}},[e,j,w,T,b,C,t]);return(r.useEffect(()=>{x&&b&&(x=!1,k())},[k,b]),e)?{onClaim:k,hasClaimedFigjamFile:w,isClaimingFigjamFile:j}:{onClaim:i.lQ,hasClaimedFigjamFile:w,isClaimingFigjamFile:j}}},606932:(e,t,n)=>{n.d(t,{Wf:()=>a,zx:()=>r,FK:()=>w,zq:()=>y});var r,a,i=n(239976),s=n(105652),o=n(943360),l=n(379141),d=n(224542),c=n.n(d),u=n(29161),_=n(980438),m=n(920675),p=n(569693),h=n(358157);let f="mini_community_cards--mini_cardBottomRow_Metadata--u23Sv",x="mini_community_cards--mini_cardBottomRow_Metadata_AvatarContainer--g7JHe",g="mini_community_cards--mini_cardBottomRow_Metadata_Avatar--CmE9G",b="mini_community_cards--mini_cardBottomRow_Metadata_TextContainer--Bk0b2",v="mini_community_cards--mini_cardBottomRow_Metadata_NameOnly--Y7VQ9 text--fontPos13--5OfL8 text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",y=s.memo(function(e){return(0,i.jsxs)("div",{onClick:e.onClick,onContextMenu:e.onContextMenu,className:c()("mini_community_cards--mini_cardContainer--WpyM8",e.containerStyle),children:[(0,i.jsx)("div",{children:e.image}),(0,i.jsx)("div",{className:e.bottomRowStyle??"mini_community_cards--mini_cardBottomRowSizing--rK6OI",children:e.bottomRow})]})});function w(e){let t={backgroundClip:u.Ay.safari?"padding-box":""};return e.backgroundColor&&(t.backgroundColor=e.backgroundColor),(0,i.jsxs)("div",{className:c()("mini_community_cards--mini_cardImageContainer--w1MDy base_community_cards--base_cardImageContainer--M7dqa base_community_cards--_hasBorder--U9Tp6",e.className,e.removeBorder&&h.ev),onClick:e=>{e.preventDefault()},style:t,children:[(0,i.jsx)("div",{className:e.customRatioClassName??h.ll}),(0,i.jsx)("div",{className:h.nK,children:e.children})]})}(e=>{e.Center=function(e){return(0,i.jsx)("div",{className:"mini_community_cards--mini_cardHover_Center--l8ZPp mini_community_cards--_mini_cardHover--nbzfL base_community_cards--base_cardHover--GZ15z",children:e.children})},e.Cover=function(e){return(0,i.jsx)("div",{className:"mini_community_cards--mini_cardHover_Cover--4XJbr mini_community_cards--_mini_cardHover--nbzfL base_community_cards--base_cardHover--GZ15z",children:e.children})},e.BottomLeft=function(e){return(0,i.jsx)("div",{className:"mini_community_cards--mini_cardHover_BottomLeft--fL7BE mini_community_cards--_mini_cardHover--nbzfL base_community_cards--base_cardHover--GZ15z",children:e.children})},e.BottomRowRight=function(e){return(0,i.jsx)("div",{className:"mini_community_cards--mini_cardHover_BottomRowRight--CkS8P mini_community_cards--_mini_cardHover--nbzfL base_community_cards--base_cardHover--GZ15z",children:e.children})}})(r||(r={})),(e=>{e.NameAndFileIconMetadata=function(e){let t=s.useMemo(()=>{switch(e.viewerMode){case m.y4.WHITEBOARD:return _.y1.WHITEBOARD;case m.y4.SLIDE_TEMPLATE:return _.y1.SLIDES;case m.y4.CANVAS:case m.y4.LIBRARY:return _.y1.DESIGN;case m.y4.PROTOTYPE:return _.y1.PROTOTYPE;default:return null}},[e.viewerMode]);return(0,i.jsxs)("div",{className:`${f} ${e.className}`,children:[(0,i.jsx)("div",{className:b,children:(0,i.jsx)("div",{className:e.textClassName||v,children:e.name})}),t&&(0,i.jsx)("div",{className:"mini_community_cards--mini_cardBottomRow_Metadata_FileIcon--Z99UM",children:(0,i.jsx)(_.w4,{type:t,size:16})})]})},e.AvatarAndNameMetadata=function(e){let t=e.publishers&&e.publishers.length>0&&e.publishers[0];return(0,i.jsxs)("div",{className:`${f} ${e.className}`,children:[t&&(0,i.jsx)("div",{className:x,children:(0,i.jsx)(p.Ro,{entity:t,size:32,className:g})}),(0,i.jsx)("div",{className:b,children:(0,i.jsx)("div",{className:e.textClassName||v,children:e.name})})]})},e.FullMetadata=function(e){if(!e.publishers||0===e.publishers.length)return null;let{publishers:t,hoverText:n,onClick:r}=e,a=e.name,s=t.length&&t[0]?t[0].name:"",d=t.length-1,u=t.length>1?(0,l.t)("community.cards.pluralize_num_other_publishers",{numOtherPublishers:d}):"",_=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:x,children:(0,i.jsx)(p.Ro,{entity:t[0],size:32,className:g})}),(0,i.jsxs)("div",{className:b,children:[(0,i.jsx)("div",{className:"mini_community_cards--mini_cardBottomRow_Metadata_Name--htTRx text--fontPos11--rO47d text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",children:a}),(0,i.jsx)("div",{className:n?"mini_community_cards--mini_cardBottomRow_Metadata_AuthorName_WithHoverText--1QY-K mini_community_cards--mini_cardBottomRow_Metadata_AuthorName--BTTGO text--fontPos11--rO47d text--_fontBase--VaHfk ellipsis--ellipsis--70pHK":"mini_community_cards--mini_cardBottomRow_Metadata_AuthorName--BTTGO text--fontPos11--rO47d text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",children:(0,l.tx)("community.by_publisher_with_suffix",{publisherName:s,publishersSuffix:u})}),n&&(0,i.jsx)("div",{className:"mini_community_cards--mini_cardBottomRow_HoverText--E5bcY mini_community_cards--mini_cardBottomRow_Metadata_AuthorName--BTTGO text--fontPos11--rO47d text--_fontBase--VaHfk ellipsis--ellipsis--70pHK",children:n})]})]});if(r){let e=(n?`${n}, `:"")+(0,l.t)("community.cards.template_name_by_publisher_with_suffix_for_screen_reader",{templateName:a,publisherName:s,publishersSuffix:u});return(0,i.jsx)(o.E,{className:c()(f,"mini_community_cards--mini_cardBottomRow_MetadataFocusBorder--WN6lc"),onClick:r,"aria-label":e,children:_})}return(0,i.jsx)("div",{className:f,children:_})}})(a||(a={}))},592687:(e,t,n)=>{n.d(t,{a:()=>f});var r=n(239976),a=n(379141),i=n(445019),s=n(309742),o=n(639184),l=n(859100),d=n(634224),c=n(215496),u=n(527205),_=n(816379),m=n(355441),p=n(271625);let h=(0,d.r1)("seen_dtm_deprecation_post_migration_overlay");function f(e){let t=(0,i.md)(h),{show:n,isShowing:d,complete:f}=(0,l.e)({overlay:p.ak5,priority:c.N.DEFAULT_MODAL},[t]);(0,s.h)(()=>{n({canShow:e=>!e})});let x=(0,r.jsx)(r.Fragment,{}),g=(0,r.jsx)(r.Fragment,{});if("plan_nav"===e.entryPoint){x=(0,a.tx)("file_browser.drafts_to_move.drafts_to_move_files_have_been_moved");let t=(0,a.tx)("file_browser.drafts_to_move.you_can_find_them_in_the_drafts_section_of_your_org_name_plan",{orgName:e.planName||""}),n=(0,a.tx)("file_browser.drafts_to_move.any_files_from_that_section_are_now_in_a_new_free_starter_team"),r=(0,a.tx)("file_browser.drafts_to_move.you_can_now_find_them_in_drafts_section_of_team_name",{teamName:e.planName||""});g=e.isOrg?t:e.starterTeamCreated?n:r}else{let t=(0,a.tx)("file_browser.drafts_to_move.drafts_to_move_files_are_right_here"),n=(0,a.tx)("file_browser.drafts_to_move.your_drafts_to_move_files_are_right_here");x=e.isOrg?(0,a.tx)("file_browser.drafts_to_move.your_drafts_to_move_files_are_right_here"):e.starterTeamCreated?t:n;let r=(0,a.tx)("file_browser.drafts_to_move.we_created_a_new_free_starter_team_for_them"),i=(0,a.tx)("file_browser.drafts_to_move.you_can_find_them_in_drafts_previously_deleted_files_will_appear_in_trash");g=e.isOrg?(0,a.tx)("file_browser.drafts_to_move.you_can_find_them_in_drafts_previously_deleted_files_will_appear_in_trash"):e.starterTeamCreated?r:i}return(0,r.jsx)(u.rq,{arrowPosition:m.F_.LEFT_TITLE,description:(0,r.jsx)("p",{children:g}),emphasized:!0,isShowing:d,onClose:f,primaryCta:{label:e.navigateToPlan?(0,a.tx)("file_browser.drafts_to_move.show_me"):(0,a.tx)("file_browser.modal.got_it"),type:"button",onClick:()=>{e.navigateToPlan&&e.navigateToPlan(),f()},ctaTrackingDescriptor:o.c.DONE},secondaryCta:{label:(0,a.tx)("file_browser.drafts_to_move.viewbar_learn_more_link"),type:"link",href:"https://help.figma.com/hc/articles/18409526530967",ctaTrackingDescriptor:o.c.LEARN_MORE},targetKey:e.targetKey||"dtm_deprecation_post_migration_overlay_drafts_key",title:x,trackingContextName:"Dtm Deprecation Post Migration Overlay",width:300,zIndex:_.R.MODAL})}},164785:(e,t,n)=>{n.d(t,{A:()=>R});var r=n(239976),a=n(105652),i=n(20002),s=n(56107),o=n(254056),l=n(379141),d=n(270450),c=n(445019),u=n(393463),_=n(75962),m=n(574474),p=n(536378),h=n(136393),f=n(639184),x=n(811804),g=n(859100),b=n(574220),v=n(634224),y=n(215496),w=n(366712),j=n(322691),C=n(265560),T=n(271625),k=(e=>(e.SPAIN="spain",e.NON_SPAIN="non_spain",e))(k||{});let E=()=>Date.now()-864e5,I=e=>{let t=u.Ay()?.iso_code,n=u.Ay()?.user_data?.signup_locale;if(!(null!=e&&e.getTime()<E()))return!1;if("es-es"===n)return!0;let r=(0,w.zo)();return"latam"!==r&&("spain"===r||!(t&&m.rX.includes(t))&&!!(t&&m.vz.includes(t)))},N=e=>{let t=u.Ay()?.iso_code,n=u.Ay()?.user_data?.signup_locale,r=null!=e&&e.getTime()<E(),a="es-es"===n||"ES"===t||navigator.languages.some(e=>m.Q5.includes(e)),i="es-la"===n||t&&m.rX.includes(t)||navigator.languages.some(e=>m.sJ.includes(e));return r&&a?"spain":r&&i?"non_spain":void 0};function A(e){let t=(0,i.wA)(),n=(0,x.DP)(),a=e.isSpainVariant?(0,l.tx)("es_es_announcement.spain.description"):(0,l.tx)("es_es_announcement.nonspain.description");return(0,r.jsx)(j._l,{isShowing:e.isShowing,trackingContextName:"es_es_launch_announcement_spain",onClose:e.onClose,title:(0,l.tx)("es_es_announcement.title"),description:(0,r.jsxs)(r.Fragment,{children:[a,(0,r.jsx)("br",{}),(0,r.jsx)(o.N,{href:"https://www.figma.com/figma-ahora-en-espanol/",trusted:!0,newTab:!0,children:(0,l.tx)("es_es_launch_announcement.learn_more")})]}),primaryCta:{label:(0,l.tx)("es_es_announcement.cta_button"),type:"button",onClick:()=>{t((0,p.to)({type:C.kA,data:{source:C.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:f.c.UPDATE_LANGUAGE_SETTINGS},media:(0,r.jsx)(_.oW,{width:332,height:404,src:(0,u.ck)("dark"===n?"d5144836652ddb3ef93938b550364428430fbdf2":"2c6b6c235309104ec7fe7c99d6d85cc3c8a91e8e"),alt:(0,l.t)("es_es_launch_announcement.image_alt_text")})})}let S=(0,v.r1)("has_tried_es_es");function R(){let e=(0,i.wA)(),t=(0,c.md)(S),n=(0,c.md)(b.mp),o="loaded"===n.status&&"loaded"===t.status,{show:l,isShowing:_,complete:m}=(0,g.e)({overlay:T.kKu,priority:y.N.SECONDARY_MODAL},[n,t]);if((0,a.useEffect)(()=>{u.Ay().user_data?.locale===s.Locale.ES_ES&&"loaded"===t.status&&!1===t.data&&e(h.b({has_tried_es_es:!0}))},[e,t]),(0,a.useEffect)(()=>{if(!o)return;let e=!1;e=(0,d.kc)().i18n_es_la_announcement_modal?I(n.data):!!N(n.data),u.Ay().user_data?.locale!==s.Locale.ES_ES&&e&&!t.data&&l()},[e,l,o,n,t]),!o)return null;let p=N(n.data);if((0,d.kc)().i18n_es_la_announcement_modal){if(!I(n.data))return null}else if(void 0===p)return null;return(0,r.jsx)(A,{isShowing:_,onClose:m,isSpainVariant:!!(0,d.kc)().i18n_es_la||"spain"===p})}},366712:(e,t,n)=>{n.d(t,{Ay:()=>S,zo:()=>T});var r=n(239976),a=n(105652),i=n(20002),s=n(56107),o=n(379141),l=n(270450),d=n(445019),c=n(393463),u=n(75962),_=n(574474),m=n(536378),p=n(136393),h=n(639184),f=n(811804),x=n(859100),g=n(574220),b=n(634224),v=n(215496),y=n(322691),w=n(265560),j=n(271625);let C=()=>Date.now()-864e5;function T(){let e=new Set(_.sJ),t=new Set(_.Q5);for(let n of navigator.languages){if(e.has(n))return"latam";if(t.has(n))return"spain"}}var k=(e=>(e.HAS_SEEN_ES_ES_ANNOUNCEMENT="has_seen_es_es_announcement",e.HAS_NOT_SEEN_ES_ES_ANNOUNCEMENT="has_not_seen_es_es_announcement",e))(k||{});let E=(e,t,n)=>{let r=c.Ay()?.iso_code,a=c.Ay()?.user_data?.signup_locale;if(!(!t&&null!=e&&e.getTime()<C()))return;if("es-la"===a)return n?"has_seen_es_es_announcement":"has_not_seen_es_es_announcement";let i=T();return"latam"===i?n?"has_seen_es_es_announcement":"has_not_seen_es_es_announcement":"spain"===i?void 0:r&&_.rX.includes(r)?n?"has_seen_es_es_announcement":"has_not_seen_es_es_announcement":void 0};function I(e){let t=(0,i.wA)(),n=(0,f.DP)(),a=e.hasSeenEsEsModal?(0,o.tx)("es_la_announcement.seen_es_es_description"):(0,o.tx)("es_la_announcement.not_seen_es_es_description");return(0,r.jsx)(y._l,{isShowing:e.isShowing,trackingContextName:"es_la_launch_announcement",onClose:e.onClose,title:(0,r.jsx)(r.Fragment,{children:(0,o.tx)("es_la_announcement.title")}),description:a,primaryCta:{label:(0,o.tx)("es_la_announcement.cta_button"),type:"button",onClick:()=>{t((0,m.to)({type:w.kA,data:{source:w.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:h.c.UPDATE_LANGUAGE_SETTINGS},media:(0,r.jsx)(u.oW,{width:332,height:404,src:(0,c.ck)("dark"===n?"d0bae5ffbf320d1ec97034348702b49fd549969e":"28a10c6e6bb3668d3cc281fda53dd7a6f7f27ad8"),alt:(0,o.t)("es_la_launch_announcement.image_alt_text")})})}let N=(0,b.r1)("has_tried_es_la"),A=(0,b.r1)("seen_es_es_launch_announcement");function S(){let e=(0,i.wA)(),t=(0,d.md)(N),n=(0,d.md)(A),o=(0,d.md)(g.mp),u="loaded"===t.status&&"loaded"===o.status&&"loaded"===n.status,{show:_,isShowing:m,complete:h}=(0,x.e)({overlay:j.FJT,priority:v.N.SECONDARY_MODAL},[o,t,n]);if((0,a.useEffect)(()=>{c.Ay().user_data?.locale===s.Locale.ES_LA&&"loaded"===t.status&&!1===t.data&&e(p.b({has_tried_es_la:!0}))},[e,t]),(0,a.useEffect)(()=>{u&&(0,l.kc)().i18n_es_la_announcement_modal&&c.Ay().user_data?.locale!==s.Locale.ES_LA&&E(o.data,t.data,n.data)&&_()},[e,_,u,t,o,n]),!u||!(0,l.kc)().i18n_es_la_announcement_modal)return null;let f=E(o.data,t.data,n.data);return void 0===f?null:(0,r.jsx)(I,{isShowing:m,onClose:h,hasSeenEsEsModal:"has_seen_es_es_announcement"===f})}},661877:(e,t,n)=>{n.d(t,{f:()=>a});let r=()=>Date.now()-12096e5;function a({userCreatedAt:e,lastUsedFigjamDate:t,hasSeenOverlayV2:n}){return!!(e.getTime()<=r()&&(null==t||t.getTime()<=r()))&&!n}},642003:(e,t,n)=>{n.d(t,{P:()=>w});var r=n(239976),a=n(20002),i=n(379141),s=n(445019),o=n(309742),l=n(393463),d=n(536378),c=n(639184),u=n(859100),_=n(574220),m=n(634224),p=n(605985),h=n(215496),f=n(322691),x=n(265560),g=n(271625);let b=()=>Date.now()-864e5,v="seen_japanese_launch_announcement",y=(0,m.r1)(v);function w(){let e=(0,a.wA)(),t=(0,p.TA)(),n=(0,s.md)(_.mp),m=(0,s.md)(y),w=(0,u.e)({overlay:g.hxO,priority:h.N.DEFAULT_MODAL},[n,m]);return(0,o.h)(()=>{let e=l.Ay()?.iso_code==="JP",t=l.Ay()?.user_data?.locale==="ja";e&&!t&&w.show({canShow:(e,t)=>!t&&null!=e&&e.getTime()<b()})}),(0,r.jsx)(f._l,{isShowing:w.isShowing,title:(0,i.tx)("rcs.japanese_launch_modal.title"),description:(0,i.tx)("rcs.japanese_launch_modal.body"),media:(0,r.jsx)("img",{width:408,src:(0,l.ck)("aa243114f8307af99f0c1728ada3182f8568a919"),alt:""}),primaryCta:{type:"button",label:(0,i.tx)("rcs.japanese_launch_modal.button"),onClick:()=>{e((0,d.to)({type:x.kA,data:{source:x.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:c.c.UPDATE_LANGUAGE_SETTINGS,trackingProperties:{userId:t}},trackingContextName:"Japanese Launch Announcement Modal",userFlagOnShow:v,onClose:w.complete})}},857017:(e,t,n)=>{n.d(t,{A:()=>E});var r=n(239976),a=n(105652),i=n(20002),s=n(56107),o=n(379141),l=n(445019),d=n(393463),c=n(75962),u=n(574474),_=n(536378),m=n(136393),p=n(639184),h=n(811804),f=n(859100),x=n(574220),g=n(634224),b=n(215496),v=n(322691),y=n(265560),w=n(271625);let j=()=>Date.now()-864e5,C=(e,t)=>{let n=d.Ay()?.iso_code,r=d.Ay()?.user_data?.signup_locale,a=!t&&null!=e&&e.getTime()<j(),i="ko-kr"===r||n&&u.QS.includes(n)||navigator.languages.some(e=>u.Tq.includes(e));return a&&i};function T(e){let t=(0,i.wA)(),n=(0,h.DP)();return(0,r.jsx)(v._l,{isShowing:e.isShowing,trackingContextName:"ko_kr_launch_announcement",onClose:e.onClose,title:(0,o.tx)("ko_kr_announcement.title"),description:(0,o.tx)("ko_kr_announcement.description"),primaryCta:{label:(0,o.tx)("ko_kr_announcement.cta_button"),type:"button",onClick:()=>{t((0,_.to)({type:y.kA,data:{source:y.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:p.c.UPDATE_LANGUAGE_SETTINGS},media:(0,r.jsx)(c.oW,{width:332,height:404,src:(0,d.ck)("dark"===n?"18dcbb2ade042dcce59156457f26cf74bff4c14a":"705f5bf3c6cdb84a903c3a2fcd7e70de3294fc96"),alt:(0,o.t)("ko_kr_launch_announcement.image_alt_text")})})}let k=(0,g.r1)("has_tried_ko_kr");function E(){let e=(0,i.wA)(),t=(0,l.md)(k),n=(0,l.md)(x.mp),o="loaded"===t.status&&"loaded"===n.status,{show:c,isShowing:u,complete:_}=(0,f.e)({overlay:w.Tw6,priority:b.N.SECONDARY_MODAL},[n,t]);return((0,a.useEffect)(()=>{d.Ay().user_data?.locale===s.Locale.KO_KR&&"loaded"===t.status&&!1===t.data&&e(m.b({has_tried_ko_kr:!0}))},[e,t]),(0,a.useEffect)(()=>{o&&d.Ay().user_data?.locale!==s.Locale.KO_KR&&C(n.data,t.data)&&c()},[e,c,o,t,n]),o)?(0,r.jsx)(T,{isShowing:u,onClose:_}):null}},857622:(e,t,n)=>{n.d(t,{C:()=>F});var r=n(239976),a=n(105652),i=n(20002),s=n(245814),o=n(655793),l=n(517478),d=n(942356),c=n(379141),u=n(445019),_=n(522568),m=n(309742),p=n(29161),h=n(346942),f=n(259714),x=n(614320),g=n(136393),b=n(338630),v=n(859100),y=n(526575),w=n(605985),j=n(748181),C=n(215496),T=n(139850),k=n(444998),E=n(175763),I=n(878183),N=n(684122),A=n(774604),S=n(271625),R=n(610265),O=n(732593),D=n(816505),P=n(790016),M=n(714252);let L="Job Title Prompt";function F({source:e}){let t=function(){let e=(0,P.X$)("useIsEligibleForJobTitleReprompt"),t=(0,P.YY)(e).unwrapOr(!1),n=(0,w.Pc)(),r=(0,D.sZ)(),i=n.profile.job_title,s=(0,O.HB)(i);return(0,a.useCallback)(()=>!(r&&r.k12_google_org||n.email.endsWith(".edu")||t||(0,R.A)(n.email_validated_at).add(14,"day").isAfter((0,R.A)(Date.now())))&&(!i||("something_else"===i?!!(0,R.A)(n.email_validated_at).isBefore((0,R.A)(new Date("2024-12-10"))):"other"===s&&(!r||!r.saml_sso_only))),[r,t,s,i,n.email,n.email_validated_at])}(),n=(0,u.Xr)(k.S0),i=(0,u.Xr)(k.$h),s=(0,u.Xr)(k.Q7),o=(0,w.Pc)().name,l=!!(0,j.f)("submitted_job_title_prompt_overlay"),{show:d,complete:c,isShowing:_}=(0,v.e)({overlay:S.CAe,priority:C.N.OVERRIDING_MODAL});return((0,m.h)(()=>{(0,p.C8)()||window.matchMedia("(max-width: 840px)").matches||l||d({canShow:t,onShow:()=>{n([E.pu.WHAT_DO_YOU_DO]),i(0),s(o)}})}),_)?(0,r.jsx)(T.M,{testId:"job-title-prompt-overlay",isShowing:_,children:(0,r.jsx)(B,{isShowing:_,dismissModal:c,overlaySource:e})}):null}function B({isShowing:e,dismissModal:t,overlaySource:n}){let m=(0,i.wA)(),p=(0,w.Pc)(),v=p.id,j=p.profile.job_title,[C,T]=(0,u.fp)(k.ZE),[E,S]=a.useState(""),{questionKey:R,options:O,questionTitle:D,questionSubtitle:P,getOptionDisplay:F}=(0,A.Xg)(),B=Array.from(O).toString(),U=({source:e})=>{(0,y.Cu)({trackingContext:L,text:"Dismiss Job Title Prompt",source:e,view:n,jobTitleList:B}),t()},H=s.hS({open:e,onClose:U}),z=C.has("something_else")&&!E;return(0,r.jsx)(b.fu,{name:L,properties:{jobTitleList:B,source:n},children:(0,r.jsx)(o.bL,{manager:H,width:"fit-content",height:"fixed",children:(0,r.jsx)(l.Wk,{children:(0,r.jsxs)("div",{className:"job_title_prompt_overlay--container--b2lpj",children:[(0,r.jsxs)("div",{className:"job_title_prompt_overlay--leftContainer--Zflt6",children:[(0,r.jsx)(f.B,{svg:M.A,useOriginalSrcFills_DEPRECATED:!0,autosize:!0,height:"32px",width:"24px"}),(0,r.jsx)(h.Kz,{multiple:3}),(0,r.jsx)("h1",{children:D}),(0,r.jsx)(h.Kz,{multiple:.5}),(0,r.jsx)("p",{className:"job_title_prompt_overlay--jobTitleSubheading--Y6qLI",children:P}),(0,r.jsx)(h.Kz,{multiple:3}),(0,r.jsx)(I.O,{isSingleSelect:!0,questionKey:R,options:O,selectedOptions:C,onItemsChange:T,getOptionDisplay:F,endingOption:C.has("something_else")?(0,r.jsx)(h.ks,{autoFocus:!0,dataTestId:"custom_job_title_input",className:"job_title_prompt_overlay--otherInput--ovN32",placeholder:(0,c.t)("user_onboarding_signals.v1.answer.other.placeholder"),value:E,onChange:e=>S(e.currentTarget.value)}):void 0,variant:"compact"}),(0,r.jsx)(h.Kz,{multiple:3}),(0,r.jsx)("span",{className:"job_title_prompt_overlay--submitButton--NMGhN",children:(0,r.jsx)(d.WW,{variant:"primary",onClick:()=>{let[e]=C,t=e,n="job_title_prompt_selection";"something_else"===t&&E.length>0&&(t=E,n="job_title_prompt_custom"),m(x.yJ({user:{id:v,job_title:t,job_title_source:n},userInitiated:!0})),_.az.trackDefinedEvent("activation.job_title_changed",{newJobTitle:t,prevJobTitle:j,source:n,jobTitleSeenList:B}),(0,y.Cu)({trackingContext:L,text:"Submit Job Title",jobTitle:t,prevJobTitle:j,jobTitleList:B}),m(g.b({submitted_job_title_prompt_overlay:!0})),U({source:"other"})},disabled:0===C.size||z,children:(0,c.tx)("rcs.surveys.submit")})})]}),(0,r.jsx)("div",{className:"job_title_prompt_overlay--rightContainer--nfEHi",children:(0,r.jsx)(N.m,{isInModal:!0})})]})})})})}},58369:(e,t,n)=>{n.d(t,{A:()=>I});var r=n(239976),a=n(105652),i=n(20002),s=n(56107),o=n(379141),l=n(445019),d=n(393463),c=n(75962),u=n(574474),_=n(536378),m=n(136393),p=n(639184),h=n(811804),f=n(859100),x=n(574220),g=n(634224),b=n(215496),v=n(322691),y=n(265560),w=n(271625),j=(e=>(e.BRAZILIAN="brazilian",e.NON_BRAZILIAN="non_brazilian",e))(j||{});let C=()=>Date.now()-864e5,T=e=>{let t=d.Ay()?.iso_code,n=d.Ay()?.user_data?.signup_locale,r=null!=e&&e.getTime()<C(),a=[...u.B1,...u.Vb],i=[...u.EK,...u.Kz],s="pt-br"===n||t&&i.includes(t)||navigator.languages.some(e=>a.includes(e));if(r&&s)return t&&u.EK.includes(t)||navigator.languages.some(e=>u.B1.includes(e))?"brazilian":"non_brazilian"};function k(e){let t=(0,i.wA)(),n=(0,h.DP)(),a=e.isBrazilianVariant?(0,o.tx)("pt_br_announcement.description"):(0,o.tx)("pt_br_announcement.non_brazilian.description");return(0,r.jsx)(v._l,{isShowing:e.isShowing,trackingContextName:"pt_br_launch_announcement",onClose:e.onClose,title:(0,o.tx)("pt_br_announcement.title"),description:a,primaryCta:{label:(0,o.tx)("pt_br_announcement.cta_button"),type:"button",onClick:()=>{t((0,_.to)({type:y.kA,data:{source:y.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:p.c.UPDATE_LANGUAGE_SETTINGS},media:(0,r.jsx)(c.oW,{width:332,height:404,src:(0,d.ck)("dark"===n?"1f8cff5121905a8bd088cf9dc7759e22322a90ef":"e9552341c3ffb2f3090e2cd95e29faaddf7b8397"),alt:(0,o.t)("pt_br_launch_announcement.image_alt_text")})})}let E=(0,g.r1)("has_tried_pt_br");function I(){let e=(0,i.wA)(),t=(0,l.md)(E),n=(0,l.md)(x.mp),o="loaded"===t.status&&"loaded"===n.status,{show:c,isShowing:u,complete:_}=(0,f.e)({overlay:w.gik,priority:b.N.SECONDARY_MODAL},[n,t]);if((0,a.useEffect)(()=>{d.Ay().user_data?.locale===s.Locale.PT_BR&&"loaded"===t.status&&!1===t.data&&e(m.b({has_tried_pt_br:!0}))},[e,t]),(0,a.useEffect)(()=>{o&&d.Ay().user_data?.locale!==s.Locale.PT_BR&&T(n.data)&&!t.data&&c()},[e,c,o,t,n]),!o)return null;let p=T(n.data);return void 0===p?null:(0,r.jsx)(k,{isShowing:u,onClose:_,isBrazilianVariant:"brazilian"===p})}},656395:(e,t,n)=>{n.d(t,{wc:()=>P,QU:()=>L});var r=n(239976),a=n(105652),i=n(20002),s=n(378721),o=n(740554),l=n(692376),d=n(854225),c=n(379141),u=n(445019),_=n(522568),m=n(141288),p=n(844268),h=n(259714),f=n(842582),x=n(714778),g=n(450207),b=n(562418),v=n(707470),y=n(526465),w=n(640753),j=n(362844),C=n(619453),T=n(824041),k=n(897547);let E="memory_warning--memoryUsageContainer--BKKHo";var I=n(718494),N=n(836818),A=n(97370),S=n(741403),R=n(608534),O=n(217169);function D(e){let t,n,a,s,o;let l=(0,i.d4)(e=>!e.openFile?.canEdit),u=(0,v.TY)(),_=(0,i.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===d.m1T.HISTORY&&e.versionHistory.activeId&&"current_version"!==e.versionHistory.activeId),m=e.warningLevel,p=(m===y.Wy.WARNING?(o=(0,c.tx)("fullscreen.pages_panel.memory_usage_try_removing_unneeded_content"),u?o=(0,c.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high_content"):l&&!_?o=(0,c.tx)("fullscreen.pages_panel.memory_usage_warning_edit_access_needed"):l&&_?o=(0,c.tx)("fullscreen.pages_panel.memory_usage_read_only_view_version_history"):!l&&_&&(o=(0,c.tx)("fullscreen.pages_panel.memory_usage_warning_edit_view_version_history"))):m===y.Wy.ERROR?(o=(0,c.tx)("fullscreen.pages_panel.memory_usage_to_avoid_losing_file_access"),u?o=(0,c.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high_content"):l&&!_?o=(0,c.tx)("fullscreen.pages_panel.memory_usage_error_contact_file_owner"):l&&_?o=(0,c.tx)("fullscreen.pages_panel.memory_usage_read_only_view_version_history"):!l&&_&&(o=(0,c.tx)("fullscreen.pages_panel.memory_usage_error_edit_view_version_history"))):m===y.Wy.SAFE&&e.hasHadUnsafeWarningLevel&&(o=(0,c.tx)("fullscreen.pages_panel.memory_usage_this_file_has_enough_memory"),u&&(o=(0,c.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_low_content"))),o);if(m===y.Wy.WARNING)t="memory_warning--warningMemoryContentContainerWarning--FlSrK memory_warning--warningMemoryContentContainer--ipRK0",n="memory_warning--memoryWarningContentIconWarning--mUi4h",a=u?S.A:N.A,s=u?(0,c.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high"):(0,c.tx)("fullscreen.pages_panel.memory_usage_memory_running_low");else if(m===y.Wy.ERROR)t="memory_warning--warningMemoryContentContainerError--r5Vx8 memory_warning--warningMemoryContentContainer--ipRK0",n="memory_warning--memoryWarningContentIconError--Gk8Zq",a=u?S.A:R.A,s=u?(0,c.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high"):(0,c.tx)("fullscreen.pages_panel.memory_usage_almost_out_of_memory");else{if(m!==y.Wy.SAFE||!e.hasHadUnsafeWarningLevel)return null;t="memory_warning--warningMemoryContentContainerSafe--Pvu78 memory_warning--warningMemoryContentContainer--ipRK0",n="memory_warning--memoryWarningContentIconSafe--fRIf-",a=I.A,s=u?(0,c.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_low"):(0,c.tx)("fullscreen.pages_panel.memory_usage_youre_good_to_go")}return(0,r.jsx)("div",{className:"memory_warning--memoryWarningContentBetaContainer--pa-3-",children:(0,r.jsxs)("div",{className:t,children:[(0,r.jsx)("div",{className:"memory_warning--memoryWarningContentIconContainer--Gp48G",children:(0,r.jsx)(h.B,{className:n,svg:a})}),(0,r.jsxs)("div",{className:"memory_warning--memoryWarningContentBodyHeader--xrFtu",children:[(0,r.jsx)("div",{className:"memory_warning--memoryWarningContentHeader---O05e",children:s}),(0,r.jsxs)("p",{children:[p," ",(m===y.Wy.ERROR||m===y.Wy.WARNING)&&(0,r.jsx)(x.o,{newTab:!0,className:m===y.Wy.ERROR?"memory_warning--learnMoreLinkError--AsoHe":"memory_warning--learnMoreLinkWarning--BPVSf",href:"https://help.figma.com/hc/articles/360040528173-Reduce-memory-usage-in-files",trusted:!1,trackingEventName:"memory_warning_learn_more_clicked",children:(0,c.tx)("fullscreen.pages_panel.memory_usage_learn_more")})]})]})]})})}function P(e){let t=e.showSidePercentage,n=e.warningLevel&&e.warningLevel>=y.Wy.ERROR;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"memory_warning--usageBarContainer--gH-7o",children:[(0,r.jsx)(h.B,{style:{left:`${y.xk}%`},className:"memory_warning--icon--PgUQc",svg:A.A}),(0,r.jsx)("div",{className:t&&n?"memory_warning--usageBarBorderDanger--NJeIt memory_warning--usageBarBorder--6ktmL":"memory_warning--usageBarBorder--6ktmL",children:(0,r.jsx)("div",{className:t&&n?"memory_warning--usageBarFillDanger--1r0sU memory_warning--usageBarFill--iUjTc":"memory_warning--usageBarFill--iUjTc",style:{width:`${e.memoryUsagePercent}%`}})})]}),t&&(0,r.jsx)("div",{className:n?"memory_warning--usageBarTextDanger--Zqjc0 memory_warning--usageBarText--lDYn4":"memory_warning--usageBarText--lDYn4",children:`${Math.trunc(e.memoryUsagePercent).toString()}%`})]})}let M=(0,w.Wh)(()=>(0,u.eU)(y.Wy.SAFE));function L(e){let t=(0,i.wA)(),{toggleManageMemoryModal:n,closeManageMemoryModal:s}=function(){let e=(0,T.dp)(),t=(0,v.TY)(),n=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{t&&!n.current&&(n.current=!0,e.open(k.XB),l.Ez5?.uiState().showMemoryUsage.set(!0))},[t,e]),(0,a.useMemo)(()=>({toggleManageMemoryModal(){let t=(0,y.P3)();(0,_.sx)("toggle_manage_memory_modal",{memoryUsedPercent:t,totalLayers:l.CeL?.getFileNodeCount(),pageContentPct:t-(0,y.Zz)()}),e.toggle(k.XB)},closeManageMemoryModal(){e.close(k.XB)}}),[e])}(),o=(0,u.md)(y.Tm),d=(0,u.md)(y.Vu),c=(0,u.md)(y.eE),m=function({warningLevel:e}){let t=e!==y.Wy.SAFE,[n,r]=(0,a.useState)(t);return(0,a.useEffect)(()=>{t&&r(!0)},[t]),n}({warningLevel:c}),h=(0,b.E3)(),f=(0,v.TY)(),[x,g]=(0,a.useState)(f);!function({warningLevel:e,usingTestMemory:t,memoryUsedPercent:n,fileKey:r}){let[s,o]=(0,u.fp)(M),l=(0,i.Pj)(),d=(0,p.F)(()=>{var t,a;let i=l.getState(),s=!i.openFile?.canEdit,o=i.mirror.appModel.topLevelMode;t={warningEvent:"BANNER_LEVEL_CHANGE",fileKey:r},a={warningLevel:y.Wy[e],memoryUsedPercent:n,topLevelMode:o,isReadOnly:s},(0,C.$w)(t,{warningOnPct:y.xk,errorOnPct:y.pl,...a})}),c=e!==s&&!t;(0,a.useEffect)(()=>{c&&(o(e),d.current())},[e,c,o,d])}({warningLevel:c,usingTestMemory:d,memoryUsedPercent:o,fileKey:e.fileKey}),function({warningLevel:e,hasHadUnsafeWarningLevel:t}){let n=e===y.Wy.SAFE&&t;(0,a.useEffect)(()=>{if(n){let e=()=>{"hidden"===document.visibilityState&&(l.Ez5?.uiState().showMemoryUsage.set(!1),document.removeEventListener("visibilitychange",e))};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}},[n])}({warningLevel:c,hasHadUnsafeWarningLevel:m}),function({warningLevel:e}){(0,a.useEffect)(()=>{let t=e!==y.Wy.SAFE;l.Ez5?.uiState().showInFileMemoryPercentage.set(t),t&&l.Ez5?.uiState().showMemoryUsage.set(!0)},[e])}({warningLevel:c});let w=(0,v.Ht)();return w||f?(0,r.jsx)(F,{closeManageMemoryModal:s,dispatch:t,editorType:h,fileKey:e.fileKey,hasHadUnsafeWarningLevel:m,memoryUsedPct:o,recoveryMemDisplay:x,setRecoveryMemDisplay:g,showMemoryUsage:w,toggleManageMemoryModal:n,warningLevel:c}):null}function F(e){let t=t=>{let n={view:"fullscreen",editorType:t===j.nT.Design?j.nT.Design:j.nT.Whiteboard,fileKey:e.fileKey,isRecoveryMode:!1};(0,_.sx)("exit_recovery_mode",{currentAllocatedBytes:o.hM?.getTotalUsedHeapMemory(),maxAllocatedBytes:o.hM?.getMaxUsedHeapMemory(),fileKey:e.fileKey}),e.dispatch(g.sf(n)),m.Ay.reload("Memory warning panel")},{warningLevel:n,hasHadUnsafeWarningLevel:a,memoryUsedPct:i,showMemoryUsage:d,editorType:u,recoveryMemDisplay:p}=e,x=n===y.Wy.ERROR,b=(0,v.TY)();return(0,r.jsx)(r.Fragment,{children:(d||p)&&(0,r.jsxs)("div",{className:E,id:E,children:[(0,r.jsxs)("div",{className:"memory_warning--memoryUsageHeader--RkuGj",children:[(0,r.jsx)("div",{className:"memory_warning--memoryUsageHeaderTitle--F3Wdj",children:(0,c.tx)("fullscreen.pages_panel.memory_usage")}),(0,r.jsx)("div",{className:"memory_warning--memoryUsageCloseIcon--7OZIL",children:!x&&(0,r.jsx)(s.K,{"aria-label":(0,c.t)("common.close"),onClick:()=>{(0,_.sx)("manage_memory_modal_closed",{currentAllocatedBytes:o.hM?.getTotalUsedHeapMemory(),maxAllocatedBytes:o.hM?.getMaxUsedHeapMemory(),fileKey:e.fileKey}),l.Ez5?.uiState().showMemoryUsage.set(!1),l.Ez5?.uiState().showInFileMemoryPercentage.set(!1),e.closeManageMemoryModal(),e.setRecoveryMemDisplay(!1)},children:(0,r.jsx)(h.B,{svg:O.A})})})]}),(0,r.jsx)("div",{className:x?"memory_warning--memoryUsageBodyContainerError--lg4rU":"memory_warning--memoryUsageBodyContainer--Fic1u",children:(0,r.jsx)(P,{memoryUsagePercent:i,showSidePercentage:!0,warningLevel:n})}),(0,r.jsx)(D,{warningLevel:n,hasHadUnsafeWarningLevel:a}),(()=>{let t=(0,c.t)("manage_memory_modal.manage_memory_button"),n=()=>{e.toggleManageMemoryModal()};return(0,r.jsx)("div",{className:"memory_warning--memoryWarningButtonContainer--4t1jZ",children:(0,r.jsx)(f.Ih,{variant:"secondary",onClick:()=>n(),trackingProperties:{buttonContext:t},children:t})})})(),b&&i<y.im&&(0,r.jsx)("div",{className:d?"memory_warning--recoveryModeBannerExitButtonContainer--d23xf":"memory_warning--recoveryModeExitButtonContainer--PS-yG",children:(0,r.jsx)(f.Ih,{variant:"primary",onClick:()=>t(u),children:(0,c.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_exit")})})]})})}},942383:(e,t,n)=>{n.d(t,{Z:()=>O});var r=n(239976),a=n(20002),i=n(379141),s=n(224542),o=n.n(s),l=n(141288),d=n(719749),c=n(7857),u=n(29161),_=n(695207),m=n(144254),p=n(806130),h=n(346942),f=n(259714),x=n(154963),g=n(485571),b=n(536378),v=n(267745),y=n(338630),w=n(96743),j=n(550534),C=n(11003),T=n(276571),k=n(605985),E=n(610604),I=n(898301),N=n(747079),A=n(541105),S=n(35401);function R(){let e=(0,k.iZ)(),t=(0,I.cD)(),n=(0,a.wA)(),s=(0,T._6)(),c=(0,d.Rs)((0,E.UpR)({})),m=(0,d.Rs)((0,E.FA_)({teamId:t}),{enabled:!!t}),p=(0,w.lr)();if("loaded"!==c.status||"loaded"!==m.status||!e)return null;let N=c.data?.currentUser?.eduPeriodEnd,R=(0,w.l)(N),O=(0,_.cl)(N);if(!m.data?.team)return null;let D=m.data.team.isOwner,P=m.data.team.name,M=(0,r.jsx)(h.Us,{href:"https://help.figma.com/hc/articles/360041061214-Figma-for-Education#apply",target:"_blank",trusted:!0,children:(0,i.tx)("edu.banner.learn_more")}),L=O>0?(0,i.tx)("edu.all_education_accounts_are_required",{offboardingDate:p,linkLearnMore:M}):(0,i.tx)("edu.sidebar_section.all_education_accounts_are_required",{linkLearnMore:M}),F=O>0?D?(0,i.tx)("edu.offboarding_modal.the_team_you_own_will_become_view_only_for_all_members_once_your_status_expires",{teamName:(0,r.jsx)("span",{className:x.s.fontBold.$,children:P})}):(0,i.tx)("edu.offboarding_modal.you_ll_lose_edit_access_to_team_once_your_status_expires",{teamName:(0,r.jsx)("span",{className:x.s.fontBold.$,children:P})}):D?(0,i.tx)("edu.offboarding_modal.the_team_you_own_is_now_view_only_for_all_members",{teamName:(0,r.jsx)("span",{className:x.s.fontBold.$,children:P})}):(0,i.tx)("edu.offboarding_modal.you_can_no_longer_edit_team",{teamName:(0,r.jsx)("span",{className:x.s.fontBold.$,children:P})}),B=()=>{n(b.Ce())},U=()=>{B(),n(g.Dw({}))},H=()=>{B(),n(v.WX({teamId:t,selectedView:s,entryPoint:(0,C.cH)(j.C.EDU_OFFBOARDING_MODAL)}))};return(0,r.jsx)(y.fu,{name:R?"Edu Offboarding Modal New Reverification":"Edu Offboarding Modal",children:(0,r.jsxs)(A.OJ,{title:(0,i.t)("edu.offboarding_modal.your_education_status"),maxWidth:381,onClose:B,children:[(0,r.jsxs)("div",{className:o()(x.s.flex.itemsCenter.p8.$,x.s.if(O>0,x.s.colorBgWarningTertiary,x.s.colorBgDangerTertiary).$),children:[(0,r.jsx)(f.B,{className:x.s.p8.colorIcon.$,svg:S.A}),(0,r.jsx)("p",{className:x.s.fontBold.$,children:O>0?(0,i.tx)("edu.offboarding_modal.your_education_status_expires_in_days",{daysLeft:O}):(0,i.tx)("edu.offboarding_modal.your_education_status_has_expired")})]}),(0,r.jsxs)("div",{className:x.s.px16.pt8.pb12.$,children:[(0,r.jsx)("p",{children:R?L:F}),(0,r.jsxs)("div",{className:x.s.pt16.flex.$,children:[(0,r.jsx)("div",{className:x.s.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:x.s.fontBold.$,children:(0,i.tx)("edu.offboarding_modal.if_you_graduated")}),R?(0,i.tx)("edu.offboarding_modal.upgrade_link_to_continue_using_the_professional_plan",{upgradeLink:(0,r.jsx)(h.Us,{onClick:H,trusted:!0,children:(0,i.tx)("edu.offboarding_modal.upgrade_your_team")})}):D?(0,i.tx)("edu.offboarding_modal.continue_below_to_upgrade_your_team_s_to_the_professional_plan_or",{createProTeamLink:(0,r.jsx)(h.Us,{onClick:U,trusted:!0,children:(0,i.tx)("edu.offboarding_modal.create_a_new_professional_team")})}):(0,i.tx)("edu.offboarding_modal.create_a_new_professional_team_and_start_fresh")]})]}),(0,r.jsxs)("div",{className:x.s.pt16.flex.$,children:[(0,r.jsx)("div",{className:x.s.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:x.s.fontBold.$,children:(0,i.tx)("edu.offboarding_modal.if_you_re_still_in_education")}),(0,i.tx)("edu.offboarding_modal.verify_your_status_to_keep_collaborating_with_your_teams",{verifyStatusLink:(0,r.jsx)(h.Us,{href:"/education/apply",target:"_blank",trusted:!0,children:(0,i.tx)("edu.offboarding_modal.verify_your_status")})})]})]}),(0,r.jsxs)("div",{className:x.s.pt16.flex.$,children:[(0,r.jsx)("div",{className:x.s.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:x.s.fontBold.$,children:(0,i.tx)("edu.offboarding_modal.to_save_your_work")}),D?(0,i.tx)("edu.offboarding_modal.duplicate_or_move_files_to_your_drafts_to_save_them_for_later_and_consider_transferring_ownership_of_your_team_s",{transferringOwnershipLink:(0,r.jsx)(h.Us,{href:"https://help.figma.com/hc/articles/360038512093",target:"_blank",trusted:!0,children:(0,i.tx)("edu.offboarding_modal.transferring_ownership")})}):(0,i.tx)("edu.offboarding_modal.duplicate_or_move_files_to_your_drafts_to_save_them_for_later")]})]}),(0,r.jsx)("div",{className:x.s.flex.flexColumn.itemsEnd.pt32.$,children:R?(0,r.jsx)(h.vd,{onClick:()=>{B(),l.Ay.redirect("/education/apply",u.Ay.isIpadNative?void 0:"_blank")},children:(0,i.tx)("edu.offboarding_modal.verify_your_status")}):D?(0,r.jsx)(h.vd,{onClick:H,children:(0,i.tx)("edu.offboarding_modal.upgrade_to_professional")}):(0,r.jsx)(h.vd,{onClick:U,children:(0,i.tx)("edu.offboarding_modal.create_a_new_professional_team_cta")})})]})]})})}let O=(0,N.Ju)(function(){return(0,r.jsx)(c.u9,{label:"EduOffboardingModal",children:(0,r.jsx)(m.n,{boundaryKey:"edu-offboarding-modal",loadingFallback:null,errorFallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,r.jsx)(R,{})})})},"EDU_OFFBOARDING_MODAL")},925569:(e,t,n)=>{n.d(t,{v:()=>k});var r=n(239976),a=n(20002),i=n(379141),s=n(719749),o=n(493064),l=n(7857),d=n(346942),c=n(259714),u=n(536378),_=n(267745),m=n(130763),p=n(639184),h=n(338630),f=n(550534),x=n(11003),g=n(276571),b=n(610604),v=n(329076),y=n(747079),w=n(717096),j=n(212001),C=n(217169);function T(e){let{teamId:t}=e,n=(0,a.wA)(),l=(0,g._6)(),y=(0,a.d4)(e=>e.folders),T=(0,s.bc)(b.bel,{teamId:t}),k=(0,m.E9)(),E=(0,o.oA)(T.data?.team?.teamFileCounts?.totalFileCount)??0,I=T.data?.team?.teamFileCounts?.designFileCount??0,N=T.data?.team?.teamFileCounts?.whiteboardFileCount??0,A=(0,a.d4)(e=>e.teams[t]),S=e=>{e.preventDefault(),n(u.Lo())},R=I>v.WW&&!k,O=N>v.WW&&!k,D=E>v.WW&&k,P=Object.keys(y).filter(e=>y[e]?.is_view_only).map(e=>y[e]),M=Object.keys(y).filter(e=>y[e]?.is_invite_only).map(e=>y[e]);return(0,r.jsx)(h.fu,{name:"LockedTeamUsageModal",properties:{teamId:t},children:(0,r.jsxs)(w.d_,{className:"locked_team_usage_modal--modal---ltnU",size:"medium",children:[(0,r.jsx)("div",{className:"locked_team_usage_modal--modalBar--Sz2VH",children:(0,r.jsx)(c.B,{className:"locked_team_usage_modal--modalCloseX--LcMaq",svg:C.A,onClick:S})}),(0,r.jsx)("h3",{className:"locked_team_usage_modal--headerText--mRYvk",children:(0,i.tx)("payments_modal.to_meet_the_limits_for_your_starter_plan")}),(0,r.jsxs)("ul",{children:[D&&(0,r.jsx)("li",{children:(0,i.tx)("payments_modal.move_figma_files_to_drafts",{numFigmaFiles:E-v.WW})}),R&&(0,r.jsx)("li",{children:(0,i.tx)("payments_modal.move_figma_files_to_drafts",{numFigmaFiles:I-v.WW})}),O&&(0,r.jsx)("li",{children:(0,i.tx)("payments_modal.move_figjam_files_to_drafts",{numFigJamFiles:N-v.WW})}),(0,r.jsx)(function(){return!A?.projects||A.projects<=v.Wf?null:(0,r.jsx)("li",{children:(0,i.tx)("payments_modal.remove_projects",{numProjects:A.projects-v.Wf})})},{}),P.length>0&&(0,r.jsx)("li",{children:(0,i.tx)("payments_modal.remove_view_only_permissions_from_all_projects")}),M.length>0&&(0,r.jsx)("li",{children:(0,i.tx)("payments_modal.remove_invite_only_permissions_from_all_projects")})]}),(0,r.jsx)("p",{children:(0,i.tx)("payments_modal.if_you_would_rather_keep_the_current_limits",{upgradeToProfessional:(0,r.jsx)(d.Us,{onClick:e=>{e.preventDefault(),n(u.Lo()),n(_.WX({teamId:t,selectedView:l,entryPoint:(0,x.cH)(f.C.LOCKED_TEAM_USAGE_MODAL)}))},trackingProperties:{trackingDescriptor:p.c.UPGRADE_TO_PROFESSIONAL},trusted:!0,children:(0,i.tx)("payments_modal.upgrade_to_professional")})})}),(0,r.jsx)("div",{className:`${j.v0} locked_team_usage_modal--buttonRow--0SFC1`,children:(0,r.jsx)(d.M7,{onClick:S,trackingProperties:{teamId:t},children:(0,i.tx)("payments_modal.okay")})})]})})}let k=(0,y.Ju)(function(e){return(0,r.jsx)(l.u9,{label:"LockedTeamUsageModal",children:(0,r.jsx)(T,{...e})})},"LockedTeamUsageModal")},416489:(e,t,n)=>{n.d(t,{c:()=>r});var r=(e=>(e[e.WARN=0]="WARN",e[e.WARN_SOFT=1]="WARN_SOFT",e[e.ANNOUNCEMENT=2]="ANNOUNCEMENT",e[e.EVENT=3]="EVENT",e))(r||{})},894696:(e,t,n)=>{n.d(t,{Cm:()=>u,MD:()=>c,YO:()=>d});var r=n(105652),a=n(634020),i=n(719749),s=n(595433),o=n(610604);function l(e){let t=e.canEdit,n=!e.isOrphanedOrgProject,r=e.canMove,a=e.isEmpty;return{canEdit:t,canEditDescription:e.canEdit&&!e.isEditingLockedForUser,canShare:n,canMove:r,canSkipDeletionConfirmation:a,...(0,s.VI)(e),canTransferExternally:e.canTransferExternally,canTransferCopy:e.canTransferCopy,canTrash:e.canTrash,canTrashWithReasons:e.canTrashWithReasons,canRestore:e.canRestore,canPermanentlyDelete:e.canPermanentlyDelete,canConnect:e.canConnect,isPlanAdmin:!!e.planPermissions?.isAdmin,isPlanMember:!!e.planPermissions?.isMember,planCanConnectWithReasons:e.planPermissions?.canConnectWithReasons,hasPendingResourceConnectionInvite:!!e.pendingResourceConnectionInvite?.id}}function d(e,t=!0){let n=(0,i.bc)(o.oGE,{projectId:e},{enabled:t});return a.Qw.useTransform(n,e=>e.project?l(e.project):null)}function c(e){return function(e,t=!0){let n=(0,r.useMemo)(()=>e.map(e=>({projectId:e})),[e]),d=(0,i.p)(o.oGE,n,{enabled:t});return{projects:(0,r.useMemo)(()=>a.Qw.all(d.map(e=>e.result)).transform(t=>{let n={};for(let r=0;r<e.length;r++){let a=e[r],i=t[r]?.project;i?n[a]=l(i):n[a]={canEdit:!1,canShare:!1,canMove:!1,canEditDescription:!1,canSkipDeletionConfirmation:!1,...s.DI.disabled(),canTransferExternally:!1,canTransferCopy:!1,canTrash:!1,canTrashWithReasons:{result:!1,publicDenyReasons:[]},canRestore:!1,canPermanentlyDelete:!1,canConnect:!1,isPlanAdmin:!1,isPlanMember:!1,planCanConnectWithReasons:{result:!1,publicDenyReasons:[]},hasPendingResourceConnectionInvite:!1}}return n}),[d,e])}}(r.useMemo(()=>{let t=[];return e.forEach(e=>{let n=e.id;t.push(n)}),t},[e]))}function u(e,t=!0){let n=(0,r.useMemo)(()=>e.map(e=>({projectId:e})),[e]),s=(0,i.p)(o.rH3,n,{enabled:t});return(0,r.useMemo)(()=>a.Qw.all(s.map(e=>e.result)).transform(t=>e.reduce((e,n,r)=>(e[n]=!!t[r]?.project?.canRead,e),{})),[s,e])}},914556:(e,t,n)=>{n.d(t,{GG:()=>_,ci:()=>c,dr:()=>u});var r=n(105652),a=n(634020),i=n(719749),s=n(920675),o=n(610604),l=n(790016),d=n(271470);function c(e){let t=e.canRead,n=e.canAdmin,r=e.canDelete,a=!!(e.roleOnObjectForUser&&e.roleOnObjectForUser.level>=d.e6.VIEWER),i=!!e.currentPrivilegedOrgUser;return{canAdminOrg:!!(e.currentPlanUser&&(0,l.A8)(e.currentPlanUser,s.Xn.ADMIN)),canDelete:r,canView:t,isInTeam:a,isOrgMember:i,canAdmin:n}}function u(e){return function(e,t=!0){let n=(0,r.useMemo)(()=>e.map(e=>({teamId:e})),[e]),s=(0,i.p)(o.y_L,n,{enabled:t});return{teams:(0,r.useMemo)(()=>a.Qw.all(s.map(e=>e.result)).transform(t=>{let n={};for(let r=0;r<e.length;r++){let a=e[r],i=t[r]?.team;i?n[a]=c(i):n[a]={canAdmin:!1,canAdminOrg:!1,canDelete:!1,canView:!1,isInTeam:!1,isOrgMember:!1}}return n}),[s,e])}}(r.useMemo(()=>{let t=[];return e.forEach(e=>{let n=e.id;t.push(n)}),t},[e]))}function _(e,t=!0){let n=(0,r.useMemo)(()=>e.map(e=>({id:e})),[e]),s=(0,i.p)(o.Bl3,n,{enabled:t});return(0,r.useMemo)(()=>a.Qw.all(s.map(e=>e.result)).transform(t=>e.reduce((e,n,r)=>(e[n]=!!t[r]?.team?.hasPermission,e),{})),[s,e])}},46865:(e,t,n)=>{n.d(t,{X:()=>a});var r=n(105652);function a({containerRef:e,targetRef:t,targetKey:n,onIntersectionChange:a,rootMargin:i,threshold:s}){let o=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(window.IntersectionObserver)return o.current=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&a(e)})},{root:e?.current,rootMargin:i,threshold:s}),t.current&&o.current.observe(t.current),()=>{o.current&&o.current.disconnect()}},[n,a,i,s,e,t])}},482144:(e,t,n)=>{n.d(t,{R:()=>r,_:()=>a});let r="https://help.figma.com/hc/articles/360041061214#faqs",a="https://help.figma.com/hc/articles/31722591905559-Figma-Make-FAQs"},49740:(e,t,n)=>{n.d(t,{M:()=>s});var r=n(239976),a=n(581121),i=n(892691);function s(){return(0,r.jsx)(i.yi,{helpUrlVariant:a.JT.CODE_CHAT})}},393966:(e,t,n)=>{n.d(t,{aX:()=>N,ev:()=>k,jl:()=>C,yd:()=>T});var r=n(239976),a=n(105652),i=n(20002),s=n(379141),o=n(445019);n(323264);var l=n(393463),d=n(75962),c=(n(714778),n(210823)),u=n(450207),_=n(136393),m=n(639184),p=n(859100),h=n(634224),f=n(215496),x=n(322691),g=n(870141),b=n(271625),v=n(696002),y=n(49740);let w="acknowledged_figmake_ai_tos_onboarding",j=(0,h.r1)(w);function C(){return(0,o.md)(j)}function T(e){let t=(0,i.wA)(),n=a.useCallback(e=>{t(_.b({[w]:e}))},[t]),r=a.useCallback(()=>{n(!0),e()},[n,e]),s=a.useCallback(()=>{t(u.sf({view:"recentsAndSharing"}))},[t]);return{onAcknowledge:r,onClose:a.useCallback(()=>{n(!1),s()},[n,s])}}function k(){let e=C(),{figmakeInFullscreen:t}=(0,v.Ve)(),n=(0,g.l)(),{show:i,isShowing:o,complete:l}=(0,p.e)({overlay:b.qmK,priority:f.N.HIGH_PRIORITY_MODAL-1},[e]),{onAcknowledge:d,onClose:u}=T(l);return a.useEffect(()=>{t||n||i({canShow:e=>!e&&!1})},[t,n,i,!1]),(0,r.jsx)(x._l,{description:(0,s.tx)("figmake.legal_onboarding_modal.body"),disclaimerFooter:(0,r.jsx)(N,{}),isShowing:o,media:(0,r.jsx)(E,{}),onClose:u,preventUserClose:!0,primaryCta:{type:"button",label:(0,r.jsx)(c.E,{fontSize:11,children:(0,s.tx)("figmake.legal_onboarding_modal.try_figmake_button")}),onClick:d,ctaTrackingDescriptor:m.c.NEXT},secondaryCta:{type:"button",label:(0,s.tx)("figmake.legal_onboarding_modal.back_to_files"),onClick:u,ctaTrackingDescriptor:m.c.CLOSE},title:(0,r.jsx)(I,{}),trackingContextName:"Rev Onboarding > Terms of Service"})}function E(){return(0,r.jsx)(d.oW,{src:(0,l.ck)("d158cef30c1ce26cce260c1051ecdf35dd527c94"),alt:"Figma Rev Terms of Service",width:332})}function I(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"xeq5yr9 xod5an3",children:(0,r.jsx)(y.M,{})}),(0,s.tx)("figmake.legal_onboarding_modal.title")]})}function N(){return null}},743212:(e,t,n)=>{n.d(t,{$:()=>I});var r=n(239976),a=n(105652),i=n(20002),s=n(379141),o=n(270450),l=n(445019);n(323264);var d=n(393463),c=n(29161),u=n(75962),_=n(595433),m=n(210823),p=n(124720),h=n(639184),f=n(859100),x=n(574220),g=n(920675),b=n(790016),v=n(702417),y=n(215496),w=n(322691),j=n(271625),C=n(49740),T=n(393966);let k={button:{kaIpWk:"x1sxf85j",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"xu5wzci",kMwMTN:"x1tk3asg",k1xSpc:"x78zum5",kAzted:"x21xpn4",k8WAf4:"xla58y3",kLKAdn:null,kGO01o:null,kg3NbH:"xaope02",kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,kGNEyG:"x6s0dn4",k9WMMc:"x2b8uid",kMv6JI:"xclx6tv",kGuDYH:"x17akokd",kKX8nH:"x1j61x8r",k63SB2:"x1qxcl5b",kLWn49:"xno9bf3",kb6lSQ:"xqp8s7e",$$css:!0}};function E(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"xeq5yr9 xod5an3",children:(0,r.jsx)(C.M,{})}),(0,s.tx)("figmake.marketing_modal.body")]})}function I(){let e=(0,T.jl)(),t=(0,o.kc)().marketing_promo_modal_figmake_launch,n=(0,i.d4)(e=>e.user?.drafts_folder_id),{data:d,status:u}=(0,_.nt)(n),C=!!d?.canCreateFigmakeFileWithReasons.result,I=(0,b.X$)("FigmakePromoModalOverlay"),A=I.unwrapOr(null)?.tier||null,S=A&&([g.Ag.PRO,g.Ag.ORG,g.Ag.ENTERPRISE].includes(A)||A===g.Ag.STARTER&&(0,o.kc)().bake_starter_limit),R=(0,l.md)(x.mp),O=(0,c.C8)(),D=(0,p.$)({isDraftsFolder:!0,editorType:g._Y.FIGMAKE,newFileFrom:v.f6.FIGMAKE_PROMO_MODAL,contextClicked:"figmake_marketing_modal"}),{show:P,isShowing:M,complete:L}=(0,f.e)({overlay:j.CBZ,priority:y.N.DEFAULT_MODAL},[e,R]),{onAcknowledge:F}=(0,T.yd)(L);return a.useEffect(()=>{!0===t&&C&&S&&P({canShow:(e,t)=>(A!==g.Ag.STARTER||!!function(e){let t=Date.now();return e.getTime()<=t-864e5}(t))&&!O&&!e})},[P,t,C,S,A,O]),(0,r.jsx)(w._l,{closeButtonColor:"dark",description:(0,s.tx)("figmake.marketing_modal.subtitle"),disclaimerFooter:(0,r.jsx)(T.aX,{}),isShowing:M,media:(0,r.jsx)(N,{}),onClose:L,primaryCta:{type:"button",label:(0,r.jsx)(m.E,{children:(0,s.tx)("figmake.marketing_modal.button")}),onClick:()=>{F(),D()},ctaTrackingDescriptor:h.c.OPEN_FIGMAKE,variantOverride:"custom",customVariantStyles:k.button},title:(0,r.jsx)(E,{}),trackingContextName:"Figmake Promo Modal",trackingProperties:{planTier:A}})}function N(){return(0,r.jsx)("div",{className:"x165vjil x14ggrba",children:(0,r.jsx)(u.oW,{src:(0,d.ck)("0b908885241f3422b8940078d7f3be979a8fece0"),alt:"Figma Make promotional image",width:332})})}},52978:(e,t,n)=>{n.d(t,{V:()=>u});var r=n(239976),a=n(105652),i=n(379141),s=n(174773),o=n(964731),l=n(236410),d=n(617654),c=n(933384);function u(e){let t=(0,o.BK)(e.dropdownId),n=a.useRef(null),u=a.useRef(null);if(a.useEffect(()=>{t.showing&&u.current&&u.current.focus()},[t.showing]),e.hideTarget&&!t.showing)return null;let _=e.children;return _||(_=(0,r.jsx)(c.YW,{style:t.showing?{backgroundColor:"var(--color-bg-hover, var(--fallback-color-bg-hover))"}:void 0,selected:t.showing,"data-tooltip-type":l.Ib.TEXT,"data-tooltip":(0,i.t)("fig_feed.more_actions"),onClick:e=>{e.stopPropagation(),t.toggle()},children:(0,r.jsx)(s.In,{icon:"dots-32"})})),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{ref:n,onMouseDown:e=>e.stopPropagation(),children:_}),n.current&&t.showing&&(0,r.jsx)(d.Jz,{closeDropdown:t.hide,displayAboveTarget:e.displayAboveTarget,displayOverTarget:e.displayOverTarget,hideDropdown:t.hide,lean:e.lean,maxHeight:e.maxHeight,maxWidth:e.maxWidth,minWidth:e.minWidth,options:e.options,propagateCloseClick:!0,showPoint:!1,targetRect:n.current.getBoundingClientRect(),textAlign:e.textAlign})]})}},519847:(e,t,n)=>{n.d(t,{x:()=>es});var r=n(239976),a=n(105652),i=n(836848),s=n(379141),o=n(224542),l=n.n(o),d=n(899710),c=n(687631),u=n(763665),_=n(904414),m=n(699165),p=n(259714),h=n(26932),f=n(415315),x=n(179720),g=n(236410),b=n(870655),v=n(996019);function y(){return(0,r.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",children:[(0,r.jsx)("path",{d:"M1 9C1 4.58172 4.58172 1 9 1C13.4183 1 17 4.58172 17 9C17 13.4183 13.4183 17 9 17C4.58172 17 1 13.4183 1 9Z",fill:"var(--color-icon)"}),(0,r.jsx)("path",{d:"M9 16.25C4.99594 16.25 1.75 13.0041 1.75 9H0.25C0.25 13.8325 4.16751 17.75 9 17.75V16.25ZM16.25 9C16.25 13.0041 13.0041 16.25 9 16.25V17.75C13.8325 17.75 17.75 13.8325 17.75 9H16.25ZM9 1.75C13.0041 1.75 16.25 4.99594 16.25 9H17.75C17.75 4.16751 13.8325 0.25 9 0.25V1.75ZM9 0.25C4.16751 0.25 0.25 4.16751 0.25 9H1.75C1.75 4.99594 4.99594 1.75 9 1.75V0.25Z",fill:"var(--color-icon-oninverse)"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.1554 8.44833L11.6037 6L12.3108 6.7071L9.86251 9.15544L12.3108 11.6038L11.6037 12.3109L9.15541 9.86255L6.70711 12.3109L6 11.6038L8.4483 9.15544L6 6.70715L6.70711 6.00004L9.1554 8.44833Z",fill:"var(--color-icon-oninverse)"})]})}var w=n(627254),j=n(971340),C=n(819475);function T(e){let[t,n]=a.useState(),[i,s]=a.useState(!0);return a.useEffect(()=>{let t=(0,C.lD)({hideUI:!0,disableDefaultKeyboardNav:!1,showProtoSidebar:!1,scalingInfo:{viewportScalingMode:"contain"},showHotspots:!0,inlinePreview:!1,startingPointNodeId:e.item.startingNodeId,nodeId:e.item.startingNodeId}),r=(0,b.OQ)(e.item,t);n(`${location.origin}/embed?embed_host=feed&url=${encodeURIComponent(r)}`)},[e.item]),(0,r.jsxs)("div",{style:{width:"100%",height:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"black"},children:[i&&(0,r.jsx)(j.kt,{}),t?(0,r.jsx)("iframe",{title:"Prototype Viewer",style:i?{width:0,height:0}:{width:"100%",height:"100%"},src:t,onLoad:()=>s(!1)}):null]})}var k=n(865702),E=n(445019),I=n(943866),N=n(624789),A=n(871239),S=n(478413);let R=e=>e.preventDefault(),O=(0,E.eU)(null),D=(0,E.eU)(new Map),P=(0,E.eU)(null,(e,t,n)=>{t(D,new Map(e(D).set(n.id,n.snapshot)))}),M=(0,E.eU)(new Set),L=(0,E.eU)(e=>{let t=e(M);return 0===t.size?null:Array.from(t).pop()??null}),F=(0,E.eU)(null);function B(e){let t=a.useRef(null),[n,i,s]=(0,u.M)(),o=a.useRef(null),d=a.useRef(!1),c=a.useRef(!1),_=a.useRef(!1),[m,h]=(0,E.fp)(O),[x,g]=a.useState(),v=(0,E.fp)(D)[0],y=(0,E.fp)(P)[1],[w,j]=(0,E.fp)(M),C=(0,E.md)(L),[T,B]=(0,E.fp)(F),H=m?.id===e.id,z=e.source===b.Zp.TILE&&!e.isThumbnail,V=z&&(null==m||m.isPreviewing),W=!e.isThumbnail&&i,G=z||e.isThumbnail,q=c.current,{feedPostUuid:K}=e,$=f.cU.includes(e.videoContent.mediaType)&&!!K,Y=a.useMemo(()=>$?`/api/feed_posts/${K}/videos/${e.videoContent.videoFileUuid}/manifest`:e.videoContent.path,[$,K,e.videoContent]),J=(0,I.ZC)(m),X=(0,I.ZC)(e.videoContent.path),Q=a.useCallback((t,n=!1)=>{e.isThumbnail||y({id:e.id,snapshot:{currentTime:n?0:t.currentTime,ended:t.ended,paused:t.paused}})},[y,e.id,e.isThumbnail]),Z=a.useCallback(()=>{c.current=!0;let e=t.current;e&&(e.muted=!0,e.play().catch(k.lQ))},[]),ee=a.useCallback(()=>{let e=t.current;e&&e.pause()},[]),et=a.useCallback(()=>{h({id:e.id,ref:t,feedPostUuid:e.feedPostUuid,src:e.videoContent.path,source:e.source,isPreviewing:c.current})},[h,e.id,e.feedPostUuid,e.videoContent.path,e.source,c]),en=a.useCallback(()=>{if(!m)return;let n=t.current;if(n){if(!H){let t=m.feedPostUuid===e.feedPostUuid&&m.src===e.videoContent.path;if(e.source===b.Zp.DETAIL_MODAL&&m.source===b.Zp.TILE&&t){if(n){if(m.ref?.current){let e=m.ref.current;n.currentTime=e.ended?0:e.currentTime,e.paused?et():n.play()}else{let e=U(m.feedPostUuid,m.src,b.Zp.TILE),t=v.get(e);t&&(n.currentTime=t.ended?0:t.currentTime),et()}}}else if(e.source===b.Zp.TILE&&m.source===b.Zp.DETAIL_MODAL&&t){if(n&&!m.ref?.current){let e=U(m.feedPostUuid,m.src,b.Zp.DETAIL_MODAL),t=v.get(e);t&&(n.currentTime=t.currentTime||0),et()}else n.pause()}else if(n.paused){let t=v.get(e.id);t&&(n.currentTime=t.ended?0:t.currentTime)}else n.pause()}if(H&&v.has(e.id)&&!m.ref?.current){let n=v.get(e.id);if(t.current){if(t.current.currentTime=n.ended?0:n.currentTime,n.paused)return;t.current.play()}}}},[m,e.id,e.source,v,et,e.feedPostUuid,e.videoContent.path,H]),er=a.useCallback(()=>{let n=t.current;n&&e.source===b.Zp.DETAIL_MODAL&&!e.isThumbnail&&n.play().catch(()=>{n.muted=!0,n.play()})},[e.isThumbnail,e.source]),ea=a.useCallback(t=>{let n=w.has(e.id);V&&t.isIntersecting&&!c.current&&!n?(Z(),null!=e.feedPostIdx&&(null===T||T>e.feedPostIdx)&&B(t=>null!=e.feedPostIdx&&(null===t||t>e.feedPostIdx)?e.feedPostIdx:t),j(t=>{let n=new Set(t);return n.add(e.id),n})):!t.isIntersecting&&n&&(ee(),j(t=>{let n=new Set(t);return n.delete(e.id),n}),H&&h(null))},[Z,ee,e.id,e.feedPostIdx,j,V,w,H,h,T,B]);(0,A.g)(s,ea,{threshold:.9}),a.useEffect(()=>{V&&C===e.id&&Z()},[C,Z,e.id,V]),a.useEffect(()=>{let n=t.current;if(!n)return;let r=()=>{et(),Q(n)},a=()=>{if(c.current)c.current=!1,n.currentTime=0;else{let e=t.current;e&&Q(e)}},i=()=>{let e=t.current;if(e){let t=e.duration-e.currentTime;t!==x&&g(t)}},s=()=>{i()},o=()=>{!_.current&&(_.current=!0,G&&t.current&&(t.current.muted=!0),V&&T===e.feedPostIdx&&Z())};return n.addEventListener("play",r),n.addEventListener("pause",a),n.addEventListener("timeupdate",i),n.addEventListener("loadedmetadata",s),n.addEventListener("canplay",o),()=>{n.removeEventListener("play",r),n.removeEventListener("pause",a),n.removeEventListener("timeupdate",i),n.removeEventListener("loadedmetadata",s),n.removeEventListener("canplay",o)}},[et,Q,Z,ee,c,x,G,V,T,e.id,e.feedPostIdx]),a.useEffect(()=>{let n=t.current;if(n)return()=>{Q(n,e.source===b.Zp.TILE)}},[Q,e.source]),a.useEffect(()=>{d.current||(d.current=!0,async function(){window.VIDEOJS_NO_DYNAMIC_STYLE=!0;let n=await (0,N.Fe)();if(o.current)return;let r=t.current;e.isThumbnail?r.style.objectFit="cover":(r.style.maxHeight="100%",r.style.maxWidth="100%"),r.style.height="100%",r.style.width="100%",r.style.display="flex",r.style.justifyContent="center",r.style.alignItems="center",o.current=(0,N.o$)(n,r,{muted:!1,controls:!1,controlBar:!1,bigPlayButton:!1,loadingSpinner:!1,errorDisplay:!1,textTrackSettings:!1,textTrackDisplay:!1,nativeTextTracks:!1},()=>{e.isThumbnail||e.source===b.Zp.TILE||r.setAttribute("controls","true"),e.source===b.Zp.TILE&&r.classList.add("feed_video_player--hideFullscreenControl--aIYKN"),(0,N.uz)(Y,$,o.current).then(()=>{en()})})}())},[e.isThumbnail,e.videoContent,e.source,$,Y,en]),a.useEffect(()=>{o.current&&X!==e.videoContent.path&&(0,N.uz)(Y,$,o.current).then(()=>{en(),et()})},[en,e.videoContent,$,Y,X,et]),a.useEffect(()=>{if(o.current&&J&&m){if("detail"===m.source&&!m.ref?.current){en();return}J.id!==m.id&&en()}},[en,J,m]);let ei=a.useCallback(()=>{if(e.isThumbnail||e.source!==b.Zp.TILE||!t.current||void 0===x||isNaN(x))return null;let n=new Date(1e3*x);return!n||isNaN(n.getTime())?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"feed_video_player--mediaBadgeV2--BZ5Z- feed_post_content--mediaBadgeV2--281Pw feed_tile--feedPostHoverContainer--JmxYf",children:n.toLocaleString("en",{minute:"2-digit",second:"2-digit"})}),t.current.muted&&(0,r.jsx)(p.B,{svg:S.A,className:"feed_video_player--mutedBadge--QUZ5M"})]})},[e.isThumbnail,e.source,x]);return(0,r.jsxs)("div",{ref:n,className:l()("feed_video_player--videoContainer--8n8U0",e.isThumbnail&&"feed_video_player--videoContainerThumbnail--7xfeX"),children:[(0,r.jsx)("video",{ref:t,style:{backgroundColor:"#000000"},onCanPlay:er,onClick:e.source!==b.Zp.DETAIL_MODAL?R:void 0,controls:W,loop:q}),(!i||!W)&&ei()]})}function U(e,t,n){return[e,t,n].join(":")}let H="feed_post_content--mediaBadgeV2--281Pw feed_tile--feedPostHoverContainer--JmxYf",z="feed_post_content--contentThumbnailsSectionInnerV2--E8D35",V="feed_post_content--contentThumbnailsSectionInnerV2_vertical--k6SuI",W="feed_post_content--contentThumbnailV2--2dgu1",G="feed_post_content--smallThumbnail--yRgRc",q="feed_post_content--wideThumbnail--VExtV";var K=n(25206),$=n(90501);function Y(e){let t;switch(e.type){case x.cM.NODE:t=e.nodeId;break;case x.cM.IMAGE:t=e.url;break;case x.cM.VIDEO:t=e.path;break;case x.cM.PROTOTYPE:t=e.startingNodeId;break;default:throw Error("unexpected content item type")}return`${e.type}:${t}`}function J(e){let[t,n]=a.useState(!e.isThumbnail&&!e.usesPreviewImage);if(a.useEffect(()=>{if(!e.imgUrl)return;let t=new Image;t.src=e.imgUrl,t.onload=()=>{let e=t.width/t.height;n(t=>t&&Math.abs(e-w.dp)>.01)}},[e.imgUrl]),null===e.imgUrl)return(0,r.jsx)("div",{children:(0,s.t)("fig_feed.could_not_load_preview_image")});let i=e.isThumbnail&&e.thumbnailUrl?e.thumbnailUrl:e.imgUrl;return(0,r.jsxs)(r.Fragment,{children:[e.showPreviewFacade&&(0,r.jsx)("div",{className:"feed_post_content--previewFacadeOverlay--v4C-T feed_post_content--thumbnailOverlay--UPYJD",children:(0,r.jsx)(_.pz,{onClick:e.onUpdatePreviewImage,children:(0,s.t)("fig_feed.update_preview_image")})}),(0,r.jsx)("img",{src:i,alt:(0,s.t)("fig_feed.thumbnail_alt_text"),draggable:!1,className:l()("feed_post_content--itemImage--eGMXu",e.isThumbnail&&"feed_post_content--itemImageThumbnail--2R3Zp",t&&"feed_post_content--itemImagePadded--4rTeV")}),e.isThumbnail?null:"image/gif"===e.mediaType?(0,r.jsx)("div",{className:H,children:(0,s.t)("fig_feed.gif")}):null]})}function X(e){let t=!!e.editPreviewOptions;return(0,r.jsx)("div",{className:"feed_post_content--zoomPanContainer--CpglZ",children:e.contentItems.map((n,a)=>{let i;return e.editPreviewOptions?.applyToAllCallback&&(i=t=>e.editPreviewOptions.applyToAllCallback(t,Y(n))),(0,r.jsx)("div",{className:l()({"feed_post_content--zoomPan--ndxMm":!0,"feed_post_content--zoomPanSelected--euPfq":a===e.selectedIdx}),children:(0,r.jsx)(w.DH,{applyToAllCallback:i,disableReset:!!e.editPreviewOptions?.disableReset,enableSnapToGuidelines:t,enableZoomControls:e.source===b.Zp.DETAIL_MODAL,enableZoomKeyControls:a===e.selectedIdx&&(e.source===b.Zp.DETAIL_MODAL||t),imageScale:t?1:void 0,imageSrc:n.image_url,initialSnapshotState:e.editPreviewOptions?.initialSnapshotStates?.[Y(n)],pageBackgroundColor:e.editPreviewOptions?.pageBackgroundColor||n.backgroundColor&&(0,c.H0)(n.backgroundColor)||e.pageBackgroundColor&&(0,c.H0)(e.pageBackgroundColor)||void 0,resetSnapshotState:e.editPreviewOptions?.selectedContentResetSnapshotState,setContentPreview:a===e.selectedIdx?e.editPreviewOptions?.setContentPreview:void 0,shouldWheelPan:!0,shouldZoomToStart:!1,showEditPreviewControls:t},`details::${n.image_url}`)},a)})})}function Q(e){return(0,r.jsx)(T,{item:e.prototypeContent})}function Z(e){let t=!!e.editPreviewOptions;return(0,r.jsx)(w.DH,{applyToAllCallback:e.editPreviewOptions?.applyToAllCallback?t=>e.editPreviewOptions.applyToAllCallback(t,Y(e.imageContent)):void 0,disableReset:!!e.editPreviewOptions?.disableReset,enableSnapToGuidelines:t,enableZoomControls:e.source===b.Zp.DETAIL_MODAL,enableZoomKeyControls:e.source===b.Zp.DETAIL_MODAL||t,imageScale:1,imageSrc:e.imageContent.url,initialSnapshotState:e.editPreviewOptions?.initialSnapshotStates?.[Y(e.imageContent)],pageBackgroundColor:e.editPreviewOptions?.pageBackgroundColor||e.imageContent.backgroundColor&&(0,c.H0)(e.imageContent.backgroundColor)||e.pageBackgroundColor&&(0,c.H0)(e.pageBackgroundColor)||void 0,resetSnapshotState:e.editPreviewOptions?.selectedContentResetSnapshotState,setContentPreview:e.editPreviewOptions?.setContentPreview,shouldWheelPan:!0,shouldZoomToStart:!1,showEditPreviewControls:t},`details::${e.imageContent.url}`)}function ee(e){let t=U(e.feedPostUuid,e.videoContent.path,e.source);return(0,r.jsx)(B,{id:t,videoContent:e.videoContent,isThumbnail:e.isThumbnail,feedPostUuid:e.feedPostUuid,source:e.source})}function et(e){return e.isThumbnail?(0,r.jsx)("div",{children:(0,s.tx)("fig_feed.video")}):(0,r.jsx)("div",{children:(0,s.tx)("fig_feed.transcode_after_submit")})}function en(e){if(f.cU.includes(e.videoContent.mediaType)&&""===e.videoContent.videoFileUuid)return(0,r.jsx)(et,{isThumbnail:e.isThumbnail});if(e.isThumbnail&&e.videoContent.coverImage)return(0,r.jsx)(J,{imgUrl:e.videoContent.coverImage,isThumbnail:!0});let t=U(e.feedPostUuid,e.videoContent.path,e.source);return(0,r.jsx)(B,{id:t,videoContent:e.videoContent,isThumbnail:e.isThumbnail,feedPostUuid:e.feedPostUuid,feedPostIdx:e.feedPostIdx,source:e.source})}function er(e){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.x,{isLoading:!e.content.imageUrl,children:()=>(0,r.jsx)(J,{imgUrl:e.content.imageUrl,isThumbnail:e.isThumbnail})}),!e.isThumbnail&&(0,r.jsx)("div",{className:H,children:(0,s.tx)("fig_feed.prototype_badge")})]})}function ea(e){let t=e.contentItems[e.selectedIdx];switch(t.type){case x.cM.NODE:return(0,r.jsx)(X,{selectedIdx:e.selectedIdx,contentItems:e.contentItems,editPreviewOptions:e.editPreviewOptions,pageBackgroundColor:e.pageBackgroundColor,source:e.source});case x.cM.IMAGE:return(0,r.jsx)(Z,{imageContent:t,source:e.source,editPreviewOptions:e.editPreviewOptions,pageBackgroundColor:e.pageBackgroundColor});case x.cM.VIDEO:return(0,r.jsx)(ee,{videoContent:t,isThumbnail:!1,feedPostUuid:e.feedPostUuid,source:e.source});case x.cM.PROTOTYPE:return(0,r.jsx)(Q,{prototypeContent:t});default:(0,i.xb)(t)}}function ei(e){switch(e.content.type){case x.cM.NODE:let t=e.content,n=t.mediumImageUrl??t.preview_image_url??t.image_url,a=t.preview_image_url??t.image_url;return(0,r.jsx)(m.x,{isLoading:!!t.isLoading,children:()=>(0,r.jsx)(J,{imgUrl:e.isEditing?a:n,usesPreviewImage:!!t.preview_image_url,isThumbnail:e.isThumbnail,thumbnailUrl:e.isEditing?a:t.thumbnailUrl,showPreviewFacade:e.showPreviewFacade,onUpdatePreviewImage:e.onUpdatePreviewImage})});case x.cM.IMAGE:let s=e.content.mediumImageUrl??e.content.preview_image_url??e.content.url,o=e.content.preview_image_url??e.content.url;return(0,r.jsx)(J,{imgUrl:e.isEditing?o:s,isThumbnail:e.isThumbnail,usesPreviewImage:!!e.content.preview_image_url,mediaType:e.content.mediaType,thumbnailUrl:e.isEditing?o:e.content.thumbnailUrl,showPreviewFacade:e.showPreviewFacade,onUpdatePreviewImage:e.onUpdatePreviewImage});case x.cM.VIDEO:return(0,r.jsx)(en,{videoContent:e.content,isThumbnail:e.isThumbnail,feedPostUuid:e.feedPostUuid,feedPostIdx:e.feedPostIdx,source:e.source});case x.cM.PROTOTYPE:return(0,r.jsx)(er,{content:e.content,isThumbnail:e.isThumbnail});default:(0,i.xb)(e.content)}}function es(e){let t=!!e.editPreviewOptions,n=e.contentItems.length>1||t,{selectedContentIdx:i,pageBackgroundColor:o,setSelectedContentIdx:d,contentItems:_,onContentHover:h}=e,[f,b]=(0,u.M)();a.useEffect(()=>{h?.(b)},[b,h]);let y=a.useMemo(()=>_[i],[_,i]),w=a.useMemo(()=>n?(0,r.jsx)(eo,{direction:"horizontal",contentItems:_,selectedIdx:i,setSelectedIdx:d,pageBackgroundColor:e.pageBackgroundColor,feedPostUuid:e.feedPostUuid,canAddContent:!1}):null,[n,_,i,d,e.pageBackgroundColor,e.feedPostUuid]);e.editPreviewOptions&&y&&"node"===y.type&&y.backgroundColor&&(e.editPreviewOptions.pageBackgroundColor=(0,c.H0)(y.backgroundColor)??void 0);let{openEditPreviewModalCallback:j,deleteSelectedItemCallback:C}=e,[T,k]=a.useState(!1),E=a.useMemo(()=>{if(!j&&!C||!T||!y)return null;let e=n?"feed_post_content--editPreviewOverlayWithThumbnails--qtBqt feed_post_content--editPreviewOverlay--0G7ER":"feed_post_content--editPreviewOverlay--0G7ER";return(0,r.jsxs)("div",{className:e,children:[y&&(0,x.aT)(y)&&j&&(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:j,className:"feed_post_content--editPreviewButton--x5pLG",children:(0,s.tx)("fig_feed.edit_preview")})}),C&&(0,r.jsx)(p.B,{svg:$.A,className:"feed_post_content--deleteContentItemIcon--EEv9X",onClick:C,autosize:!0,"data-tooltip-type":g.Ib.TEXT,"data-tooltip":(0,s.t)("fig_feed.delete"),dataTestId:"delete-content-item"})]})},[T,y,n,j,C]);return(0,r.jsxs)("div",{className:l()("feed_post_content--contentSectionContainer--XLJ4p",t&&"feed_post_content--showOverflow--q8AIY"),children:[(0,r.jsxs)("div",{ref:f,className:n&&!t?"feed_post_content--selectedContentWithThumbnails--nB6E1 feed_post_content--selectedContent--D-AV-":"feed_post_content--selectedContent--D-AV-",style:{backgroundColor:(0,v.m)(y,e.pageBackgroundColor)},onMouseDown:e.onSelectedTileMouseDown,role:"button",tabIndex:0,onPointerEnter:()=>k(!0),onPointerLeave:()=>k(!1),"data-testid":"feed-post-content-section",children:[E,(0,r.jsx)(m.x,{isLoading:!y,children:()=>e.staticContent?(0,r.jsx)(ei,{content:y,isThumbnail:!1,feedPostUuid:e.feedPostUuid,feedPostIdx:e.feedPostIdx,source:e.source}):(0,r.jsx)(ea,{contentItems:_.filter(e=>null!==e),selectedIdx:i,editPreviewOptions:e.editPreviewOptions,feedPostUuid:e.feedPostUuid,pageBackgroundColor:o,source:e.source})})]}),w]})}function eo(e){let t=a.useRef(null);a.useEffect(()=>{let n=t.current,r=t.current?.children[e.selectedIdx];if(!n||!r)return;let a=n?.getBoundingClientRect();a?.top>=0&&a?.left>=0&&a?.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&a?.right<=(window.innerWidth||document.documentElement.clientWidth)&&r.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},[e.direction,e.selectedIdx]);let n=function(){let e=(0,E.fp)(O)[0];return a.useCallback(t=>{e&&e.ref?.current&&(t&&t!==e?.feedPostUuid||e.ref?.current.pause())},[e])}(),{scrollToItem:i,onReorderCallback:s,setSelectedIdx:o,deleteItem:c}=e,[u,_]=a.useState(null),m=e.thumbnailType||"wide",f=a.useCallback((t,a,s)=>{let d=l()(W,s&&"feed_post_content--selectedThumbnail--9kE4q","small"===m&&G,"wide"===m&&q);return(0,r.jsxs)("div",{className:d,onMouseDown:()=>{n(e.feedPostUuid),i?.(a),o?.(a)},onPointerEnter:()=>_(a),onPointerLeave:()=>_(null),role:"button",tabIndex:0,style:{backgroundColor:(0,v.m)(t,e.pageBackgroundColor)},"data-testid":`content-item-${a}`,children:[(0,r.jsx)(ei,{content:t,isThumbnail:!0,isEditing:e.isEditing}),c&&a===u&&(0,r.jsx)("div",{className:"feed_post_content--thumbnailOverlay--UPYJD",children:(0,r.jsx)("div",{className:"feed_post_content--deleteIcon--F7aUj",onClick:e=>{e.stopPropagation(),c(a)},role:"button",tabIndex:0,children:(0,r.jsx)(y,{})})})]})},[e.pageBackgroundColor,e.feedPostUuid,m,e.isEditing,u,n,i,o,c]),x=t=>{if("horizontal"!==e.direction)return null;let n=e.selectedIdx===("left"===t?0:e.contentItems.length-1);return(0,r.jsx)(h.$,{onMouseDown:()=>{let n=(e.selectedIdx+("left"===t?-1:1)+e.contentItems.length)%e.contentItems.length;o?.(n)},icon:"left"===t?"chevron-left-32":"chevron-right-32",variant:"text",disabled:n})},g=l()("feed_post_content--contentThumbnailsSectionV2--bRRRl","horizontal"===e.direction?"feed_post_content--contentThumbnailsSectionV2_horizontal--pR9DQ":"feed_post_content--contentThumbnailsSectionV2_vertical--PfV-p");if(s)return(0,r.jsx)("div",{className:g,children:(0,r.jsxs)(d._.Group,{axis:"vertical"===e.direction?"y":"x",onReorder:s,values:e.contentItems,className:l()(z,"horizontal"===e.direction?"feed_post_content--contentThumbnailsSectionInnerV2_horizontalReorder--a7UeM":V),role:"button",tabIndex:0,ref:t,children:[e.contentItems.map((t,n)=>(0,r.jsx)(d._.Item,{value:t,id:Y(t),translate:"no",children:f(t,n,!(e.canAddContent&&e.isAddingContent)&&n===e.selectedIdx)},Y(t))),e.canAddContent&&(0,r.jsx)("div",{className:l()(W,"small"===e.thumbnailType&&G,"wide"===e.thumbnailType&&q,e.isAddingContent?"feed_post_content--addingActive--UoHEG":"feed_post_content--plusIcon--35EEk"),onMouseDown:e.setAddingActive,role:"button",tabIndex:0,children:(0,r.jsx)(p.B,{svg:K.A})})]})});{let n=l()(z,"horizontal"===e.direction?"feed_post_content--contentThumbnailsSectionInnerV2_horizontal--PU6Z2":V);return(0,r.jsxs)("div",{className:g,children:[x("left"),(0,r.jsx)("div",{className:n,ref:t,children:e.contentItems.map((t,n)=>(0,r.jsx)(a.Fragment,{children:f(t,n,n===e.selectedIdx)},n))}),x("right")]})}}},27005:(e,t,n)=>{n.d(t,{K:()=>ey});var r=n(239976),a=n(105652),i=n(20002),s=n(836848),o=n(379141),l=n(522568),d=n(141288),c=n(943866),u=n(184743),_=n(970508),m=n(719749),p=n(337812),h=n(980438),f=n(933870),x=n(259714),g=n(543595),b=n(371971),v=n(363337),y=n(450207),w=n(536378),j=n(582412),C=n(304315),T=n(118889),k=n(393822),E=n(17563),I=n(155862),N=n(816505),A=n(276571),S=n(605985),R=n(610604),O=n(750514),D=n(179720),P=n(236410),M=n(267224),L=n(747079),F=n(330116),B=n(424976);let U="feed_post_detail_modal_opened",H=(0,B.Op)({initial:"await_open_feed_post_detail_modal",states:[{id:"await_open_feed_post_detail_modal",transitions:[(0,B.nr)(U,"complete")]},{id:"complete",terminal:!0}]}),z=(0,B.rn)("open_feed_post_detail_modal",H);var V=n(490096),W=n(859100),G=n(536746),q=n(748181),K=n(215496),$=n(993976),Y=n(585574),J=n(346942),X=n(338630),Q=n(179834),Z=n(802754),ee=n(988799);function et(e){let t=a.useRef(null),[n,i]=a.useState({width:0,height:0});a.useLayoutEffect(()=>{if(t.current){let e=t.current.getBoundingClientRect();i({width:e.width,height:e.height})}},[i]);let s=e.width,o=e.backgroundColor,l="light"===e.background,d=(0,Z.xT)(e.targetKey)||document.documentElement;if(!d)return null;let c=(0,r.jsx)("div",{children:e.ctaText&&e.onClickPrimaryCta&&(0,r.jsxs)("div",{className:ee.ZA,children:[e.bottomLeftText&&(0,r.jsx)("b",{children:e.bottomLeftText}),(0,r.jsxs)("div",{className:ee.OQ,children:[e.secondaryCtaText&&e.onClickSecondaryCta&&(0,r.jsx)(X.$z,{className:l?ee.jS:ee.dC,onClick:e.onClickSecondaryCta,"aria-hidden":!0,children:e.secondaryCtaText}),e.ctaText&&e.onClickPrimaryCta&&(0,r.jsx)(J.vd,{className:l?ee.TI:ee.ZO,onClick:e.onClickPrimaryCta,trackingProperties:e.buttonContext?{buttonContext:e.buttonContext}:void 0,children:e.ctaText})]})]})}),u=function(e,t,n,r,a){let i=a??0;switch(r){case Q.LN.BOTTOM_LEFT:return{top:e.bottom-(n+i),left:e.left+i};case Q.LN.BOTTOM_RIGHT:return{top:e.bottom-(n+i),left:e.right-(t+i)};case Q.LN.TOP_RIGHT:return{top:e.top+i,left:e.right-(t+i)};case Q.LN.CENTER:return{top:e.top+(e.height-n)/2,left:e.left+(e.width-t)/2};default:return{top:e.top+i,left:e.left+i}}}(d.getBoundingClientRect(),n.width,n.height,e.modalLocation,e.positionOffset);return(0,r.jsxs)("div",{className:l?ee.IL:ee.wV,ref:t,style:{backgroundColor:o,width:s,...u},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:e.title}),e.children,(0,r.jsx)(Y.Jn,{className:ee._S,onClick:e.dismissModal,innerText:"close"})]}),c]})}var en=n(271625);let er="feed-post-detail-modal";function ea(){let e=(0,W.e)({overlay:en.bIZ,priority:K.N.DEFAULT_MODAL}),t=(0,G.zl)(z),n=a.useMemo(()=>(0,o.tx)("rcs.feed_onboarding.zoom_pan.title"),[]),i=!!(0,q.f)("has_seen_feed_post_details_zoom_pan_nudge");(0,a.useEffect)(()=>{!i&&t.completed&&e.show()},[e,i,t]);let s=(0,a.useMemo)(()=>(0,r.jsx)(V.S,{shortcut:"\u2318\xb1"}),[]),l=(0,a.useMemo)(()=>(0,r.jsx)(V.S,{shortcut:"Ctrl\xb1"}),[]);return(0,r.jsx)($.h,{modalType:Q.q3.SELF_CONTAINED,element:(0,a.useCallback)(e=>(0,r.jsx)(et,{targetKey:er,dismissModal:e.dismissModal,title:n,ctaText:(0,o.t)("rcs.got_it"),onClickPrimaryCta:e.onClickPrimaryCta,width:268,modalLocation:Q.LN.BOTTOM_LEFT,positionOffset:16,children:(0,r.jsx)("p",{children:(0,o.tx)("rcs.feed_onboarding.zoom_pan.content",{macKeyboardShortcut:s,windowsKeyboardShortcut:l})})}),[n,s,l]),trackingContextName:"Feed Post Details View Zoom Pan Nudge",isShowing:e.isShowing,onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete,userFlagOnShow:"has_seen_feed_post_details_zoom_pan_nudge"})}var ei=n(871239),es=n(717096),eo=n(870655),el=n(519847),ed=n(209579),ec=n(508400),eu=n(55438),e_=n(852324),em=n(956128);let ep="feed_post_detail_modal--detailModal--xoRVf",eh="feed_post_detail_modal--headerSvg--XJJjB";var ef=n(621160),ex=n(947597),eg=n(512257),eb=n(217169);function ev(){return(0,r.jsx)("div",{children:(0,o.t)("fig_feed.post_dne")})}let ey=(0,L.Ju)(function(e){let t=(0,i.wA)(),n=(0,N.dq)(),_=(0,A._6)();a.useEffect(()=>{"teamFeed"!==_.view&&"user"!==_.view&&("fullscreen"===_.view&&e.inFileView||t(w.Ce()))},[t,_,e.inFileView]);let h=a.useRef({selectedView:_,inFileView:e.inFileView});a.useEffect(()=>{h.current={selectedView:_,inFileView:e.inFileView}},[e.inFileView,_]),a.useEffect(()=>()=>{h.current.inFileView||"teamFeed"!==h.current.selectedView.view||t(y.sf({...h.current.selectedView,postUuid:void 0}))},[t]);let f=a.useRef(!1),x=a.useCallback(t=>{f.current||!t||e.autofocusCommentInput||(t.focus(),f.current=!0)},[e.autofocusCommentInput]),v=(0,c.ZC)(e.postUuid);a.useEffect(()=>{n&&(e.inFileView||v===e.postUuid||"teamFeed"!==_.view||(f.current=!1,d.Ay.replace((0,eo.Kc)(n,{uuid:e.postUuid}))))},[v,e.postUuid,n,e.inFileView,_]);let j=(0,m.bc)(R.FHz,{publicUuid:e.postUuid});a.useEffect(()=>{!e.inFileView&&j.data?.feedPost?.title&&(0,I.hL)(j.data.feedPost.title)},[e.inFileView,j.data]),a.useEffect(()=>((0,l.sx)("Team Feed Post Details View Visited",{postUuid:e.postUuid}),()=>{(0,l.sx)("Team Feed Post Closed",{postUuid:e.postUuid})}),[e.postUuid]),a.useEffect(()=>{p.Ay.post(`/api/feed_posts/${e.postUuid}/mark_viewed`)},[e.postUuid]);let[C,T]=a.useState(0);a.useEffect(()=>{T(e.selectedContentIdx||0)},[e.postUuid,e.selectedContentIdx]);let k=a.useMemo(()=>j.data?.feedPost?j.data.feedPost.content.map(e=>JSON.parse(e)):[],[j.data]),E=k.length,{requestToOpenPostByFeedIdx:S}=e,O=a.useCallback(t=>{t.keyCode===u.Uz.LEFT_ARROW?0===C?S&&void 0!==e.feedIdx&&S(e.feedIdx-1):T(C-1):t.keyCode===u.Uz.RIGHT_ARROW&&(C===E-1?S&&void 0!==e.feedIdx&&S(e.feedIdx+1):T(C+1))},[C,E,S,e.feedIdx]),[P,M]=a.useState(!0),L=a.useCallback(()=>M(e=>!e),[]),[B,H]=a.useState(!1);a.useEffect(()=>{!B&&"loaded"===j.status&&k[C]&&(0,D.Dr)(k[C])&&((0,g.YQ)({id:U}),H(!0))},[j.status,B,k,C]);let z=j.data?.feedPost||e.initialPreloadedPost;if(a.useEffect(()=>{z||"loaded"!==j.status||(t(b.s.error((0,o.t)("fig_feed.post_dne"))),t(w.Ce()))},[z,j.status,t]),!z)switch(j.status){case"errors":return(0,r.jsx)(ev,{});case"loading":return(0,r.jsx)(es.d_,{className:ep,size:"any"});case"loaded":return null;default:(0,s.xb)(j)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(es.d_,{className:ep,size:"any",children:(0,r.jsx)("div",{className:"feed_post_detail_modal--layout--regT6",role:"listbox",tabIndex:0,onKeyDown:O,ref:x,children:(0,r.jsxs)("div",{className:"feed_post_detail_modal--container--N7ruR","data-onboarding-key":er,children:[(0,r.jsx)("div",{className:P?"feed_post_detail_modal--contentContainer--H7Une":"feed_post_detail_modal--contentContainerFull--KPsUT feed_post_detail_modal--contentContainer--H7Une",children:(0,r.jsx)(el.x,{contentItems:k,staticContent:!1,selectedContentIdx:C,setSelectedContentIdx:t=>{T(t),e.onSetSelectedContentIdx?.(t)},pageBackgroundColor:z.backgroundColor??void 0,feedPostUuid:e.postUuid,source:eo.Zp.DETAIL_MODAL})}),(0,r.jsx)(ew,{feedPost:z,contentItems:k,autofocusCommentInput:!!e.autofocusCommentInput,inFileView:e.inFileView,onSidebarToggle:L,show:P})]})})}),(0,r.jsx)(F.p,{children:(0,r.jsx)(ea,{})})]})},E.E,L.ZU.YES);function ew(e){let t=(0,i.wA)(),n=(0,S.iZ)(),s=(0,N.dq)(),l=a.useCallback(()=>{t(w.Ce())},[t]),{fileData:d,fileIcon:c,fileLoaded:u,openFile:_}=(0,eo.rS)(e.feedPost.publicUuid,e.contentItems,e.feedPost.fileKey),m=(0,eo.DG)(e.feedPost.publicUuid,eo.dy.DETAIL);if(!s||!n)return null;let p=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"feed_post_detail_modal--headerContextMenu--Kz-Uw",children:(0,r.jsx)(em.Wu,{feedPost:e.feedPost,source:eo.Zp.DETAIL_MODAL})}),(0,r.jsx)("button",{onClick:m,"data-tooltip-type":P.Ib.TEXT,"data-tooltip":(0,o.t)("fig_feed.copy_link_to_post"),children:(0,r.jsx)(x.B,{svg:eg.A,className:eh})}),(0,r.jsx)("button",{onClick:e.onSidebarToggle,children:(0,r.jsx)(x.B,{svg:ex.A,className:eh})}),(0,r.jsx)("button",{onClick:l,children:(0,r.jsx)(x.B,{svg:eb.A,className:"feed_post_detail_modal--closeX--HBh0g"})})]});if(!e.show)return(0,r.jsx)("div",{className:"feed_post_detail_modal--sidebarCollapsed--hj3ys feed_post_detail_modal--contentOverlayPill--5a5qA",children:p});let f=(0,r.jsxs)("div",{className:"feed_post_detail_modal--headerContainer--JGvsI",children:[(0,r.jsx)("div",{className:"feed_post_detail_modal--headerTitle--KBJcv",children:(0,o.tx)("fig_feed.details")}),(0,r.jsx)("div",{className:"feed_post_detail_modal--headerRight--ouKBz","data-testid":"feed-modal-open-file",children:p})]}),g=(0,r.jsxs)("div",{className:"feed_post_detail_modal--infoContainer--R3a-D",children:[(0,r.jsx)("div",{className:"feed_post_detail_modal--topRow--ncuUN",children:(0,r.jsx)(ec.B,{user:e.feedPost.creator,date:e.feedPost.createdAt,size:v.Pf.MEDIUM,shortDate:!1})}),(0,r.jsx)(eC,{feedPost:e.feedPost,currentOrgId:s,currentUser:n}),u&&!e.inFileView&&(0,r.jsx)("button",{className:"feed_post_detail_modal--fileInfo--I3eTJ",onClick:e.inFileView?void 0:_,children:(0,o.tx)("fig_feed.from_file",{fileComponent:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"feed_post_detail_modal--detailsFileButtonIcon--L3Kjf",children:(0,r.jsx)(h.w4,{type:c,size:16})}),(0,r.jsx)("span",{className:"feed_post_detail_modal--detailsFileButtonName--FsHPg",children:d.name})]})})}),(0,r.jsx)("div",{className:"feed_post_detail_modal--bottomRow--zMGQ3",children:(0,r.jsx)(eu.Q$,{type:eu.Us.FULL,source:eu.zY.DETAIL_POST,postUuid:e.feedPost.publicUuid,postId:e.feedPost.id,feedReactions:e.feedPost.reactions})})]});return(0,r.jsxs)("div",{className:"feed_post_detail_modal--rightSideContainer--niABJ",children:[f,(0,r.jsx)(ej,{postInfo:g,comments:e.feedPost.comments,postUuid:e.feedPost.publicUuid,currentUser:n,currentOrgId:s,autofocusCommentInput:e.autofocusCommentInput})]})}function ej(e){let t=(0,i.wA)(),n=a.useRef(null),s=a.useRef(null),[l,d]=a.useState(!1),c=a.useCallback(t=>{0===t.intersectionRatio&&e.comments.length>0?d(!0):d(!1)},[e.comments.length]);(0,ei.g)(s,c,{threshold:[0,1]});let u=a.useCallback(()=>{n.current&&n.current.scrollToBottom()},[]),m=e.comments.sort((e,t)=>e.createdAt.getTime()-t.createdAt.getTime()),[p,h]=a.useState(e.comments.length);a.useEffect(()=>{let t=p<e.comments.length;t&&h(e.comments.length);let n=e.comments[e.comments.length-1];t&&n.user.id===e.currentUser.id&&u()},[p,e.comments,e.currentUser,u]);let[g,b]=a.useState([]),y=(0,i.d4)(e=>e.comments.newComment),w=a.useCallback(()=>{t(j.gX({postUuid:e.postUuid,messageMeta:g,attachmentIds:Object.keys(y.attachments)})),b([]),t(C.$M({resetStatusOnly:!1}))},[t,e.postUuid,g,y]),T=a.useMemo(()=>({library:new O.M8(e.currentOrgId,e.postUuid)}),[e.currentOrgId,e.postUuid]),E=a.useCallback(e=>{t(C.nb({attachmentId:e.id,attachment:e}))},[t]),I=a.useCallback((e,n)=>{t(C.nb({attachmentId:e,attachment:null})),n?n.then(()=>M.J.delete(e)):M.J.delete(e)},[t]);return(0,r.jsxs)("div",{className:"feed_post_detail_modal--commentSection--DKshp",children:[(0,r.jsxs)(f.P,{innerClassName:"feed_post_detail_modal--commentSectionScroll--D43GK",useBottomPinning:!0,ref:n,children:[e.postInfo,(0,r.jsx)("div",{ref:s,className:"feed_post_detail_modal--existingComments--bcESV",children:m.map(t=>(0,r.jsx)(ed.i,{attachments:t.attachments,commentId:t.id,commentUser:t.user,commentUuid:t.uuid||"",createdAt:t.createdAt,currentOrgId:e.currentOrgId,mentionables:T,messageMeta:(0,k.o8)(t.messageMeta),reactions:t.reactions,user:e.currentUser},t.id))}),l&&(0,r.jsxs)("div",{className:"feed_post_detail_modal--commentsToast--X57Gr",onClick:u,role:"button",tabIndex:0,children:[(0,r.jsx)(x.B,{svg:ef.A,className:"feed_post_detail_modal--arrowDown--f--a5"}),(0,o.tx)("fig_feed.num_comments",{numComments:m.length})]})]}),(0,r.jsxs)("div",{className:"feed_post_detail_modal--composerContainer--3Lblv",children:[(0,r.jsx)("div",{className:"feed_post_detail_modal--composerAvatar--k2pZD",children:(0,r.jsx)(v.H8,{user:e.currentUser,size:v.Pf.MEDIUM})}),(0,r.jsx)(e_.o,{attachments:Object.values(y.attachments),autofocus:e.autofocusCommentInput,composerContainerClass:"feed_post_detail_modal--composer--YEm5t thread_comment_composer--inputSectionWrapper--Ljawz",currentOrgId:e.currentOrgId,deleteAttachment:I,editableTypeaheadClass:"feed_post_detail_modal--editableTypeahead--L26zX thread_comment_composer--editableTypeahead--xl-hc text--fontPos13--5OfL8 text--_fontBase--VaHfk",editingExistingComment:!1,errorFallback:_.H4.NONE,fallback:null,hideSubmitButton:!1,mentionables:T,messageContent:g,onSubmit:w,updateAttachment:E,updateMessage:b,user:e.currentUser})]})]})}function eC(e){let t=a.useMemo(()=>(0,k.o8)(e.feedPost.descriptionMeta),[e.feedPost.descriptionMeta]);return(0,r.jsxs)("div",{role:"textbox",tabIndex:0,className:"feed_post_detail_modal--postDescription--HYub7",children:[(0,r.jsx)("div",{className:"feed_post_detail_modal--postTitle--B9Nfa feed_tile--postTitle--qzhjX",children:e.feedPost.title}),(0,r.jsx)(T.HH,{messageMeta:t,commentId:e.feedPost.id,className:"feed_post_detail_modal--postDescriptionMessage--Xaesp comment_message--commentMessage--8DQUq"})]})}},209579:(e,t,n)=>{n.d(t,{i:()=>w});var r=n(239976),a=n(105652),i=n(20002),s=n(379141),o=n(763665),l=n(970508),d=n(620030),c=n(363337),u=n(536378),_=n(582412),m=n(304315),p=n(776284),h=n(118889),f=n(994344),x=n(52978),g=n(508400),b=n(55438),v=n(852324);let y=e=>`COMMENT_SIDEBAR_OVERFLOW_DROPDOWN-${e}`;function w(e){let t=(0,i.wA)(),[n,s]=(0,o.M)(),[d,u]=a.useState([]);a.useEffect(()=>{u(e.messageMeta)},[e.messageMeta]);let[f,x]=a.useState(!1),y=(0,i.d4)(e=>e.comments.editingComment),w=a.useCallback(n=>{t(m.uy({id:e.commentId,key:e.commentUuid,attachmentId:n.id,attachment:n}))},[t,e.commentId,e.commentUuid]),C=a.useCallback(n=>(t(m.uy({id:e.commentId,key:e.commentUuid,attachmentId:n,attachment:null})),Promise.resolve()),[e.commentId,e.commentUuid,t]),T=a.useCallback(()=>{t(_.cx({commentId:e.commentId,uuid:e.commentUuid,messageMeta:d,attachmentUpdates:y?.attachmentUpdates})),t(m.cL()),x(!1)},[t,y,e.commentId,e.commentUuid,d]),k=a.useCallback(()=>{let n={};e.attachments?.forEach(e=>{n[e.id]=e}),t(m.Df({id:e.commentId,key:e.commentUuid,messageMeta:e.messageMeta,attachmentUpdates:{deleted:[],attachments:n}})),x(!0)},[t,e.commentId,e.commentUuid,e.messageMeta,e.attachments]),E=a.useCallback(()=>{u(e.messageMeta),t(m.pD()),x(!1)},[t,e.messageMeta]),I=e.commentUser.id===e.user.id,N=e.commentId.startsWith(_.v6),A=e.reactions.length>0;return(0,r.jsxs)("div",{className:"feed_post_details_comments--comment--ucaSw",ref:n,children:[(0,r.jsx)("div",{className:"feed_post_details_comments--avatarColumn--6ihwP",children:(0,r.jsx)(g.A,{user:e.commentUser,noHandle:!0,size:c.Pf.MEDIUM})}),(0,r.jsxs)("div",{className:"feed_post_details_comments--commentBody--zq2BU",children:[(0,r.jsxs)("div",{className:"feed_post_details_comments--commentHeader--hUB1u",children:[(0,r.jsx)(g.B,{user:e.commentUser,date:e.createdAt,noAvatar:!0,shortDate:!0}),!f&&I&&(0,r.jsx)(j,{commentId:e.commentId,commentUuid:e.commentUuid,user:e.user,onEdit:k,hideTarget:!s})]}),f?(0,r.jsx)("div",{className:"feed_post_details_comments--editComposerContainer--qq-xy",children:(0,r.jsx)(v.o,{attachments:y?.attachmentUpdates?.attachments?Object.values(y?.attachmentUpdates?.attachments):[],autofocus:!0,composerContainerClass:"feed_post_details_comments--composer--wA3Iv thread_comment_composer--inputSectionWrapper--Ljawz",currentOrgId:e.currentOrgId,deleteAttachment:C,editableTypeaheadClass:"feed_post_details_comments--editableTypeahead--EdHGS thread_comment_composer--editableTypeahead--xl-hc text--fontPos13--5OfL8 text--_fontBase--VaHfk",editingExistingComment:!0,errorFallback:l.H4.NONE,fallback:l.H4.NONE,hideSubmitButton:!1,mentionables:e.mentionables,messageContent:d,onCancel:E,onSubmit:T,updateAttachment:w,updateMessage:u,user:e.user})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"feed_post_details_comments--commentRow--Ntpfq",children:[(0,r.jsx)(h.HH,{messageMeta:d,commentId:e.commentId,className:"feed_post_details_comments--commentMessage--t0r9a"}),!N&&!A&&(0,r.jsx)(b.nn,{type:b.Us.ADD_ONLY,source:b.zY.DETAIL_COMMENT_NO_REACTION,feedReactions:e.reactions,commentId:e.commentId,commentUuid:e.commentUuid,hideAddReactionButton:!s})]}),e.attachments&&(0,r.jsx)("div",{className:"feed_post_details_comments--attachmentsContainer--W1mm0",children:(0,r.jsx)(p.a,{attachments:e.attachments,canEdit:I,fileKey:""})}),A&&(0,r.jsx)(b.nn,{type:b.Us.FULL,source:b.zY.DETAIL_COMMENT_WITH_REACTION,feedReactions:e.reactions,commentId:e.commentId,commentUuid:e.commentUuid,hideAddReactionButton:!s})]})]})]})}function j(e){let t=(0,i.wA)(),n=a.useCallback(()=>{t((0,u.to)({type:f.E,data:{onConfirm:()=>{t(_.BC({commentId:e.commentId,uuid:e.commentUuid}))}},showModalsBeneath:!0}))},[t,e.commentId,e.commentUuid]),{onEdit:o}=e,l=a.useMemo(()=>[(0,r.jsx)(d.c$,{onClick:o,children:(0,s.tx)("comments.edit")},"edit"),(0,r.jsx)(d.c$,{onClick:n,children:(0,s.tx)("comments.delete_comment")},"delete")],[n,o]);return e.commentId.startsWith(_.v6)?null:(0,r.jsx)(x.V,{hideTarget:e.hideTarget,dropdownId:y(e.commentId),options:l,lean:"left"})}},508400:(e,t,n)=>{n.d(t,{A:()=>f,B:()=>h});var r=n(239976),a=n(105652),i=n(20002),s=n(224542),o=n.n(s),l=n(174141),d=n(297094),c=n(363337),u=n(450207),_=n(257556),m=n(738464);let p="feed_profile_header--profile--5dgrZ";function h(e){let t=e.date&&(0,r.jsx)(d.h1,{date:e.date,style:e.shortDate?"short":void 0,capitalize:!0},"from-now"),n=[(0,r.jsx)("div",{onMouseDown:e.onTileMouseDown,role:"button",tabIndex:0,className:o()(e.onTileMouseDown&&"feed_profile_header--fromNowLinkContainer--AVueC","feed_profile_header--fromNow--EXPIx"),children:t},"from-now")];return(0,r.jsx)("div",{className:p,children:(0,r.jsx)(f,{user:e.user,size:e.size,noAvatar:e.noAvatar,noHandle:e.noHandle,appendToHandle:n})})}function f(e){let t=(0,i.wA)(),n=a.useCallback(n=>{n.stopPropagation(),e.user.id&&t(u.sf({view:"user",userId:e.user.id,userViewTab:m.o.INTERNAL_PROFILE_POSTS}))},[t,e.user.id]),s=e.appendToHandle||!1===e.noHandle;return(0,r.jsxs)("div",{className:p,children:[!e.noAvatar&&(0,r.jsx)(l.N,{onClick:n,trusted:!0,onMouseDown:_.dG,children:(0,r.jsx)(c.H8,{user:e.user,size:e.size??c.Pf.LARGE})}),s&&(0,r.jsxs)("div",{className:"feed_profile_header--content--gVDMt",children:[!e.noHandle&&(0,r.jsx)(l.N,{className:"feed_profile_header--handleLink--hR34b",onClick:n,trusted:!0,children:(0,r.jsx)("div",{className:"feed_profile_header--handle--F-Hkf feed_profile_header--boldLinkText--oyD5r",children:e.user.handle})}),e.appendToHandle]})]})}},55438:(e,t,n)=>{n.d(t,{nn:()=>x,Q$:()=>f,zY:()=>h,Us:()=>p,mz:()=>w});var r=n(239976),a=n(105652),i=n(20002),s=n(224542),o=n.n(s),l=n(582412),d=n(388681),c=n(111580),u=n(964731),_=n(605985);let m="feed_reactions_section--addReactionButton--F5MLs";var p=(e=>(e[e.FULL=0]="FULL",e[e.ADD_ONLY=1]="ADD_ONLY",e))(p||{}),h=(e=>(e[e.TILE_CONTENT=0]="TILE_CONTENT",e[e.TILE_POST=1]="TILE_POST",e[e.DETAIL_POST=2]="DETAIL_POST",e[e.DETAIL_COMMENT_NO_REACTION=3]="DETAIL_COMMENT_NO_REACTION",e[e.DETAIL_COMMENT_WITH_REACTION=4]="DETAIL_COMMENT_WITH_REACTION",e[e.FILE_POPOVER=5]="FILE_POPOVER",e))(h||{});function f(e){let t=(0,i.wA)(),n=(0,_.iZ)(),{existingReactionIdForCurrentUser:s}=v(e.feedReactions,n),o=a.useCallback(({emoji:n,addOnly:r})=>{let a=s(n);a?r||t(l.Oy({feedPostUuid:e.postUuid,emoji:n,reactionId:a})):t(l.EF({feedPostUuid:e.postUuid,feedPostId:e.postId,emoji:n}))},[t,s,e.postUuid,e.postId]);return(0,r.jsx)(g,{type:e.type,source:e.source,hideAddReactionButton:e.hideAddReactionButton,prependToList:e.prependToList,toggleReaction:o,feedResource:{type:"post",id:e.postUuid},feedReactions:e.feedReactions})}function x(e){let t=(0,i.wA)(),n=(0,_.iZ)(),{existingReactionIdForCurrentUser:s}=v(e.feedReactions,n),o=a.useCallback(({emoji:n,addOnly:r})=>{let a=s(n);a?r||t(l.t9({commentUuid:e.commentUuid,emoji:n,reactionId:a})):t(l.FJ({commentUuid:e.commentUuid,commentId:e.commentId,emoji:n}))},[t,s,e.commentUuid,e.commentId]);return(0,r.jsx)(g,{type:e.type,source:e.source,hideAddReactionButton:e.hideAddReactionButton,prependToList:e.prependToList,toggleReaction:o,feedResource:{type:"comment",id:e.commentUuid},feedReactions:e.feedReactions})}function g(e){let t=(0,_.iZ)(),{toggleReaction:n}=e,{reactionsWithSelected:i}=v(e.feedReactions,t),s=a.useCallback((e,t)=>{t.stopPropagation(),n({emoji:e.emoji,addOnly:!1})},[n]),o=a.useCallback(e=>{n({emoji:e,addOnly:!0})},[n]),l=(0,r.jsx)(b,{type:e.type,feedResource:e.feedResource,source:e.source,onAddReaction:o,hideAddReactionButton:e.hideAddReactionButton});return 1===e.type?l:(0,r.jsx)("div",{className:"feed_reactions_section--reactionList--EPAIL",children:(0,r.jsx)(c.Kb,{reactions:i,collapseOverflow:!1,onClickExisting:s,prependToList:e.prependToList,children:l})})}function b(e){let t=a.useRef(null),{isReactionPickerVisible:n,toggleReactionPicker:i,emojiPicker:s}=j(e.feedResource,e.source,t,e.onAddReaction);return e.hideAddReactionButton&&!n?(0,r.jsx)("div",{className:m}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{ref:t,className:o()(1===e.type?"feed_reactions_section--addReactionButtonOnly--DGnry":"feed_reactions_section--reactionPill--kdlOl reactions--reaction--tL2ND text--fontPos11--rO47d text--_fontBase--VaHfk"),children:(0,r.jsx)(c.ny,{onClick:i,selected:n,styleClassName:m,selectedStyleClassName:"feed_reactions_section--addReactionButtonSelected---l2cj"})}),n&&s]})}let v=(e,t)=>{let n=a.useMemo(()=>{let n={};if(!t)return n;for(let r of e)r.user.id===t.id&&(n[r.emoji]=r.id);return n},[e,t]),r=a.useCallback(e=>n[e],[n]);return{reactionsWithSelected:a.useMemo(()=>{let t={};for(let n of e){let{emoji:e,user:a,createdAt:i}=n;t[e]||(t[e]={emoji:e,users:[],selected:!!r(e),createdAt:i.getTime(),skinTonesToUsers:{}}),t[e].createdAt=Math.min(t[e].createdAt,i.getTime()),t[e].users.push({handle:a.handle,id:a.id,img_url:a.imgUrl})}return Object.values(t).sort((e,t)=>e.createdAt-t.createdAt||e.emoji.localeCompare(t.emoji))},[e,r]),existingReactionIdForCurrentUser:r}},y=(e,t)=>`FEED_TILE_EMOJI_PICKER-${e}${t?`-${t}`:null}`;function w(e,t){return(0,u.BK)(y(t,e?.id)).showing}let j=(e,t,n,i)=>{let s=(0,u.BK)(y(t,e?.id)),o=a.useCallback(e=>{i(e.shortcodes),s.hide()},[s,i]),l=n.current&&(0,r.jsx)(d._,{onInsert:o,onCancel:s.hide,targetRect:n.current.getBoundingClientRect()});return{isReactionPickerVisible:s.showing,toggleReactionPicker:s.toggle,emojiPicker:l}}},852324:(e,t,n)=>{n.d(t,{o:()=>r});let r=(0,n(970508).kf)("lazy_feed_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([n.e(3823),n.e(7682),n.e(1436),n.e(7597),n.e(8410)]).then(n.bind(n,497416))).FeedPostCommentComposer})})},956128:(e,t,n)=>{n.d(t,{Hx:()=>g,Wu:()=>v,j8:()=>y});var r=n(239976),a=n(105652),i=n(20002),s=n(379141),o=n(522568),l=n(337812),d=n(620030),c=n(536378),u=n(582412),_=n(605985),m=n(790016),p=n(747079),h=n(717096),f=n(52978);let x=(0,p.Ju)(function(e){let t=(0,s.tx)("fig_feed.delete_confirmation");return e.numComments&&e.numReactions?t=(0,s.tx)("fig_feed.delete_confirmation_with_comments_and_reactions",{numCommentsAndReactions:e.numComments+e.numReactions}):e.numComments?t=(0,s.tx)("fig_feed.delete_confirmation_with_comments",{numComments:e.numComments}):e.numReactions&&(t=(0,s.tx)("fig_feed.delete_confirmation_with_reactions",{numReactions:e.numReactions})),(0,r.jsx)(h.yX,{destructive:!0,confirmationTitle:(0,s.tx)("fig_feed.delete_post"),confirmText:(0,s.tx)("fig_feed.delete"),onConfirm:e.onConfirm,popStack:!0,children:(0,r.jsx)("p",{children:t})})},"PostConfirmDeleteModal");var g=(e=>(e.USER="user_post_context_menu",e.SYSTEM="system_post_context_menu",e))(g||{});let b=e=>{let t=(0,_.iZ)(),n=(t&&t.id===e.creator.id)??!1,r=(0,m.D6)("useUserPostPermissions");return{canDelete:n,canAdminDelete:(0,m.j_)(r).unwrapOr(!1)}};function v(e){let t=(0,i.wA)(),n=a.useCallback(()=>t(u.Y9()),[t]),{feedPost:_}=e,{canDelete:m,canAdminDelete:p}=b(_),h=_.comments.length,g=_.reactions.length,v=a.useCallback(()=>{t((0,c.AS)()),l.Ay.del(`/api/feed_posts/post_uuid/${_.publicUuid}`).then(()=>{(0,o.sx)("Team Feed Post Deleted",{postUuid:_.publicUuid}),n()})},[t,_.publicUuid,n]),w=a.useCallback(()=>{t((0,c.to)({type:x,data:{onConfirm:v,numComments:h,numReactions:g},showModalsBeneath:!0}))},[t,v,h,g]);if(!m&&!p)return null;let j=m?(0,s.tx)("fig_feed.delete_ellipsis"):(0,s.tx)("fig_feed.delete_admin_ellipsis"),C=[(!!m||!!p)&&(0,r.jsx)(d.c$,{onClick:w,children:j},"delete")];return(0,r.jsx)(f.V,{dropdownId:y("user_post_context_menu",e.feedPost.publicUuid,e.source),options:C,hideTarget:e.hideTarget,lean:"left",maxWidth:120})}let y=(e,t,n)=>e+t+n},782415:(e,t,n)=>{n.d(t,{xZ:()=>C});var r=n(239976),a=n(105652),i=n(20002),s=n(248317),o=n(288350),l=n(454705),d=n(379141),c=n(393463),u=n(842582),_=n(62440),m=n(136393),p=n(623870),h=n(639605),f=n(920675),x=n(702417),g=n(390739),b=n(816379);function v(e){switch(e){case"developer":return{title:(0,d.tx)("whiteboard.whats_new.diagram.title"),carousel:[(0,c.ck)("d17ad024cc18607d4a8b1a00d5e2c2d9c33f7124"),(0,c.ck)("6c43de4a393f0c6a62c810c9e624475937af46b1"),(0,c.ck)("39e86727a54bf46978d4893784240e752197b537")],body:(0,d.tx)("whiteboard.whats_new.engineer.control.body")};case"researcher":return{title:(0,d.tx)("whiteboard.whats_new.workshop.title"),carousel:[(0,c.ck)("3875dfbdfc499dfc81addcc2cb4c425432e4d83c"),(0,c.ck)("19c6fa16695aa643eb32b6de523e34682c99ff74"),(0,c.ck)("d32d06accd71ec34d461ebeb0683d372ce3c4e86")],body:(0,d.tx)("whiteboard.whats_new.research.control.body")};case"designer":return{title:(0,d.tx)("whiteboard.whats_new.brainstorm.title"),carousel:[(0,c.ck)("86daaf50ff13c8defd9b675fbfabffe8fe2b6913"),(0,c.ck)("4d374f6472949a2b2b6428ea45e6e09d4608b5b2"),(0,c.ck)("532f390ae672946525645d4b0bdaaf4d84a2d1e5")],body:(0,d.tx)("whiteboard.whats_new.design.control.body")};case"marketer":return{title:(0,d.tx)("whiteboard.whats_new.workshop.title"),carousel:[(0,c.ck)("86daaf50ff13c8defd9b675fbfabffe8fe2b6913"),(0,c.ck)("19c6fa16695aa643eb32b6de523e34682c99ff74"),(0,c.ck)("5828c6e302bd2cf83170176485c5cae9a7e09fa9")],body:(0,d.tx)("whiteboard.whats_new.marketing.control.body")};case"product-manager":return{title:(0,d.tx)("whiteboard.whats_new.meeting.title"),carousel:[(0,c.ck)("07a2696df083d2dcbbc25f3c1b184c88b72ed4a6"),(0,c.ck)("19c6fa16695aa643eb32b6de523e34682c99ff74"),(0,c.ck)("d42ae46e1e5c846580f4cfa3d275a0a4fde6c482")],body:(0,d.tx)("whiteboard.whats_new.product.control.body")};default:return{title:(0,d.tx)("whiteboard.whats_new.diagram.title"),carousel:[(0,c.ck)("c58d5f4a37c974b72777d0d482b5e168819ed339"),(0,c.ck)("87363e4551c98cc4dd5c2eb17c8a1c216b4df558"),(0,c.ck)("17e4b5731b359b5da1cc9498bee8d19a574ecb39")],body:(0,d.tx)("whiteboard.whats_new.other.control.body")}}}function y(){let e=v((0,p.w)({rolesToDefaultToOther:["education"]})).carousel,t=(0,a.useRef)(null),[n,i]=(0,a.useState)(1),s=(0,a.useCallback)(()=>(t.current&&(1===n?t.current.style.transition="none":t.current.style.transition="transform 0.4s ease-in-out"),n===2*e.length-2)?i(1):i(e=>e+1),[e.length,n]);return(0,a.useEffect)(()=>{setTimeout(()=>{setTimeout(()=>{s(),t.current&&(t.current.style.transform=`translateX(-${210*n-45}px)`)},1===n?400:3e3)},0)},[n,s,45]),(0,r.jsx)("div",{className:"whats_new_v2_carousel--carouselContainer--VSzVl",children:(0,r.jsxs)("div",{className:"whats_new_v2_carousel--slideTrack--o8RtL",ref:t,children:[(0,r.jsx)("img",{src:e[2],alt:"clone of last thumbnail"}),(0,r.jsx)("img",{src:e[0],alt:"first thumbnail"}),(0,r.jsx)("img",{src:e[1],alt:"second thumbnail"}),(0,r.jsx)("img",{src:e[2],alt:"last thumbnail"}),(0,r.jsx)("img",{src:e[0],alt:"clone of first thumbnail"}),(0,r.jsx)("img",{src:e[1],alt:"clone of second thumbnail"})]})})}let w=(0,c.ck)("d67cccad0bd5d4d8f50d8cac15b5ed848027e0a8"),j=(0,c.ck)("f9217dd1dac2a765d218e1de9eb6fcbb32a454ec");function C(e){let t=(0,i.wA)(),n=(0,h.B)(),s=(0,p.w)({rolesToDefaultToOther:["education"]}),[o,c]=a.useState(!0),C=`Design to FigJam What's New v2 > ${s} > ${e.context}`,{title:k,body:E}=v(s),{onClose:I}=e,N=(0,a.useCallback)(()=>{t(m.b({dont_show_figjam_updates_in_figma_design:!o})),I()},[o,t,I]);return(0,r.jsx)(g.X,{trackingContextName:C,position:b.Q.BOTTOM_RIGHT,title:k,onClose:N,description:E,media:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:j,alt:"",className:"whats_new_v2--newBadge--KQs1z"}),(0,r.jsx)("img",{src:w,alt:"",className:"whats_new_v2--peaceIcon--tu8j2"}),(0,r.jsx)(y,{})]}),overrideFooter:(0,r.jsxs)("div",{className:"whats_new_v2--ctaRow--2eaSS",children:[(0,r.jsx)(l.J,{brand:"whiteboard",children:(0,r.jsx)(u.$z,{onClick:()=>{N(),t(m.b({interacted_figjam_whats_new_v2_cta:!0})),t(_.zE({state:n,editorType:f._Y.WHITEBOARD,team:void 0,from:x.f6.FIGJAM_WHATS_NEW_MODAL,openNewFileIn:x.ai.NEW_TAB}))},children:(0,d.tx)("rcs.whats_new_in_figjam.try_fig_jam")})}),"editor"===e.context&&(0,r.jsx)("div",{className:"whats_new_v2--checkboxRow--6SmIk",children:(0,r.jsx)(T,{checked:o,setChecked:()=>c(!o)})})]}),userFlagOnShow:"seen_whats_new_v2_modal",isShowing:e.isShowing})}function T({checked:e,setChecked:t}){return(0,r.jsx)(s.S,{label:(0,r.jsx)(o.J,{children:(0,d.t)("rcs.whats_new_in_figjam.show_fig_jam_updates")}),checked:e,onChange:t})}},600195:(e,t,n)=>{n.d(t,{L:()=>i});var r=n(105652),a=n(239976);let i=(0,r.memo)(function(e){return(0,a.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M3 4.5a.5.5 0 0 1 .5-.5h1A2.5 2.5 0 0 1 7 6.5v2A1.5 1.5 0 0 0 8.5 10h2.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L11.293 11H8.5A2.5 2.5 0 0 1 6 8.5v-2A1.5 1.5 0 0 0 4.5 5h-1a.5.5 0 0 1-.5-.5m5.5 0A.5.5 0 0 1 9 4h3.5a.5.5 0 0 1 0 1H9a.5.5 0 0 1-.5-.5",clipRule:"evenodd"})})})},379075:(e,t,n)=>{n.d(t,{_:()=>s});var r=n(159773),a=n(105652),i=n(239976);let s=(0,a.memo)(function(e){return(0,r.O)()?(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8 2a1 1 0 0 1 .951.694l.9 2.806h2.904a1 1 0 0 1 .579 1.814L11.006 8.97l.938 2.702a1 1 0 0 1-1.516 1.148l-2.429-1.692-2.428 1.692a1.001 1.001 0 0 1-1.516-1.148l.937-2.702-2.327-1.656a1 1 0 0 1 .58-1.814h2.902l.9-2.806.061-.148A1 1 0 0 1 8 2",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8 1.5a1 1 0 0 1 .951.694L9.851 5h2.904a1 1 0 0 1 .58 1.814l-2.33 1.656.939 2.702a1 1 0 0 1-1.517 1.148l-2.429-1.692-2.427 1.692a1.001 1.001 0 0 1-1.517-1.148l.937-2.702-2.327-1.656A1 1 0 0 1 3.245 5h2.903l.9-2.806.06-.148A1 1 0 0 1 8 1.5",clipRule:"evenodd"})})})},753834:(e,t,n)=>{n.d(t,{c:()=>s});var r=n(159773),a=n(105652),i=n(239976);let s=(0,a.memo)(function(e){return(0,r.O)()?(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8.952 2.695a1 1 0 0 0-1.904 0l-.9 2.805H3.244a1 1 0 0 0-.58 1.815l2.33 1.655-.938 2.701a1 1 0 0 0 1.516 1.148L8 11.13l2.428 1.691a1 1 0 0 0 1.516-1.148l-.937-2.701 2.328-1.656a1 1 0 0 0-.58-1.815H9.852zM4.97 6.5h1.907l.598-1.863L8 3l.525 1.637.597 1.863h3.633l-1.406 1-1.533 1.09.626 1.802L11 12l-1.396-.973L8 9.91l-1.604 1.117L5 12l.558-1.608.625-1.802L4.651 7.5l-1.407-1z",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8.952 2.195a1 1 0 0 0-1.904 0L6.148 5H3.245a1 1 0 0 0-.58 1.815L4.993 8.47l-.937 2.701a1 1 0 0 0 1.516 1.148L8 10.63l2.429 1.691a1 1 0 0 0 1.516-1.148l-.938-2.701 2.328-1.656A1 1 0 0 0 12.755 5H9.853zM4.97 6h1.908l.597-1.863L8 2.5l.525 1.637L9.123 6h3.633l-1.407 1-1.532 1.09.625 1.802L11 11.5l-1.396-.973L8 9.41l-1.604 1.117L5 11.5l.558-1.608.626-1.802L4.65 7 3.245 6z",clipRule:"evenodd"})})})},6477:(e,t,n)=>{n.d(t,{l:()=>s});var r=n(159773),a=n(105652),i=n(239976);let s=(0,a.memo)(function(e){return(0,r.O)()?(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M16.354 13.854a.5.5 0 0 1-.708 0L12 10.207l-3.646 3.647a.5.5 0 0 1-.708-.708l4-4a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M15.854 13.854a.5.5 0 0 1-.708 0L11.5 10.207l-3.646 3.647a.5.5 0 0 1-.708-.708l4-4a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708",clipRule:"evenodd"})})})},732108:(e,t,n)=>{n.d(t,{X:()=>i});var r=n(105652),a=n(239976);let i=(0,r.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6 6h12a1 1 0 0 1 1 1v3H5V7a1 1 0 0 1 1-1m-1 5v6a1 1 0 0 0 1 1h3v-7zm5 7h8a1 1 0 0 0 1-1v-6h-9zM4 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",clipRule:"evenodd"})})})},900207:(e,t,n)=>{n.d(t,{C:()=>s});var r=n(159773),a=n(105652),i=n(239976);let s=(0,a.memo)(function(e){return(0,r.O)()?(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M9.722 7.5h.414l.293-.293.935-.935a.9.9 0 0 1 1.272 0l.935.935.293.293H15.6a.9.9 0 0 1 .9.9v1.736l.293.293.935.935a.9.9 0 0 1 0 1.272l-.935.935-.293.293V15.6a.9.9 0 0 1-.9.9h-1.736l-.293.293-.934.934a.9.9 0 0 1-1.273 0l-.935-.934-.293-.293H8.4a.9.9 0 0 1-.9-.9v-1.736l-.293-.293-.934-.935-.708.708.708-.708a.9.9 0 0 1 0-1.272l.934-.935.293-.293V8.4a.9.9 0 0 1 .9-.9zm-4.157 3.156a1.9 1.9 0 0 0 0 2.688l.935.934V15.6c0 1.05.85 1.9 1.9 1.9h1.322l.935.935a1.9 1.9 0 0 0 2.687 0l.934-.935H15.6a1.9 1.9 0 0 0 1.9-1.9v-1.322l.935-.934a1.9 1.9 0 0 0 0-2.687l-.935-.935V8.4a1.9 1.9 0 0 0-1.9-1.9h-1.322l-.934-.935a1.9 1.9 0 0 0-2.687 0l-.935.935H8.4a1.9 1.9 0 0 0-1.9 1.9v1.322zm7.351-1.379a.5.5 0 1 0-.832-.554l-2 3a.5.5 0 0 0 .416.777h2.066l-1.482 2.223a.5.5 0 1 0 .832.554l2-3a.5.5 0 0 0-.416-.777h-2.066z",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M9.22 6.997h.413l.293-.293.934-.935a.9.9 0 0 1 1.273 0l.935.935.292.293h1.737a.9.9 0 0 1 .9.9v1.736l.293.293.934.935a.9.9 0 0 1 0 1.272l-.934.935-.293.293v1.736a.9.9 0 0 1-.9.9H13.36l-.293.293-.935.935a.9.9 0 0 1-1.272 0l-.936-.936-.293-.292H7.898a.9.9 0 0 1-.9-.9V13.36l-.293-.293-.935-.935a.9.9 0 0 1 0-1.272l.935-.935.293-.293V7.897a.9.9 0 0 1 .9-.9zm0-1 .933-.935a1.9 1.9 0 0 1 2.687 0l.935.935h1.322c1.05 0 1.9.85 1.9 1.9v1.322l.935.934a1.9 1.9 0 0 1 0 2.688l-.935.934v1.322a1.9 1.9 0 0 1-1.9 1.9h-1.322l-.935.935a1.9 1.9 0 0 1-2.687 0l-.935-.935H7.897a1.9 1.9 0 0 1-1.9-1.9v-1.322l-.935-.934a1.9 1.9 0 0 1 0-2.687l.935-.935V7.897c0-1.05.85-1.9 1.9-1.9zm3.193 2.78a.5.5 0 0 0-.832-.554l-2 3a.5.5 0 0 0 .416.777h2.066l-1.482 2.223a.5.5 0 1 0 .832.554l2-3a.5.5 0 0 0-.416-.777H10.93z",clipRule:"evenodd"})})})}}]);

//# debugId=5bbf4cf5-0f25-5191-a475-af3c6cb5f0c3

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/f2419b5f6dc66782c9f9abdf8f429d5d59446581/3063-e03d856e4c087b0f.min.js.map