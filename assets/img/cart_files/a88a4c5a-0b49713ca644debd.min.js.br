"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="68291ad7-5699-598d-8dee-31f4c5e850ba")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[7872,8869],{566108:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="45" height="32" viewBox="0 0 45 32"><path fill="#ea10ac" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M31.957 20.06q-.887 0-1.527-.378-.637-.384-.985-1.075-.343-.695-.343-1.628 0-.923.343-1.625.348-.704.97-1.098.624-.395 1.46-.395.508 0 .984.168.477.168.856.528.379.36.597.933.22.57.22 1.387v.414h-4.77v-.875h3.625q0-.461-.188-.816-.187-.36-.527-.567-.336-.207-.79-.207-.491 0-.859.242-.363.239-.562.625-.195.384-.195.832v.684q0 .601.21 1.023.216.423.598.645.383.219.895.219.332 0 .605-.094.274-.098.473-.29.199-.19.305-.472l1.105.2q-.133.487-.477.855-.339.363-.855.566-.511.2-1.168.2zm-4.043-4.656-1.059.188q-.066-.203-.21-.387-.141-.184-.383-.3-.243-.118-.606-.118-.496 0-.828.223-.332.219-.332.566 0 .3.223.485.223.183.718.3l.954.22q.828.19 1.234.589.405.397.406 1.035 0 .54-.312.961-.309.418-.864.656-.55.24-1.277.239-1.008 0-1.644-.43-.637-.435-.782-1.23l1.13-.172q.105.44.433.668.329.222.855.222.575 0 .918-.238.345-.242.344-.59 0-.281-.21-.473-.208-.191-.638-.289l-1.015-.222q-.84-.192-1.242-.61-.399-.417-.399-1.058 0-.531.297-.93.297-.399.82-.621.524-.227 1.2-.227.972 0 1.53.422.56.418.74 1.121zm-6.121-3.464v8h-1.168v-8zm-5.094 8.12q-.886 0-1.527-.378-.637-.384-.985-1.075-.343-.695-.343-1.628 0-.923.344-1.625.347-.704.968-1.098.625-.395 1.461-.395.508 0 .985.168.476.168.855.528.38.36.598.933.219.57.218 1.387v.414h-4.77v-.875h3.626q0-.461-.188-.816-.187-.36-.527-.567-.336-.207-.789-.207-.492 0-.86.242-.363.239-.562.625-.195.384-.195.832v.684q0 .601.21 1.023.216.423.598.645.384.219.895.219.332 0 .605-.094.274-.098.473-.29.199-.19.305-.472l1.105.2q-.132.487-.476.855-.34.363-.856.566-.511.2-1.168.2z"/></svg>'},540694:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#000" fill-opacity=".8" fill-rule="evenodd" stroke="none" d="M20 13h-8c-1.657 0-3 1.343-3 3 0 1.657 1.343 3 3 3h1v1h-1c-2.21 0-4-1.79-4-4 0-2.21 1.79-4 4-4h8c2.21 0 4 1.79 4 4 0 2.21-1.79 4-4 4h-3.793l1.647 1.646-.708.708-2.5-2.5-.353-.354.353-.354 2.5-2.5.708.708L16.207 19H20c1.657 0 3-1.343 3-3 0-1.657-1.343-3-3-3"/></svg>'},622875:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="16" viewBox="0 0 20 16"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M9.5 1H3V0h7.5v5.708C11.383 6.094 12 6.975 12 8c0 1.025-.617 1.906-1.5 2.292V16H3v-1h6.5v-4.5C8.12 10.5 7 9.38 7 8c0-1.38 1.12-2.5 2.5-2.5zm7 7.707 2.646 2.647.708-.708L17.207 8l2.647-2.646-.708-.708L16.5 7.293l-2.646-2.647-.708.708L15.793 8l-2.647 2.646.708.708zm-7 .793c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5C8.672 6.5 8 7.172 8 8c0 .828.672 1.5 1.5 1.5"/></svg>'},735544:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="18" viewBox="0 0 22 18"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M11 1.031H4v-1h8V6.05c1.141.232 2 1.24 2 2.45 0 1.21-.859 2.218-2 2.45V17H4v-1h7v-5.05c-1.141-.232-2-1.24-2-2.45 0-1.21.859-2.218 2-2.45zM11.5 10c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5"/><path fill="#000" fill-opacity="1" fill-rule="nonzero" stroke="none" d="m18.5 9.207 2.646 2.647.708-.708L19.207 8.5l2.647-2.646-.708-.708L18.5 7.793l-2.646-2.647-.708.708L17.793 8.5l-2.647 2.646.708.708z"/></svg>'},32420:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="21" height="16" viewBox="0 0 21 16"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M10.5 1H4V0h7.5v5.708c.736.321 1.287.986 1.45 1.792h5.343l-2.147-2.146.708-.708 3 3 .353.354-.353.354-3 3-.708-.708L18.293 8.5H12.95c-.163.806-.714 1.47-1.45 1.792V16H4v-1h6.5v-4.5C9.12 10.5 8 9.38 8 8c0-1.38 1.12-2.5 2.5-2.5zm0 8.5c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5C9.672 6.5 9 7.172 9 8c0 .828.672 1.5 1.5 1.5"/></svg>'},461903:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="17" viewBox="0 0 22 17"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M11 1H4V0h8v6.05c.98.199 1.751.97 1.95 1.95h5.343l-2.147-2.146.708-.708 3 3 .353.354-.353.354-3 3-.708-.708L19.293 9H13.95c-.199.98-.97 1.751-1.95 1.95V17H4v-1h7v-5.05c-1.141-.232-2-1.24-2-2.45 0-1.21.859-2.218 2-2.45zm.5 9c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5"/></svg>'},179007:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="var(-\u2014color-icon)" fill-rule="evenodd" d="M10 7.5v9c0 .276-.224.5-.5.5h-2c-.276 0-.5-.224-.5-.5v-9c0-.276.224-.5.5-.5h2c.276 0 .5.224.5.5M9.5 6c.828 0 1.5.672 1.5 1.5v9c0 .828-.672 1.5-1.5 1.5h-2c-.828 0-1.5-.672-1.5-1.5v-9C6 6.672 6.672 6 7.5 6zM17 7.5v9c0 .276-.224.5-.5.5h-2c-.276 0-.5-.224-.5-.5v-9c0-.276.224-.5.5-.5h2c.276 0 .5.224.5.5M16.5 6c.828 0 1.5.672 1.5 1.5v9c0 .828-.672 1.5-1.5 1.5h-2c-.828 0-1.5-.672-1.5-1.5v-9c0-.828.672-1.5 1.5-1.5z" clip-rule="evenodd"/></svg>'},900689:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="var(-\u2014color-icon)" fill-rule="evenodd" d="M7.5 7h9c.276 0 .5.224.5.5v2c0 .276-.224.5-.5.5h-9c-.276 0-.5-.224-.5-.5v-2c0-.276.224-.5.5-.5M6 7.5C6 6.672 6.672 6 7.5 6h9c.828 0 1.5.672 1.5 1.5v2c0 .828-.672 1.5-1.5 1.5h-9C6.672 11 6 10.328 6 9.5zM7.5 14h9c.276 0 .5.224.5.5v2c0 .276-.224.5-.5.5h-9c-.276 0-.5-.224-.5-.5v-2c0-.276.224-.5.5-.5m-1.5.5c0-.828.672-1.5 1.5-1.5h9c.828 0 1.5.672 1.5 1.5v2c0 .828-.672 1.5-1.5 1.5h-9c-.828 0-1.5-.672-1.5-1.5z" clip-rule="evenodd"/></svg>'},198197:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="var(-\u2014color-icon)" fill-rule="evenodd" d="M7.5 7h2c.276 0 .5.224.5.5v2c0 .276-.224.5-.5.5h-2c-.276 0-.5-.224-.5-.5v-2c0-.276.224-.5.5-.5M6 7.5C6 6.672 6.672 6 7.5 6h2c.828 0 1.5.672 1.5 1.5v2c0 .828-.672 1.5-1.5 1.5h-2C6.672 11 6 10.328 6 9.5zM7.5 14h2c.276 0 .5.224.5.5v2c0 .276-.224.5-.5.5h-2c-.276 0-.5-.224-.5-.5v-2c0-.276.224-.5.5-.5m-1.5.5c0-.828.672-1.5 1.5-1.5h2c.828 0 1.5.672 1.5 1.5v2c0 .828-.672 1.5-1.5 1.5h-2c-.828 0-1.5-.672-1.5-1.5zM16.5 7h-2c-.276 0-.5.224-.5.5v2c0 .276.224.5.5.5h2c.276 0 .5-.224.5-.5v-2c0-.276-.224-.5-.5-.5m-2-1c-.828 0-1.5.672-1.5 1.5v2c0 .828.672 1.5 1.5 1.5h2c.828 0 1.5-.672 1.5-1.5v-2c0-.828-.672-1.5-1.5-1.5zm0 8h2c.276 0 .5.224.5.5v2c0 .276-.224.5-.5.5h-2c-.276 0-.5-.224-.5-.5v-2c0-.276.224-.5.5-.5m-1.5.5c0-.828.672-1.5 1.5-1.5h2c.828 0 1.5.672 1.5 1.5v2c0 .828-.672 1.5-1.5 1.5h-2c-.828 0-1.5-.672-1.5-1.5z" clip-rule="evenodd"/></svg>'},977556:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="14" height="12" viewBox="0 0 14 12"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="m4 .098.765.478 8 5 .678.424-.678.424-8 5-.765.478zm1 1.804v8.196L11.557 6z"/></svg>'},571580:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="34" height="22" viewBox="0 0 34 22"><path fill="#fcfcfc" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M1 1V.5H.5V1zm19.5 0h.5V.5h-.5zm0 20v.5h.5V21zM1 21H.5v.5H1zm32-10 .354.354.374-.375-.396-.353zM1 1.5h19.5v-1H1zm19.5 19H1v1h19.5zm-19 .5V1h-1v20zm22-10c0 1.657-1.343 3-3 3v1c2.21 0 4-1.79 4-4zm-3 3c-1.657 0-3-1.343-3-3h-1c0 2.21 1.79 4 4 4zm-3-3c0-1.657 1.343-3 3-3V7c-2.21 0-4 1.79-4 4zm3-3c1.657 0 3 1.343 3 3h1c0-2.21-1.79-4-4-4zm3.5 3.5h9v-1h-9zm8.646-.854-4.5 4.5.708.708 4.5-4.5zm.686-.02-4.5-4-.664.748 4.5 4zM20 1v6.5h1V1zm0 13.5V21h1v-6.5z"/></svg>'},478877:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="29" viewBox="0 0 32 29"><path fill="#fff" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M21 6H11v17h10zM10 5v19h12V5z"/><path fill="#fff" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M22 24h2.958v-1H22zm0-18h2.958V5H22zm4.042-1h3.25v1h-3.25zm4.333 0H32v1.425h-1V6h-.625zM32 7.375v2.85h-1v-2.85zm0 3.8v2.85h-1v-2.85zm0 3.8v2.85h-1v-2.85zm0 3.8v2.85h-1v-2.85zm0 3.8V24h-1.625v-1H31v-.425zM29.292 24h-3.25v-1h3.25z"/><path fill="#828282" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M21 1H1v27h20zM0 0v29h22V0z"/></svg>'},689835:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="29" height="32" viewBox="0 0 29 32"><path fill="#fff" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M23 21V11H6v10zm1-11H5v12h19z"/><path fill="#fff" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M6 22v2.959H5V22zm17 0h1v2.959h-1zm1 4.041v3.25h-1v-3.25zm0 4.334V32h-1.425v-1H23v-.625zM21.625 32h-2.85v-1h2.85zm-3.8 0h-2.85v-1h2.85zm-3.8 0h-2.85v-1h2.85zm-3.8 0h-2.85v-1h2.85zm-3.8 0H5v-1.625h1V31h.425zM5 29.291v-3.25h1v3.25z"/><path fill="#828282" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M28 21V1H1v20zm1-21H0v22h29z"/></svg>'},271445:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="11" height="7" viewBox="0 0 11 7"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M10.707 3.5 7.354.146l-.708.708L8.793 3H.5v1h8.293L6.646 6.146l.708.708z"/></svg>'},991279:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="11" viewBox="0 0 8 11"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M4 10.207.646 6.854l.708-.708L3.5 8.293V0h1v8.293l2.146-2.147.708.708z"/></svg>'},581940:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M3 3h6v6H3zm1 1h4v4H4zM0 0h12v12H0zm1 1h10v10H1z"/></svg>'},355508:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="#000" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M8 10c1.105 0 2-.895 2-2 0-1.105-.895-2-2-2-1.104 0-2 .895-2 2 0 1.105.896 2 2 2"/><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M8 4c2.878 0 5.378 1.621 6.635 4-1.257 2.379-3.757 4-6.635 4-2.878 0-5.377-1.621-6.635-4C2.623 5.621 5.122 4 8 4m0 7c-2.3 0-4.322-1.194-5.478-3C3.678 6.194 5.7 5 8 5c2.3 0 4.322 1.194 5.479 3C12.322 9.806 10.3 11 8 11"/></svg>'},93536:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="#000" fill-opacity="1" fill-rule="evenodd" stroke="none" d="M8 3h2c1.933 0 3.5 1.567 3.5 3.5 0 1.933-1.567 3.5-3.5 3.5H4.707l2.147 2.146-.708.708-3-3-.353-.354.353-.354 3-3 .708.708L4.707 9H10c1.38 0 2.5-1.12 2.5-2.5C12.5 5.12 11.38 4 10 4H8z"/></svg>'},943248:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#000" fill-opacity=".8" fill-rule="evenodd" stroke="none" d="M10 9h12c.552 0 1 .448 1 1v12c0 .552-.448 1-1 1H10c-.552 0-1-.448-1-1V10c0-.552.448-1 1-1m-2 1c0-1.105.895-2 2-2h12c1.105 0 2 .895 2 2v12c0 1.105-.895 2-2 2H10c-1.105 0-2-.895-2-2zm6 7h-3l.833-1 3.516-4.219L16 11l.65.781L20.168 16 21 17h-3v3h-4zm0-1h-.865L16 12.562 18.865 16H17v3h-2v-3z"/></svg>'},496124:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#000" fill-opacity=".8" fill-rule="evenodd" stroke="none" d="m12.5 19 3.5 2.333L17 22V10l-1 .667L12.5 13H9v1l.001 5zM10 18h2.803l.252.168L16 20.13v-8.263l-2.945 1.964-.252.168H10v4zm10-2c0-.552-.448-1-1-1v-1c1.105 0 2 .895 2 2 0 1.105-.895 2-2 2v-1c.552 0 1-.448 1-1m-1-3c1.657 0 3 1.343 3 3 0 1.657-1.343 3-3 3v1c2.21 0 4-1.79 4-4 0-2.21-1.79-4-4-4z"/></svg>'},530714:(e,t,n)=>{n.d(t,{A:()=>l});let l='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17"><path fill="#0C8CE9" fill-rule="evenodd" d="M6.432 4.975H3.986v8.003h8.003v-2.446h-1v1.446H4.986V5.975h1.446zm1.556 1h2.294L7.634 8.623l.707.707 2.648-2.648v2.294h1V4.975H7.988z" clip-rule="evenodd"/></svg>'},704024:(e,t,n)=>{n.d(t,{Lt:()=>r,ai:()=>i,hF:()=>s,kL:()=>l});let l="whiteboard_menu_selector--container--YBudQ",i="whiteboard_menu_selector--chevron--UZ7we",s="whiteboard_menu_selector--input--FKjrR",r="whiteboard_menu_selector--select--VPTL6 text--fontNeg12--HBXnm text--_fontBase--VaHfk text--_negText--7Cnf0"},799022:(e,t,n)=>{n.d(t,{G:()=>r,w:()=>a});var l=n(445019),i=n(574220),s=n(634224);let r=(0,l.eU)(e=>{let t=e((0,s.Fu)("has_prompted_in_figma_make")),n=e(i.zk);return!!t.data||!!n?.prompted_in_make});function a(){return(0,l.md)(r)}},494590:(e,t,n)=>{n.r(t),n.d(t,{DesignView:()=>dW});var l=n(239976),i=n(105652),s=n(20002),r=n(363638),a=n(295870),o=n(692376),d=n(854225),x=n(379141),u=n(270450),c=n(119548),m=n(916626),p=n(7857),h=n(592802),g=n(806130),f=n(158022),y=n(888903),v=n(778650),k=n(526575),_=n(819805),j=n(223487),b=n(123215);let C="send_to_buzz_from_design";function w(){return!function(){let e=(0,s.wA)(),t=(0,_.Zr)("paste-selection-into-buzz-from-design"),n=(0,i.useRef)(t),[l,r]=(0,i.useState)(!1),a=(0,s.d4)(j.tB),o=(0,s.d4)(b.vx),d=(0,s.d4)(e=>e.selectedView),u=(0,s.d4)(e=>{let t=e.selectedView;return"sendToBuzzFileKey"in t?t.sendToBuzzFileKey:void 0});(0,i.useEffect)(()=>{let i=!n.current&&t,s=n.current&&!t;if(!u){n.current=t;return}i&&!l&&((0,k.qD)({name:"Send to Buzz Toast"}),e(y.F.enqueue({type:C,message:(0,x.t)("cooper.templates.use_in_buzz.visual_bell.title"),timeoutOverride:1/0,onDismiss:()=>((0,k.Cu)({trackingContext:"Send to Buzz Toast",text:"Dismiss"}),r(!0),!1),button:{text:(0,x.t)("cooper.templates.use_in_buzz.visual_bell.button"),action:()=>((0,k.Cu)({trackingContext:"Send to Buzz Toast",text:"Send to Buzz"}),(0,v.q_)({previousBuzzFileKey:u,openFile:a,fileVersion:o,selectedView:d,dispatch:e}))}}))),s&&e(y.F.dequeue({matchType:C})),n.current=t},[t,e,d,a,o,u,l])}(),null}var E=n(913601),N=n(724885),I=n(889616),T=n(865702),S=n(245814),L=n(655793),A=n(517478),R=n(163608),M=n(454705),z=n(466082),O=n(445019),F=n(323264),D=n(610265),P=n(732593),V=n(154963),q=n(354626),B=n(960210),H=n(649054),$=n(138310),G=n(710893),K=n(622021),U=n(133653),W=n(732730),X=n(338630),Z=n(826151),Y=n(859100),Q=n(841301),J=n(574220),ee=n(61990),et=n(384203),en=n(597298),el=n(215496),ei=n(139850),es=n(937182),er=n(271625),ea=n(217632);function eo(){return(0,l.jsx)(p.u9,{label:"DeveloperRFDUpsellOverlay",children:(0,l.jsx)(ed,{})})}function ed(){let e=(0,U.w_)(),t=(0,et.aV)(),[n,s]=(0,i.useState)(null);(0,i.useEffect)(()=>{if(!t){let e=function(){let e;let t=(0,z.UN)(),n=t=>{if(t)for(let l of t.childrenNodes)(l.isTopLevelFrame()||"CANVAS"===l.type)&&(l.hasReadyStatus?e?e.getStatusInfo().lastUpdateUnixTimestamp<l.getStatusInfo().lastUpdateUnixTimestamp&&(e=l):e=l:("SECTION"===l.type||"CANVAS"===l.type)&&n(l))};return n(t?.getRoot()),e?.getStatusInfo()}();e&&s(e)}},[t]);let r=(0,en.wW)(n&&"userId"in n?n.userId:null),a=!!n&&D.A.unix(n.lastUpdateUnixTimestamp).isAfter((0,D.A)().subtract(60,"day")),o=(0,es.U)("upsell"),d=(0,O.md)(Q.LZ),u=(0,B._I)(),c=(0,B.U4)(),m=(0,O.md)(J.NT),p=(0,K.J)(),{show:h,complete:g,isShowing:f,uniqueId:y}=(0,Y.e)({overlay:er.koo,priority:el.N.OVERRIDING_MODAL},[m]);(0,i.useEffect)(()=>{h({canShow:n=>p&&d&&!u&&!e.loading&&!e.hasPendingRequest&&a&&c&&!t&&"developer"===(0,P.HB)(n),onShow:()=>{(0,ee.o9)()}})},[h,u,c,d,t,m,p,e,a]),(0,Z.E)(y,"Enter Inspect Mode",()=>{f&&g()});let{primaryButtonProps:v,secondaryButtonProps:k}=(0,U.BC)({entryPoint:W.i$.Upsell,dismissModal:g,onRequestAccess:()=>{o("handoff")}}),_=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:ea.XQ,children:(0,l.jsx)(R.O,{})}),(0,l.jsx)("span",{className:V.s.textBodyMediumStrong.$,children:(0,x.tx)("dev_handoff.status.mark_status_sentence_part.ready_for_dev")})]}),{imgSrc:j,modalContent:b}=(0,$.L)(),C=(0,H.W)(),w=S.hS({open:!0,onClose:T.lQ,preventUserClose:!0,recordingKey:"dev-mode-paywall-modal"});return(0,l.jsx)(ei.M,{testId:"rfd-upsell-upsell",isShowing:f,children:(0,l.jsxs)(M.J,{brand:"dev-handoff",children:[(0,l.jsx)(q.OM,{}),(0,l.jsx)(X.fu,{name:"RFD Upsell Modal",properties:{...C,primaryCtaTrackingDescriptor:v?.trackingDescriptor,secondaryCtaTrackingDescriptor:k?.trackingDescriptor},enabled:C?.gracePeriod!==void 0,children:(0,l.jsx)(L.bL,{width:392,manager:w,children:(0,l.jsxs)(A.Wk,{children:[(0,l.jsx)("div",{className:ea.XV,children:(0,l.jsx)("div",{className:"xh8yej3 xysyzu8 xt970qd x1hr3lfm x1sdyfia",children:r.loading?"":(0,x.tx)("dev_handoff.upsell.user_marked_a design",{userName:(0,l.jsx)("span",{className:"xb3r6kr xlyipyv xuxw1ft",children:r.user?.name||r.user?.handle}),status:_})})}),(0,l.jsx)("div",{className:V.s.py8.px16.$,children:(0,l.jsx)(G.E,{imgSrc:j,content:b,modalType:"RFD Upsell Modal",primaryButtonProps:{...v,type:"request_access"},secondaryButtonProps:k?{...k,type:"not_now"}:void 0})})]})})})]})})}var ex=n(393463),eu=n(719749),ec=n(598066),em=n(639184),ep=n(206955),eh=n(610604),eg=n(122970),ef=n(289252),ey=n(527205),ev=n(890305),ek=n(624631);function e_(){return(0,l.jsx)(p.u9,{label:"ViewerDevModeStatusChangedTooltipOverlay",children:(0,l.jsx)(ej,{})})}function ej(){let e=(0,ec.X0)(),t=(0,j.tS)(),n=(0,es.U)("upsell"),i=(0,eu.Rs)((0,eh.ErZ)({key:t||""}),{enabled:!!t}),{show:s,isShowing:r,complete:a,uniqueId:o}=(0,Y.e)({overlay:er.wRw,priority:el.N.OVERRIDING_MODAL-1},[i]);(0,Z.E)(o,"ui3_finished_entering_design_mode",()=>{(0,ep.QL)("rfd-notif")&&s({canShow:e=>!e.file?.hasPermission,onShow:()=>{(0,ee.o9)()}})});let d=e?{targetKey:eg.o5,arrowPosition:ev.F_.LEFT_TITLE}:{targetKey:ek.oR,arrowPosition:ev.F_.BOTTOM};return(0,l.jsx)(ey.rq,{...d,description:(0,x.tx)("upsell.view_only_developer_notifications.tooltip_description"),forceEditorTheme:"dev-handoff",isShowing:r,media:(0,l.jsx)(ef.y,{src:(0,ex.ck)("dc592aac8a3238672f1f3eb8711f656496538b15"),alt:"",aspectRatio:480/270}),onClose:a,testId:"viewer-dev-mode-status-changed-tooltip",primaryCta:{ctaTrackingDescriptor:em.c.TRY_DEV_MODE,label:(0,x.tx)("upsell.view_only_developer_notifications.tooltip_cta"),onClick:()=>{a(),n("handoff")},type:"button"},title:(0,x.tx)("upsell.view_only_developer_notifications.tooltip_title"),trackingContextName:"viewer_dev_mode_status_changed_tooltip"})}var eb=n(422572),eC=n(202648),ew=n(123973),eE=n(212198),eN=n(136393),eI=n(748181),eT=n(674531),eS=n(157750);let eL="property_and_navbar_labels_defaulted_on";var eA=n(862390),eR=n(707470),eM=n(948629),ez=n(456622),eO=n(941452),eF=n(207436),eD=n(394326),eP=n(813963),eV=n(895127),eq=n(362844),eB=n(827081),eH=n(987313),e$=n(33687),eG=n(330116),eK=n(141288),eU=n(623870),eW=n(394396),eX=n(920675),eZ=n(790016),eY=n(75962),eQ=n(842582),eJ=n(122615);function e0({onClick:e,complete:t}){return(0,l.jsx)(M.J,{brand:"dev-handoff",children:(0,l.jsxs)("div",{"data-testid":"dev-mode-demo-file-entrypoint-popup",className:"x6sy6il x1dgp85l xqyf9gi x1mxnbhz x1xtplfa x10l6tqk xrv6xtj x9f619 x1p3pnes x1tk3asg x78zum5 xdt5ytf x1dipnxa xbj06nx xl56j7k x1i71x30",children:[(0,l.jsx)("div",{className:"x10l6tqk x1psp13h xbyvkye",children:(0,l.jsx)(eJ.Jn,{emphasized:!0,onClick:t})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"x13saxwh xg4jxnz x1h94l6n x1uvdjgy x39l7i4 x1ihwiht",children:(0,x.tx)("dev_mode_playground_file.still_curious_about_dev_mode")}),(0,l.jsx)("div",{children:(0,x.tx)("dev_mode_demo_file.check_out_our_interactive_test")})]}),(0,l.jsx)(eQ.e6,{trackingProperties:{trackingDescriptor:em.c.DEMO_FILE_THUMBNAIL},onClick:e,className:"x11g6tue xzjbwwf x3w9dv2",children:(0,l.jsx)(eY.oW,{className:"xb3r6kr",alt:"A graphic showing the demo file thumbnail",src:(0,ex.ck)("eab479b46c1a94910464200211143d64fe917ae1")})}),(0,l.jsx)("div",{children:(0,l.jsx)(eQ.e6,{trackingProperties:{trackingDescriptor:em.c.CHECK_IT_OUT},onClick:e,className:"xmkeg23 x1y0btm7 x15r24av x19y5rnk x78zum5 xx99whi xl56j7k x6s0dn4 x4wtjwi x11g6tue x1qxcl5b x1tk3asg",children:(0,x.tx)("dev_mode_playground_file.check_it_out")})})]})})}function e1(){let e=(0,eZ.No)().unwrapOr(null),t=e?.tier===eX.Ag.STARTER,n=(0,B._I)(),s=(0,B.U4)(),r=(0,eU.w)(),a=(0,O.md)(q.YU),o=(0,U.w_)(),d=(0,ex.tl)().dev_mode_demo_file_key,{isShowing:x,show:u,complete:c}=(0,Y.e)({overlay:er.E5y,priority:el.N.DEFAULT_MODAL});return(i.useEffect(()=>{u({canShow:()=>!!(!o.loading&&!o.hasPendingRequest&&s&&!n&&a&&"developer"===r&&!t&&d)})},[n,s,d,o,x,r,a,t,u]),x)?(0,l.jsx)(ei.M,{isShowing:x,children:(0,l.jsx)(X.fu,{name:"DevModeDemoFileEntryPoint",children:(0,l.jsx)(e0,{onClick:()=>{d&&eK.Ay.redirect((0,eW.jN)({file:{key:d},isDevHandoff:!0}),"_blank"),c()},complete:c})})}):null}var e2=n(595433),e5=n(124720),e3=n(130763),e4=n(933302),e7=n(634224),e8=n(303740),e6=n(776888),e9=n(605985),te=n(799022),tt=n(806174),tn=n(456556),tl=n(702417);function ti(e,t){let n=Date.now();return e.getTime()<=n-864e5*t}let ts=(0,e4.J9)([(0,e7.Fu)("seen_figmake_promo_overlay"),(0,e7.Fu)("seen_figmake_file_creation_tooltip")],([e,t])=>!!(e&&ti(new Date(e.updatedAt),14))&&(!t||ti(new Date(t.updatedAt),3))),tr=(0,e7.r1)("has_created_figma_make_file"),ta=(0,e7.Fu)("seen_figma_make_upsell_in_design_editor_overlay"),to=(0,e4.J9)([J.n1,J.fu,(0,tt.Ji)(!0)],([e,t,n],l)=>{let i=n?.seatTypeLicenseTypes,s=!i?.includes(eX.G_.DESIGN),r=l(e8.UQ),a=l(te.G);return(e||s||r&&t)&&!a});var td=n(811804);function tx({isShowing:e,onClose:t,onCtaClick:n,trackingContextName:i,testId:s,title:r,description:a}){let o="dark"===(0,td.DP)(),d=o?(0,ex.ck)("1a369818117cc7e77826ee246da5938968f29e43"):(0,ex.ck)("c427705996f20b17615206adc93b3171f6646529");return(0,l.jsx)(ei.M,{isShowing:e,children:(0,l.jsx)(X.fu,{name:i,children:(0,l.jsx)(M.J,{brand:"seascape",children:(0,l.jsxs)("div",{"data-testid":s,className:"x10l6tqk x1g84rlc x1u31bsw xqyf9gi x9f619 xrv6xtj xgk9eko x1mxnbhz xu5wzci x1tk3asg xho2vqm xdz8niu x1bw29jc xshklg3 xskzprw x78zum5 xdt5ytf xl56j7k x1i71x30 x1dipnxa x1vamu9a",children:[(0,l.jsx)("div",{className:"x10l6tqk x1psp13h xbyvkye",children:(0,l.jsx)(eJ.Jn,{onClick:t,trackingProperties:{action:"close",trackingContext:i},emphasized:!0,dataTestId:`${s}-close`})}),(0,l.jsxs)("div",{className:"x78zum5 xdt5ytf xg2d0mh",children:[(0,l.jsx)("div",{className:"x1l3kr2 x1mnx3iv xo8tsow xeefxrb xdjnq2g",children:r}),(0,l.jsx)("div",{children:a})]}),(0,l.jsx)(eQ.e6,{"data-testid":`${s}-asset`,trackingProperties:{trackingDescriptor:em.c.FIGMA_MAKE_UPSELL_ASSET,trackingContext:i},onClick:n,...{0:{className:"x1ypdohk x18dl8mb x78zum5 xl56j7k x6s0dn4 xm3q4nm xb3r6kr x168yufr xgk9eko xsks9tx x1ailfhc"},1:{className:"x1ypdohk x18dl8mb x78zum5 xl56j7k x6s0dn4 xm3q4nm xb3r6kr x168yufr xgk9eko xsks9tx x1oa4r"}}[!!o<<0],children:(0,l.jsx)("video",{className:"x5yr21d xl1xv1r",src:d,"aria-label":(0,x.t)("upsell.figma_make_upsell_in_design_editor.image_alt"),autoPlay:!0,loop:!0,muted:!0})}),(0,l.jsx)(M.J,{brand:"seascape",mode:"dark",children:(0,l.jsx)(eQ.e6,{"data-testid":`${s}-cta`,trackingProperties:{trackingDescriptor:em.c.TRY_IT_NOW,trackingContext:i},onClick:n,className:"xi0y1te xvzdmf2 x19y5rnk xx99whi x4wtjwi xeq5yr9 xpvyfi4 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up",children:(0,x.tx)("upsell.figma_make_upsell_in_design_editor.button_title")})})]})})})})}function tu(){let e=function(){let e=(0,O.md)(ts),t=(0,O.md)(tr),n=(0,eZ.No)(),l=(0,eZ.px)(),r=l.unwrapOr(null)?.draftsFolderId??void 0,a=(0,e2.nt)(r),o=(0,O.md)(to),d=(0,O.md)(ta),c=(0,e3.DB)(),m=(0,et.aV)(),p=(0,s.d4)(e=>e.mirror.appModel.currentPage),h=(0,tn.Fk)((e,t)=>!(0,e6.zC)(e,t),p),g=(0,j.q5)(),f=(0,j.tS)(),y=(0,e9.iZ)(),v=!!g&&!!f,k=(0,i.useRef)(null),{isShowing:_,show:b,complete:C}=(0,Y.e)({overlay:er.qiY,priority:el.N.DEFAULT_MODAL},[e,t,n,a,o,d]);i.useEffect(()=>{r&&!m&&v&&y&&b({canShow:(e,t,n,l,i,s)=>{let r=n.tier===eX.Ag.STARTER&&!(0,u.kc)().bake_starter_limit,a=e&&!r&&null!==l&&(0,e2.d6)(l,eX._Y.FIGMAKE),o=v&&y.id===g?.creatorId,d=a&&i&&h&&!o&&c();return null===k.current&&(!a||s||i?d?k.current="targeted":k.current="none":k.current="generic"),"generic"===k.current&&!t||"targeted"===k.current}})},[b,r,c,m,v,g?.creatorId,y,h,k]);let{newFileFrom:w,contextClicked:E,trackingContextName:N,testId:I,title:T,description:S}=function(e){let t={generic:{newFileFrom:tl.f6.FIGMAKE_POPOUT_UPSELL_IN_DESIGN_EDITOR,contextClicked:"figmake_popout_upsell_in_design_editor_created",trackingContextName:"FigmaMakeUpsellInDesignEditor",testId:"figma-make-upsell-in-design-editor-overlay",title:(0,x.tx)("upsell.figma_make_upsell_in_design_editor.title"),description:(0,x.tx)("upsell.figma_make_upsell_in_design_editor.description")},targeted:{newFileFrom:tl.f6.FIGMAKE_POPOUT_UPSELL_IN_DESIGN_EDITOR_NON_DESIGNER_SOMEONE_ELSES_FILE,contextClicked:"figmake_popout_upsell_in_design_editor_nondesigner_someone_elses_file_created",trackingContextName:"FigmaMakeUpsellInDesignEditorNondesignerSomeoneElsesFile",testId:"figma-make-upsell-in-design-editor-overlay-nondesigner-someone-elses-file",title:(0,x.tx)("upsell.figma_make_upsell_in_design_editor.nondesigner_someone_elses_file.title"),description:(0,x.tx)("upsell.figma_make_upsell_in_design_editor.nondesigner_someone_elses_file.description")}};return e?t.targeted:t.generic}("targeted"===k.current);return{isShowing:_,onClose:C,onCtaClick:(0,e5.$)({folderId:r,isDraftsFolder:!0,editorType:eX._Y.FIGMAKE,forceOpenNewTab:!0,newFileFrom:w,contextClicked:E}),trackingContextName:N,testId:I,title:T,description:S}}();return(0,l.jsx)(p.u9,{label:"FigmaMakeUpsellInDesignEditorOverlay",children:(0,l.jsx)(tx,{...e})})}var tc=n(588367),tm=n(105641),tp=n(378721),th=n(730436),tg=n(224542),tf=n.n(tg),ty=n(522568),tv=n(309742),tk=n(391596),t_=n(699165),tj=n(543595),tb=n(270550),tC=n(641172),tw=n(761312),tE=n(938241),tN=n(728089),tI=n(665933),tT=n(67410),tS=n(915909),tL=n(567726),tA=n(625009);let tR="starting_points_templates_modal--templateOption--JS-9Z",tM="starting_points_templates_modal--templateOptionTitle--SJ81s",tz="starting_points_templates_modal--verticalTemplateImage--4p3eU";var tO=(e=>(e.DESKTOP="desktop",e.MOBILE="mobile",e.WEBSITE="website",e))(tO||{});let tF={x:0,y:0},tD={website:{x:0,y:1600},mobile:{x:0,y:300},desktop:{x:0,y:300}},tP={website:.1,mobile:.225,desktop:.1};function tV(e){return(0,l.jsx)(p.u9,{label:"StartingPointsTemplatesModal",children:(0,l.jsx)(tq,{...e})})}function tq({onClose:e}){let t=(0,s.wA)(),n=i.useRef(null),[r,a]=i.useState(!1),[c,m]=i.useState(!1),[p,h]=i.useState(!1),[g,f]=i.useState(!1),[y,v]=i.useState(window.innerWidth),[k,_]=i.useState({website:"",mobile:"",desktop:""}),b=(0,tw.q)(),C=(0,j.tS)(),w=(0,s.d4)(e=>e.fileVersion),E=(0,s.d4)(e=>e.mirror.sceneGraph),N=b&&(0,tS.Qf)(E),I=!!N&&0===N.childCount,[T]=(0,tk.IT)((0,tb.Dz)({})),{inProductHelpViewType:S}=(0,tN.A5)(),L=(0,eS.ut)(o.Ez5?.uiState().inProductHelpSidePanelWidth,0),A="side_panel"===S?L:0,{insertTemplate:R}=(0,tC.Fz)(),M=(0,tL.g)(),z=(0,O.Xr)(tA.Yq),F=(0,O.Xr)(tA.bj),[D,P]=i.useState(!1),V=(0,tI.GQ)(),q=(0,tT.P)();(0,tv.h)(()=>{let e=()=>{v(window.innerWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),i.useEffect(()=>{f(V+50>y/2-257||y-q-A-50<y/2+257),h(V+50>y/2-365||y-q-A-50<y/2+365)},[A,V,q,y]);let B=i.useCallback(()=>{if("loaded"!==T.status||!T.data)return;let e=[];for(let t of Object.values(tO)){let n=T.data[t]?.files;if(!n)return;let l={type:tE.n.HubFile,template:n};e.push(l)}Promise.all(e.map(e=>O.zl.get((0,tA.Re)({fileKey:C,fileVersion:w,template:e})))).then(()=>{P(!0)}).catch(e=>{console.error("Failed to load template buffers",e),P(!0)})},[C,w,T]);if(i.useEffect(()=>{if("loaded"===T.status)for(let e of Object.values(tO)){let t=T.data[e]?.preview_img_id;t&&_(n=>({...n,[e]:t}))}},[T]),i.useEffect(()=>{"loaded"!==T.status||D||B()},[T,D,B]),i.useEffect(()=>{b&&N&&!I&&!c&&e()},[b,N,I,c,e]),!(0,u.kc)().starting_points_modal)return null;let H=async n=>{if("loaded"!==T.status)return;a(!0);let l=T.data[n]?.files;l&&("basics"!==n?await (0,tC.Zg)({insert:()=>F({selectTemplateAfterCommit:!1,moveViewportAfterCommit:!1,priority:"user-visible",editScopeType:d.zkO.USER}),template:{template:l,type:tE.n.HubFile},fileKey:C,dispatch:t,triggeredFrom:"starting-points",userTriggered:!1}):await R({template:{template:l,type:tE.n.HubFile},userTriggered:!1,editScopeType:d.zkO.ONBOARDING,triggeredFrom:"starting-points",templateInsertionDirection:o.hKj.RIGHT}),"basics"===n?(0,tj.YQ)({id:"starting_points_basics_template_inserted"}):(0,tj.YQ)({id:"starting_points_template_inserted"}),e(),a(!1))},$=(0,l.jsx)(X.$z,{onClick:()=>H("basics"),trackingProperties:{trackingDescriptor:em.c.LEARN_THE_BASICS},children:(0,x.tx)("starting_points.learn_the_basics")}),G=e=>{if((0,ty.sx)("Starting Points Template Option Hover",{template:e}),!T.data)return;let n=T.data[e]?.files;if(!n)return;let l={type:tE.n.HubFile,template:n},i=tP[e];window.innerWidth>1700&&(i*=1.5),(0,tC.Zg)({insert:()=>M(l,{moveViewportAfterPreview:!0,priority:"user-visible",previewManager:{nodeType:d.Z6A.CANVAS},position:tF,viewportOptions:{position:tD[e],scale:i,duration:0}}),template:l,fileKey:C,dispatch:t,triggeredFrom:"starting-points",userTriggered:!1,isPreview:!0})};return(0,l.jsx)(X.fu,{name:"Starting Points Modal",children:(0,l.jsx)("div",{className:"starting_points_templates_modal--startingPointsTemplatesModalPositioner--00C4-",style:{marginRight:`${A}px`},children:(0,l.jsx)(t_.x,{isLoading:r,className:"starting_points_templates_modal--loadingSpinner--iJSyj",children:()=>(0,l.jsxs)("div",{className:tf()({"starting_points_templates_modal--startingPointsTemplatesModal--ct8Cf":!0,"starting_points_templates_modal--isHidden--m937I":g,"starting_points_templates_modal--isCondensedView--Uzu3d":p}),onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),ref:n,children:[(0,l.jsxs)("div",{className:"starting_points_templates_modal--modalInstructions--4Y3BQ",children:[(0,l.jsx)("div",{className:"starting_points_templates_modal--modalTitle--yjaGW",children:(0,x.t)("starting_points.what_do_you_want_to_make_today")}),(0,l.jsx)("div",{className:"starting_points_templates_modal--modalLearnMore--V7W1b",children:(0,x.tx)("starting_points.or_learn_the_basics",{learnTheBasicsLink:$})})]}),(0,l.jsxs)("div",{className:"starting_points_templates_modal--optionContainer--RyLNK",children:[(0,l.jsxs)(X.$z,{className:tR,onClick:()=>H("website"),onMouseEnter:()=>G("website"),onMouseLeave:z,trackingProperties:{trackingDescriptor:em.c.WEBSITE_TEMPLATES},children:[(0,l.jsx)("div",{className:tM,children:(0,x.t)("starting_points.website")}),(0,l.jsx)(eY.oW,{className:tz,src:(0,ex.ck)(k.website),alt:"Website template"})]}),(0,l.jsxs)(X.$z,{className:tR,onClick:()=>H("mobile"),onMouseEnter:()=>G("mobile"),onMouseLeave:z,trackingProperties:{trackingDescriptor:em.c.MOBILE_APP_TEMPLATES},children:[(0,l.jsx)("div",{className:tM,children:(0,x.t)("starting_points.mobile_app")}),(0,l.jsx)(eY.oW,{className:tz,src:(0,ex.ck)(k.mobile),alt:"Mobile app template"})]}),(0,l.jsxs)(X.$z,{className:tR,onClick:()=>H("desktop"),onMouseEnter:()=>G("desktop"),onMouseLeave:z,trackingProperties:{trackingDescriptor:em.c.DESKTOP_APP_TEMPLATES},children:[(0,l.jsx)("div",{className:tM,children:(0,x.t)("starting_points.desktop_app")}),(0,l.jsx)(eY.oW,{className:"starting_points_templates_modal--desktopTemplateImage--0v2xf",src:(0,ex.ck)(k.desktop),alt:"Desktop app template"})]})]}),(0,l.jsx)("div",{className:"starting_points_templates_modal--modalLearnMoreFooter--6J0bo",children:(0,x.tx)("starting_points.or_learn_the_basics",{learnTheBasicsLink:$})}),(0,l.jsx)("div",{className:"starting_points_templates_modal--closeButton--tu1ds",children:(0,l.jsx)(tp.K,{onClick:e,"aria-label":(0,x.t)("general.close"),"data-testid":"close-button",children:(0,l.jsx)(th.X,{})})})]})})})})}let tB=(0,e7.r1)("dismissed_starting_points_templates_modal");function tH(){return(0,l.jsx)(p.u9,{label:"StartingPointsTemplatesModalOverlay",children:(0,l.jsx)(t$,{})})}function t$(){let e=(0,s.wA)(),t=!!(0,u.kc)().starting_points_modal,n=(0,ep.QL)(ek.E_.key)===ek.E_.value,r=(0,et.aV)(),a=(0,s.d4)(e=>e.mirror.appModel.currentPage),o=(0,tn.Fk)((e,t)=>(0,e6.zC)(e,t),a),d=(0,ep.QL)(tm.pt.KEY)===tm.pt.VALUE,x=(0,j.q5)(),c=(0,e9.TA)(),m=x?.creatorId===c,p=(0,O.md)(J.Fy),h=(0,O.md)(e8.UQ),g=!(0,eI.f)("not_gen_0"),f=(0,O.md)(tB),y=(0,ex.Ay)().starting_points,{show:v,isShowing:k,complete:_}=(0,Y.e)({overlay:er.EYw,priority:el.N.OVERRIDING_MODAL+1},[p,f]);return(i.useEffect(()=>{t&&m&&!d&&!r&&o&&!k&&(n?v():g&&h&&y&&v({canShow:(e,t)=>!e&&!t}))},[t,m,r,o,k,n,g,h,d,y,f,v]),k)?(0,l.jsx)(tV,{onClose:()=>{f.data||e(eN.b({dismissed_starting_points_templates_modal:!0})),_()}}):null}var tG=n(488051),tK=n(27414),tU=n(536746),tW=n(907490),tX=n(390739),tZ=n(816379),tY=n(941634),tQ=n(482621),tJ=n(642165),t0=n(424976);let t1=(0,t0.Op)({initial:"ready_to_show",states:[{id:"ready_to_show",transitions:[(0,t0.nr)("curator_content_shown","ui3_onboarding_was_shown_in_current_session",{condition:({event:e})=>e.properties.shown===er.KTt.id})]},{id:"ui3_onboarding_was_shown_in_current_session",terminal:!0}]}),t2=(0,t0.rn)("track_ui3_onboarding_shown",t1);var t5=n(326790);function t3(){let{isShowing:e,complete:t,show:n,uniqueId:r}=(0,Y.e)({overlay:er.l_p,priority:el.N.SECONDARY_MODAL}),a=(0,s.wA)(),d=(0,et.aV)(),u=(0,j.q5)(),c=(0,e9.iZ)(),m=(0,tG.te)(),p=!!(0,eI.f)(tQ.bo),h="ui3_onboarding_was_shown_in_current_session"===(0,tU.zl)(t2).currentState,g="no_figma_basics_onboarding_was_shown_in_current_session"===(0,tU.zl)(tJ.j).currentState,f=(0,O.md)(tY.dL),y=(0,tW.jO)(),v=u?.canEdit,k=(0,s.d4)(e=>e.leftPanel.activeTab===o.xae.LAYERS);if((0,Z.E)(r,["Reset Visual Assets Tooltips",tQ.io],()=>{c&&u&&a(eN.b(t5.g))}),(0,i.useEffect)(()=>{!m()||!v||f||p||h||g||!y||d||!k||e||n()},[n,m,v,p,y,d,h,g,e,f,k]),(0,i.useEffect)(()=>{!k&&e&&t()},[k,e,t]),!e)return null;let _=(0,l.jsx)("strong",{style:{display:"contents"},children:(0,x.tx)("design_systems.assets_panel.assets")});return(0,l.jsx)(tX.X,{isShowing:e,title:(0,x.tx)("rcs.visual_assets.elevate_your_designs"),description:(0,x.tx)("rcs.visual_assets.grab_visual_assets",{strongAssets:_}),primaryCta:{label:(0,x.tx)("rcs.presets_baseline.try_it"),type:"button",onClick:()=>{a(tK.FP({tab:o.xae.ASSETS})),t()},ctaTrackingDescriptor:em.c.PRESETS_TRY_IT},trackingContextName:"Visual Assets Intro Tooltip",userFlagOnShow:tQ.bo,position:tZ.Q.UI3_EDITOR_TOP_LEFT,onClose:t})}var t4=n(48895),t7=n(125802),t8=n(88634),t6=n(931547),t9=n(556875),ne=n(942356),nt=n(346524),nn=n(232839),nl=n(861266),ni=n(499735),ns=n(236410),nr=n(74372),na=n(982059),no=n(74042),nd=n(450255),nx=n(903312),nu=n(622059);let nc=(0,nd.nh)(()=>{let e=(0,na.am)();return e?.layerLimit??na.W3});function nm(){let e=nc(),{layerCount:t,didExceedCountMax:n}=function(e){let t=i.useMemo(()=>1.5*e,[e]);return(0,tn.Fk)(e=>{let n=e.getDirectlySelectedNodes(),l=0,i=!1;for(let e of n){if(i)break;(0,no.eA)(e,()=>{if((l+=1)>=t)return i=!0,"stop"})}return{layerCount:l,didExceedCountMax:i}})}(e),l=n||t>e,s=0===t;return{layerCount:t,maxLayerCount:e,hasIssue:l||s,hasNoSelectedNodes:s,doesExceedLimit:l,didExceedCountMax:n}}let np=(0,nd.nh)(()=>!!(0,eI.f)("seen_linter_home_view"));function nh(){return(0,l.jsxs)("svg",{width:"56",height:"57",viewBox:"0 0 56 57",fill:"none","aria-hidden":"true",children:[(0,l.jsxs)("g",{clipPath:"url(#clip0_9897_16689)",children:[(0,l.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"#E4CCFF"}),(0,l.jsxs)("g",{filter:"url(#filter0_d_9897_16689)",children:[(0,l.jsx)("rect",{x:"9.5",y:"23",width:"24",height:"24",rx:"3",fill:"white",shapeRendering:"crispEdges"}),(0,l.jsx)("path",{d:"M20.6165 36.5908C21.1046 36.1028 21.8959 36.1028 22.384 36.5908L23.7629 37.9697C24.251 38.4579 24.251 39.2492 23.7629 39.7373L22.384 41.1162L22.2893 41.2021C21.8311 41.5758 21.1694 41.5758 20.7112 41.2021L20.6165 41.1162L19.2375 39.7373C18.78 39.2797 18.7512 38.5554 19.1516 38.0645L19.2375 37.9697L20.6165 36.5908ZM21.677 37.2979C21.5794 37.2003 21.4211 37.2003 21.3235 37.2979L19.9446 38.6768C19.8471 38.7744 19.8471 38.9327 19.9446 39.0303L21.3235 40.4092C21.4211 40.5067 21.5794 40.5067 21.677 40.4092L23.0559 39.0303C23.1534 38.9327 23.1534 38.7744 23.0559 38.6768L21.677 37.2979ZM16.7629 32.7373C17.2511 32.2493 18.0424 32.2493 18.5305 32.7373L19.9094 34.1162C20.3975 34.6043 20.3975 35.3957 19.9094 35.8838L18.5305 37.2627L18.4358 37.3486C17.9776 37.7223 17.3159 37.7223 16.8577 37.3486L16.7629 37.2627L15.384 35.8838C14.9265 35.4262 14.8977 34.7019 15.2981 34.2109L15.384 34.1162L16.7629 32.7373ZM24.47 32.7373C24.9581 32.2493 25.7494 32.2493 26.2375 32.7373L27.6165 34.1162C28.1045 34.6043 28.1045 35.3957 27.6165 35.8838L26.2375 37.2627L26.1428 37.3486C25.6846 37.7223 25.0229 37.7223 24.5647 37.3486L24.47 37.2627L23.0911 35.8838C22.6335 35.4262 22.6047 34.7019 23.0051 34.2109L23.0911 34.1162L24.47 32.7373ZM17.8235 33.4443C17.7259 33.3468 17.5676 33.3468 17.47 33.4443L16.0911 34.8232C15.9936 34.9208 15.9936 35.0792 16.0911 35.1768L17.47 36.5557C17.5676 36.6532 17.7259 36.6532 17.8235 36.5557L19.2024 35.1768C19.2999 35.0792 19.2999 34.9208 19.2024 34.8232L17.8235 33.4443ZM25.5305 33.4443C25.4329 33.3468 25.2746 33.3468 25.177 33.4443L23.7981 34.8232C23.7006 34.9208 23.7006 35.0792 23.7981 35.1768L25.177 36.5557C25.2746 36.6532 25.4329 36.6532 25.5305 36.5557L26.9094 35.1768C27.0069 35.0792 27.0069 34.9208 26.9094 34.8232L25.5305 33.4443ZM20.6165 28.8838C21.1046 28.3958 21.8959 28.3958 22.384 28.8838L23.7629 30.2627C24.251 30.7508 24.251 31.5421 23.7629 32.0303L22.384 33.4092L22.2893 33.4951C21.8311 33.8688 21.1694 33.8688 20.7112 33.4951L20.6165 33.4092L19.2375 32.0303C18.78 31.5726 18.7512 30.8484 19.1516 30.3574L19.2375 30.2627L20.6165 28.8838ZM21.677 29.5908C21.5794 29.4933 21.4211 29.4933 21.3235 29.5908L19.9446 30.9697C19.8471 31.0673 19.8471 31.2256 19.9446 31.3232L21.3235 32.7021C21.4211 32.7997 21.5794 32.7997 21.677 32.7021L23.0559 31.3232C23.1534 31.2256 23.1534 31.0673 23.0559 30.9697L21.677 29.5908Z",fill:"#D9B8FF"})]}),(0,l.jsxs)("g",{filter:"url(#filter1_d_9897_16689)",children:[(0,l.jsx)("rect",{x:"22.5",y:"10",width:"24",height:"24",rx:"3",fill:"white",shapeRendering:"crispEdges"}),(0,l.jsx)("path",{d:"M33.6165 23.5908C34.1046 23.1028 34.8959 23.1028 35.384 23.5908L36.7629 24.9697C37.251 25.4579 37.251 26.2492 36.7629 26.7373L35.384 28.1162L35.2893 28.2021C34.8311 28.5758 34.1694 28.5758 33.7112 28.2021L33.6165 28.1162L32.2375 26.7373C31.78 26.2797 31.7512 25.5554 32.1516 25.0645L32.2375 24.9697L33.6165 23.5908ZM34.677 24.2979C34.5794 24.2003 34.4211 24.2003 34.3235 24.2979L32.9446 25.6768C32.8471 25.7744 32.8471 25.9327 32.9446 26.0303L34.3235 27.4092C34.4211 27.5067 34.5794 27.5067 34.677 27.4092L36.0559 26.0303C36.1534 25.9327 36.1534 25.7744 36.0559 25.6768L34.677 24.2979ZM29.7629 19.7373C30.2511 19.2493 31.0424 19.2493 31.5305 19.7373L32.9094 21.1162C33.3975 21.6043 33.3975 22.3957 32.9094 22.8838L31.5305 24.2627L31.4358 24.3486C30.9776 24.7223 30.3159 24.7223 29.8577 24.3486L29.7629 24.2627L28.384 22.8838C27.9265 22.4262 27.8977 21.7019 28.2981 21.2109L28.384 21.1162L29.7629 19.7373ZM37.47 19.7373C37.9581 19.2493 38.7494 19.2493 39.2375 19.7373L40.6165 21.1162C41.1045 21.6043 41.1045 22.3957 40.6165 22.8838L39.2375 24.2627L39.1428 24.3486C38.6846 24.7223 38.0229 24.7223 37.5647 24.3486L37.47 24.2627L36.0911 22.8838C35.6335 22.4262 35.6047 21.7019 36.0051 21.2109L36.0911 21.1162L37.47 19.7373ZM30.8235 20.4443C30.7259 20.3468 30.5676 20.3468 30.47 20.4443L29.0911 21.8232C28.9936 21.9208 28.9936 22.0792 29.0911 22.1768L30.47 23.5557C30.5676 23.6532 30.7259 23.6532 30.8235 23.5557L32.2024 22.1768C32.2999 22.0792 32.2999 21.9208 32.2024 21.8232L30.8235 20.4443ZM38.5305 20.4443C38.4329 20.3468 38.2746 20.3468 38.177 20.4443L36.7981 21.8232C36.7006 21.9208 36.7006 22.0792 36.7981 22.1768L38.177 23.5557C38.2746 23.6532 38.4329 23.6532 38.5305 23.5557L39.9094 22.1768C40.0069 22.0792 40.0069 21.9208 39.9094 21.8232L38.5305 20.4443ZM33.6165 15.8838C34.1046 15.3958 34.8959 15.3958 35.384 15.8838L36.7629 17.2627C37.251 17.7508 37.251 18.5421 36.7629 19.0303L35.384 20.4092L35.2893 20.4951C34.8311 20.8688 34.1694 20.8688 33.7112 20.4951L33.6165 20.4092L32.2375 19.0303C31.78 18.5726 31.7512 17.8484 32.1516 17.3574L32.2375 17.2627L33.6165 15.8838ZM34.677 16.5908C34.5794 16.4933 34.4211 16.4933 34.3235 16.5908L32.9446 17.9697C32.8471 18.0673 32.8471 18.2256 32.9446 18.3232L34.3235 19.7021C34.4211 19.7997 34.5794 19.7997 34.677 19.7021L36.0559 18.3232C36.1534 18.2256 36.1534 18.0673 36.0559 17.9697L34.677 16.5908Z",fill:"#9747FF"})]})]}),(0,l.jsxs)("defs",{children:[(0,l.jsxs)("filter",{id:"filter0_d_9897_16689",x:"1.5",y:"17",width:"40",height:"40",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,l.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,l.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,l.jsx)("feOffset",{dy:"2"}),(0,l.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,l.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,l.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,l.jsx)("feBlend",{mode:"multiply",in2:"BackgroundImageFix",result:"effect1_dropShadow_9897_16689"}),(0,l.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_9897_16689",result:"shape"})]}),(0,l.jsxs)("filter",{id:"filter1_d_9897_16689",x:"14.5",y:"4",width:"40",height:"40",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,l.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,l.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,l.jsx)("feOffset",{dy:"2"}),(0,l.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,l.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,l.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,l.jsx)("feBlend",{mode:"multiply",in2:"BackgroundImageFix",result:"effect1_dropShadow_9897_16689"}),(0,l.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_9897_16689",result:"shape"})]}),(0,l.jsx)("clipPath",{id:"clip0_9897_16689",children:(0,l.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"white"})})]})]})}function ng(){return(0,l.jsxs)("svg",{width:"56",height:"57",viewBox:"0 0 56 57",fill:"none","aria-hidden":"true",children:[(0,l.jsxs)("g",{clipPath:"url(#clip0_9897_16676)",children:[(0,l.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"#FFBDF2"}),(0,l.jsxs)("g",{filter:"url(#filter0_d_9897_16676)",children:[(0,l.jsx)("rect",{x:"7",y:"8.5",width:"24",height:"18",rx:"3",fill:"white",shapeRendering:"crispEdges"}),(0,l.jsx)("path",{d:"M13.3983 21H11.9842L14.8319 13H16.4217L19.2694 21H17.8553L15.6561 14.5469H15.5936L13.3983 21ZM13.5272 17.8672H17.7147V18.9531H13.5272V17.8672ZM22.7736 23.375C22.2814 23.375 21.8582 23.3099 21.5041 23.1797C21.1525 23.0495 20.8673 22.875 20.6486 22.6563C20.4298 22.4375 20.2723 22.1979 20.1759 21.9375L21.3127 21.5781C21.3778 21.6927 21.4676 21.8112 21.5822 21.9336C21.6968 22.056 21.8517 22.1589 22.047 22.2422C22.2423 22.3281 22.491 22.3711 22.7931 22.3711C23.215 22.3711 23.564 22.2682 23.84 22.0625C24.116 21.8594 24.2541 21.5286 24.2541 21.0703V19.9141H24.1798C24.1095 20.0521 24.0067 20.1992 23.8713 20.3555C23.7358 20.5091 23.5535 20.6406 23.3244 20.75C23.0952 20.8568 22.8035 20.9102 22.4494 20.9102C21.9832 20.9102 21.5614 20.8008 21.1838 20.582C20.8088 20.3607 20.5106 20.0326 20.2892 19.5977C20.0679 19.1628 19.9572 18.6224 19.9572 17.9766C19.9572 17.3307 20.0666 16.7799 20.2853 16.3242C20.5041 15.8685 20.8022 15.5208 21.1798 15.2812C21.5574 15.0417 21.9832 14.9219 22.4572 14.9219C22.8192 14.9219 23.1134 14.9831 23.34 15.1055C23.5692 15.2253 23.7502 15.3685 23.883 15.5352C24.0158 15.6992 24.1173 15.8477 24.1877 15.9805H24.2658V15H25.5353V21.1172C25.5353 21.6302 25.4142 22.0534 25.172 22.3867C24.9324 22.7201 24.6043 22.9674 24.1877 23.1289C23.771 23.293 23.2996 23.375 22.7736 23.375ZM22.7775 19.8711C23.0952 19.8711 23.3647 19.7956 23.5861 19.6445C23.8074 19.4935 23.9754 19.276 24.09 18.9922C24.2072 18.7057 24.2658 18.3646 24.2658 17.9687C24.2658 17.5755 24.2085 17.2318 24.0939 16.9375C23.9793 16.6432 23.8114 16.4141 23.59 16.25C23.3686 16.0833 23.0978 16 22.7775 16C22.4442 16 22.1655 16.0859 21.9416 16.2578C21.7176 16.4297 21.5496 16.6641 21.4377 16.9609C21.3257 17.2578 21.2697 17.5937 21.2697 17.9687C21.2697 18.349 21.327 18.6823 21.4416 18.9687C21.5561 19.2526 21.7241 19.474 21.9455 19.6328C22.1694 19.7917 22.4468 19.8711 22.7775 19.8711Z",fill:"#FF24BD"}),(0,l.jsx)("path",{d:"M47.584 13.2226C47.7372 12.9929 48.0476 12.9308 48.2773 13.084C48.5071 13.2371 48.5692 13.5476 48.416 13.7773L43.416 21.2773C43.3329 21.402 43.1979 21.4833 43.0488 21.498C42.8999 21.5126 42.7523 21.4593 42.6465 21.3535L39.6465 18.3535C39.4513 18.1582 39.4512 17.8417 39.6465 17.6465C39.8173 17.4756 40.0813 17.4539 40.2754 17.582L40.3535 17.6465L42.9219 20.2148L47.584 13.2226Z",fill:"white"})]}),(0,l.jsxs)("g",{filter:"url(#filter1_d_9897_16676)",children:[(0,l.jsx)("rect",{x:"7",y:"30.5",width:"24",height:"18",rx:"3",fill:"white",shapeRendering:"crispEdges"}),(0,l.jsx)("path",{d:"M13.3983 43H11.9842L14.8319 35H16.4217L19.2694 43H17.8553L15.6561 36.5469H15.5936L13.3983 43ZM13.5272 39.8672H17.7147V40.9531H13.5272V39.8672ZM22.7736 45.375C22.2814 45.375 21.8582 45.3099 21.5041 45.1797C21.1525 45.0495 20.8673 44.875 20.6486 44.6563C20.4298 44.4375 20.2723 44.1979 20.1759 43.9375L21.3127 43.5781C21.3778 43.6927 21.4676 43.8112 21.5822 43.9336C21.6968 44.056 21.8517 44.1589 22.047 44.2422C22.2423 44.3281 22.491 44.3711 22.7931 44.3711C23.215 44.3711 23.564 44.2682 23.84 44.0625C24.116 43.8594 24.2541 43.5286 24.2541 43.0703V41.9141H24.1798C24.1095 42.0521 24.0067 42.1992 23.8713 42.3555C23.7358 42.5091 23.5535 42.6406 23.3244 42.75C23.0952 42.8568 22.8035 42.9102 22.4494 42.9102C21.9832 42.9102 21.5614 42.8008 21.1838 42.582C20.8088 42.3607 20.5106 42.0326 20.2892 41.5977C20.0679 41.1628 19.9572 40.6224 19.9572 39.9766C19.9572 39.3307 20.0666 38.7799 20.2853 38.3242C20.5041 37.8685 20.8022 37.5208 21.1798 37.2812C21.5574 37.0417 21.9832 36.9219 22.4572 36.9219C22.8192 36.9219 23.1134 36.9831 23.34 37.1055C23.5692 37.2253 23.7502 37.3685 23.883 37.5352C24.0158 37.6992 24.1173 37.8477 24.1877 37.9805H24.2658V37H25.5353V43.1172C25.5353 43.6302 25.4142 44.0534 25.172 44.3867C24.9324 44.7201 24.6043 44.9674 24.1877 45.1289C23.771 45.293 23.2996 45.375 22.7736 45.375ZM22.7775 41.8711C23.0952 41.8711 23.3647 41.7956 23.5861 41.6445C23.8074 41.4935 23.9754 41.276 24.09 40.9922C24.2072 40.7057 24.2658 40.3646 24.2658 39.9687C24.2658 39.5755 24.2085 39.2318 24.0939 38.9375C23.9793 38.6432 23.8114 38.4141 23.59 38.25C23.3686 38.0833 23.0978 38 22.7775 38C22.4442 38 22.1655 38.0859 21.9416 38.2578C21.7176 38.4297 21.5496 38.6641 21.4377 38.9609C21.3257 39.2578 21.2697 39.5937 21.2697 39.9687C21.2697 40.349 21.327 40.6823 21.4416 40.9687C21.5561 41.2526 21.7241 41.474 21.9455 41.6328C22.1694 41.7917 22.4468 41.8711 22.7775 41.8711Z",fill:"#FF99E0"}),(0,l.jsx)("path",{d:"M44 33.5C40.6863 33.5 38 36.1863 38 39.5C38 42.8137 40.6863 45.5 44 45.5C47.3137 45.5 50 42.8137 50 39.5C50 36.1863 47.3137 33.5 44 33.5ZM47.8721 36.335C48.5775 37.1969 49 38.2993 49 39.5C49 42.2614 46.7614 44.5 44 44.5C42.7994 44.5 41.6979 44.0764 40.8359 43.3711L47.8721 36.335ZM44 34.5C45.2007 34.5 46.3031 34.9225 47.165 35.6279L40.1289 42.6641C39.4236 41.8021 39 40.7006 39 39.5C39 36.7386 41.2386 34.5 44 34.5Z",fill:"white"})]})]}),(0,l.jsxs)("defs",{children:[(0,l.jsxs)("filter",{id:"filter0_d_9897_16676",x:"-1",y:"2.5",width:"61",height:"34",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,l.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,l.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,l.jsx)("feOffset",{dy:"2"}),(0,l.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,l.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,l.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,l.jsx)("feBlend",{mode:"multiply",in2:"BackgroundImageFix",result:"effect1_dropShadow_9897_16676"}),(0,l.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_9897_16676",result:"shape"})]}),(0,l.jsxs)("filter",{id:"filter1_d_9897_16676",x:"-1",y:"24.5",width:"61",height:"34",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,l.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,l.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,l.jsx)("feOffset",{dy:"2"}),(0,l.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,l.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,l.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,l.jsx)("feBlend",{mode:"multiply",in2:"BackgroundImageFix",result:"effect1_dropShadow_9897_16676"}),(0,l.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_9897_16676",result:"shape"})]}),(0,l.jsx)("clipPath",{id:"clip0_9897_16676",children:(0,l.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"white"})})]})]})}function nf(){return(0,l.jsxs)("svg",{width:"56",height:"57",viewBox:"0 0 56 57",fill:"none","aria-hidden":"true",children:[(0,l.jsxs)("g",{clipPath:"url(#clip0_10049_1824)",children:[(0,l.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"#BDE3FF"}),(0,l.jsxs)("g",{filter:"url(#filter0_d_10049_1824)",children:[(0,l.jsx)("rect",{x:"8",y:"8.5",width:"40",height:"40",rx:"3",fill:"white",shapeRendering:"crispEdges"}),(0,l.jsx)("path",{d:"M26 16C26 15.1716 26.6716 14.5 27.5 14.5H41.5C42.3284 14.5 43 15.1716 43 16C43 16.8284 42.3284 17.5 41.5 17.5H27.5C26.6716 17.5 26 16.8284 26 16Z",fill:"#BDE3FF"}),(0,l.jsx)("path",{d:"M26 29C26 28.1716 26.6716 27.5 27.5 27.5H41.5C42.3284 27.5 43 28.1716 43 29C43 29.8284 42.3284 30.5 41.5 30.5H27.5C26.6716 30.5 26 29.8284 26 29Z",fill:"#BDE3FF"}),(0,l.jsx)("path",{d:"M26 40C26 39.1716 26.6716 38.5 27.5 38.5H41.5C42.3284 38.5 43 39.1716 43 40C43 40.8284 42.3284 41.5 41.5 41.5H27.5C26.6716 41.5 26 40.8284 26 40Z",fill:"#BDE3FF"}),(0,l.jsx)("path",{d:"M14.9375 16.4902C15.248 16.4904 15.4999 16.7423 15.5 17.0527C15.4999 17.3632 15.2479 17.615 14.9375 17.6152C14.6273 17.615 14.3755 17.3638 14.375 17.0537C14.375 16.7431 14.6269 16.4904 14.9375 16.4902Z",fill:"#0D99FF"}),(0,l.jsx)("path",{d:"M19.0625 15.375C19.3731 15.3751 19.625 15.6279 19.625 15.9385C19.6245 16.2485 19.3726 16.4998 19.0625 16.5C18.7521 16.4997 18.5 16.248 18.5 15.9375C18.5 15.6269 18.752 15.3751 19.0625 15.375Z",fill:"#0D99FF"}),(0,l.jsx)("path",{d:"M15.3125 14.25C15.6231 14.2501 15.875 14.5019 15.875 14.8125C15.875 15.1231 15.6231 15.3749 15.3125 15.375C15.0019 15.3749 14.75 15.1231 14.75 14.8125C14.75 14.5019 15.0019 14.2501 15.3125 14.25Z",fill:"#0D99FF"}),(0,l.jsx)("path",{d:"M17.5625 13.876C17.8731 13.876 18.125 14.1269 18.125 14.4375C18.1249 14.7481 17.8731 15 17.5625 15C17.2519 14.9999 17.0001 14.7481 17 14.4375C17 14.1269 17.2519 13.876 17.5625 13.876Z",fill:"#0D99FF"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 12C19.4853 12 21.5 14.0147 21.5 16.5C21.5 16.728 21.4833 16.9525 21.4502 17.1719C21.2884 18.2437 20.2918 18.75 19.4551 18.75H17.75C17.75 19.366 17.4927 19.9576 17.0518 20.3467C16.5911 20.753 15.924 20.932 15.2471 20.6455C13.634 19.9627 12.5 18.3647 12.5 16.5C12.5 14.0147 14.5147 12 17 12ZM17 12.75C14.9289 12.75 13.25 14.4289 13.25 16.5C13.25 18.0529 14.1937 19.3855 15.5391 19.9551C16.302 20.278 17 19.5784 17 18.75C17 18.3358 17.3358 18 17.75 18H19.4551C20.0512 18 20.6191 17.649 20.708 17.0596C20.7355 16.877 20.75 16.6902 20.75 16.5C20.75 14.4289 19.0711 12.75 17 12.75Z",fill:"#0D99FF"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.498 27.1146C19.739 27.1146 19.935 27.1552 20.0859 27.2367C20.2387 27.3165 20.3597 27.4127 20.4482 27.5238C20.5367 27.633 20.6045 27.7322 20.6514 27.8206H20.7031V27.1663H21.5498V31.2445C21.5498 31.5865 21.469 31.8689 21.3076 32.0911C21.1479 32.3134 20.9291 32.4786 20.6514 32.5863C20.3737 32.6956 20.0595 32.7503 19.709 32.7503C19.3809 32.7503 19.0984 32.7063 18.8623 32.6195C18.628 32.5327 18.4378 32.4166 18.292 32.2708C18.1462 32.125 18.0408 31.965 17.9766 31.7913L18.7344 31.5521C18.7778 31.6285 18.8377 31.7078 18.9141 31.7894C18.9904 31.871 19.0944 31.9389 19.2246 31.9945C19.3548 32.0517 19.5204 32.0804 19.7217 32.0804C20.0029 32.0804 20.2359 32.0125 20.4199 31.8753C20.6039 31.7399 20.6953 31.5187 20.6953 31.2132V30.4427H20.6465C20.5996 30.5347 20.5306 30.6326 20.4404 30.7367C20.3502 30.839 20.2288 30.9274 20.0762 31.0003C19.9234 31.0715 19.7283 31.1068 19.4922 31.1068C19.1815 31.1067 18.9001 31.0338 18.6484 30.888C18.3986 30.7405 18.2003 30.5216 18.0527 30.2318C17.9052 29.9418 17.8311 29.5813 17.8311 29.1507C17.8311 28.7203 17.904 28.3529 18.0498 28.0492C18.1956 27.7455 18.3948 27.5135 18.6465 27.3538C18.8981 27.1943 19.1823 27.1146 19.498 27.1146ZM19.7109 27.8333C19.4889 27.8334 19.3035 27.8908 19.1543 28.0052C19.005 28.1198 18.893 28.2761 18.8184 28.474C18.7437 28.6719 18.7061 28.8958 18.7061 29.1458C18.7061 29.3993 18.7439 29.6219 18.8203 29.8128C18.8967 30.0019 19.0088 30.1494 19.1562 30.2552C19.3055 30.3611 19.4905 30.4144 19.7109 30.4144C19.9227 30.4144 20.1025 30.3637 20.25 30.263C20.3975 30.1624 20.5096 30.0175 20.5859 29.8285C20.6641 29.6375 20.7031 29.4097 20.7031 29.1458C20.7031 28.8837 20.6652 28.6545 20.5889 28.4583C20.5125 28.2623 20.4004 28.1097 20.2529 28.0003C20.1054 27.8892 19.9245 27.8333 19.7109 27.8333Z",fill:"#0D99FF"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.3721 31.1663H16.4297L15.9648 29.8021H13.9219L13.458 31.1663H12.5156L14.4141 25.8333H15.4736L17.3721 31.1663ZM14.1689 29.0785H15.7178L14.9639 26.8646H14.9219L14.1689 29.0785Z",fill:"#0D99FF"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.8379 42.748C16.0439 42.7685 16.2274 42.6181 16.248 42.4121L16.2891 42H17.4111L17.377 42.3379C17.3565 42.5439 17.5069 42.7274 17.7129 42.748C17.9189 42.7685 18.1024 42.6181 18.123 42.4121L18.1641 42H18.875C19.0821 42 19.25 41.8321 19.25 41.625C19.25 41.4179 19.0821 41.25 18.875 41.25H18.2393L18.3896 39.75H18.875C19.0821 39.75 19.25 39.5821 19.25 39.375C19.25 39.1679 19.0821 39 18.875 39H18.4639L18.498 38.6621C18.5185 38.4561 18.3681 38.2726 18.1621 38.252C17.9561 38.2315 17.7726 38.3819 17.752 38.5879L17.7109 39H16.5889L16.623 38.6621C16.6435 38.4561 16.4931 38.2726 16.2871 38.252C16.0811 38.2315 15.8976 38.3819 15.877 38.5879L15.8359 39H15.125C14.9179 39 14.75 39.1679 14.75 39.375C14.75 39.5821 14.9179 39.75 15.125 39.75H15.7607L15.6104 41.25H15.125C14.9179 41.25 14.75 41.4179 14.75 41.625C14.75 41.8321 14.9179 42 15.125 42H15.5361L15.502 42.3379C15.4815 42.5439 15.6319 42.7274 15.8379 42.748ZM16.3643 41.25L16.5146 39.75H17.6357L17.4854 41.25H16.3643Z",fill:"#0D99FF"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.625 44.25C20.2463 44.2499 20.75 43.7463 20.75 43.125V37.875C20.75 37.2537 20.2463 36.7501 19.625 36.75H14.375C13.7537 36.75 13.25 37.2537 13.25 37.875V43.125C13.25 43.7463 13.7537 44.25 14.375 44.25H19.625ZM14.375 43.5C14.1679 43.5 14 43.3321 14 43.125V37.875C14 37.6679 14.1679 37.5 14.375 37.5H19.625C19.832 37.5001 20 37.6679 20 37.875V43.125C20 43.3321 19.832 43.4999 19.625 43.5H14.375Z",fill:"#0D99FF"})]})]}),(0,l.jsxs)("defs",{children:[(0,l.jsxs)("filter",{id:"filter0_d_10049_1824",x:"0",y:"2.5",width:"56",height:"56",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,l.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,l.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,l.jsx)("feOffset",{dy:"2"}),(0,l.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,l.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,l.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,l.jsx)("feBlend",{mode:"multiply",in2:"BackgroundImageFix",result:"effect1_dropShadow_10049_1824"}),(0,l.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10049_1824",result:"shape"})]}),(0,l.jsx)("clipPath",{id:"clip0_10049_1824",children:(0,l.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"white"})})]})]})}function ny(){return(0,l.jsxs)("svg",{width:"288",height:"173",viewBox:"0 0 288 173",fill:"none",children:[(0,l.jsxs)("g",{clipPath:"url(#clip0_10088_1793)",children:[(0,l.jsx)("rect",{y:"0.5",width:"288",height:"172",rx:"5",fill:"#F5F5F5"}),(0,l.jsx)("g",{filter:"url(#filter0_d_10088_1793)",children:(0,l.jsx)("rect",{x:"50",y:"26",width:"56",height:"120",rx:"4",fill:"#D9D9D9"})}),(0,l.jsx)("g",{filter:"url(#filter1_d_10088_1793)",children:(0,l.jsx)("rect",{x:"-22",y:"26",width:"56",height:"120",rx:"4",fill:"#D9D9D9"})}),(0,l.jsx)("g",{filter:"url(#filter2_d_10088_1793)",children:(0,l.jsx)("rect",{x:"122",y:"26",width:"56",height:"120",rx:"4",fill:"#D9D9D9"})}),(0,l.jsx)("rect",{x:"121.5",y:"25.5",width:"57",height:"120",stroke:"#0D99FF"}),(0,l.jsx)("rect",{x:"118.5",y:"22.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,l.jsx)("rect",{x:"118.5",y:"141.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,l.jsx)("rect",{x:"174.5",y:"22.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,l.jsx)("rect",{x:"174.5",y:"141.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,l.jsx)("g",{filter:"url(#filter3_d_10088_1793)",children:(0,l.jsx)("rect",{x:"194",y:"26",width:"56",height:"120",rx:"4",fill:"#D9D9D9"})}),(0,l.jsx)("rect",{x:"193.5",y:"25.5",width:"57",height:"120",stroke:"#0D99FF"}),(0,l.jsx)("rect",{x:"190.5",y:"22.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,l.jsx)("rect",{x:"190.5",y:"141.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,l.jsx)("rect",{x:"246.5",y:"22.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,l.jsx)("rect",{x:"246.5",y:"141.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,l.jsx)("g",{filter:"url(#filter4_d_10088_1793)",children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M237.409 97.4091C238.033 96.7852 238.964 96.5835 239.79 96.8933L256.29 103.081C257.212 103.427 257.802 104.332 257.746 105.316C257.69 106.299 257.001 107.131 256.046 107.37L249.105 109.105L247.37 116.046C247.131 117.001 246.299 117.69 245.316 117.746C244.332 117.802 243.427 117.212 243.081 116.29L236.893 99.7901C236.584 98.9639 236.785 98.033 237.409 97.4091Z",fill:"white"})}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M239.263 98.2978C238.988 98.1945 238.678 98.2617 238.47 98.4697C238.262 98.6777 238.195 98.988 238.298 99.2634L244.485 115.763C244.601 116.071 244.902 116.267 245.23 116.249C245.558 116.23 245.835 116 245.915 115.682L247.868 107.868L255.682 105.915C256 105.835 256.23 105.558 256.249 105.23C256.267 104.902 256.071 104.601 255.763 104.485L239.263 98.2978Z",fill:"black"})]}),(0,l.jsx)("rect",{x:"0.5",y:"1",width:"287",height:"171",rx:"4.5",stroke:"#E6E6E6"}),(0,l.jsxs)("defs",{children:[(0,l.jsxs)("filter",{id:"filter0_d_10088_1793",x:"42",y:"20",width:"72",height:"136",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,l.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,l.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,l.jsx)("feOffset",{dy:"2"}),(0,l.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,l.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,l.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,l.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10088_1793"}),(0,l.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10088_1793",result:"shape"})]}),(0,l.jsxs)("filter",{id:"filter1_d_10088_1793",x:"-30",y:"20",width:"72",height:"136",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,l.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,l.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,l.jsx)("feOffset",{dy:"2"}),(0,l.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,l.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,l.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,l.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10088_1793"}),(0,l.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10088_1793",result:"shape"})]}),(0,l.jsxs)("filter",{id:"filter2_d_10088_1793",x:"114",y:"20",width:"72",height:"136",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,l.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,l.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,l.jsx)("feOffset",{dy:"2"}),(0,l.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,l.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,l.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,l.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10088_1793"}),(0,l.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10088_1793",result:"shape"})]}),(0,l.jsxs)("filter",{id:"filter3_d_10088_1793",x:"186",y:"20",width:"72",height:"136",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,l.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,l.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,l.jsx)("feOffset",{dy:"2"}),(0,l.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,l.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,l.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,l.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10088_1793"}),(0,l.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10088_1793",result:"shape"})]}),(0,l.jsxs)("filter",{id:"filter4_d_10088_1793",x:"232.25",y:"93.75",width:"30.0001",height:"30.0001",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,l.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,l.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,l.jsx)("feOffset",{dy:"1.5"}),(0,l.jsx)("feGaussianBlur",{stdDeviation:"2.25"}),(0,l.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),(0,l.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10088_1793"}),(0,l.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10088_1793",result:"shape"})]}),(0,l.jsx)("clipPath",{id:"clip0_10088_1793",children:(0,l.jsx)("rect",{y:"0.5",width:"288",height:"172",rx:"5",fill:"white"})})]})]})}function nv(){return(0,l.jsxs)("svg",{width:"96",height:"96",viewBox:"0 0 96 96",fill:"none","aria-hidden":"true",children:[(0,l.jsx)("path",{d:"M48 2C73.4051 2 94 22.5949 94 48C94 73.4051 73.4051 94 48 94C22.5949 94 2 73.4051 2 48C2 22.5949 22.5949 2 48 2Z",stroke:"var(--color-icon-handoff, #009951)",strokeWidth:"4"}),(0,l.jsx)("path",{d:"M36.3359 60.8906C36.9487 59.9717 38.1904 59.7233 39.1094 60.3359C40.0282 60.9487 40.2766 62.1904 39.6641 63.1094L31.6641 75.1094C31.3318 75.6078 30.7933 75.9311 30.1973 75.9902C29.6011 76.0493 29.0096 75.8377 28.5859 75.4141L24.5859 71.4141C23.8049 70.633 23.8049 69.367 24.5859 68.5859C25.367 67.8051 26.6331 67.8049 27.4141 68.5859L29.6885 70.8604L36.3359 60.8906ZM70 68C71.1044 68.0002 72 68.8955 72 70C72 71.1045 71.1044 71.9998 70 72H46C44.8954 72 44 71.1046 44 70C44 68.8954 44.8954 68 46 68H70ZM36.3359 40.8906C36.9487 39.9717 38.1904 39.7233 39.1094 40.3359C40.0281 40.9487 40.2766 42.1905 39.6641 43.1094L31.6641 55.1094C31.3318 55.6078 30.7933 55.931 30.1973 55.9902C29.6011 56.0493 29.0096 55.8376 28.5859 55.4141L24.5859 51.4141C23.8049 50.633 23.8049 49.367 24.5859 48.5859C25.367 47.8051 26.6331 47.8049 27.4141 48.5859L29.6885 50.8604L36.3359 40.8906ZM70 48C71.1044 48.0002 72 48.8956 72 50C71.9999 51.1044 71.1043 51.9998 70 52H46C44.8955 52 44.0001 51.1045 44 50C44 48.8954 44.8954 48 46 48H70ZM36.3359 20.8906C36.9487 19.9717 38.1904 19.7233 39.1094 20.3359C40.0282 20.9487 40.2766 22.1904 39.6641 23.1094L31.6641 35.1094C31.3318 35.6078 30.7933 35.9311 30.1973 35.9902C29.6011 36.0493 29.0096 35.8377 28.5859 35.4141L24.5859 31.4141C23.8049 30.633 23.8049 29.367 24.5859 28.5859C25.367 27.8051 26.6331 27.8049 27.4141 28.5859L29.6885 30.8604L36.3359 20.8906ZM70 28C71.1044 28.0002 72 28.8955 72 30C72 31.1045 71.1044 31.9998 70 32H46C44.8954 32 44 31.1046 44 30C44 28.8954 44.8954 28 46 28H70Z",fill:"var(--color-icon-handoff, #009951)"})]})}let nk="design-linter-landing-page";function n_({onContinue:e,currentView:t,hasNoSelectedNodes:n,doesExceedLimit:i,isButtonDisabled:s}){return(0,l.jsx)(ne.$n,{recordingKey:ni.Pt(nk,"continue-button"),"data-testid":`${nk}-continue-button`,onClick:e,htmlAttributes:{"data-tooltip":function({currentView:e,hasNoSelectedNodes:t,doesExceedLimit:n}){return e===t9.FR.LANDING_PAGE_WELCOME?"":t?(0,x.t)("design_linter.landing_page.no_nodes_selected.button_tooltip"):n?(0,x.t)("design_linter.landing_page.layer_limit_exceeded.title"):""}({currentView:t,hasNoSelectedNodes:n,doesExceedLimit:i}),"data-tooltip-type":ns.Ib.TEXT},disabled:s,children:(0,x.tx)("general.continue")})}function nj(){let e=!!(0,u.kc)().aip_flower_garden_text_bg_aa,t=!!(0,u.kc)().aip_flower_garden_library_match;return(0,l.jsxs)("div",{className:"x1xn8qrt xnjsko4 xboal0k x78zum5 xdt5ytf xl56j7k x6s0dn4 x2lah0s xkh2ocl x87ps6o x9f619 x1665zp3","data-testid":`${nk}-welcome`,children:[(0,l.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x2b8uid",children:[(0,l.jsx)("h3",{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx xiuzu7u x4l9tsp x2b8uid",children:(0,x.tx)("design_linter.landing_page.title")}),(0,l.jsx)("p",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xv1l7n4 xj7an9n x2b8uid x78zum5 x6s0dn4 x1jnr06f xkh2ocl",children:(0,x.tx)("design_linter.landing_page.subheader")})]}),(0,l.jsxs)("ul",{className:"x78zum5 xdt5ytf xou54vl","aria-label":(0,x.t)("design_linter.landing_page.list.title"),children:[(0,l.jsx)(nN,{headerText:(0,x.t)("design_linter.landing_page.feature_tokens_header"),subheaderText:(0,x.t)("design_linter.landing_page.feature_tokens_subheader"),children:(0,l.jsx)(nf,{})}),e&&(0,l.jsx)(nN,{headerText:(0,x.t)("design_linter.landing_page.feature_contrast_header"),subheaderText:(0,x.t)("design_linter.landing_page.feature_contrast_subheader"),children:(0,l.jsx)(ng,{})}),t&&(0,l.jsx)(nN,{headerText:(0,x.t)("design_linter.landing_page.feature_incorrect_assets_header"),subheaderText:(0,x.t)("design_linter.landing_page.feature_incorrect_assets_subheader"),children:(0,l.jsx)(nh,{})})]})]})}function nb(){let{layerCount:e,maxLayerCount:t,hasIssue:n,didExceedCountMax:i,hasNoSelectedNodes:s}=nm(),r=`${e.toLocaleString()}${i?"+":""}`,a=t.toLocaleString(),o=i?" \xb7 "+(0,x.t)("design_linter.landing_page.layer_limit_exceeded.title"):"",d=(0,x.t)("design_linter.landing_page.layer_count.accessible_label",{currentCount:r,maxCount:a})+o,u=`${r} / ${a}${o}`;return(0,l.jsxs)("div",{className:"x78zum5 x1vvogim xnjsko4 xl56j7k x6s0dn4 x1jnr06f xkh2ocl",children:[(0,l.jsx)("div",{children:n?(0,l.jsx)(nn.f,{className:"x1taknsw","aria-label":(0,x.t)("design_linter.landing_page.layer_count_icon.warning")}):(0,l.jsx)(nl.W,{className:"x11vm0g5","aria-label":(0,x.t)("design_linter.landing_page.layer_count_icon.ready")})}),s?(0,l.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xv1l7n4 x2b8uid x87ps6o xss6m8b",children:(0,x.tx)("design_linter.landing_page.no_nodes_selected.error_footer")}):(0,l.jsxs)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xv1l7n4 x2b8uid x87ps6o xss6m8b",children:[(0,l.jsx)("span",{"aria-hidden":"true",children:u}),(0,l.jsx)(nt.E,{children:d})]})]})}function nC(){return(0,l.jsxs)("div",{className:"x1xn8qrt xnjsko4 xboal0k x78zum5 xdt5ytf xl56j7k x6s0dn4 x2lah0s xkh2ocl x87ps6o x9f619","data-testid":`${nk}-no-nodes-selected`,children:[(0,l.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x2b8uid x1vvogim xnjsko4",children:[(0,l.jsx)("h3",{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx xiuzu7u x4l9tsp x2b8uid",children:(0,x.tx)("design_linter.landing_page.no_nodes_selected.title")}),(0,l.jsx)("p",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xv1l7n4 xj7an9n x2b8uid x78zum5 x6s0dn4 x1jnr06f xkh2ocl",children:(0,x.tx)("design_linter.landing_page.no_nodes_selected.subheader")})]}),(0,l.jsx)("div",{className:"x1vvogim xnjsko4","aria-hidden":"true",children:(0,l.jsx)(ny,{})})]})}function nw(){return(0,l.jsxs)("div",{className:"x1xn8qrt xnjsko4 xboal0k x78zum5 xdt5ytf xl56j7k x6s0dn4 x2lah0s xkh2ocl x87ps6o x9f619","data-testid":`${nk}-layer-limit-exceeded`,children:[(0,l.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x2b8uid x1vvogim xnjsko4",children:[(0,l.jsx)("h3",{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx xiuzu7u x4l9tsp x2b8uid",children:(0,x.tx)("design_linter.landing_page.layer_limit_exceeded.title")}),(0,l.jsx)("p",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xv1l7n4 xj7an9n x2b8uid x78zum5 x6s0dn4 x1jnr06f xkh2ocl",children:(0,x.tx)("design_linter.landing_page.layer_limit_exceeded.subheader")})]}),(0,l.jsx)("div",{className:"x1vvogim xnjsko4","aria-hidden":"true",children:(0,l.jsx)(ny,{})})]})}function nE({onTryAgain:e}){return(0,l.jsx)("div",{className:"x78zum5 xl56j7k x6s0dn4 x5yr21d x87ps6o","data-testid":`${nk}-loading-error-view`,children:(0,l.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x2b8uid",children:[(0,l.jsx)("h3",{className:"xrbesu5 x12cwyba x1l993ej x1ejgcx7 x1aos5ly x2b8uid xiuzu7u x1e56ztr",children:(0,x.tx)("design_linter.landing_page.loading_error.title")}),(0,l.jsx)(ne.$n,{onClick:e,variant:"primary",children:(0,x.tx)("design_linter.landing_page.loading_error.cta_button")})]})})}function nN({children:e,headerText:t,subheaderText:n}){let s=(0,i.useId)();return(0,l.jsxs)("li",{className:"x78zum5 xt970qd x17qtykl x6s0dn4 x1v2ro7d xkh2ocl",children:[e,(0,l.jsxs)("section",{className:"x78zum5 xdt5ytf xl56j7k x1cy8zhl x5mp9sv","aria-labelledby":s,children:[(0,l.jsx)("h4",{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l xiuzu7u",id:s,children:t}),(0,l.jsx)("p",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xv1l7n4",children:n})]})]})}var nI=n(321204),nT=n(581774),nS=n(582300),nL=n(494503),nA=n(230481),nR=n(798913),nM=n(585066),nz=n(772293);function nO({title:e,getItems:t,getItemName:n}){let[l,s]=(0,i.useState)(!1),r=(0,i.useCallback)(async()=>{l||(s(!0),await i());async function i(){try{let l;let i=[];(0,nR.l7)(d.zkO.USER,"debug-linter-visual-groups",()=>{let t=(0,z.UN)(),n=t.getCurrentPage();(l=t.createNode("SECTION")).fills=[{type:"SOLID",color:{r:.9,g:.9,b:.9,a:0},opacity:1}],l.name=e;let i=0;for(let e of n?.childrenNodes??[])e.x+e.size.x>i&&(i=e.x+e.size.x);l.x=i+100,l.y=0});let s=0,r=40,a=t();for(let[e,[t,o]]of Array.from(a.entries()).entries()){let a;(0,nR.l7)(d.zkO.USER,"debug-linter-visual-groups",()=>{let o=(0,z.UN)();if(e>0){let e=o.createNode("RECTANGLE");e.fills=[{type:"SOLID",color:{r:.3,g:.3,b:.3,a:1},opacity:1}],e.size={x:s,y:12},e.y=r+40,e.x=40,l.appendChild(e),r+=e.size.y+80,i.push(e.guid)}(a=o.createNode("FRAME")).visible=!1,a.name=n(t),a.x=40,a.y=r,a.fills=[{type:"SOLID",color:{r:.7,g:.7,b:.7,a:1},opacity:1}],a.stackMode="HORIZONTAL",a.stackSpacing=40,a.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE",a.stackTopPadding=40,a.stackBottomPadding=40,a.stackLeftPadding=40,a.stackRightPadding=40,a.frameMaskDisabled=!0});let x=0,u=0,c=0;for(let[e,t]of o.entries())await new Promise(e=>setTimeout(e,0)),(0,nR.l7)(d.zkO.USER,"debug-linter-visual-groups",()=>{let n;let i=(0,z.UN)(),s=i.get(t);if(!s)return;if("DOCUMENT"===s.type)n=i.createNode("FRAME").guid;else{if("CANVAS"===s.type)return;n=s.clone()}if(e>0){let e=i.createNode("RECTANGLE");e.fills=[{type:"SOLID",color:{r:.6,g:.2,b:.6,a:1},opacity:1}],e.size={x:4,y:u+40},e.y=40,e.x=x,a.appendChild(e),x+=e.size.x+40}let o=i.get(n);o&&(o.y=40,o.x=x,o.stackPositioning="AUTO",x+=o.size.x+40,u=Math.max(u,o.size.y),c=Math.max(c,o.size.x),"SECTION"===s.type?(l.appendChild(o),o.y=r):a.appendChild(o))});s=Math.max(s,x),r=r+u+120,(0,nR.l7)(d.zkO.USER,"debug-linter-visual-groups",()=>{if(l.size={x:s+40,y:r},0===a.childCount){a.removeSelfAndChildren();return}a.size={x:x,y:u+40},l.appendChild(a),a.visible=!0})}let x=(0,z.UN)().getCurrentPage();(0,nR.l7)(d.zkO.USER,"debug-linter-visual-groups",()=>{l&&(x?.appendChild(l),function(e,t){let n=(0,z.UN)();for(let l of e){let e=n.get(l);e&&(e.size={x:t,y:e.size.y})}}(i,l.size.x-80),o.Egt?.replaceSelection([l.guid],!0),nz.Y5.triggerAction("goto-layer",{args:{nodeId:l.guid}}))})}catch(e){console.error(e)}finally{s(!1)}}},[l,t,n,e]);return{isRunning:l,handleClick:r}}function nF(){let e=(0,O.md)(nu.Bd),{isRunning:t,handleClick:n}=nO({title:"Visual groups",getItems:(0,i.useCallback)(()=>{let t=new Map;return e.forEach(e=>{let n=`${e.id} | ${e.type}`;t.set(n,Array.from(e.rootNodeDevIdToViolatingNodeDevIdSet.keys()))}),t},[e]),getItemName:(0,i.useCallback)(t=>{let n=e.find(e=>`${e.id} | ${e.type}`===t);if(!n)return t;let l=(0,z.UN)(),i=Array.from(n.rootNodeDevIdToViolatingNodeDevIdSet.keys()).map(e=>{let t=l.getFromDeveloperFriendlyId?.(e);return t&&void 0!==t.visualGroupHash?t.visualGroupHash:"n/a"}).filter(Boolean).join(", ");return`${t} (Hash: ${i})`},[e])});return(0,l.jsx)("div",{className:"xz9dl7a",children:(0,l.jsx)(ne.$n,{disabled:t,onClick:n,iconPrefix:t?(0,l.jsx)(nM.k,{}):void 0,children:"Inspect groups"})})}function nD(){let e=function(){let e=(0,O.md)(t7.fY);return(0,i.useMemo)(()=>(0,nA.RG)(e?.devIds??[]),[e])}(),{isRunning:t,handleClick:n}=nO({title:"Visual Hashes",getItems:(0,i.useCallback)(()=>(function(e){let t=new Map,n=(0,z.UN)();return e.forEach(e=>{let l=n.get(e);l&&(0,nS.hV)(l,e=>{let n=String(o.mHF?.getVisualGroupFieldsHash(e.guid)??0),l=t.get(n)??[];t.set(n,[...l,e.guid])})}),t})(e),[e]),getItemName:(0,i.useCallback)(e=>`Hash: ${e}`,[])});return(0,l.jsx)("div",{className:"xz9dl7a",children:(0,l.jsx)(ne.$n,{disabled:t,onClick:n,iconPrefix:t?(0,l.jsx)(nM.k,{}):void 0,children:"Inspect Vis. G Field Hashes"})})}var nP=n(545414),nV=n(943360),nq=n(951740),nB=n(133963),nH=n.n(nB),n$=n(901962),nG=n(863412),nK=n(967088),nU=n(712022),nW=n(234672),nX=n(635815),nZ=n(286544),nY=n(328051),nQ=n(715588),nJ=n(107434),n0=n(317496),n1=n(595920);function n2({resolvedValue:e}){return"MIXED"!==e&&e&&e.resolvedType===d.rXF.FLOAT?(0,l.jsx)("div",{className:"x78zum5 x1q0g3np x6s0dn4 x1jnr06f x2lah0s xthy2uy xb3r6kr xy13l1i",children:(0,l.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xb3r6kr xlyipyv xuxw1ft xeuugli x1n0bwc9",children:(0,n1.Oi)(e)})}):null}let n5={LIST:32,TEXT_STYLE_LIST:32,LIST_SEPARATOR:16,LIST_SECTION_HEADER:32,LIST_HIERARCHY_PATH:32,SUGGESTED_HEADER:32};function n3(e){return n5[e?.type]??32}function n4(e,t,n){let l=t[e??-1]??null;if(!l||!("variable"in l))return null;let i=t.slice(0,e??void 0).filter(e=>"LIST"===e.type&&"variable"in e).length,s=l.variable,r=s.subscriptionStatus;return{assetKey:"LOCAL"===r?s.keyForPublish.toString():s.key.toString(),libraryKey:"LOCAL"===r?n:s.library_key,collectionKey:s.variableSetId,assetId:s.node_id,isFromSuggestedList:l.isSuggestion,rankPosition:i}}function n7(e,t){let n=t[e??-1]??null;if(!n||!("style"in n))return null;let l=t.slice(0,e??void 0).filter(e=>"TEXT_STYLE_LIST"===e.type).length,i=n.style,s=i.key.toString();return{assetKey:s,libraryKey:i.library_key,collectionKey:null,assetId:s,isFromSuggestedList:n.isSuggestion,rankPosition:l}}function n8(){return(0,O.md)(nQ.aW)?(0,l.jsx)(n6,{}):null}function n6(){let[e,t]=(0,i.useState)(""),[n,s]=(0,i.useState)(""),r=(0,O.md)(nQ.uw),a=(0,O.md)(nQ.iO)??{title:"",blockType:null,suggestionId:null,items:[]},o=(0,nJ.sf)(),d=r?.current?.getBoundingClientRect()??{x:0,y:0,width:0,height:0},u=(0,O.md)(nu.$H),c=(0,O.md)(nu.r4),m=(0,O.md)(nQ.rg),p=(0,O.md)(nQ.jV),h=(0,i.useMemo)(()=>({x:c&&u?c.x+u.x:d.x+d.width,y:d.y}),[d.y,d.x,d.width,c,u]),g=(0,i.useMemo)(()=>nH()(e=>{s(e)},150),[]);(0,i.useEffect)(()=>(g(e),()=>{g.cancel()}),[g,e]);let f=(0,x.t)("design_linter.dropdown.search_placeholder"),y=(0,i.useRef)(null),{maxHeight:v,listHeight:k}=function(e){if(0===e.length){let e=(0,nZ.Ih)({layout:"list"});return{maxHeight:72+e,listHeight:e}}let t=Math.min(e.reduce((e,t)=>e+n3(t),0)+12,336);return{maxHeight:Math.min(72+t,408),listHeight:t}}((0,nJ.bV)(a.items,n)),_=(0,O.Xr)(nx.E_);return(0,i.useEffect)(()=>{_(e.length>0)},[e,_]),(0,i.useEffect)(()=>{y.current&&y.current.focus()},[]),(0,l.jsx)(t6.bL,{width:260,maxHeight:v,onClose:o,defaultPosition:h,children:(0,l.jsx)(A.vo,{children:(0,l.jsxs)(A.nB,{scrolling:"manual",padding:0,children:[(0,l.jsx)("div",{className:"x1iorvi4 xjkvuk6 xnm25rq",children:(0,l.jsx)("div",{className:"x87ps6o x10w6t97 xfp4ol3 xiuzu7u x78zum5 xdt5ytf xl56j7k xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh",children:a.title})}),(0,l.jsx)("div",{className:"x10w6t97 xnuq7ks xf18ygs xwib8y2 x9f619 xso031l x1q0q8m5 xw8gpjh",children:(0,l.jsx)(nP.p,{size:"md",placeholder:f,ref:y,id:f,value:e,onChange:e=>t(e)})}),(0,l.jsx)(n9,{blockId:a.blockType,suggestionId:a.suggestionId,items:a.items,searchQuery:n,listHeight:k,onSelection:m,checkIsSelected:p})]})})})}function n9({blockId:e,suggestionId:t,items:n,searchQuery:s,listHeight:r,onSelection:a,checkIsSelected:o}){let d="design-linter-dropdown",u=(0,i.useRef)(null),[c,m]=(0,i.useState)(null),[p,h]=(0,i.useState)(null),g=(0,O.Xr)(nx.dd),f=(0,i.useCallback)(e=>{m(e)},[m]),y=(0,i.useCallback)(e=>{c===e&&m(null)},[c,m]),v=(0,nJ.sf)(),k=(0,O.md)(j.ze),_=(0,i.useCallback)(({newSelectedAssetInfo:e,prevSelectedAssetInfo:t})=>{let n=e.assetId;a&&(g({selectedNewValue:e.assetKey!==t?.assetKey,newSelectedAssetInfo:e,prevSelectedAssetInfo:t}),a({id:n,rankPosition:e.rankPosition,isFromSuggestedList:e.isFromSuggestedList}))},[a,g]),b=(0,nJ.bV)(n,s),C=0===b.length,w=(0,nq.Te)({count:b.length,getScrollElement:()=>u.current,estimateSize:e=>n3(b[e]),getItemKey:e=>{var t;return"variable"in(t=b[e])?`variable-${t.variable.node_id}-${e}`:"style"in t?`style-${t.style.node_id}-${e}`:`${t.type}-${e}`},overscan:10});(0,i.useEffect)(()=>{if(!o)return;let e=b.findIndex(e=>o(e))??-1;e>=0&&(w.scrollToIndex(e,{align:"center"}),h(e))},[o,b,w]);let E=(0,i.useCallback)(e=>{let t=b[e];if("variable"in t){let t=n4(e,b,k);if(!t)return;_({newSelectedAssetInfo:t,prevSelectedAssetInfo:n4(p,b,k)})}if("style"in t){let t=n7(e,b);if(!t)return;_({newSelectedAssetInfo:t,prevSelectedAssetInfo:n7(p,b)})}v()},[v,b,p,k,_]);return(0,n0.Dm)({blockId:e,suggestionId:t,checkIsSelected:o,filteredItems:b,searchQuery:s}),(0,l.jsxs)(n$.dP,{recordingKey:d,children:[b.length>0?(0,l.jsx)("div",{ref:u,...F.Ay.props(lr.virtualScrollContainer(r)),children:(0,l.jsx)("div",{...F.Ay.props(lr.virtualListWrapper(w.getTotalSize()+12)),children:w.getVirtualItems().map(e=>{let t=b[e.index],n=[1,e.index],i=!!o&&o(t);return(0,l.jsx)("div",{...F.Ay.props(lr.virtualListItem(e.size,e.start+8)),children:(0,l.jsx)(lt,{isHighlighted:c===e.index,isSelected:i,keyboardNavigationPath:n,listItem:t,onItemHighlight:()=>{f(e.index)},onItemMouseLeave:()=>{y(e.index)},onItemSelect:()=>E(e.index),recordingKey:ni.Pt(d,`${"variable"in t?t.variable.id:e.index}`)})},e.key)})})}):null,C?(0,l.jsx)("div",{...F.Ay.props(lr.listViewEmpty((0,nZ.Ih)({layout:"list"}))),children:(0,x.t)("variables.binding_ui.no_search_results")}):null]})}function le({variable:e,resolvedValue:t,valuePreview:n,isSelected:i,onMouseMove:s,onItemSelect:r,onMouseLeave:a}){let o=(0,nU.kH)(e.name);return(0,l.jsx)(nV.E,{...{0:{className:"xh8yej3 x5yr21d x1lliihq xb3r6kr"},1:{className:"xh8yej3 x5yr21d x1lliihq xb3r6kr xnj5wec"}}[!!i<<0],onMouseMove:s,onMouseLeave:a,onPointerDown:r,actionOnPointerDown:!0,children:(0,l.jsxs)("div",{className:"x78zum5 x1q0g3np x6s0dn4 x167g77z xet2fuk x1db2dqx x6wrskw x9f619 x5yr21d xb3r6kr xh8yej3",children:[(0,l.jsx)(nY.LO,{value:t??"MIXED",resolvedTypeFallback:e.resolvedType,disabled:!1}),(0,l.jsx)("div",{className:"x1iyjqo2 xs83m0k xeuugli xiuzu7u xb3r6kr xlyipyv xuxw1ft xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x87ps6o",children:(0,l.jsx)(nG.G,{text:o,showTooltip:nK.i.WHEN_TRUNCATED})}),n||(t&&"MIXED"!==t?(0,l.jsx)(n2,{resolvedValue:t}):null)]})})}let lt=i.memo(function({isHighlighted:e,isSelected:t,keyboardNavigationPath:n,listItem:i,onItemHighlight:s,onItemMouseLeave:r,onItemSelect:a,recordingKey:o}){let d=(0,O.md)(nQ.Ue)??null;switch(i.type){case"LIST":return(0,l.jsx)("div",{...{0:{className:"x1sxf85j xb3r6kr xet2fuk x1db2dqx x1iyjqo2"},1:{className:"x1sxf85j xb3r6kr xet2fuk x1db2dqx x1iyjqo2 x19m3lf3"}}[!!e<<0],children:(0,l.jsx)(le,{variable:i.variable,resolvedValue:i.resolvedValue,valuePreview:d?d(i):null,isSelected:t,onMouseMove:s,onItemSelect:a,onMouseLeave:r})});case"TEXT_STYLE_LIST":return(0,l.jsx)("div",{...{0:{className:"x1sxf85j xb3r6kr xet2fuk x1db2dqx x1iyjqo2"},1:{className:"x1sxf85j xb3r6kr xet2fuk x1db2dqx x1iyjqo2 x19m3lf3"}}[!!e<<0],children:(0,l.jsx)(nW.m3,{dsStyle:i.style,additionalClassName:V.s.h24.flex.wFull.$,children:(0,l.jsx)(nX.DL,{dsStyle:i.style,hideContextMenu:!0,isHighlighted:!1,isLinterItem:!0,isSelected:t,keyboardNavigationPath:n,onItemContextMenu:r,onItemHighlight:s,onItemMouseLeave:r,onItemSelect:a,recordingKey:o})})});case"LIST_SEPARATOR":return(0,l.jsx)("div",{className:"xjm9jq1 x1m4xfpy xh8yej3"});case"LIST_SECTION_HEADER":return(0,l.jsx)(nX.KL,{groupName:i.name,fileName:i.fileName,secondaryText:i.secondaryText});case"LIST_HIERARCHY_PATH":return(0,l.jsx)(nX.Tg,{groupName:i.label});case"SUGGESTED_HEADER":return(0,l.jsx)("div",{className:"xxk0z11 xq1n1xh x1db2dqx x1gslohp x12nagc x87ps6o x78zum5 xdt5ytf xl56j7k xv1l7n4 xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh",children:(0,x.t)("design_linter.dropdown.suggested")});default:return null}}),ln={kZKoxP:"x16ye13r",kVQacm:"xysyzu8",kXHlph:"",kORKVm:"",$$css:!0},ll={kZKoxP:"x16ye13r",kVAEAm:"x1n2onr6",kLKAdn:"x1y1aw1k",kGO01o:"xjkvuk6",kB7OPa:"x9f619",$$css:!0},li={kVAEAm:"x10l6tqk",k87sOh:"x13vifvy",kbCHJM:"xu96u03",kLqNvP:"",kt4wiu:"",kzqmXN:"xh8yej3",kZKoxP:"x16ye13r",k3aq6I:"xsqj5wx",k1xSpc:"x78zum5",kGNEyG:"x6s0dn4",$$css:!0},ls={k1xSpc:"x78zum5",kjj79g:"xl56j7k",kGNEyG:"x6s0dn4",k8WAf4:"xt970qd",kLKAdn:"",kGO01o:"",kg3NbH:"x16r4bg1",kuDDbn:"",kE3dHu:"",kP0aTx:"",kpe85a:"",kfSwDN:"x87ps6o",kZKoxP:"x16ye13r",$$css:!0},lr={virtualScrollContainer:e=>[ln,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],virtualListWrapper:e=>[ll,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],virtualListItem:(e,t)=>[li,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-transform":`translateY(${t}px)`}],listViewEmpty:e=>[ls,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}]};function la(){let e=(0,O.md)(t7.u2),t=(0,O.md)(t7.fY),n=(0,nA.RG)(t?.devIds??[]),s=function(){let e=(0,O.md)(t7.fY),[t,n]=(0,i.useState)(0);return(0,i.useEffect)(()=>{let t=0;if(e){let n=(0,z.UN)();e.devIds.forEach(e=>{let l=n.getFromDeveloperFriendlyId(e);l&&(0,nS.hV)(l,()=>{t++})})}n(t)},[e]),t}(),r=(0,O.md)(nL.yd),a=(0,O.md)(t7.Iy),{status:o}=(0,O.md)(t7.v4),d=function(){let e=(0,O.md)(t7.m7);return(0,i.useMemo)(()=>Array.from(e.values()).reduce((e,t)=>e+t.size,0),[e])}(),x=function(){let e=(0,O.md)(t7.m7);return(0,i.useMemo)(()=>{let t={};for(let n of e.values())for(let e of n.values())for(let n of e){let{ruleId:e}=n;t[e]=t[e]||[],t[e].push(n)}return Object.entries(t).map(([e,t])=>({rule:e,count:t.length}))},[e])}(),u=(0,O.md)(nu._M),c=(0,O.md)(t7.Ut),m=(0,O.md)(nx.Vg);return(0,l.jsxs)("div",{className:V.s.grid.gridTemplateColumns2.gap2.py8.$,children:[(0,l.jsx)("div",{className:V.s.textHeadingSmall.mr1.$,children:"Linter status:"}),(0,l.jsx)("div",{className:V.s.textBodyMedium.$,children:e}),(0,l.jsx)("div",{className:V.s.textHeadingSmall.mr1.$,children:"Linter session id:"}),(0,l.jsx)("div",{className:V.s.textBodyMedium.$,children:m}),(0,l.jsx)("div",{className:V.s.textHeadingSmall.mr1.$,children:"Current linter view:"}),(0,l.jsx)("div",{className:V.s.textBodyMedium.$,children:u}),(0,l.jsx)("div",{className:V.s.textHeadingSmall.mr1.$,children:"Selected libraries:"}),(0,l.jsx)("div",{className:V.s.textBodyMedium.$,children:Array.from(c??new Set).join(", ")??"None"}),(0,l.jsx)("div",{className:V.s.textHeadingSmall.mr1.$,children:"Variable context status:"}),(0,l.jsx)("div",{className:V.s.textBodyMedium.$,children:o}),(0,l.jsx)("div",{className:V.s.textHeadingSmall.mr1.$,children:"Linting target:"}),(0,l.jsx)("div",{className:V.s.textBodyMedium.maxW200.overflowAuto.$,children:`${n.join(",")}`}),(0,l.jsx)("div",{className:V.s.textHeadingSmall.mr1.$,children:"Linting target nodes:"}),(0,l.jsx)("div",{className:V.s.textBodyMedium.$,children:s}),(0,l.jsx)("div",{className:V.s.textHeadingSmall.mr1.$,children:"Lintable nodes:"}),(0,l.jsx)("div",{className:V.s.textBodyMedium.$,children:r}),(0,l.jsx)("div",{className:V.s.textHeadingSmall.mr1.$,children:"Visual groups:"}),(0,l.jsx)("div",{className:V.s.textBodyMedium.$,children:a.size}),(0,l.jsx)("div",{className:V.s.textHeadingSmall.mr1.$,children:"Violations:"}),(0,l.jsx)("div",{className:V.s.textBodyMedium.$,children:d}),(0,l.jsx)("div",{className:V.s.textHeadingSmall.pb4.$,children:"Violations per rule:"}),(0,l.jsx)("ol",{children:x.map(({rule:e,count:t})=>(0,l.jsxs)("span",{className:V.s.textBodyMedium.block.$,children:[(0,l.jsx)("strong",{children:e}),": ",t]},e))})]})}function lo(e){if(!e)return"loading";let t=e.toFixed(3);return e<1e3?`${t}ms`:e<6e4?`${(e/1e3).toFixed(2)}s (${t}ms)`:`${(e/6e4).toFixed(2)}min (${t}ms)`}function ld({label:e,value:t,isHeader:n=!1}){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:tf()(V.s.textHeadingSmall.mr1.$,{[V.s.textHeadingMedium.$]:n}),children:e}),(0,l.jsx)("div",{className:V.s.textBodyMedium.$,children:lo(t)})]})}function lx({items:e}){return(0,l.jsx)("div",{className:V.s.flex.flexColumn.overflowAuto.$,children:(0,l.jsx)("table",{children:(0,l.jsx)("tbody",{children:e.map(([e,t])=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:V.s.textBodyMedium.pr2.italic.noWrap.$,children:(0,l.jsx)("strong",{children:e})}),(0,l.jsx)("td",{className:V.s.textBodyMedium.alignLeft.$,children:lo(t)})]},e))})})})}function lu(){let e=(0,O.md)(nL.eF),t=(0,O.md)(nL.L2)??[],n=t.reduce((e,{duration:t})=>e+t,0),i=(0,O.md)(nL.rT)??new Map,s=(0,O.md)(nL.KV)??new Map,r=(0,O.md)(nL.zZ)??new Map;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:V.s.textHeadingSmall.mr1.textHeadingMedium.$,children:"Overall latency info:"}),(0,l.jsxs)("div",{className:V.s.grid.gridTemplateColumns2.gap2.py8.$,children:[(0,l.jsx)(ld,{label:"Time until first group:",value:e}),(0,l.jsx)(ld,{label:"Total loading time:",value:n}),(0,l.jsx)("div",{className:V.s.textHeadingSmall.mr1.$,children:"Time per status:"}),(0,l.jsx)(lx,{items:t.map(({status:e,duration:t})=>[e,t])}),(0,l.jsx)("div",{className:V.s.textHeadingSmall.pb4.$,children:"Detection time per rule:"}),(0,l.jsx)(lx,{items:Array.from(i)}),(0,l.jsx)("div",{className:V.s.textHeadingSmall.pb4.$,children:"Avg detection time per rule per node:"}),(0,l.jsx)(lx,{items:Array.from(s)}),(0,l.jsx)("div",{className:V.s.textHeadingSmall.pb4.$,children:"P95 detection time per rule:"}),(0,l.jsx)(lx,{items:Array.from(r).filter(([e,t])=>null!==t).map(([e,t])=>[e,t])})]})]})}function lc(){let e=(0,O.md)(nu.E$),t=e?.rootNodeDevIdToViolatingNodeDevIdSet.size,n=(0,O.md)(nL.Op),i=(0,O.md)(nL.iS),s=(0,O.md)(nL.ky);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:V.s.textHeadingSmall.italic.mt8.$,children:"For current group:"}),(0,l.jsxs)("div",{className:V.s.grid.gridTemplateColumns2.gap2.py8.$,children:[(0,l.jsx)("div",{className:V.s.textHeadingSmall.mr1.$,children:"Group id:"}),(0,l.jsx)("div",{className:V.s.textBodyMedium.$,children:e?.id??"none"}),(0,l.jsx)("div",{className:V.s.textHeadingSmall.mr1.$,children:"Group size (nodes):"}),(0,l.jsx)("div",{className:V.s.textBodyMedium.$,children:t}),(0,l.jsx)(ld,{label:"Fix loading time:",value:n}),(0,l.jsx)(ld,{label:"Current thumbnail loading time:",value:i}),(0,l.jsx)(ld,{label:"Suggested thumbnail loading time:",value:s})]})]})}function lm(){let e=(0,na.am)();return(0,l.jsxs)("div",{className:V.s.flex.flexColumn.gap4.py8.w150.$,children:[(0,l.jsx)(ne.$n,{onClick:()=>{e?.debugLinterState()},children:"Copy linter state"}),(0,l.jsx)(nF,{}),(0,l.jsx)(nD,{})]})}let lp=(0,O.eU)(!1);function lh(){let e=(0,O.md)(lp),t=(0,O.md)(nu.r4);return e&&t?(0,l.jsxs)(t6._L,{defaultWidth:600,defaultHeight:500,defaultPosition:{left:(t?.x??0)+528+56,top:t?.y},onClose:({source:e})=>{"outside"!==e&&O.zl.set(lp,!1)},children:[(0,l.jsxs)(A.vo,{children:[(0,l.jsx)(A.Y9,{children:"Design linter debug info"}),(0,l.jsxs)(A.nB,{children:[(0,l.jsx)(la,{}),(0,l.jsx)(lu,{}),(0,l.jsx)(lc,{}),(0,l.jsx)(lm,{})]})]}),(0,l.jsx)(n8,{})]}):null}let lg=(0,i.forwardRef)(function(e,t){let n=(0,O.Xr)(lp);return(0,l.jsxs)("div",{className:"x78zum5 x1qughib x6s0dn4 xh8yej3 x1vqgdyp x87ps6o",children:[(0,l.jsxs)("span",{className:"x78zum5 x167g77z x6s0dn4",children:[(0,l.jsx)(A.hE,{children:(0,l.jsx)("span",{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh x1akne3o",ref:t,tabIndex:-1,children:(0,x.tx)("design_linter.title")})}),(0,l.jsx)(nT.E,{children:(0,x.tx)("general.beta")})]}),!!(0,u.kc)().aip_flower_garden_debug&&(0,l.jsx)("div",{className:"x78zum5 xg2d0mh x1057jvv",children:(0,l.jsx)(tp.K,{onClick:()=>{n(e=>!e)},"aria-label":"Internal debug view",children:(0,l.jsx)(nI.W,{})})})]})}),lf={sidebarWidth:"var(--x2eaz3j)"};function ly(){let e=(0,t8.Hl)(),t=(0,s.d4)(e=>e.userStateLoaded),n=(0,i.useRef)(null),{viewToShow:r,isButtonDisabled:a,shouldShowLayerCount:o,hasNoSelectedNodes:d,doesExceedLimit:x,onContinue:u,showFooter:c}=function(){let{hasNoSelectedNodes:e,doesExceedLimit:t,layerCount:n,maxLayerCount:l,...s}=nm(),[r,a]=i.useState(!1),o=(0,na.am)(),d=np(),x=(0,O.Xr)(nu.LB),u=(0,O.md)(nu._M),c=(0,O.Xr)(nu.ik),m=function(e,t,n){let l=(0,O.Xr)(nu.m),s=i.useRef(null);return i.useLayoutEffect(()=>{n&&(e?s.current=t9.FR.LANDING_PAGE_NO_SELECTION:t&&(s.current=t9.FR.LANDING_PAGE_LIMIT_EXCEEDED)),l({hasNoSelectedNodes:e,doesExceedLimit:t,seenLinterHomeView:n,derivedLandingPageViewOverride:s.current})},[e,t,n,l]),i.useCallback(()=>{l(e=>({...e,derivedLandingPageViewOverride:null}))},[l])}(e,t,d),p=i.useMemo(()=>(u===t9.FR.LANDING_PAGE_NO_SELECTION||u===t9.FR.LANDING_PAGE_LIMIT_EXCEEDED||u===t9.FR.LOADING_ERROR_VIEW)&&(!!e||!!t),[u,e,t]),h=i.useMemo(()=>u===t9.FR.LANDING_PAGE_LIMIT_EXCEEDED||u===t9.FR.LANDING_PAGE_NO_SELECTION&&(!!t||!!r),[u,t,r]);i.useEffect(()=>{h&&!r&&a(!0)},[h,r]);let g=i.useCallback(()=>{if(o){if(e){x(t9.FR.LANDING_PAGE_NO_SELECTION);return}if(t){x(t9.FR.LANDING_PAGE_LIMIT_EXCEEDED);return}u===t9.FR.LOADING_ERROR_VIEW&&O.zl.set(nx.Vg,(0,nr.g)()),m(),c(),O.zl.set(nu.LB,t9.FR.SELECTED_VISUAL_GROUP_VIEW)}},[e,t,o,x,c,m,u]);return{viewToShow:u,isButtonDisabled:p,shouldShowLayerCount:h,hasNoSelectedNodes:e,doesExceedLimit:t,onContinue:g,showFooter:u!==t9.FR.LOADING_ERROR_VIEW,...s}}();if((0,i.useEffect)(()=>{n.current?.focus()},[r]),!t||r===t9.FR.SELECTED_VISUAL_GROUP_VIEW)return null;let m=r===t9.FR.LOADING_ERROR_VIEW?{width:528}:{width:360};return(0,l.jsx)(t6.bL,{width:m.width,onClose:({source:t})=>{"outside"!==t&&e()},defaultPosition:{x:56,y:70},children:(0,l.jsxs)(A.vo,{children:[(0,l.jsx)(A.Y9,{children:(0,l.jsx)(lg,{ref:n})}),(0,l.jsx)(A.nB,{padding:0,...{0:{className:"xb3r6kr"},1:{className:"xb3r6kr xy4gdg1"}}[!(r!==t9.FR.LOADING_ERROR_VIEW)<<0],children:(0,l.jsxs)("div",{"aria-live":"polite",className:"x5yr21d",children:[r===t9.FR.LANDING_PAGE_WELCOME&&(0,l.jsx)(nj,{}),r===t9.FR.LANDING_PAGE_NO_SELECTION&&(0,l.jsx)(nC,{}),r===t9.FR.LANDING_PAGE_LIMIT_EXCEEDED&&(0,l.jsx)(nw,{}),r===t9.FR.LOADING_ERROR_VIEW&&(0,l.jsx)(nE,{onTryAgain:u})]})}),c&&(0,l.jsx)(A.wi,{children:o?(0,l.jsxs)("div",{className:"x78zum5 x1q0g3np x1qughib x6s0dn4 xh8yej3",children:[(0,l.jsx)(nb,{}),(0,l.jsx)(n_,{onContinue:u,currentView:r,hasNoSelectedNodes:d,doesExceedLimit:x,isButtonDisabled:a})]}):(0,l.jsx)(A.jk,{children:(0,l.jsx)(n_,{onContinue:u,currentView:r,hasNoSelectedNodes:d,doesExceedLimit:x,isButtonDisabled:a})})})]})})}var lv=n(575015),lk=n(943866),l_=n(805980),lj=n(119347),lb=n(273811),lC=n(22291),lw=n(147244),lE=n(230797),lN=n(322519),lI=n(890030),lT=n(994047),lS=n(983500),lL=n(244735);let lA=(0,i.memo)(function(){let e=function(){let e=(0,lL.dG)(lw.s4.TEXT,null),t=(0,O.md)(t7.Ut);return(0,i.useMemo)(()=>{let n=e.libraries.filter(e=>e.numStylesText>0&&t?.has(e.libraryKey));return{...e,libraries:n}},[e,t])}();return(function({status:e,libraries:t}){let[n,l]=(0,O.fp)(t7.jq),s=(0,O.md)(t7.Ut),r=(0,O.md)(j.yV),a=function(){let e=(0,O.md)(lR);return(0,O.md)(t7.qp)?e:[]}(),o=(0,lT.je)(),{status:d,stylesByFileKey:x}=(0,lL.Zk)({styleType:lw.s4.TEXT,initialSelectedSubscribedStyle:null,selectedLibraries:t}),u=(0,i.useMemo)(()=>{if("loading"===e||"loading"===d||"loading"===o.status||void 0===s)return{status:"loading",subscribedStylesByFileKey:{},allStyles:[],localStyles:null};if((0,lv.PN)())return{status:"loaded",subscribedStylesByFileKey:{},allStyles:[],localStyles:null};if("stale"===n.status||"loaded"===d){let e=Object.entries(x).reduce((e,[t,n])=>(s?.has(n.libraryKey)&&(e[t]=n),e),{}),t=Object.values(e).flatMap(e=>e.styles),n=null;a.length>0&&r?.key&&r?.libraryKey&&(n={fileKey:r.key,styles:a,libraryKey:(0,lC.l)(r.libraryKey)},t.push(...a));let l={subscribedStylesByFileKey:e,allStyles:t,localStyles:n},i=o.data?.filter(e=>s.has(e.libraryKey)).filter(e=>e.numStylesText>0||e.fileKey===lE.UN).map(e=>e.libraryKey)??[],d=new Set(Object.values(e).map(e=>e.libraryKey));return i.every(e=>d.has(e))?{status:"loaded",...l}:{status:"loading",...l}}return n},[d,e,n,x,a,s,r?.key,r?.libraryKey,o.data,o.status]);(0,i.useEffect)(()=>{(u.status!==n.status||u.allStyles.length!==n.allStyles.length)&&l(u)},[u,n,l])}(e),e.libraries.length)?(0,l.jsx)(lS.MM,{inheritStyleKey:null,inheritStyleID:null,styleType:lw.s4.TEXT,selectedLibraries:e.libraries}):null}),lR=(0,lN.bt)(e=>(0,lI.ti)(e.library.local.styles,lw.s4.TEXT));var lM=n(415541),lz=n(875253);function lO(){let e=(0,t8.Hl)(),t=i.useCallback(()=>{(0,nx.Zz)("completed-close"),e()},[e]),n=i.useRef(null);i.useEffect(()=>{n.current?.focus()},[]);let s=(0,t8.SN)(),r=(0,O.md)(t7.Xy);if([t9.Gu.PENDING,t9.Gu.ERROR].includes(r))return null;let a=r===t9.Gu.NO_VIOLATIONS;return(0,l.jsxs)("div",{className:"x78zum5 xdt5ytf xh8yej3 x5yr21d","data-testid":"design-linter-container-no-violations",children:[(0,l.jsxs)("div",{className:"x78zum5 xdt5ytf xl56j7k x6s0dn4 x1665zp3 x1iyjqo2 x2lah0s",children:[(0,l.jsx)(nv,{}),(0,l.jsxs)("div",{className:"x78zum5 xl56j7k x87ps6o xdt5ytf x6s0dn4 x1jnr06f xkh2ocl",children:[(0,l.jsx)("h2",{ref:n,tabIndex:-1,className:"xjz7g13 xuo4v2q xjnky0o xn4joj7 x1ul8uiu",children:a?(0,x.tx)("design_linter.modal.no_violations_title"):(0,x.tx)("design_linter.modal.suggestions_completed_title")}),(0,l.jsx)("p",{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l x1n0bwc9",children:a?(0,x.tx)("design_linter.modal.no_violations_subtitle"):(0,x.tx)("design_linter.modal.suggestions_completed_subtitle",{count:s})})]})]}),(0,l.jsx)("div",{className:"xdt5ytf xuk3077 xl56j7k x78zum5 x178xt8z x13fuv20 x16ufvko x9f619 x1vqgdyp xy13l1i",children:(0,l.jsx)(ne.$n,{onClick:t,children:(0,x.tx)("general.close")})})]})}var lF=n(536493),lD=n(249563),lP=n(827466),lV=n(702990);let lq=(0,O.eU)(null,async e=>{O.zl.set(nL.Op,null);let t=performance.now(),n=e(nu.E7),l=(0,na.X5)();if(!l)return;let i=Object.values(n);await Promise.allSettled(i.map(e=>l.requestFix(e))),O.zl.set(nL.Op,performance.now()-t)});var lB=n(677394),lH=n(351341),l$=n(989371),lG=n(341153),lK=n(14575),lU=n(933330),lW=n(1007);function lX(e,t){return i.useMemo(()=>{if(t){let e=(0,nA.vc)(t);return e?[e]:[]}return e?Array.from(e.rootNodeDevIdToViolatingNodeDevIdSet.keys()).map(e=>(0,nA.vc)(e)).filter(e=>void 0!==e):[]},[e,t])}var lZ=n(658426),lY=n(109965),lQ=n(158053),lJ=n(985836),l0=n(927450),l1=n(697421);let l2=i.memo(function({rootNodeId:e,reason:t,thumbnailWidth:n,thumbnailHeight:i,thumbnailPadding:s,source:r}){let a=(0,lQ.ei)(e),o=(0,lb.wg)(a),d=(0,l0.yh)({nodeId:e,width:n,height:i,shouldSkip:!1,version:o,reason:t,regenerateAfterImagesLoaded:!0,isDevModeBlendedSection:!1,shouldCache:o>0}),{bg:x,type:u}=(0,l1.Mr)(e,r),c=u===l1.Vr.COLOR,m=u===l1.Vr.IMAGE;return d?(0,l.jsx)("div",{...F.Ay.props(l8.thumbnailContainer,m&&l8.backgroundImageContainer,l8.thumbnailContainerDimensions(i),c&&l8.thumbnailContainerBackgroundColor(x),m&&l8.thumbnailContainerBackgroundImage(x)),children:(0,l.jsx)("div",{...F.Ay.props(l8.thumbnailSizer(n)),children:(0,l.jsx)(eY.oW,{src:d.src,className:"x19kjcj4 x193iq5w xmz0i5r"})})}):(0,l.jsx)(lJ.Qp,{...F.Ay.props(l8.loadingThumbnail,l8.loadingThumbnailDimensions(n,i,s)),animationType:lJ.JR.LIGHT_SHIMMER})}),l5={kB7OPa:"x9f619",kzqmXN:"x5lhr3w",k7Eaqz:"xkj4a21",k1xSpc:"x78zum5",kjj79g:"xl56j7k",kGNEyG:"x6s0dn4",kmVPX3:"xe8ttls",kg3NbH:"",kuDDbn:"",kE3dHu:"",kP0aTx:"",kpe85a:"",k8WAf4:"",kLKAdn:"",kGO01o:"",kMzoRj:"xmkeg23",kjGldf:"",k2ei4v:"",kZ1KPB:"",ke9TFa:"",kWqL5O:"",kLoX6v:"",kEafiO:"",kt9PQ7:"",ksu8eU:"x1y0btm7",kJRH4f:"",kVhnKS:"",k4WBpm:"",k8ry5P:"",kSWEuD:"",kDUl1X:"",kPef9Z:"",kfdmCh:"",kVAM5u:"x1co876m",kzOINU:"",kGJrpR:"",kaZRDh:"",kBCPoo:"",k26BEO:"",k5QoK5:"",kLZC3w:"",kL6WhQ:"",kaIpWk:"x19y5rnk",krdFHd:"",kfmiAY:"",kVL7Gh:"",kT0f0o:"",kIxVMA:"",ksF3WI:"",kqGeR4:"",kYm2EN:"",$$css:!0},l3={kUk6DE:"x5mp9sv",kzQI83:"",kmuXW:"",kCS8Yb:"",kZKoxP:"x16ye13r",$$css:!0},l4={kKwaWg:"x1e87kdn",$$css:!0},l7={kzqmXN:"x5lhr3w",k7Eaqz:"xkj4a21",kZKoxP:"x16ye13r",kmVPX3:"x1fozly0",kg3NbH:"",kuDDbn:"",kE3dHu:"",kP0aTx:"",kpe85a:"",k8WAf4:"",kLKAdn:"",kGO01o:"",$$css:!0},l8={thumbnailContainer:{k1xSpc:"x78zum5",kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,$$css:!0},thumbnailSizer:e=>[l5,{"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-minWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],thumbnailContainerDimensions:e=>[l3,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],thumbnailContainerBackgroundColor:e=>[{kWkggS:null!=e?"xl8spv7":e,$$css:!0},{"--x-backgroundColor":null!=e?e:void 0}],thumbnailContainerBackgroundImage:e=>[l4,{"--x-backgroundImage":`url(${e})`}],loadingThumbnail:{kMzoRj:"xmkeg23",kjGldf:null,k2ei4v:null,kZ1KPB:null,ke9TFa:null,kWqL5O:null,kLoX6v:null,kEafiO:null,kt9PQ7:null,ksu8eU:"x1y0btm7",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,kVAM5u:"x1co876m",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kB7OPa:"x9f619",$$css:!0},loadingThumbnailDimensions:(e,t,n)=>[l7,{"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-minWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${t}px`),"--x-padding":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${n}px`)}],backgroundImageContainer:{kz484i:"xiy17q3",kgSjnq:"x18d0r48",k1YJky:"x1xsqp64",kDwdnV:null,kAiEkY:null,kWkggS:"x1v8gsql",$$css:!0}},l6="design-linter-sidebar";function l9(){let e=(0,i.useRef)(null),t=(0,O.md)(nu.$H),n=function(){let e=(0,O.md)(nu.nr),t=(0,O.md)(nu.Bd);return(0,i.useMemo)(()=>{if(!t)return[];let n=(0,z.UN)();return t.map(t=>{let l=e===t.id,i=(l?(0,lb.yz)(t):[]).map(e=>{let t=n.getFromDeveloperFriendlyId(e);return{devId:e,name:t?.name}});return{group:t,rootItems:i,isExpanded:l}})},[t,e])}(),s=(0,O.md)(nu.nr),r=(0,nq.Te)({count:n.length,getScrollElement:()=>e.current,overscan:10,estimateSize:e=>{let t=n[e];return t?.isExpanded?112+32*t.rootItems.length:112}}),a=n.findIndex(e=>e.group.id===s);(0,i.useEffect)(()=>{-1!==a&&r.scrollToIndex(a,{align:"start",behavior:"smooth"})},[a,r]),(0,i.useEffect)(()=>{r.measure()},[n,r]);let o=t?t.y-40:480;return(0,l.jsx)(lV.P,{ref:e,children:(0,l.jsx)("div",{"data-testid":l6,...F.Ay.props(iu.contentWrapper(o)),children:(0,l.jsx)("ul",{"aria-label":(0,x.t)("design_linter.sidebar.visual_groups_label",{count:n.length}),...F.Ay.props(iu.virtualContainer(r.getTotalSize(),8)),children:r.getVirtualItems().map(e=>{let t=n[e.index];return t?(0,l.jsx)("li",{...F.Ay.props(iu.virtualItem(e.size,e.start+8)),children:(0,l.jsx)(ie,{group:t.group,rootItems:t.rootItems,isExpanded:t.isExpanded,virtualRowIndex:e.index})},t.group.id):null})})})})}function ie({group:e,rootItems:t,isExpanded:n,virtualRowIndex:s}){var r;let a=(0,i.useRef)(null),{isEntireGroupSelected:o}=ia({isGroupItem:!0,groupId:e.id,rootNodeDevId:void 0}),d=ir({group:e,rootNodeDevId:void 0,isGroupItem:!0}),u=(r=e.id,(0,O.md)(nu.JQ).has(r)),c=(0,lb.lv)(e),m=c?(0,nA.vc)(c):void 0,p=(0,nJ.sf)(),h=(0,t8.Wo)(),g=(0,t8.Vz)(),f=(0,t8.Ci)(),y=(0,t8.RD)();(0,i.useEffect)(()=>{n&&a.current&&a.current.focus()},[n]);let v=(0,i.useCallback)(()=>{p(),h(e.id),g(),o?f(e.id):y(e.id),e&&(0,nx.JT)(e,"SIDEBAR")},[p,h,e,g,o,f,y]);if(!m)return null;let k=function(e,t,n,l){let i={count:e};return t&&n&&l?(0,x.t)("design_linter.sidebar.group_item_label_viewed_selected_expanded",i):t&&n&&!l?(0,x.t)("design_linter.sidebar.group_item_label_viewed_selected_collapsed",i):t&&!n&&l?(0,x.t)("design_linter.sidebar.group_item_label_viewed_expanded",i):!t||n||l?n&&l?(0,x.t)("design_linter.sidebar.group_item_label_unviewed_selected_expanded",i):n&&!l?(0,x.t)("design_linter.sidebar.group_item_label_unviewed_selected_collapsed",i):l?(0,x.t)("design_linter.sidebar.group_item_label_unviewed_expanded",i):(0,x.t)("design_linter.sidebar.group_item_label_unviewed_collapsed",i):(0,x.t)("design_linter.sidebar.group_item_label_viewed_collapsed",i)}(e.rootNodeDevIdToViolatingNodeDevIdSet.size,u,o,n),_=t.length>1,j=ni.Pt(l6,`group-${s}`);return n?(0,l.jsxs)("section",{ref:a,tabIndex:-1,"aria-label":k,children:[(0,l.jsx)(it,{ariaLabel:k,displayedNodeId:m,focusHandlers:d,group:e,isExpanded:n,isSelected:o,isViewed:u,onClick:v,testId:j,virtualRowIndex:s}),t.length>0&&(0,l.jsx)("ul",{"aria-label":(0,x.t)("design_linter.sidebar.root_items_label"),children:t.map((n,i)=>(0,l.jsx)(il,{group:e,isLastInGroup:i===t.length-1,isOnlyRootInGroup:!_,rootItem:n},n.devId))})]}):(0,l.jsx)(nV.E,{className:"x78zum5 x1n2onr6 xh8yej3 xb3r6kr x1a2a7pz x5hs570 xy9f4xx x1k1lpwg x5omr3n xabvvm4 xeyy32k","aria-label":k,"data-index":s,...d,onClick:v,recordingKey:j,"data-testid":j,children:(0,l.jsx)(it,{displayedNodeId:m,group:e,isExpanded:n,isSelected:o,isViewed:u,virtualRowIndex:s})})}function it({ariaLabel:e,displayedNodeId:t,focusHandlers:n,group:i,isExpanded:s,isSelected:a,isViewed:o,onClick:d,testId:x,virtualRowIndex:u}){let{isHoveredGroupItem:c}=ia({isGroupItem:!0,groupId:i.id,rootNodeDevId:void 0}),m=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{...{0:{className:"xe8ttls x78zum5 x6s0dn4"},2:{className:"xe8ttls x78zum5 x6s0dn4 x30nh5c x19y5rnk"},1:{className:"xe8ttls x78zum5 x6s0dn4 xcr9a89"},3:{className:"xe8ttls x78zum5 x6s0dn4 x19y5rnk xcr9a89"}}[!!(c&&!a)<<1|!!a<<0],children:(0,l.jsx)(l2,{rootNodeId:t,reason:"design-linter.sidebar-thumbnail",thumbnailWidth:128,thumbnailHeight:96,thumbnailPadding:8,source:l1.Uq.SIDEBAR})}),(0,l.jsx)(ii,{instanceCount:i.rootNodeDevIdToViolatingNodeDevIdSet.size,isViewed:o}),!!r.v.getFeatureGate("aip_flower_garden_debug")&&(0,l.jsx)(is,{groupType:i.type})]});return s&&d?(0,l.jsx)(nV.E,{...{0:{className:"x78zum5 x1n2onr6 xh8yej3 xb3r6kr x1a2a7pz x5hs570 xy9f4xx x1k1lpwg x5omr3n"},1:{className:"x78zum5 x1n2onr6 xh8yej3 xb3r6kr x1a2a7pz x5hs570 xy9f4xx x1k1lpwg x5omr3n xabvvm4 xeyy32k"}}[!s<<0],"aria-label":e,"data-index":u,...n,onClick:d,recordingKey:x,"data-testid":x,children:m}):m}function il({group:e,isLastInGroup:t,isOnlyRootInGroup:n,rootItem:s}){let r=(0,nA.vc)(s.devId),a=ir({group:e,rootNodeDevId:s.devId,isGroupItem:!1}),{isEntireGroupSelected:o,isHoveredRootItem:d,isSelectedRootItem:u}=ia({isGroupItem:!1,groupId:e.id,rootNodeDevId:s.devId}),c=(0,nJ.sf)(),m=(0,t8.Wo)(),p=(0,t8.OI)(),h=(0,i.useCallback)(()=>{n||(c(),m(e.id),p(s.devId),(0,nx.oo)(e.id,s.devId,"SIDEBAR"))},[c,m,e.id,s.devId,p,n]),g=ni.Pt(l6,`root-${s.devId}`),f=!n&&d,y=o&&f,v=!o&&f,k=n&&o,_=o?n?iu.rootItemInSelectedGroupOnlyRoot:iu.rootItemInSelectedGroup:null,j=u?n?iu.selectedRootItemOnlyRoot:iu.selectedRootItem:null,b=o?n?iu.rootItemContainerInSelectedGroupOnlyRoot:iu.rootItemContainerInSelectedGroup:null,C=s.name??(0,x.t)("design_linter.sidebar.node_deleted_name");return r?(0,l.jsx)("li",{children:(0,l.jsx)(nV.E,{...F.Ay.props(iu.item,iu.rootItemContainer,t&&iu.lastInGroup,b),"aria-label":s.name,"aria-pressed":u,disabled:n,...a,"data-testid":g,onClick:h,recordingKey:g,children:(0,l.jsx)("div",{...F.Ay.props(iu.rootItem,_,y&&iu.hoveredRootItemInSelectedGroup,v&&iu.hoveredRootItem,j),children:(0,l.jsxs)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x78zum5 x1jnr06f x12ulsxz xdqyycr x6s0dn4 xh8yej3 xeuugli",children:[(0,l.jsx)(lY.Bf,{guid:r,...{0:{className:"x78zum5"},1:{className:"x78zum5 x1eni305 x1wckc2o x1wgeqrm"}}[!!(u||k)<<0]}),(0,l.jsx)("div",{className:"xb3r6kr xlyipyv xuxw1ft x1iyjqo2 xs83m0k x1t1x2f9",children:C})]})})})}):null}function ii({isViewed:e,instanceCount:t}){let n=(0,x.t)("design_linter.suggestion_block.instance_count_tooltip",{count:t});return(0,l.jsx)("span",{"aria-hidden":"true",children:(0,l.jsx)(lZ.F,{...{0:{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x6s0dn4 x19y5rnk x78zum5 xss6m8b xg2d0mh xlup9mm x1qpfodn xt9pc3i x10l6tqk xomnu4r x87ps6o xu5wzci x1tk3asg"},1:{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x6s0dn4 x19y5rnk x78zum5 xss6m8b xg2d0mh xlup9mm x1qpfodn xt9pc3i x10l6tqk xomnu4r x87ps6o x1yjdb4r x1akne3o xmkeg23 x1y0btm7 x1co876m"}}[!!e<<0],"data-tooltip":n,"data-tooltip-type":ns.Ib.TEXT,children:t})})}function is({groupType:e}){return(0,l.jsx)(lZ.F,{className:"x4oah1p xewu7z0 x2ua9qx x1dnis8n xawads1 x19y5rnk x191j7n5 xn5hqff x10l6tqk xt9pc3i x87ps6o x1yjdb4r x1akne3o",children:"SIMILARITY"===e?"Similarity":"Ancestry"})}function ir({group:e,rootNodeDevId:t,isGroupItem:n}){let l=(0,O.Xr)(nu.xX),s=lX(e,t),r=(0,i.useCallback)(()=>{l({groupId:e.id,rootNodeDevId:t??null,isGroupItem:n}),0!==s.length&&o.Ez5?.canvasViewState().temporarilyHoveredNodes.set(s)},[l,e.id,t,n,s]),a=(0,i.useCallback)(()=>{l({groupId:null,rootNodeDevId:null,isGroupItem:n}),o.Ez5?.canvasViewState().temporarilyHoveredNodes.set([])},[l,n]);return{onMouseEnter:r,onMouseLeave:a,onFocus:r,onBlur:a}}function ia({isGroupItem:e,groupId:t,rootNodeDevId:n}){let l=(0,O.md)(nu.NM),s=(0,O.md)(nu.xo),r=(0,O.md)(nu.xX),a=function(e){let t=(0,O.md)(nu.Bd);return(0,i.useMemo)(()=>{let n=t?.find(t=>t.id===e);return n?n.rootNodeDevIdToViolatingNodeDevIdSet.size:0},[t,e])}(l),o=t===l,d=t===r.groupId,x=e&&r.isGroupItem&&d,u=n===r.rootNodeDevId&&d;return{isEntireGroupSelected:o&&(!s||a<=1),isHoveredGroupItem:x,isHoveredRootItem:!e&&u,isSelectedRootItem:o&&!!s&&n===s}}let io={k7Eaqz:"x1w1ltba",kzqmXN:"xl0ss4q",kZKoxP:"x16ye13r",kI3sdo:"x1a2a7pz x5hs570",kjBf7l:"",k3XXqK:"",kMeerF:"",kInvED:"xy9f4xx",$$css:!0},id={kVAEAm:"x1n2onr6",kZKoxP:"x16ye13r",kg3NbH:"xdqyycr",kuDDbn:"",kE3dHu:"",kP0aTx:"",kpe85a:"",$$css:!0},ix={kVAEAm:"x10l6tqk",k87sOh:"x13vifvy",kbCHJM:"xncym2f",kCIrl2:"x19up5dg",kLqNvP:"",kt4wiu:"",kZKoxP:"x16ye13r",k3aq6I:"xsqj5wx",$$css:!0},iu={contentWrapper:e=>[io,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],virtualContainer:(e,t)=>[id,{kLKAdn:null!=t?"x1jm3axb":t,kGO01o:null!=t?"xjqpyvm":t,$$css:!0},{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-paddingTop":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(t),"--x-paddingBottom":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(t)}],virtualItem:(e,t)=>[ix,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-transform":`translateY(${t}px)`}],item:{k1xSpc:"x78zum5",kVAEAm:"x1n2onr6",kzqmXN:"xh8yej3",kVQacm:"xb3r6kr",kXHlph:null,kORKVm:null,kI3sdo:"x1a2a7pz x5hs570",kjBf7l:null,k3XXqK:null,kMeerF:null,kInvED:"xy9f4xx",$$css:!0},lastInGroup:{kqGeR4:"xabvvm4",kYm2EN:"xeyy32k",kVL7Gh:null,kT0f0o:null,$$css:!0},rootItemContainer:{k1xSpc:"x78zum5",kGNEyG:"x6s0dn4",kzqmXN:"xh8yej3",k7Eaqz:"xeuugli",kZKoxP:"x10w6t97",$$css:!0},rootItem:{k1xSpc:"x78zum5",kGNEyG:"x6s0dn4",kzqmXN:"xh8yej3",k7Eaqz:"xeuugli",kZKoxP:"xxk0z11",$$css:!0},rootItemContainerInSelectedGroup:{kWkggS:"xpjdn5u",$$css:!0},rootItemContainerInSelectedGroupOnlyRoot:{kWkggS:"xcr9a89",$$css:!0},rootItemInSelectedGroup:{kWkggS:"xpjdn5u",$$css:!0},rootItemInSelectedGroupOnlyRoot:{kWkggS:"xcr9a89",$$css:!0},selectedRootItem:{kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"xkg04fo",$$css:!0},selectedRootItemOnlyRoot:{kaIpWk:"x13ol8rl",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"xcr9a89",$$css:!0},hoveredRootItemInSelectedGroup:{kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"x1be12tr",$$css:!0},hoveredRootItem:{kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"x30nh5c",$$css:!0}};var ic=n(474164);let im=i.memo(function(){return(0,l.jsxs)("div",{className:"x78zum5 xh8yej3 x5yr21d xb3r6kr",children:[(0,l.jsxs)("div",{className:"x78zum5 xl0ss4q xy4gdg1 xs1s249 x32b0ac x1lpqudl x9f619 x16v0e3u x1vvogim xdt5ytf x1cy8zhl",children:[(0,l.jsx)(ig,{}),(0,l.jsx)(ig,{}),(0,l.jsx)(ig,{}),(0,l.jsx)(ig,{}),(0,l.jsx)(ig,{}),(0,l.jsx)(ig,{})]}),(0,l.jsxs)("div",{className:"x78zum5 x1iyjqo2 xdt5ytf x1iejq3h xy4gdg1 x1yjdb4r",children:[(0,l.jsx)("div",{className:"x78zum5 x2a4jsl x6pg8l1 xso031l x1q0q8m5 xertd99 xl56j7k x6s0dn4",children:(0,l.jsx)(nM.k,{})}),(0,l.jsx)(ip,{}),(0,l.jsx)("div",{className:"xr1yuqi x2lah0s",children:(0,l.jsx)("div",{className:"x78zum5 xdt5ytf xuk3077 xl56j7k x178xt8z x13fuv20 x16ufvko x9f619 x1vqgdyp xy13l1i x1iejq3h",children:(0,l.jsxs)("div",{className:"x6s0dn4 x78zum5 x167g77z",children:[(0,l.jsx)(ne.$n,{onClick:T.lQ,variant:"secondary",disabled:!0,children:(0,x.tx)("design_linter.suggestion_block.ignore_all")}),(0,l.jsx)(ne.$n,{onClick:T.lQ,variant:"primary",disabled:!0,children:(0,x.tx)("design_linter.suggestion_block.apply_all_btn")})]})})})]})]})});function ip(){return(0,l.jsxs)("div",{className:"x78zum5 xdt5ytf x1iyjqo2",children:[(0,l.jsx)("div",{className:"x78zum5 xt2xzfp x10dr8xq x1hr3lfm x9f619 x6s0dn4 x167g77z xkh2ocl",children:(0,l.jsx)("div",{className:"xq1dxzn x1qx5ct2 x1sxf85j x11k3p72"})}),(0,l.jsx)("div",{className:"x78zum5 x10w6t97 xnuq7ks xnm25rq x6s0dn4 xkh2ocl x9f619",children:(0,l.jsx)("div",{className:"x29ncy0 x1qx5ct2 x1sxf85j x11k3p72"})}),(0,l.jsx)(ih,{}),(0,l.jsx)(ih,{}),(0,l.jsx)(ih,{})]})}function ih(){return(0,l.jsx)("div",{className:"x78zum5 xt970qd xdqyycr xvx09gn x10w6t97 x9f619",children:(0,l.jsxs)("div",{className:"x9f619 x78zum5 x6s0dn4 xfawy5m x160i8ky x1jnr06f",children:[(0,l.jsxs)("div",{className:"x78zum5 x6s0dn4 x6wrskw",children:[(0,l.jsx)("div",{className:"x29ncy0 x1qx5ct2 xwrg52n x1sxf85j x9f619 x1sjmt1f"}),(0,l.jsx)("div",{className:"x78zum5 x6s0dn4 xl56j7k xvy4d1p xxk0z11",children:(0,l.jsx)("div",{className:"xe5c7bq",children:(0,l.jsx)(ic.H,{className:"xe5c7bq"})})})]}),(0,l.jsx)("div",{className:"x5axk6s x1siq8pp x78zum5 x6s0dn4 x1sxf85j x7z60cl xmkeg23 x1y0btm7 x1yjdb4r",children:(0,l.jsx)(lJ.Wi,{className:"x5yr21d xh8yej3",opacity:33,animationType:lJ.JR.SHIMMER})})]})})}function ig(){return(0,l.jsx)("div",{className:"x78zum5 xdqyycr xdt5ytf x6s0dn4 x9f619",children:(0,l.jsx)("div",{className:"x78zum5 x1fznrkb xdt5ytf x1cy8zhl",children:(0,l.jsx)("div",{className:"x78zum5 xe8ttls x6s0dn4 xkh2ocl x167g77z x9f619",children:(0,l.jsx)("div",{className:"x78zum5 x1kixdna x7zmwhy x6s0dn4 x6pg8l1 x1sxf85j xmkeg23 x1y0btm7 x1co876m x9f619",children:(0,l.jsx)(lJ.Wi,{className:"x5yr21d xh8yej3",opacity:33,animationType:lJ.JR.SHIMMER})})})})})}function iy({children:e}){return(0,l.jsx)("div",{className:"x78zum5 xh8yej3 x5yr21d xdt5ytf x6s0dn4 xl56j7k",children:e??(0,l.jsx)(im,{})})}var iv=n(655112),ik=n(631847),i_=n(911432),ij=n(551951),ib=n(431688),iC=n(129416),iw=n(940106),iE=n(429921),iN=n(299612);let iI=[2,3,6,13,25,50,75,100,200,300,1e3];var iT=(e=>(e.CURRENT="current",e.SUGGESTED="suggested",e))(iT||{});function iS(e){let t=(0,O.md)(nu.$H),n=(0,l1.Mr)(e,l1.Uq.PREVIEW),l=iX(e,"suggested"),s=function(e,t){let n=e?(0,nA.$x)(e):void 0;if(!e||!n)return null;let{activeToLinterDevIdsMap:l,linterToActiveDevIdsMap:i,activeDevIdsToNodeInfoMap:s,linterDevIdsToNodeInfoMap:r}=function(e){let t=O.zl.get(t7.qL).get(i$(e,iT.SUGGESTED));return{activeToLinterDevIdsMap:t?.activeToLinterDevIdsMap,linterToActiveDevIdsMap:t?.linterToActiveDevIdsMap,activeDevIdsToNodeInfoMap:t?.activeDevIdsToNodeInfoMap,linterDevIdsToNodeInfoMap:t?.linterDevIdsToNodeInfoMap}}(e),a=l?.get(n)??null;return a?iM(t,a,i,s,r):null}(e,l),r=(0,O.Xr)(l1.q6);return(0,i.useEffect)(()=>{r(n)},[n,r]),{modalSize:t,background:n,suggestedHighlightInfo:s}}function iL({children:e,modalSize:t}){return(0,l.jsx)(iE.o,{eventListeners:["onPointerDown"],children:(0,l.jsx)("div",{...F.xk(iP.previewContainer(t?.x)),children:e})})}function iA(){return(0,l.jsx)("div",{})}function iR(e,t){let{thumbnail:n,status:i}=e;return n&&"loaded"===i?(0,l.jsx)(iN.Nf,{image:n,paddingPixels:30,Overlay:t,customLoadingIndicator:(0,l.jsx)(iA,{}),resetEnhancedOnBaseChange:!0,clearBaseBeforeDrawing:!0}):"loading"===i?(0,l.jsx)("div",{className:"x78zum5 x5yr21d xh8yej3 x6s0dn4 xl56j7k",children:(0,l.jsx)(nM.k,{})}):(0,l.jsx)("div",{className:"x78zum5 x5yr21d xh8yej3 x6s0dn4 xl56j7k x1v8gsql",children:"error-deleted-node"===i?(0,x.tx)("design_linter.preview.node_deleted"):(0,x.tx)("design_linter.preview.thumbnail_unavailable")})}function iM(e,t,n,l,i){let s=i?.get(t)?.absoluteRenderBounds;if(!s)return null;let r=[],a=new z.qo(d.juq.LINTER);for(let{developerId:t,ruleId:o,detectionContext:d}of e){let x=a.guidFromDeveloperFriendlyId(t),u=i?.get(t);if(!u)continue;let c=n?.get(t),m=c?l?.get(c):null;if(!m)continue;let{absoluteCornerPoints:p,unrotatedBoundingBox:h,childrenUnrotatedBoundingBoxesMap:g,cornerRadiusValues:f,absoluteTransform:y,stackTopPadding:v,stackBottomPadding:k,stackLeftPadding:_,stackRightPadding:j,stackSpacing:b,gridColumnGap:C,gridRowGap:w,gridColumnCount:E,gridRowCount:N,gridRowComputedSizesInOrder:I,gridColumnComputedSizesInOrder:T}=u,{isComponentOrInstance:S}=m,L=h?iz(h,s):null,A=p?{topLeft:iO(p.topLeft,s),topRight:iO(p.topRight,s),bottomLeft:iO(p.bottomLeft,s),bottomRight:iO(p.bottomRight,s)}:null,R=new Map;for(let[e,t]of g)if(t){let n=iz(t,s);R.set(e,n)}let M=function(e,t,n){let l=(0,z.UN)(),i=n?.get(e);if(!i)return!1;for(let s of t){if(s.developerId===e)continue;let t=n?.get(s.developerId);if(!t)continue;let r=l.guidFromDeveloperFriendlyId(t),a=l.guidFromDeveloperFriendlyId(i);if((0,nS.rV)(l,r,a))return!0}return!1}(t,e,n);r.push({guid:x,developerId:t,ruleId:o,detectionContext:d,isComponentOrInstance:S??!1,isNested:M,unrotatedBounds:L,childrenUnrotatedBoundsMap:R,cornerRadiusValues:f,cornerPoints:A,absoluteTransform:y,stackTopPadding:v,stackBottomPadding:k,stackLeftPadding:_,stackRightPadding:j,stackSpacing:b,gridColumnGap:C,gridRowGap:w,gridColumnCount:E,gridRowCount:N,gridRowComputedSizesInOrder:I,gridColumnComputedSizesInOrder:T})}return{overlayInfoList:r}}function iz(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}}function iO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iF({title:e}){return(0,l.jsx)("div",{className:"xuuh30 x10l6tqk x1ey2m1c x1vjfegm x87ps6o x1y1aw1k xwib8y2 x1nrll8i",children:(0,l.jsx)("span",{className:"x4oah1p xewu7z0 x2ua9qx x1dnis8n xawads1 x1akne3o x2b8uid xldgpng x1iorvi4 xy13l1i xjkvuk6 x163pfp xur7f20",children:e})})}let iD={kzqmXN:"x5lhr3w",k7Eaqz:"xkj4a21",kZKoxP:"x2a4jsl",kt9PQ7:"xso031l",ksu8eU:"x1y0btm7",kJRH4f:"",kVhnKS:"",k4WBpm:"",k8ry5P:"",kSWEuD:"",kDUl1X:"",kPef9Z:"",kfdmCh:"",kVAM5u:"x7z60cl",kzOINU:"",kGJrpR:"",kaZRDh:"",kBCPoo:"",k26BEO:"",k5QoK5:"",kLZC3w:"",kL6WhQ:"",$$css:!0},iP={previewContainer:e=>[iD,{"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`calc(${e??528}px - ${lf.sidebarWidth})`),"--x-minWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`calc(${e??528}px - ${lf.sidebarWidth})`)}]};class iV extends Error{constructor(){super(),this.name="PreviewAbortedError"}}class iq extends Error{constructor(){super(),this.name="PreviewTimeoutError"}}class iB extends Error{constructor(){super(),this.name="PreviewDeletedNodeError"}}function iH(e,t,n){let[l,s]=(0,i.useState)(!1),r=(0,na.am)();(0,i.useEffect)(()=>{s(!0)},[]);let[x,u]=(0,i.useState)({thumbnail:null,status:"loading"}),c=(0,i.useRef)(null),{violationsWithFixes:m,areFixesReady:p}=function(e){let t=function(e){let t=(0,O.md)(nu.IZ);return(0,i.useMemo)(()=>{if(!e)return[];let n=(0,z.UN)();return t.filter(t=>{let l=n.guidFromDeveloperFriendlyId(t.developerId);return l===e||(0,nS.rV)(n,e,l)})},[e,t])}(e),n=(0,O.md)(nu.$C),[l,s]=(0,i.useState)(!1);return{violationsWithFixes:(0,i.useMemo)(()=>{if(!n)return[];let e=!0,l=t.map(t=>{let l=n.get(t.groupKey);return l?.status==="loading"&&(e=!1),{violation:t,selectedFix:l?.fix||null}});return s(e),l},[n,t]),areFixesReady:l}}(t),h=(0,O.md)(nu.kR),g=(0,O.md)(nu.TT);return(0,i.useEffect)(()=>{if(!t)return;let i=e===iT.SUGGESTED,s=i$(t,e),x=O.zl.get(t7.qL).get(s),{isThumbnailStale:f,violationsStateHash:y}=function(e,t,n,l){let i=e?.lastEditedAtTime!==t||t<=0,s=i,r="";if(l){r=function(e){let t=JSON.stringify(e.map(e=>(function({violation:e,selectedFix:t}){return t?.fixContext?`${e.developerId}_${e.groupKey}_${JSON.stringify(t.fixContext,(e,t)=>t&&"object"==typeof t&&!Array.isArray(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}`:`${e.developerId}_${e.groupKey}`})(e)).sort());return(0,ib.F)(t)}(n);let t=e?.violationsStateHash!==r;s=i||t}return{isThumbnailStale:s,violationsStateHash:r}}(x,n,m,i);if(x&&!f){u({thumbnail:x.thumbnail,status:"loaded"});return}if(!l||h||g.size>0)return;let v=async()=>{let l=performance.now();i?O.zl.set(nL.ky,null):O.zl.set(nL.iS,null);let x=new AbortController;c.current=x;try{if(!t)return;let e=()=>{u({thumbnail:null,status:"error-general"}),console.error("Error generating thumbnail: Called showError on delegate")},l=new Promise((e,t)=>{setTimeout(()=>t(new iq),1e4)}),a=(async()=>i?await iG(r,t,n,y,m,e,x.signal):function(e,t,n,l){let i=(0,z.UN)().get(e);if(!i)throw new iB;let s=o.mHF?.copyNodeToLinterScene(e);if(!s)throw Error("Current linter scene guid not found");let r=iU(i);if(l.aborted)throw new iV;let a=new z.qo(d.juq.LINTER).get(s);if(!a)throw Error("Current linter scene node not found");let{activeToLinterDevIdsMap:x,linterToActiveDevIdsMap:u}=iK(i,a);return{thumbnail:(0,iw.SI)({nodeId:s,linterScene:!0,showError:n})(),activeToLinterDevIdsMap:x,linterToActiveDevIdsMap:u,activeDevIdsToNodeInfoMap:r,linterDevIdsToNodeInfoMap:iW(a),lastEditedAtTime:t}}(t,n,e,x.signal))(),c=await Promise.race([a,l]);if(c.thumbnail){u({thumbnail:c.thumbnail,status:"loaded"}),function(e,t){let n=new Map(O.zl.get(t7.qL));n.set(e,t),O.zl.set(t7.qL,n)}(s,c);return}throw u({thumbnail:null,status:"error-general"}),Error("Error generating thumbnail: Thumbnail delegate does not exist")}catch(l){if(l instanceof iV)return;if(l instanceof iq){console.warn("Error generating thumbnail: Thumbnail generation timed out",{originalGuid:t,thumbnailType:e}),(0,nx.gJ)(t),u({thumbnail:null,status:"error-general"});return}if(l instanceof iB){console.warn("Error generating thumbnail: Node to preview was deleted",{originalGuid:t,thumbnailType:e}),(0,nx.Kj)(t),u({thumbnail:null,status:"error-deleted-node"});return}u({thumbnail:null,status:"error-general"}),(0,iC.$D)(a.e.DS_ENABLEMENT,l,{extra:{originalGuid:t,thumbnailType:e,lastEditedAtTime:n}})}finally{let e=performance.now()-l;i?O.zl.set(nL.ky,e):O.zl.set(nL.iS,e)}};if(i&&!p){u({thumbnail:null,status:"loading"});return}return v(),()=>{c.current?.abort()}},[t,n,e,m,p,l,r,h,g]),x}function i$(e,t){return`${e}-${t}`}async function iG(e,t,n,l,i,s,r){let a=(0,z.UN)().get(t);if(!a)throw new iB;let x=o.mHF?.copyNodeToLinterScene(t);if(!x)throw Error("Suggested linter scene guid not found");let u=iU(a);if(r.aborted)throw new iV;let c=new z.qo(d.juq.LINTER).get(x);if(!c)throw Error("Suggested linter scene node not found");let{activeToLinterDevIdsMap:m,linterToActiveDevIdsMap:p}=iK(a,c);await e?.applyFixesToThumbnailNode(i,m,r);let h=(0,iw.SI)({nodeId:x,linterScene:!0,showError:s})();if(r.aborted)throw new iV;return o.mHF?.applyPendingLinterNodeUpdates(x),{thumbnail:h,activeToLinterDevIdsMap:m,linterToActiveDevIdsMap:p,activeDevIdsToNodeInfoMap:u,linterDevIdsToNodeInfoMap:iW(c),lastEditedAtTime:n,violationsStateHash:l}}function iK(e,t){let n=new Map,l=new Map,i=[],s=[];return(0,no.eA)(e,e=>{i.push(e.developerFriendlyId)}),(0,no.eA)(t,e=>{s.push(e.developerFriendlyId)}),i.forEach((e,t)=>{let i=s[t];i&&(n.set(e,i),l.set(i,e))}),{activeToLinterDevIdsMap:n,linterToActiveDevIdsMap:l}}function iU(e){let t=new Map;return(0,no.eA)(e,e=>{let n=e.isComponentish||e.isSymbolSublayer||e.isInstance||e.isInstanceSublayer;t.set(e.developerFriendlyId,{isComponentOrInstance:n})}),t}function iW(e){let t=new Map;return(0,no.eA)(e,e=>{let n=null,l=new Map;try{let t=o.mHF?.getUnrotatedLinterNodeBounds(e.guid);if(!t)throw Error("Result is undefined or null");let i=t.bounds;n={x:i.origin.x,y:i.origin.y,width:i.size.x,height:i.size.y},t.childrenGuids.forEach((e,n)=>{let i=t.childrenBounds[n];i&&l.set(e,{x:i.origin.x,y:i.origin.y,width:i.size.x,height:i.size.y})})}catch(t){console.error(`Failed to get unrotated bounds for linter node ${e.guid}, error:`,t)}t.set(e.developerFriendlyId,{absoluteRenderBounds:function(e,t){let n=t?e.absoluteRenderBounds:e.absoluteBoundingBox;return n?{x:n.x,y:n.y,width:n.w,height:n.h}:null}(e,!0),unrotatedBoundingBox:n,childrenUnrotatedBoundingBoxesMap:l,cornerRadiusValues:e.cornerRadiusValues,absoluteCornerPoints:o.mHF?.getLinterNodeAbsoluteCornerPoints(e.guid)??null,absoluteTransform:e.absoluteTransform,stackTopPadding:e.stackTopPadding,stackBottomPadding:e.stackBottomPadding,stackLeftPadding:e.stackLeftPadding,stackRightPadding:e.stackRightPadding,stackSpacing:e.stackSpacing,gridColumnGap:e.gridColumnGap,gridRowGap:e.gridRowGap,gridColumnCount:e.gridColumnCount,gridRowCount:e.gridRowCount,gridRowComputedSizesInOrder:e.gridRowSizesInOrder.map(e=>e.computedSize),gridColumnComputedSizesInOrder:e.gridColumnSizesInOrder.map(e=>e.computedSize)})}),t}function iX(e,t){let n=(0,O.md)(t7.hx);return(0,i.useMemo)(()=>{if(!e)return[];let l=(0,z.UN)(),i=n.filter(t=>{let n=l.guidFromDeveloperFriendlyId(t.developerId);return n===e||(0,nS.rV)(l,e,n)}),s=O.zl.get(t7.qL).get(i$(e,t)),r=s?.activeToLinterDevIdsMap;return i.reduce((e,t)=>{let{ruleId:n,detectionContext:l,nodeType:i,developerId:s}=t,a=r?.get(s);return a&&e.push(new ij.U({ruleId:n,detectionContext:l,nodeType:i,developerId:a})),e},[])},[e,t,n])}var iZ=n(172127),iY=n(141521);function iQ(e){let t;return"prop"in e&&(t=e.prop),"assetType"in e&&(t=e.assetType),t??""}function iJ(e,t){let n=e.transformRect(new lK.r(new lU.Mi(t.x,t.y),new lU.Mi(t.width,t.height)));return{x:n.left(),y:n.top(),width:n.width(),height:n.height()}}function i0(e,t){let n=new lU.Mi(t.x,t.y),l=e.transformPoint(n);return{x:l.x,y:l.y}}function i1(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function i2(e,t){let n=i1(e.topRight,e.topLeft),l=i1(e.bottomLeft,e.topLeft),i={topLeft:i0(t,e.topLeft),topRight:i0(t,e.topRight),bottomRight:i0(t,e.bottomRight),bottomLeft:i0(t,e.bottomLeft)},s=i1(i.topRight,i.topLeft),r=i1(i.bottomLeft,i.topLeft),a=Math.min(s/n,r/l);return{transformedPoints:i,width:s,height:r,scale:a}}function i5(e){let t=iY.s.fromFigMatrix(e);return{normalizedRotation:(t.toDegrees()%360+360)%360,isFlipped:0>t.determinant()}}let i3={k3nNDw:"xf6vlc6",$$css:!0},i4={baseHover:(e,t,n,l,i)=>[i3,{k3aq6I:null!=n?"xsqj5wx":n,kzqmXN:null!=l?"x5lhr3w":l,kZKoxP:null!=i?"x16ye13r":i,$$css:!0},{"--x-transformOrigin":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px ${t}px`),"--x-transform":null!=n?n:void 0,"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(l),"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(i)}],blueBorderHover:{kVAEAm:"x10l6tqk",kVAM5u:"x1va2ikv",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,ksu8eU:"x1y0btm7",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,$$css:!0},purpleBorderHover:{kVAEAm:"x10l6tqk",kVAM5u:"x50dhb3",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,ksu8eU:"x1y0btm7",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,$$css:!0},pinkBgHover:{kVAEAm:"x10l6tqk",kWkggS:"x6zv46q",kSiTet:"xuzhngd",$$css:!0}};function i7({overlayInfo:e,imageTransform:t}){let n,i;let{detectionContext:s,cornerRadiusValues:r,cornerPoints:a,absoluteTransform:o,isComponentOrInstance:d}=e;if(!a)return null;let{transformedPoints:x,width:u,height:c,scale:m}=i2(a,t),p=Math.max(16*m,16),h=iQ(s);if(!(h in iZ.I$))return null;let g=iZ.I$[h];if(!g)return null;let f=g.toLowerCase(),y=f.includes("right"),v=f.includes("bottom"),k=function(e,t,n,l,i){let s=Math.min(t/(e.topLeft+e.topRight),1),r=Math.min(n/(e.topRight+e.bottomRight),1),a=Math.min(t/(e.bottomLeft+e.bottomRight),1),o=Math.min(n/(e.topLeft+e.bottomLeft),1),d=e.topLeft*Math.min(s,o);return{topLeft:d*l+2,topRight:e.topRight*Math.min(s,r)*l+2,bottomRight:e.bottomRight*Math.min(a,r)*l+i,bottomLeft:e.bottomLeft*Math.min(a,o)*l+i}}(r,u/m,c/m,m,2);y&&v?(n=k.bottomRight,i=x.bottomRight):y&&!v?(n=k.topRight,i=x.topRight):!y&&v?(n=k.bottomLeft,i=x.bottomLeft):(n=k.topLeft,i=x.topLeft);let{borderWidth:_,borderLength:j}=function(e,t,n,l,i,s,r,a){let o=i?"bottom":"top",d=l?"Right":"Left",x=l?s[`${o}Left`]:s[`${o}Right`];return{borderWidth:Math.max(Math.min(n+(e+2-x-n)/2-2,a),n),borderLength:Math.max(Math.min(n+(t+2-(i?s[`top${d}`]:s[`bottom${d}`])-n)/2-2,a),n)}}(u,c,n,y,v,k,2,p),b=y?i.x-_:i.x-1,C=v?i.y-j:i.y-1,{normalizedRotation:w,isFlipped:E}=i5(o),N=i.x-b,I=i.y-C,T=`translate(${b}px, ${C}px) rotate(${w}deg)${E?" scaleY(-1)":""}`,S=!v&&!y,L=!v&&y,A=v&&!y,R=v&&y;return(0,l.jsx)("div",{...F.Ay.props(d?i4.purpleBorderHover:i4.blueBorderHover,i4.baseHover(N,I,T,_,j),S&&st.topLeftCorner(2,n),L&&st.topRightCorner(2,n),A&&st.bottomLeftCorner(2,n),R&&st.bottomRightCorner(2,n))})}let i8={k2ei4v:"",ke9TFa:"",krdFHd:"",kfmiAY:"",$$css:!0},i6={k2ei4v:"",ke9TFa:"",krdFHd:"",kfmiAY:"",$$css:!0},i9={k2ei4v:"",ke9TFa:"",kVL7Gh:"",kT0f0o:"",$$css:!0},se={k2ei4v:"",ke9TFa:"",kVL7Gh:"",kT0f0o:"",$$css:!0},st={topLeftCorner:(e,t)=>[i8,{kEafiO:null!=e?"x11jyild":e,kZ1KPB:null!=e?"xvc91ea":e,kIxVMA:null!=t?"x1f5z8mw":t,$$css:!0},{"--x-borderTopWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e),"--x-borderLeftWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e),"--x-borderTopLeftRadius":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(t)}],topRightCorner:(e,t)=>[i6,{kEafiO:null!=e?"x11jyild":e,kWqL5O:null!=e?"x1fz8zon":e,ksF3WI:null!=t?"x6dkn0j":t,$$css:!0},{"--x-borderTopWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e),"--x-borderRightWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e),"--x-borderTopRightRadius":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(t)}],bottomLeftCorner:(e,t)=>[i9,{kt9PQ7:null!=e?"x17ean8":e,kZ1KPB:null!=e?"xvc91ea":e,kqGeR4:null!=t?"x1rtd9fr":t,$$css:!0},{"--x-borderBottomWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e),"--x-borderLeftWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e),"--x-borderBottomLeftRadius":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(t)}],bottomRightCorner:(e,t)=>[se,{kt9PQ7:null!=e?"x17ean8":e,kWqL5O:null!=e?"x1fz8zon":e,kYm2EN:null!=t?"x5t0xka":t,$$css:!0},{"--x-borderBottomWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e),"--x-borderRightWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e),"--x-borderBottomRightRadius":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(t)}]};function sn({overlayInfo:e,imageTransform:t}){let{detectionContext:n,unrotatedBounds:s,cornerPoints:r,gridColumnGap:a,gridRowGap:o,gridColumnCount:d,gridRowCount:x,gridRowComputedSizesInOrder:u,gridColumnComputedSizesInOrder:c,absoluteTransform:m}=e;if(!s||!r)return null;let p=iJ(t,s),h="GRID_COLUMN_GAP"===iQ(n),g=(h?d:x)-1,f=h?c:u,{width:y,height:v,scale:k}=i2(r,t),_=(h?a:o)*k,{normalizedRotation:j,isFlipped:b}=i5(m),C=[],w=h?e.stackLeftPadding*k:e.stackTopPadding*k;for(let e=0;e<g;e++){let t=f[e];if(!t)continue;w+=t*k;let n=h?w+p.x:p.x,l=h?p.y:w+p.y,s=h?_:y,r=h?v:_,a=p.x-n,o=b?p.y+p.height-l:p.y-l,d=`translate(${n}px, ${l}px) rotate(${j}deg)`;C.push((0,i.createElement)("div",{...F.Ay.props(i4.pinkBgHover,i4.baseHover(a,o,d,s,r)),key:`hover-grid-${e}`})),w+=_}return(0,l.jsx)(l.Fragment,{children:C})}var sl=n(257656);function si({overlayInfo:e,imageTransform:t}){let{detectionContext:n,cornerPoints:i,absoluteTransform:s}=e;if(!i)return null;let{transformedPoints:r,width:a,height:o,scale:d}=i2(i,t),x=iQ(n);if(!(x in sl.A))return null;let u=sl.A[x];if(!u)return null;let c=e[({paddingTop:"stackTopPadding",paddingBottom:"stackBottomPadding",paddingLeft:"stackLeftPadding",paddingRight:"stackRightPadding"})[u]]*d,m={paddingTop:r.topLeft,paddingBottom:r.bottomLeft,paddingLeft:r.topLeft,paddingRight:r.topRight}[u],{translateX:p,translateY:h,highlightWidth:g,highlightHeight:f}={paddingTop:{translateX:m.x,translateY:m.y,highlightWidth:a,highlightHeight:c},paddingBottom:{translateX:m.x,translateY:m.y-c,highlightWidth:a,highlightHeight:c},paddingLeft:{translateX:m.x,translateY:m.y,highlightWidth:c,highlightHeight:o},paddingRight:{translateX:m.x-c,translateY:m.y,highlightWidth:c,highlightHeight:o}}[u],{normalizedRotation:y,isFlipped:v}=i5(s),k=m.x-p,_=m.y-h,j=`translate(${p}px, ${h}px) rotate(${y}deg)${v?" scaleY(-1)":""}`;return(0,l.jsx)("div",{...F.Ay.props(i4.pinkBgHover,i4.baseHover(k,_,j,g,f))})}function ss({overlayInfo:e,imageTransform:t}){let{ruleId:n,detectionContext:s,unrotatedBounds:r,childrenUnrotatedBoundsMap:a,cornerPoints:o,stackSpacing:d,absoluteTransform:x}=e;if(!r||!o||0===a.size)return null;let u=iJ(t,r),c=Array.from(a.entries()).map(([e,n])=>({guid:e,bounds:iJ(t,n)})),m=iQ(s),p=n===l$.C.REQUIRE_HORIZONTAL_SPACING_VARIABLES||"STACK_SPACING_HORIZONTAL"===m,h=c.sort((e,t)=>p?e.bounds.x-t.bounds.x:e.bounds.y-t.bounds.y),{width:g,height:f,scale:y}=i2(o,t),v=d*y,{normalizedRotation:k,isFlipped:_}=i5(x),j=[];for(let e=0;e<h.length-1;e++){let t=h[e];if(!t)continue;let n=`${t.guid}`;if(p){let e=t.bounds.x+t.bounds.width,l=u.y,s=u.x-e,r=_?u.y+u.height-l:u.y-l,a=`translate(${e}px, ${l}px) rotate(${k}deg)`;j.push((0,i.createElement)("div",{...F.Ay.props(i4.pinkBgHover,i4.baseHover(s,r,a,v,f)),key:n}))}else{let e=t.bounds.y+t.bounds.height,l=u.x,s=u.x-l,r=_?u.y+u.height-e:u.y-e,a=`translate(${l}px, ${e}px) rotate(${k}deg)`;j.push((0,i.createElement)("div",{...F.Ay.props(i4.pinkBgHover,i4.baseHover(s,r,a,g,v)),key:n}))}}return(0,l.jsx)(l.Fragment,{children:j})}let sr=(0,i.createContext)(null);function sa({children:e,value:t}){return(0,l.jsx)(sr.Provider,{value:t,children:e})}function so(e){let t=(0,i.useContext)(sr);return t?(0,l.jsx)(sd,{...e,...t}):null}let sd=i.memo(function(e){let{overlayInfoList:t,transform:n}=e;return(0,l.jsx)(l.Fragment,{children:t.map((e,t)=>(0,l.jsx)("div",{children:(0,l.jsx)(sx,{overlayInfo:e,imageTransform:n})},t))})});function sx({overlayInfo:e,imageTransform:t}){let{detectionContext:n}=e;switch(e.ruleId){case l$.C.REQUIRE_CORNER_RADIUS_VARIABLES:return(0,l.jsx)(i7,{overlayInfo:e,imageTransform:t});case l$.C.REQUIRE_HORIZONTAL_SPACING_VARIABLES:case l$.C.REQUIRE_VERTICAL_SPACING_VARIABLES:if(!("prop"in n))return null;switch(n.prop){case"STACK_SPACING_HORIZONTAL":case"STACK_SPACING_VERTICAL":return(0,l.jsx)(sc,{overlayInfo:e,imageTransform:t});case"GRID_COLUMN_GAP":case"GRID_ROW_GAP":return(0,l.jsx)(sm,{overlayInfo:e,imageTransform:t});default:return(0,l.jsx)(su,{overlayInfo:e,imageTransform:t})}case l$.C.REQUIRE_PADDING_VARIABLES:return(0,l.jsx)(sp,{overlayInfo:e,imageTransform:t});case l$.C.REQUIRE_ASSETS_FROM_SELECTED_LIBRARIES:if(!("assetType"in n))return null;switch(n.assetType){case"RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS":case"RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS":case"RECTANGLE_TOP_LEFT_CORNER_RADIUS":case"RECTANGLE_TOP_RIGHT_CORNER_RADIUS":return(0,l.jsx)(i7,{overlayInfo:e,imageTransform:t});case"STACK_SPACING_HORIZONTAL":case"STACK_SPACING_VERTICAL":return(0,l.jsx)(sc,{overlayInfo:e,imageTransform:t});case"STACK_PADDING_TOP":case"STACK_PADDING_BOTTOM":case"STACK_PADDING_LEFT":case"STACK_PADDING_RIGHT":return(0,l.jsx)(sp,{overlayInfo:e,imageTransform:t});case"GRID_ROW_GAP":case"GRID_COLUMN_GAP":return(0,l.jsx)(sm,{overlayInfo:e,imageTransform:t});default:return(0,l.jsx)(su,{overlayInfo:e,imageTransform:t})}default:return(0,l.jsx)(su,{overlayInfo:e,imageTransform:t})}}function su({overlayInfo:e,imageTransform:t}){let{cornerPoints:n,absoluteTransform:i,isComponentOrInstance:s}=e;if(!n)return null;let{transformedPoints:r,width:a,height:o}=i2(n,t),{normalizedRotation:d,isFlipped:x}=i5(i),u=r.topLeft.x-2,c=r.topLeft.y-2,m=r.topLeft.x-u,p=r.topLeft.y-c,h=`translate(${u}px, ${c}px) rotate(${d}deg)${x?" scaleY(-1)":""}`;return(0,l.jsx)("div",{...F.Ay.props(s?i4.purpleBorderHover:i4.blueBorderHover,sg.boxHover(m,p,h,a,o,2))})}function sc({overlayInfo:e,imageTransform:t}){return(0,l.jsxs)(l.Fragment,{children:[!e.isNested&&(0,l.jsx)(su,{overlayInfo:e,imageTransform:t}),(0,l.jsx)(ss,{overlayInfo:e,imageTransform:t})]})}function sm({overlayInfo:e,imageTransform:t}){return(0,l.jsxs)(l.Fragment,{children:[!e.isNested&&(0,l.jsx)(su,{overlayInfo:e,imageTransform:t}),(0,l.jsx)(sn,{overlayInfo:e,imageTransform:t})]})}function sp({overlayInfo:e,imageTransform:t}){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(su,{overlayInfo:e,imageTransform:t}),(0,l.jsx)(si,{overlayInfo:e,imageTransform:t})]})}let sh={k3nNDw:"xf6vlc6",kjGldf:"",k2ei4v:"",kZ1KPB:"",ke9TFa:"",kWqL5O:"",kLoX6v:"",kEafiO:"",kt9PQ7:"",$$css:!0},sg={boxHover:(e,t,n,l,i,s)=>[sh,{k3aq6I:null!=n?"xsqj5wx":n,kzqmXN:null!=l?"x5lhr3w":l,kZKoxP:null!=i?"x16ye13r":i,kMzoRj:null!=s?"x1mw0n95":s,$$css:!0},{"--x-transformOrigin":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px ${t}px`),"--x-transform":null!=n?n:void 0,"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(l),"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(i),"--x-borderWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(s)}]};var sf=n(735786),sy=n(415839),sv=n(563225);function sk(){let{isLoading:e,zoomPercentage:t,setZoomPercentage:n,isFitZoom:s,setIsFitZoom:r,position:a,setPosition:o,initialZoomPercentage:d,initialX:u,initialY:c}=(0,iN.DM)("LinterZoomSelectorToolbar"),{getTriggerProps:m,manager:p}=sf.b({initialPosition:"bottom-end"}),[h,g]=(0,O.fp)(nu.xi);i.useEffect(()=>{e||g(t)},[e,t,g]);let f=e?h:t;if(!f)return null;let y=s&&a.x===u&&a.y===c,v=t===d,k=p.isOpen,_=Math.round(f);return(0,l.jsx)("div",{className:"x87ps6o x10l6tqk xfr5jun x19up5dg x11uqc5h",children:(0,l.jsxs)(sf.bL,{manager:p,children:[(0,l.jsx)(nV.E,{...m(),"aria-label":(0,x.t)("design_linter.zoom_control.zoom_menu_aria",{zoomPercentage:_}),children:(0,l.jsx)("div",{className:"x3nfvp2 xfawy5m x1ldx8e xdt5ytf x1cy8zhl x9f619 xur7f20 x1yjdb4r x7s1b7r",children:(0,l.jsxs)("div",{...{0:{className:"x1247r65 xua88k8 x4pvk5x x78zum5 xl56j7k x6s0dn4"},1:{className:"x1247r65 xua88k8 x4pvk5x x78zum5 xl56j7k x6s0dn4 xcr9a89 x1aue78i"}}[!!k<<0],children:[(0,l.jsx)("div",{...{0:{className:"x1fcty0u x78zum5 xl56j7k x6s0dn4 x1iyjqo2 xt0e3qv x87ps6o x187nhsf x163pfp"},1:{className:"x1fcty0u x78zum5 xl56j7k x6s0dn4 x1iyjqo2 xt0e3qv x87ps6o x187nhsf x163pfp x1fgql6j"}}[!!k<<0],children:`${_}%`}),(0,l.jsx)(sv.O,{})]})})}),(0,l.jsxs)(sf.mc,{children:[(0,l.jsx)(sy.H_,{checked:y,onChange:()=>{y||(o({x:u,y:c}),r(!0))},children:(0,x.t)("design_linter.zoom_control.zoom_to_fit")}),(0,l.jsx)(sy.H_,{checked:v,onChange:()=>{v||(n(d),r(!1))},children:(0,x.t)("design_linter.zoom_control.zoom_to_default",{defaultPercentage:d})})]})]})})}function s_(){let e=(0,O.md)(nu.xi);return e?(0,l.jsx)("div",{className:"x87ps6o x10l6tqk xfr5jun x19up5dg x11uqc5h",children:(0,l.jsx)(nV.E,{children:(0,l.jsx)("div",{className:"x3nfvp2 xfawy5m x1ldx8e xdt5ytf x1cy8zhl x9f619 xur7f20 x1yjdb4r x7s1b7r",children:(0,l.jsxs)("div",{className:"x1247r65 xua88k8 x4pvk5x x78zum5 xl56j7k x6s0dn4",children:[(0,l.jsx)("div",{className:"x1fcty0u x78zum5 xl56j7k x6s0dn4 x1iyjqo2 xt0e3qv x87ps6o x187nhsf x163pfp",children:`${Math.round(e)}%`}),(0,l.jsx)(sv.O,{})]})})})}):null}function sj({rootNodeId:e,lastEditedAtTime:t}){let n=iH(iT.SUGGESTED,e,t),{modalSize:i,background:s,suggestedHighlightInfo:r}=iS(e);return(0,l.jsx)(iL,{modalSize:i,children:(0,l.jsx)("div",{className:"x5yr21d xh8yej3 x78zum5 xdt5ytf",children:(0,l.jsx)("div",{className:"x1n2onr6 xh8yej3 x1iyjqo2 xs83m0k x1t1x2f9",children:(0,l.jsxs)(iN.ao,{zoomPercentageOptions:iI,zoomOnMousePointer:!0,canFitZoomExceed100:!0,resetStateOnChangeValue:e,className:"x5yr21d xh8yej3 x78zum5 xdt5ytf",children:[(0,l.jsx)(sb,{image:n,highlightInfo:r,background:s,title:(0,x.t)("design_linter.preview.suggested")}),(0,l.jsx)(sk,{})]})})})})}function sb({image:e,highlightInfo:t,background:n,title:i}){let s=iR(e,so);return(0,l.jsx)(sa,{value:t,children:(0,l.jsx)(sC,{title:i,background:n,imageStatus:e.status,children:s})})}function sC({title:e,children:t,background:n,imageStatus:i}){let s=(0,O.md)(l1.q6),{bg:r,type:a}="loading"===i?s:n,o=a===l1.Vr.COLOR,d=a===l1.Vr.IMAGE;return(0,l.jsxs)("div",{...F.xk(sE.suggestedOnlyThumbnailContainer,d&&sE.backgroundImageContainer,o&&sE.dynamicBackgroundColor(r),d&&sE.dynamicBackgroundImage(r)),children:[(0,l.jsx)(iF,{title:e}),t]})}let sw={kKwaWg:"x1e87kdn",$$css:!0},sE={suggestedOnlyThumbnailContainer:{kVAEAm:"x10l6tqk",kzqmXN:"xh8yej3",k1xSpc:"x3nfvp2",kXwgrk:"xdt5ytf",kZKoxP:"x5yr21d",kVQacm:"xb3r6kr",kXHlph:null,kORKVm:null,kzQI83:"x1iyjqo2",$$css:!0},backgroundImageContainer:{kz484i:"xiy17q3",kgSjnq:"x18d0r48",k1YJky:"x1xsqp64",kDwdnV:null,kAiEkY:null,kWkggS:"x1v8gsql",$$css:!0},dynamicBackgroundColor:e=>[{kWkggS:null!=e?"xl8spv7":e,$$css:!0},{"--x-backgroundColor":null!=e?e:void 0}],dynamicBackgroundImage:e=>[sw,{"--x-backgroundImage":`url(${e})`}]},sN=i.memo(function(){let{rootNodeDevId:e}=function(){let e=(0,O.md)(nu.Bp)??null,t=(0,O.md)(nu.xo);return t?{rootNodeDevId:t}:{rootNodeDevId:e}}(),t=e?(0,nA.vc)(e):void 0,n=(0,lQ.ei)(t),i=(0,lb.wg)(n),s=!(0,u.kc)().aip_flower_garden_no_current;return t?s?(0,l.jsx)(sI,{lastEditedAtTime:i,rootNodeId:t}):(0,l.jsx)(sj,{lastEditedAtTime:i,rootNodeId:t}):(0,l.jsx)(sS,{})});function sI({rootNodeId:e,lastEditedAtTime:t}){let{modalSize:n,background:i,suggestedHighlightInfo:s}=iS(e),r=iX(e,iT.CURRENT),a=function(e,t){let n=e?(0,nA.$x)(e):void 0;if(!e||!n)return null;let{activeToLinterDevIdsMap:l,linterToActiveDevIdsMap:i,activeDevIdsToNodeInfoMap:s,linterDevIdsToNodeInfoMap:r}=function(e){let t=O.zl.get(t7.qL).get(i$(e,iT.CURRENT));return{activeToLinterDevIdsMap:t?.activeToLinterDevIdsMap,linterToActiveDevIdsMap:t?.linterToActiveDevIdsMap,activeDevIdsToNodeInfoMap:t?.activeDevIdsToNodeInfoMap,linterDevIdsToNodeInfoMap:t?.linterDevIdsToNodeInfoMap}}(e),a=l?.get(n)??null;return a?iM(t,a,i,s,r):null}(e,r),o=iH(iT.CURRENT,e,t),d=iH(iT.SUGGESTED,e,t);return(0,l.jsx)(iL,{modalSize:n,children:(0,l.jsxs)(ik.qW,{zoomPercentageOptions:iI,zoomOnMousePointer:!0,canFitZoomExceed100:!0,resetStateOnChangeValue:e,compareThumbnailSource:i_.FO.LINTER,children:[(0,l.jsx)(sT,{image:o,highlightInfo:a,background:i,title:(0,x.t)("design_linter.preview.current"),thumbnailType:iT.CURRENT}),(0,l.jsx)(sT,{image:d,highlightInfo:s,background:i,title:(0,x.t)("design_linter.preview.suggested"),thumbnailType:iT.SUGGESTED}),(0,l.jsx)(sk,{})]})})}function sT({image:e,highlightInfo:t,background:n,title:i,thumbnailType:s}){let r=iR(e,so),a=s===iT.CURRENT,o=s===iT.SUGGESTED,d=(0,O.md)(l1.q6),{bg:x,type:u}="loading"===e.status?d:n,c=u===l1.Vr.COLOR,m=u===l1.Vr.IMAGE;return(0,l.jsx)(sa,{value:t,children:(0,l.jsxs)("div",{...{0:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2"},4:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 xu96u03"},2:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 x3m8u43 xe0pwq x1y0btm7 x7z60cl"},6:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 xu96u03 x3m8u43 xe0pwq x1y0btm7 x7z60cl"},1:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 xiy17q3 x18d0r48 x1xsqp64 x1v8gsql"},5:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 xu96u03 xiy17q3 x18d0r48 x1xsqp64 x1v8gsql"},3:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 x3m8u43 xe0pwq x1y0btm7 x7z60cl xiy17q3 x18d0r48 x1xsqp64 x1v8gsql"},7:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 xu96u03 x3m8u43 xe0pwq x1y0btm7 x7z60cl xiy17q3 x18d0r48 x1xsqp64 x1v8gsql"}}[!!a<<2|!!o<<1|!!m<<0],style:{...c&&{backgroundColor:x},...m&&{backgroundImage:`url(${x})`}},children:[(0,l.jsx)(iF,{title:i}),r]})})}function sS(){let e=(0,O.md)(nu.NM),{bg:t,type:n}=(0,O.md)(l1.q6),i=n===l1.Vr.COLOR,s=n===l1.Vr.IMAGE;return(0,l.jsxs)("div",{...F.xk(sA.loadingPreviewContainer,s&&sA.backgroundImageContainer,i&&sA.dynamicBackgroundColor(t),s&&sA.dynamicBackgroundImage(t)),children:[!e&&(0,l.jsx)(nM.k,{}),(0,l.jsx)(s_,{})]})}let sL={kKwaWg:"x1e87kdn",$$css:!0},sA={backgroundImageContainer:{kz484i:"xiy17q3",kgSjnq:"x18d0r48",k1YJky:"x1xsqp64",kDwdnV:null,kAiEkY:null,kWkggS:"x1v8gsql",$$css:!0},loadingPreviewContainer:{k1xSpc:"x78zum5",kZKoxP:"x2a4jsl",kt9PQ7:"xso031l",kfdmCh:"x1q0q8m5",kL6WhQ:"xertd99",kjj79g:"xl56j7k",kGNEyG:"x6s0dn4",kVAEAm:"x1n2onr6",$$css:!0},dynamicBackgroundColor:e=>[{kWkggS:null!=e?"xl8spv7":e,$$css:!0},{"--x-backgroundColor":null!=e?e:void 0}],dynamicBackgroundImage:e=>[sL,{"--x-backgroundImage":`url(${e})`}]};function sR(){let e=function(){let e=(0,O.md)(t7.Iy),t=(0,O.md)(t7.m7),n=(0,O.md)(nx.Vg),l=(0,t8.sH)(),s=(0,i.useRef)(new Set),[r,o]=(0,i.useState)(()=>new Map),d=(0,i.useRef)(void 0);(0,i.useEffect)(()=>{n&&n!==d.current&&(d.current=n,o(new Map))},[n]);let x=(0,i.useMemo)(()=>{if(!n||!l||s.current.has(n))return null;let i=new Set;for(let t of e.values())for(let e of t.violatingNodeDevIdToRootNodeDevId.keys())i.add(e);let r=new Map;for(let e of t.values())for(let t of e.values())for(let e of t)if(!i.has(e.developerId)){let t=e.ruleId;r.set(t,(r.get(t)||0)+1)}return r},[t,e,n,l]);return(0,i.useEffect)(()=>{x&&n&&!s.current.has(n)&&(s.current.add(n),o(x),x.size>0&&(0,iC.$D)(a.e.DS_ENABLEMENT,Error("Found ungrouped violations"),e=>(e.setExtras({linterSessionId:n,violationCounts:Array.from(x.entries())}),e)))},[x,n]),r}(),t=(0,i.useMemo)(()=>{let t=0;for(let n of e.values())t+=n;return t},[e]),n=(0,i.useCallback)(()=>{let t=JSON.stringify({ungroupedViolations:Array.from(e.entries()).map(([e,t])=>({ruleId:e,count:t}))},null,2);navigator.clipboard.writeText(t)},[e]);return(0,u.kc)().aip_flower_garden_debug&&0!==t?(0,l.jsxs)(lF.Cs,{variant:"danger",children:[(0,l.jsx)(lD.Q,{children:`There are ${t} ungrouped violations`}),(0,l.jsx)(lP.$,{onClick:n,children:"Copy error state"})]}):null}var sM=n(38745),sz=n(99488),sO=n(636637),sF=n(116695),sD=n(88611),sP=n(402731),sV=n(899543),sq=n(763665),sB=n(908689),sH=n(287736);function s$(e){let t=(0,O.md)(nu.$C);return t?.get(e)??{fix:null,status:"loading"}}function sG(e){return(0,O.md)(t7.VG).get(e)??{fix:null,status:"loading"}}var sK=n(784616);function sU({applyFixToRow:e,hasFix:t,isDisabled:n,ariaLabel:i}){if(!t)return null;let s=(0,x.t)("design_linter.penalty_box.apply_suggestion_tooltip");return(0,l.jsx)(tp.K,{onClick:e,disabled:n,"data-tooltip-type":ns.Ib.TEXT,"data-tooltip":s,"aria-label":i??s,children:(0,l.jsx)(sK.r,{})})}function sW({blockConfig:e,children:t,violationsByGroupKey:n}){let{getLabel:i,id:s}=e,r=(0,O.md)(nu.kR),a=(0,O.md)(nu.TT),o=Object.keys(n),d=o.length,x=a.has(o[0]??"");return 0===d||1===d&&x?null:(0,l.jsx)(s5,{label:i(),children:t(r)},s)}function sX({children:e,showHover:t,applyFixToRow:n,applyAriaLabel:i,hasFix:s,customContainerStyle:r,shouldShowApplyButton:a=!0,isApplying:o=!1}){return(0,l.jsx)("div",{...F.Ay.props(s9.violationRowContainer,r),children:(0,l.jsxs)("div",{...{0:{className:"x9f619 x78zum5 x6s0dn4 xfawy5m x160i8ky x1jnr06f"},1:{className:"x9f619 x78zum5 x6s0dn4 xfawy5m x160i8ky x1jnr06f x30nh5c x19y5rnk"}}[!!t<<0],children:[e,(0,l.jsx)("div",{className:"x78zum5 x6s0dn4 x1jnr06f x8x9d4c",children:a&&n&&(0,l.jsx)(sU,{applyFixToRow:n,hasFix:!!s,isDisabled:o||!s,ariaLabel:i})})]})})}function sZ({applyFixToRow:e,applyAriaLabel:t,children:n,fixStatus:i,isApplying:s,showHover:r}){return(0,l.jsxs)(sX,{showHover:r,applyFixToRow:e,applyAriaLabel:t,hasFix:"loaded"===i,isApplying:s,children:[(0,l.jsxs)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x78zum5 x1n0bwc9 x6s0dn4",children:[(0,l.jsx)("div",{...{0:{className:"xlyipyv xuxw1ft xb3r6kr x6wrskw x29ncy0 xwrg52n x3nfvp2 x6s0dn4 x1c4vz4f xs83m0k"},1:{className:"xlyipyv xuxw1ft xb3r6kr x6wrskw x29ncy0 xwrg52n x3nfvp2 x6s0dn4 x1c4vz4f xs83m0k x3vvef7"}}[!!s<<0],children:n.currentValue}),(0,l.jsx)("div",{className:"x78zum5 x6s0dn4 xl56j7k xvy4d1p xxk0z11",children:(0,l.jsx)(ic.H,{className:"xe5c7bq","aria-label":(0,x.t)("design_linter.suggestion_block.change_to_aria")})})]}),(0,l.jsx)(sQ,{fixStatus:i,children:(0,l.jsx)("div",{className:"x5axk6s x1siq8pp x78zum5 x6s0dn4",children:n.suggestedValue})})]})}function sY({children:e,fixStatus:t,groupKey:n,violations:s,isApplyingFixesToGroup:r,applyAriaLabel:a}){let[d,u]=(0,i.useState)(!1),{applyFixToRow:c,isApplying:m}=function(e,t){let[n,l]=(0,i.useState)("idle"),s=(0,na.am)();return{applyFixToRow:(0,i.useCallback)(()=>{if("running"===n)return;l("running");let i=O.zl.get(nu.TT);O.zl.set(nu.TT,new Set([...i,t])),setTimeout(async()=>{let n=lb.rO(e)?.ruleId;try{if(!s)throw Error("Design linter not available");let n=O.zl.get(nu.$C),i=[],r=[],a=n?.get(t);if(!a?.fix?.fixContext)throw Error("No fix context available");a.fix.ruleId===l$.C.EXTENSIBILITY_RULE?r.push(...e):i.push({violations:e,fixContext:a.fix.fixContext}),await s.applyFixContextToViolations({violationsWithFixContexts:i,customRuleViolations:r}),l("applied"),(0,nx.lX)(e.length,a.fix.ruleId)}catch(e){if(e instanceof lH.eU){l("idle");return}(0,lb.Lt)({message:(0,x.t)("design_linter.penalty_box.fix_failed_bell"),icon:sH.zX.EXCLAMATION,type:"fix error"}),(0,nx.Yu)(n),l("error")}finally{let e=new Set(O.zl.get(nu.TT));e.delete(t),O.zl.set(nu.TT,e)}},0)},[n,e,t,s]),isApplying:"running"===n}}(s,n);if(!s||0===s.length||m)return null;let p=m||r;return(0,l.jsx)("div",{onMouseEnter:()=>{u(!0),O.zl.set(t7.hx,s);let e=Array.from(new Set(s.map(e=>(0,nA.vc)(e.developerId)).filter(Boolean)));0!==e.length&&o.Ez5?.canvasViewState().temporarilyHoveredNodes.set(e)},onMouseLeave:()=>{u(!1),O.zl.set(t7.hx,[]),o.Ez5?.canvasViewState().temporarilyHoveredNodes.set([])},children:e.suggestionRowContent({applyAriaLabel:a,fixStatus:t,isApplying:p,showHover:d&&!p,applyFixToRow:c})})}function sQ({fixStatus:e,children:t}){return"loading"===e?(0,l.jsx)("div",{className:"x78zum5 x6s0dn4 x19y5rnk x7z60cl xmkeg23 x1y0btm7 x1yjdb4r x5axk6s x1siq8pp",children:(0,l.jsx)(lJ.Wi,{className:"x5yr21d xh8yej3",opacity:33,animationType:lJ.JR.SHIMMER})}):(0,l.jsx)("div",{className:"x5axk6s x1siq8pp x78zum5 x6s0dn4 x1jnr06f",children:t})}let sJ=i.forwardRef(function({onClick:e,type:t},n){let i="",s="";switch(t){case sB.kQ.COLOR:case sB.kQ.NUMBER:i=(0,x.t)("design_linter.suggestion_block.no_match.variable_tooltip"),s=(0,x.t)("design_linter.suggestion_block.variable_no_match_aria");break;case sB.kQ.TEXT:i=(0,x.t)("design_linter.suggestion_block.no_match.style_tooltip"),s=(0,x.t)("design_linter.suggestion_block.style_no_match_aria")}return(0,l.jsx)(s2,{ref:n,onClick:e,tooltip:i,ariaLabel:s,children:e=>(0,l.jsx)("div",{...{0:{className:"x78zum5 x6s0dn4 x1n0bwc9 xmauxvm x1iyjqo2 xs83m0k x1t1x2f9"},1:{className:"x78zum5 x6s0dn4 x1iyjqo2 xs83m0k x1t1x2f9 x1akne3o xfq8vap"}}[!!e<<0],children:(0,l.jsx)(s0,{type:t})})})});function s0({type:e}){let t="";switch(e){case sB.kQ.COLOR:case sB.kQ.NUMBER:t=(0,x.t)("design_linter.suggestion_block.no_match.variable");break;case sB.kQ.TEXT:t=(0,x.t)("design_linter.suggestion_block.no_match.style")}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s4,{children:(0,l.jsx)(sD.V,{})}),(0,l.jsx)(nG.G,{text:t})]})}function s1({label:e,value:t,isApplying:n}){let i=void 0!==t;return(0,l.jsxs)("span",{...{0:{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xrvj5dj xju1xpo xh8yej3 x87ps6o"},1:{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xrvj5dj xju1xpo xh8yej3 x87ps6o x167g77z"}}[!!i<<0],"data-tooltip":e,"data-tooltip-type":ns.Ib.TEXT,children:[(0,l.jsx)("div",{...{0:{className:"xlyipyv xuxw1ft xb3r6kr"},1:{className:"xlyipyv xuxw1ft xb3r6kr x3vvef7"}}[!!n<<0],children:e}),i&&(0,l.jsx)("div",{...{0:{className:"x1n0bwc9"},1:{className:"x3vvef7"}}[!!n<<0],children:t})]})}let s2=i.forwardRef(function({children:e,onClick:t,ariaLabel:n,tooltip:i,disabled:s=!1},r){let[a,o]=(0,sq.M)();return(0,l.jsx)("div",{ref:e=>{a(e),r&&("function"==typeof r?r(e):r.current=e)},...{0:{className:"xh8yej3 xgqtt45 x78zum5 x6s0dn4 x19y5rnk x7z60cl x87ps6o xmkeg23 x1y0btm7 x1yjdb4r x1iyjqo2 xs83m0k x1t1x2f9 xmzs88n x9f619"},1:{className:"xh8yej3 xgqtt45 x78zum5 x6s0dn4 x19y5rnk x7z60cl x87ps6o xmkeg23 x1y0btm7 x1iyjqo2 xs83m0k x1t1x2f9 xmzs88n x9f619 x1oqziki"}}[!!o<<0],children:(0,l.jsx)(nV.E,{onClick:t,className:"x78zum5 x6s0dn4 xjbqb8w xh8yej3 x1siq8pp x1iyjqo2 xs83m0k x1t1x2f9","data-tooltip":i,"data-tooltip-type":ns.Ib.TEXT,disabled:s,"aria-label":n,children:e(o)})})});function s5({children:e,label:t}){return(0,l.jsxs)("div",{"data-testid":"design-linter-suggestion-block-container",className:"x78zum5 xdt5ytf x87ps6o xwib8y2",children:[""!==t&&(0,l.jsx)("div",{className:"x78zum5 x6s0dn4 x10w6t97 x1qughib xnm25rq xnuq7ks",children:(0,l.jsx)("h3",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x78zum5",children:t})}),e]})}function s3({header:e,subheader:t}){return(0,l.jsxs)("div",{className:"x78zum5 xdt5ytf x167g77z xnm25rq xnuq7ks x1vvogim x87ps6o",children:[(0,l.jsx)("h2",{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh x78zum5",children:e}),t&&(0,l.jsx)("h3",{className:"x78zum5 x1n0bwc9",children:t})]})}function s4({children:e,isDisabled:t}){return(0,l.jsx)("div",{...{0:{className:"x78zum5 x6s0dn4 xl56j7k xxk0z11 xvy4d1p xnei2rj"},1:{className:"x78zum5 x6s0dn4 xl56j7k xxk0z11 xvy4d1p xnei2rj x1ksfsxq"}}[!!t<<0],children:e})}function s7({items:e,header:t,subheader:n,suggestionBlock:s,infoIconTooltip:r,rowListId:a="row-list"}){let[o,d]=(0,i.useState)(!1),[u,c]=(0,i.useState)(!1);return e&&0!==e.length?(0,l.jsxs)("div",{className:"x78zum5 xdt5ytf",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[(0,l.jsxs)(sF.bL,{className:"x1vvogim xnjsko4 xnuq7ks x78zum5 x5mp9sv x87ps6o x9f619",children:[(0,l.jsx)(sF.O6,{onClick:()=>d(e=>!e),"aria-label":o?(0,x.t)("design_linter.suggestion_block.expand_list_aria"):(0,x.t)("design_linter.suggestion_block.collapse_list_aria")}),(0,l.jsx)("div",{className:"xmauxvm x15kz4h8 x1hshjfz x78zum5 x1iorvi4 xl56j7k",children:u&&(o?(0,l.jsx)(sP.k,{"aria-label":(0,x.t)("design_linter.suggestion_block.collapsed_chevron_aria")}):(0,l.jsx)(sv.O,{"aria-label":(0,x.t)("design_linter.suggestion_block.expanded_chevron_aria")}))}),(0,l.jsxs)("div",{className:"x78zum5 xdt5ytf x1cy8zhl",children:[(0,l.jsxs)("div",{className:"x78zum5 x6s0dn4 xsplgde x195vfkc xrbesu5 x12cwyba x1l993ej x1ejgcx7 x1aos5ly",children:[(0,l.jsx)("h1",{children:t}),u&&r&&(0,l.jsx)(sF.HG,{children:(0,l.jsx)(sV.B,{className:"xmauxvm","data-tooltip":r,"data-tooltip-type":ns.Ib.TEXT})})]}),n&&(0,l.jsx)("div",{className:"x78zum5 x6s0dn4 x1n0bwc9 x1hshjfz",children:n})]})]}),!o&&e.map((e,t)=>(0,l.jsx)("div",{children:e},`${s}-${a}-${t}`))]}):(0,l.jsx)(l.Fragment,{})}function s8(){return(0,l.jsx)("div",{className:"xjm9jq1 xbpqucl"})}function s6(){return(0,l.jsx)("div",{className:"xjm9jq1 xbpqucl x1nmg3sf x1gslohp xod5an3"})}let s9={violationRowContainer:{k1xSpc:"x78zum5",k8WAf4:"xt970qd",kLKAdn:null,kGO01o:null,kg3NbH:"xdqyycr",kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,kzqmXN:"xvx09gn",kZKoxP:"x10w6t97",kB7OPa:"x9f619",$$css:!0}};var re=n(451287),rt=n(596611),rn=n(836848),rl=n(668206),ri=n(954509),rs=(e=>(e.FRAME_FILL="FRAME-FILL",e.FRAME_STROKE="FRAME-STROKE",e.TEXT_FILL="TEXT-FILL",e.TEXT_STROKE="TEXT-STROKE",e.SHAPE_FILL="SHAPE-FILL",e.SHAPE_STROKE="SHAPE-STROKE",e.TEXT_STYLE="TEXT-STYLE",e.CORNER_RADIUS="CORNER_RADIUS",e.SPACING_HORIZONTAL="SPACING_HORIZONTAL",e.SPACING_VERTICAL="SPACING_VERTICAL",e.PADDING="PADDING",e.COMPONENT="COMPONENT",e))(rs||{});let rr=new Set(["FRAME-FILL","TEXT-FILL","SHAPE-FILL","FRAME-STROKE","TEXT-STROKE","SHAPE-STROKE"]),ra=new Set(["CORNER_RADIUS","SPACING_HORIZONTAL","SPACING_VERTICAL","PADDING"]),ro=new Set(["TEXT-STYLE"]),rd=new Set(["COMPONENT"]);function rx(e){return"libraryKey"in e&&"assetType"in e}function ru(e){return!!e&&"resolvedValue"in e&&e.resolvedValue.type===d.Z_n.FLOAT}function rc(e){return!!e&&"resolvedValue"in e&&e.resolvedValue.type===d.Z_n.COLOR}function rm(e){return!!e&&"type"in e&&e.type===ri.P.STYLE}var rp=n(80169),rh=n(377050),rg=n(326984);let rf=(0,i.memo)(function(e){return(0,l.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,l.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M10.75 3a4.8 4.8 0 0 1 2.28.56 4 4 0 0 1 .762.528l.045.042.021.021A.5.5 0 0 1 14 4.5v8a.5.5 0 0 1-.803.398l-.053-.047-.003-.003-.023-.022a3 3 0 0 0-.562-.386A3.8 3.8 0 0 0 10.75 12c-.793 0-1.4.222-1.806.44a3 3 0 0 0-.562.386l-.023.022a.5.5 0 0 1-.641.065l-.074-.062-.003-.003-.023-.022a3 3 0 0 0-.562-.386A3.8 3.8 0 0 0 5.25 12c-.793 0-1.4.222-1.806.44a3 3 0 0 0-.562.386l-.023.022A.5.5 0 0 1 2 12.5v-8c0-.13.051-.255.142-.349l.021-.021.045-.042a4 4 0 0 1 .763-.528A4.8 4.8 0 0 1 5.25 3a4.8 4.8 0 0 1 2.28.56c.189.101.345.206.47.296.125-.09.281-.195.47-.296A4.8 4.8 0 0 1 10.75 3m-5.5 1c-.793 0-1.4.222-1.806.44A3 3 0 0 0 3 4.729v6.815A4.8 4.8 0 0 1 5.25 11a4.8 4.8 0 0 1 2.25.544V4.729a3 3 0 0 0-.444-.289A3.8 3.8 0 0 0 5.25 4m5.5 0c-.793 0-1.4.222-1.806.44a3 3 0 0 0-.444.289v6.815A4.8 4.8 0 0 1 10.75 11a4.8 4.8 0 0 1 2.25.544V4.729a3 3 0 0 0-.444-.289A3.8 3.8 0 0 0 10.75 4"})})});var ry=n(881619),rv=n(947856),rk=n(617852),r_=n(693788);function rj({libraryFile:e,libraryKey:t}){let n=(0,s.wA)(),[r,a]=i.useState(!1),{text:o,icon:d}=(0,i.useMemo)(()=>{if(!e)return{};if((0,r_.xA)(e))return{text:e.hubFile?.currentHubFileVersion?.name,icon:(0,l.jsx)(rh.c,{})};{let t=(0,r_._F)(e);return{text:e.file?.name,icon:t?(0,l.jsx)(rg.x,{}):(0,l.jsx)(rf,{})}}},[e]);if(!o||!d)return(0,x.tx)("design_linter.suggestion_block.unknown_library_name");async function u(){let e=await (0,rv.Ek)(eh.iAs,{libraryKey:(0,lC.l)(t)}),l=(0,rk.c)({data:e});if(null==l){n(y.F.enqueue({message:(0,x.t)("design_linter.suggestion_block.no_file_access"),type:"NAVIGATE_FILE_FAILED",error:!0}));return}eK.Ay.redirect(l.link,"_blank")}return(0,l.jsx)("div",{onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:(0,l.jsx)(sF.HG,{children:(0,l.jsxs)(nV.E,{...{0:{className:"xmauxvm x1n0bwc9"},1:{className:"x1gmpc21 x1akne3o"}}[!!r<<0],onClick:u,"data-tooltip-type":ns.Ib.TEXT,"data-tooltip":(0,x.t)("design_linter.suggestion_block.go_to_library_tooltip"),children:[(0,l.jsx)("div",{className:"xdj266r x1ldx8e xat24cr x1iog12x",children:o}),r?(0,l.jsx)(ry.G,{}):d]})})})}function rb({libraryKey:e}){let{libraryFile:t,isLoading:n}=function(e){let t=(0,O.md)(t7.ri),n=t.libraryFileMap.get(e),l=!n&&"loaded"===t.status,[s]=(0,tk.IT)((0,eh.Eb)({libraryKey:e}),{enabled:l}),r=s.data?.libraryKeyToFile,a=n||r,o="loaded"!==t.status,d=!r&&"loading"===s.status,x=o||d;return!function(e,t){let n=(0,O.Xr)(t7.ri);(0,i.useEffect)(()=>{t&&n(n=>n.libraryFileMap.has(e)?n:{...n,libraryFileMap:new Map(n.libraryFileMap).set(e,t)})},[e,t,n])}(e,r),(0,i.useMemo)(()=>({libraryFile:a,isLoading:x}),[x,a])}(e);return n?null:(0,x.tx)("design_linter.suggestion_block.assets_subheader",{name:(0,l.jsx)(rj,{libraryFile:t,libraryKey:e})})}var rC=n(608375),rw=n(237494);function rE(e,t,n){return!(!e||0===e.length||n.has(t))}function rN(e,t){if(!e)return{};let n={};return Object.entries(e).forEach(([e,l])=>{rE(l,e,t)&&(n[e]=l)}),n}function rI(e,t){return e.filter(e=>(function(e,t){let n=Object.keys(e||{});return 0!==n.length&&n.some(n=>rE(e[n],n,t))})(e.violationsByGroupKey,t))}function rT(e){let t=e.a;return`${rC.z5.format(e)}${t&&t<1?` \xb7 ${function(e){let t=new rw.t6({min:0,max:100});return`${t.format(100*e)}%`}(t)}`:""}`}let rS="suggestion_rule_blocks--textStyleIcon--pHGlm",rL="suggestion_rule_blocks--chit--wPVyF";function rA(){let{blocks:e,totalViolations:t}=(0,O.md)(rp.LG),n=(0,O.md)(nu.TT),s=rI(e,n),r=i.useMemo(()=>{let e=s.flatMap(e=>Object.entries(rN(e.violationsByGroupKey,n)).flatMap(([t,n])=>n.map(n=>({groupKey:t,violation:n,blockConfig:e.blockConfig})))).reduce((e,{blockConfig:t,groupKey:n,violation:l})=>{let{detectionContext:i}=l;if(!rx(i))return e;let s=function(e,t){let n;if(n="TEXT"===e?e:(0,rl.xi)(e)?"FRAME":"SHAPE","FILL"===t){let e={FRAME:"FRAME-FILL",TEXT:"TEXT-FILL",SHAPE:"SHAPE-FILL"}[n];if(!e)throw Error("Unknown violation type for library mismatch fill asset: "+n);return e}if("STROKE"===t){let e={FRAME:"FRAME-STROKE",TEXT:"TEXT-STROKE",SHAPE:"SHAPE-STROKE"}[n];if(!e)throw Error("Unknown violation type for library mismatch stroke asset: "+n);return e}let l={TEXT_STYLE:"TEXT-STYLE",RECTANGLE_TOP_LEFT_CORNER_RADIUS:"CORNER_RADIUS",RECTANGLE_TOP_RIGHT_CORNER_RADIUS:"CORNER_RADIUS",RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS:"CORNER_RADIUS",RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS:"CORNER_RADIUS",STACK_PADDING_LEFT:"PADDING",STACK_PADDING_RIGHT:"PADDING",STACK_PADDING_TOP:"PADDING",STACK_PADDING_BOTTOM:"PADDING",STACK_SPACING_HORIZONTAL:"SPACING_HORIZONTAL",STACK_SPACING_VERTICAL:"SPACING_VERTICAL",GRID_COLUMN_GAP:"SPACING_HORIZONTAL",GRID_ROW_GAP:"SPACING_VERTICAL",COMPONENT:"COMPONENT"}[t];if(!l)throw Error("Unknown asset type for library mismatch violation: "+t);return l}(l.nodeType,i.assetType),r=i.libraryKey;return e[r]||(e[r]={blockConfig:t,violationsByType:{[rs.FRAME_FILL]:{violationLists:[],violationsByGroupKey:{}},[rs.FRAME_STROKE]:{violationLists:[],violationsByGroupKey:{}},[rs.TEXT_FILL]:{violationLists:[],violationsByGroupKey:{}},[rs.TEXT_STROKE]:{violationLists:[],violationsByGroupKey:{}},[rs.SHAPE_FILL]:{violationLists:[],violationsByGroupKey:{}},[rs.SHAPE_STROKE]:{violationLists:[],violationsByGroupKey:{}},[rs.TEXT_STYLE]:{violationLists:[],violationsByGroupKey:{}},[rs.CORNER_RADIUS]:{violationLists:[],violationsByGroupKey:{}},[rs.SPACING_HORIZONTAL]:{violationLists:[],violationsByGroupKey:{}},[rs.SPACING_VERTICAL]:{violationLists:[],violationsByGroupKey:{}},[rs.PADDING]:{violationLists:[],violationsByGroupKey:{}},[rs.COMPONENT]:{violationLists:[],violationsByGroupKey:{}}}}),e[r].violationsByType[s]&&(e[r].violationsByType[s].violationsByGroupKey[n]||(e[r].violationsByType[s].violationsByGroupKey[n]=[],e[r].violationsByType[s].violationLists.push({groupKey:n,violation:l})),e[r].violationsByType[s].violationsByGroupKey[n].push(l)),e},{});return Object.keys(e).sort().map(t=>({libraryKey:t,blockConfig:e[t].blockConfig,violationsByType:e[t].violationsByType}))},[s,n]);return t&&0!==r.length?(0,l.jsx)(l.Fragment,{children:r.map(({libraryKey:e,blockConfig:t,violationsByType:n},s)=>(0,l.jsxs)(i.Fragment,{children:[s>0&&(0,l.jsx)(s8,{}),(0,l.jsx)(rR,{libraryKey:e,blockConfig:t,violationsByType:n})]},`library-${e}`))}):null}function rR({libraryKey:e,blockConfig:t,violationsByType:n}){let s=i.useMemo(()=>{let e=Object.entries(n).filter(([e,{violationLists:t}])=>t.length>0).map(([e,{violationLists:t,violationsByGroupKey:n}])=>{let l={key:e,violationLists:t,violationsByGroupKey:n};switch(e){case rs.FRAME_FILL:return{...l,priority:1,label:(0,x.t)("design_linter.suggestion_block.fill_colors.background"),dropdownTitle:(0,x.t)("design_linter.rules.color.dropdown_title")};case rs.FRAME_STROKE:return{...l,priority:2,label:(0,x.t)("design_linter.suggestion_block.stroke_colors.stroke"),dropdownTitle:(0,x.t)("design_linter.rules.color.dropdown_title")};case rs.TEXT_FILL:return{...l,priority:3,label:(0,x.t)("design_linter.suggestion_block.text"),dropdownTitle:(0,x.t)("design_linter.rules.color.dropdown_title")};case rs.TEXT_STROKE:return{...l,priority:4,label:(0,x.t)("design_linter.suggestion_block.stroke_colors.text_stroke"),dropdownTitle:(0,x.t)("design_linter.rules.color.dropdown_title")};case rs.SHAPE_FILL:return{...l,priority:5,label:(0,x.t)("design_linter.suggestion_block.fill_colors.shape"),dropdownTitle:(0,x.t)("design_linter.rules.color.dropdown_title")};case rs.SHAPE_STROKE:return{...l,priority:6,label:(0,x.t)("design_linter.suggestion_block.stroke_colors.shape_stroke"),dropdownTitle:(0,x.t)("design_linter.rules.color.dropdown_title")};case rs.CORNER_RADIUS:return{...l,priority:7,label:(0,x.t)("design_linter.suggestion_block.corner_radius"),dropdownTitle:(0,x.t)("design_linter.rules.corner_radius.dropdown_title")};case rs.SPACING_HORIZONTAL:return{...l,priority:8,label:(0,x.t)("design_linter.suggestion_block.horizontal_spacing"),dropdownTitle:(0,x.t)("design_linter.rules.spacing.dropdown_title")};case rs.SPACING_VERTICAL:return{...l,priority:9,label:(0,x.t)("design_linter.suggestion_block.vertical_spacing"),dropdownTitle:(0,x.t)("design_linter.rules.spacing.dropdown_title")};case rs.PADDING:return{...l,priority:10,label:(0,x.t)("design_linter.suggestion_block.padding"),dropdownTitle:(0,x.t)("design_linter.rules.spacing.dropdown_title")};case rs.TEXT_STYLE:return{...l,priority:11,label:(0,x.t)("design_linter.suggestion_block.text_style"),dropdownTitle:(0,x.t)("design_linter.rules.text_styles.dropdown_title")};case rs.COMPONENT:return{...l,priority:12,label:"",dropdownTitle:""};default:(0,rn.xb)(e)}}).sort((e,t)=>e.priority-t.priority),t=e.filter(e=>rr.has(e.key)),l=e.filter(e=>ra.has(e.key)),i=e.filter(e=>ro.has(e.key)),s=e.filter(e=>rd.has(e.key)),r=[];return t.length>0&&r.push({key:"colorVariables",priority:1,header:(0,x.t)("design_linter.suggestion_block.section.color_variables"),violationSublockList:t}),l.length>0&&r.push({key:"numberVariables",priority:2,header:(0,x.t)("design_linter.suggestion_block.section.number_variables"),violationSublockList:l}),i.length>0&&r.push({key:"styles",priority:3,header:(0,x.t)("design_linter.suggestion_block.section.styles"),violationSublockList:i}),s.length>0&&r.push({key:"components",priority:4,header:(0,x.t)("design_linter.suggestion_block.section.components"),subheader:(0,x.t)("design_linter.suggestion_block.section.components_subheader"),violationSublockList:s}),r.sort((e,t)=>e.priority-t.priority)},[n]);return(0,l.jsx)("div",{children:(0,l.jsx)(s7,{rowListId:e,suggestionBlock:sB.pZ.ASSETS_OUTSIDE_SELECTED_LIBRARIES,header:(0,x.t)("design_linter.suggestion_block_headers.unexpected_assets"),subheader:(0,l.jsx)(rb,{libraryKey:e}),infoIconTooltip:(0,x.t)("design_linter.suggestion_block_headers.unexpected_assets_tooltip"),items:s.map((e,n)=>(0,l.jsx)(rM,{index:n,section:e,blockConfig:t},e.key))})})}function rM({index:e,section:t,blockConfig:n}){return(0,l.jsxs)(l.Fragment,{children:[e>0&&(0,l.jsx)(s6,{}),(0,l.jsx)(s3,{header:t.header,subheader:t.subheader}),t.violationSublockList.map(e=>(0,l.jsx)(sW,{blockConfig:{...n,getLabel:()=>e.label},violationsByGroupKey:e.violationsByGroupKey,children:t=>(0,l.jsx)(rz,{violationLists:e.violationLists,violationsByGroupKey:e.violationsByGroupKey,isApplying:t,dropdownTitle:e.dropdownTitle})},e.key))]})}function rz({violationLists:e,isApplying:t,violationsByGroupKey:n,dropdownTitle:i}){return(0,l.jsx)(l.Fragment,{children:e.map(({groupKey:e,violation:s})=>{let{detectionContext:r}=s;return rx(r)?(0,l.jsx)(rO,{groupKey:e,violations:n[s.groupKey]??[],ruleId:s.ruleId,isApplying:t,dropdownTitle:i},e):null})})}function rO({groupKey:e,violations:t,ruleId:n,isApplying:i,dropdownTitle:s}){let r=(0,lb.rO)(t),{fix:a,status:o}=s$(e);if(!r?.detectionContext)return null;let{detectionContext:d,developerId:u,nodeType:c}=r;if(!rx(d))return null;let m="TEXT_STYLE"===d.assetType,p="COMPONENT"===d.assetType,h=sO.P.includes(d.assetType),g="";return(g=m?(0,x.t)("design_linter.suggestion_block.apply_text_style_aria"):h?(0,x.t)("design_linter.suggestion_block.apply_number_variable_aria"):(0,x.t)("design_linter.suggestion_block.apply_color_variable_aria"),p)?(0,l.jsx)(rD,{detectionContext:d,fixStatus:o,groupKey:e,violations:t,isApplying:i}):(0,l.jsx)(sY,{fixStatus:o,groupKey:e,violations:t,isApplyingFixesToGroup:i,applyAriaLabel:g,children:{suggestionRowContent:t=>(0,l.jsx)(sZ,{...t,children:{currentValue:(0,l.jsx)(rF,{context:d}),suggestedValue:m?(0,l.jsx)(rV,{fix:a,groupKey:e,isApplying:i,ruleId:n,dropdownTitle:s}):h?(0,l.jsx)(rq,{fix:a,groupKey:e,ruleId:n,violatingDevId:u,assetType:d.assetType,isApplying:i,dropdownTitle:s}):(0,l.jsx)(rB,{fix:a,groupKey:e,ruleId:n,violatingDevId:u,nodeType:c,assetType:d.assetType,isApplying:i,dropdownTitle:s})}})}})}function rF({context:e}){let t=e?.assetName;return t?(0,l.jsx)(nG.G,{text:t,showTooltip:nK.i.ALWAYS}):null}function rD({detectionContext:e,fixStatus:t,groupKey:n,violations:i,isApplying:s}){let{componentItem:r,assetName:a}=e;return r?(0,l.jsx)(sY,{fixStatus:t,groupKey:n,violations:i,isApplyingFixesToGroup:s,children:{suggestionRowContent:e=>(0,l.jsx)(sX,{...e,customContainerStyle:rH.componentRowContainer,shouldShowApplyButton:!1,children:(0,l.jsx)(rP,{item:r,name:a,...e})})}}):null}function rP({item:e,name:t}){return(0,l.jsxs)("div",{className:"x78zum5 x6s0dn4 x1vvogim xfn1xvj x160i8ky xeuugli",children:[(0,l.jsx)("div",{className:"x6s0dn4 x1v8gsql xmkeg23 x1y0btm7 x1co876m x1sxf85j x78zum5 x2lah0s xl56j7k xyo1k6t x187nhsf xn3w4p2",children:(0,l.jsx)(re.M,{className:"thumbClassName",item:e,localThumbnailGenerationBehavior:"default",draggable:!1,showLoadingShimmer:!0,style:{maxHeight:"90%",maxWidth:"90%"}})}),(0,l.jsx)("div",{className:"x3nfvp2 x6s0dn4 x1c4vz4f xs83m0k xeuugli x1nx2rwh",children:(0,l.jsx)(nG.G,{text:t,showTooltip:nK.i.ALWAYS})})]})}function rV({fix:e,groupKey:t,isApplying:n,ruleId:s,dropdownTitle:r}){let{fixContext:a,valid:o}=e??{},d=(0,i.useRef)(null),u=(0,O.Xr)(nQ.uw),c=(0,O.Xr)(nQ.aW),m=(0,O.Xr)(nQ.iO),p=(0,O.Xr)(nQ.rg),h=(0,O.Xr)(nQ.jV),g=(0,nJ.sf)(),{fix:f}=sG(t),{fixContext:y}=f??{},v=a?.fixes,k=y?.fixes,{allStyles:_,listItems:j,styleKeyToStyle:b}=(0,nJ.td)({selectedStyles:v?.fixes??[],cachedStyles:k?.fixes??[]}),C=v?.fixes.length?v?.fixes[0]:_[0],w=(0,i.useCallback)(e=>!!rm(v?.fixes?.[0])&&"style"in e&&e.style.key.toString()===v?.fixes[0].key.toString(),[v]),E=(0,i.useCallback)(({id:e,rankPosition:n,isFromSuggestedList:l})=>{let i=b[e];if(!i)return;let r={...a,fixes:{suggestionId:(0,nr.g)(),fixes:[i],selectedItemRankPosition:n,selectedItemIsFromSuggestedList:l}};O.zl.set(nu.Sg,{groupKey:t,selectedFixItem:{fix:{ruleId:s,valid:!0,fixContext:r},status:"loaded"}})},[b,t,a,s]),N=(0,i.useCallback)(()=>{if(n)return;let e=O.zl.get(nQ.uw),t=!!e?.current&&!!d.current,l=e?.current===d.current;if(t&&l){g();return}let i=a?.suggestionId;h(()=>w),p(()=>E),m({title:r,blockType:sB.pZ.ASSETS_OUTSIDE_SELECTED_LIBRARIES,suggestionId:i,items:j}),u(d),c(!0)},[g,n,w,j,E,u,c,h,m,p,a,r]);if(!e||!o||!a||!rm(C))return(0,l.jsx)(sJ,{ref:d,onClick:N,type:sB.kQ.TEXT});let I=C.name;return(0,l.jsx)(s2,{ref:d,onClick:N,tooltip:I,ariaLabel:(0,x.t)("design_linter.suggestion_block.text_style_suggestion_aria",{styleName:I}),children:()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s4,{isDisabled:n,children:(0,l.jsx)(rt.J,{fillStyle:C,className:tf()(rL,rS)})}),(0,l.jsx)(s1,{label:I,isApplying:n})]})})}function rq({ruleId:e,fix:t,groupKey:n,violatingDevId:s,assetType:r,isApplying:a,dropdownTitle:o}){let{fixContext:u,valid:c}=t??{},m=(0,i.useRef)(null),p=(0,nJ.sf)(),h=(0,O.Xr)(nQ.uw),g=(0,O.Xr)(nQ.aW),f=(0,O.Xr)(nQ.iO),y=(0,O.Xr)(nQ.rg),v=(0,O.Xr)(nQ.jV),{fix:k}=sG(n),{fixContext:_}=k??{},j=u?.fixes,b=_?.fixes,C=(0,sz.d$)({ruleId:e,assetType:r}),{fixes:w,listItems:E,allResolvedVariables:N,variableMap:I}=(0,nJ.Dt)({selectedFixes:j?.fixes??[],cachedFixes:b?.fixes??[],violatingDevId:s,type:d.rXF.FLOAT,scopes:C}),T=i.useMemo(()=>{if(!ru(j?.fixes[0]))return w[0];let e=j?.fixes[0].variableId;if(!e||!N)return w[0];let t=N.libraryVariables[e]?.resolvedValue??N.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:w[0]},[j,N,w]),S=(0,i.useCallback)(e=>!!(e?.id&&ru(j?.fixes[0]))&&e.id===j?.fixes[0].variableId,[j]),L=(0,i.useCallback)(({id:t,rankPosition:l,isFromSuggestedList:i})=>{if(!N)return;let s=N.libraryVariables[t]?.resolvedValue??N.localVariables[t]?.resolvedValue;if(!s)return;let r={...u,fixes:{suggestionId:(0,nr.g)(),fixes:[{variableId:t,resolvedValue:s}],selectedItemRankPosition:l,selectedItemIsFromSuggestedList:i}};O.zl.set(nu.Sg,{groupKey:n,selectedFixItem:{fix:{ruleId:e,valid:!0,fixContext:r},status:"loaded"}})},[N,e,n,u]),A=(0,i.useCallback)(()=>{let e=O.zl.get(nQ.uw),t=!!e?.current&&!!m.current,n=e?.current===m.current;if(t&&n){p();return}let l=u?.suggestionId;h(m),g(!0),v(()=>S),y(()=>L),f({title:o,blockType:sB.pZ.ASSETS_OUTSIDE_SELECTED_LIBRARIES,suggestionId:l,items:E})},[h,g,v,S,y,L,f,E,p,u,o]);if(!t||!c||!u||!w||0===w.length||!T||!s)return(0,l.jsx)(sJ,{ref:m,onClick:A,type:sB.kQ.NUMBER});let{variableId:R,resolvedValue:M}=T,z=(I??{})[R]?.name,F=M.value;return F&&z?(0,l.jsx)(s2,{ref:m,onClick:A,tooltip:z,disabled:a,ariaLabel:(0,x.t)("design_linter.suggestion_block.number_variable_suggestion_aria",{variableName:z,variableValue:F}),children:()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s4,{isDisabled:a,children:(0,l.jsx)(sM.J,{})}),(0,l.jsx)(s1,{label:z,value:F,isApplying:a})]})}):(0,l.jsx)(sJ,{ref:m,onClick:A,type:sB.kQ.NUMBER})}function rB({ruleId:e,fix:t,groupKey:n,violatingDevId:s,nodeType:r,assetType:a,isApplying:o,dropdownTitle:u}){let{fixContext:c,valid:m}=t??{},p=(0,i.useRef)(null),h=(0,nJ.sf)(),g=(0,O.Xr)(nQ.uw),f=(0,O.Xr)(nQ.aW),y=(0,O.Xr)(nQ.iO),v=(0,O.Xr)(nQ.rg),k=(0,O.Xr)(nQ.jV),{fix:_}=sG(n),{fixContext:j}=_??{},b=c?.fixes,C=j?.fixes,w=(0,sz.d$)({ruleId:e,nodeType:r,assetType:a}),{fixes:E,listItems:N,allResolvedVariables:I,variableMap:T}=(0,nJ.Dt)({selectedFixes:b?.fixes??[],cachedFixes:C?.fixes??[],violatingDevId:s,type:d.rXF.COLOR,scopes:w}),S=i.useMemo(()=>{if(!rc(b?.fixes[0]))return E[0];let e=b?.fixes[0].variableId;if(!e||!I)return E[0];let t=I.libraryVariables[e]?.resolvedValue??I.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:E[0]},[b,I,E]),L=(0,i.useCallback)(e=>!!(e?.id&&rc(b?.fixes[0]))&&e.id===b?.fixes[0].variableId,[b]),A=(0,i.useCallback)(({id:t,rankPosition:l,isFromSuggestedList:i})=>{if(!I)return;let s=I.libraryVariables[t]?.resolvedValue??I.localVariables[t]?.resolvedValue;if(!s)return;let r={...c,fixes:{suggestionId:(0,nr.g)(),fixes:[{variableId:t,resolvedValue:s}],selectedItemRankPosition:l,selectedItemIsFromSuggestedList:i}};O.zl.set(nu.Sg,{groupKey:n,selectedFixItem:{fix:{ruleId:e,valid:!0,fixContext:r},status:"loaded"}})},[I,e,c,n]),R=(0,i.useCallback)(()=>{let e=O.zl.get(nQ.uw),t=!!e?.current&&!!p.current,n=e?.current===p.current;if(t&&n){h();return}let l=c?.suggestionId;g(p),f(!0),k(()=>L),v(()=>A),y({title:u,blockType:sB.pZ.ASSETS_OUTSIDE_SELECTED_LIBRARIES,suggestionId:l,items:N})},[g,f,k,L,v,A,y,N,h,c,u]);if(!t||!m||!c||!E||0===E.length||!S||!s)return(0,l.jsx)(sJ,{ref:p,onClick:R,type:sB.kQ.COLOR});let{variableId:M,resolvedValue:z}=S,F=(T??{})[M]?.name,D=z.value;if(!D||!F)return(0,l.jsx)(sJ,{ref:p,onClick:R,type:sB.kQ.COLOR});let P=rT(D);return(0,l.jsx)(s2,{ref:p,onClick:R,tooltip:F,disabled:o,ariaLabel:(0,x.t)("design_linter.suggestion_block.color_variable_suggestion_aria",{variableName:F,variableValue:P}),children:()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s4,{isDisabled:o,children:(0,l.jsx)(rt.J,{color:D,opacity:D.a,className:rL})}),(0,l.jsx)(s1,{label:F,isApplying:o})]})})}let rH={componentRowContainer:{k1xSpc:"x78zum5",k8WAf4:"xt970qd",kLKAdn:null,kGO01o:null,kg3NbH:"xdqyycr",kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,kZKoxP:"xng8ra",$$css:!0}};function r$(e){let{blocks:t,totalViolations:n}=e,l=(0,O.md)(nu.TT),s=i.useMemo(()=>rI(t,l),[t,l]),r=!!n&&s.length>0;return{visibleSuggestionBlocks:s,shouldShow:r}}function rG(e){let{shouldShow:t}=r$(e);return t}function rK({data:e,suggestionBlock:t,header:n,subheader:s,renderRow:r}){let{visibleSuggestionBlocks:a,shouldShow:o}=r$(e),d=(0,O.md)(nu.TT);return o?(0,l.jsx)(s7,{suggestionBlock:t,header:n,subheader:s,items:a.map(({blockConfig:e,violationsByGroupKey:t})=>{let n=rN(t,d);return(0,l.jsx)(sW,{blockConfig:e,violationsByGroupKey:n,children:t=>(0,l.jsx)(l.Fragment,{children:Object.entries(n).map(([n,s])=>{let a=(0,lb.rO)(s);return(0,l.jsx)(i.Fragment,{children:r({blockConfig:e,violations:s,groupKey:n,ruleId:a?.ruleId,isApplying:t})},n)})})},e.id)})}):null}function rU(){let e=(0,O.md)(rp.r0);return(0,l.jsx)(rK,{data:e,suggestionBlock:sB.sE.COLOR_VARIABLES,header:(0,x.t)("design_linter.suggestion_block_headers.color"),renderRow:({blockConfig:e,violations:t,groupKey:n,ruleId:i,isApplying:s})=>(0,l.jsx)(rW,{blockConfig:e,violations:t,groupKey:n,ruleId:i,isApplying:s})})}function rW({blockConfig:e,groupKey:t,violations:n,ruleId:i,isApplying:s}){let r=(0,lb.rO)(n),{fix:a,status:o}=s$(t);if(!r?.detectionContext)return null;let{detectionContext:d,developerId:u,nodeType:c}=r;return(0,l.jsx)(sY,{fixStatus:o,groupKey:t,violations:n,isApplyingFixesToGroup:s,applyAriaLabel:(0,x.t)("design_linter.suggestion_block.apply_color_variable_aria"),children:{suggestionRowContent:n=>(0,l.jsx)(sZ,{...n,children:{currentValue:(0,l.jsx)(rX,{context:d}),suggestedValue:(0,l.jsx)(rZ,{blockConfig:e,fix:a,groupKey:t,ruleId:i,violatingDevId:u,nodeType:c,isApplying:s})}})}})}function rX({context:e}){if(!e)return null;let t=e.opacity,n=rT({...e.color,a:t??1});return(0,l.jsx)(nG.G,{text:n,showTooltip:nK.i.ALWAYS})}function rZ({blockConfig:e,ruleId:t,fix:n,groupKey:s,violatingDevId:r,nodeType:a,isApplying:o}){let{fixContext:u,valid:c}=n??{},{id:m,dropdownTitle:p}=e,h=i.useRef(null),g=(0,nJ.sf)(),f=(0,O.Xr)(nQ.uw),y=(0,O.Xr)(nQ.aW),v=(0,O.Xr)(nQ.iO),k=(0,O.Xr)(nQ.rg),_=(0,O.Xr)(nQ.jV),{fix:j}=sG(s),{fixContext:b}=j??{},C=u?.fixes,w=b?.fixes,E=(0,sz.d$)({ruleId:t,nodeType:a}),{fixes:N,listItems:I,allResolvedVariables:T,variableMap:S}=(0,nJ.Dt)({selectedFixes:C??[],cachedFixes:w??[],violatingDevId:r,type:d.rXF.COLOR,scopes:E}),L=i.useMemo(()=>{if(!C?.length)return N[0];let e=C[0]?.variableId;if(!e||!T)return N[0];let t=T.libraryVariables[e]?.resolvedValue??T.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:N[0]},[C,T,N]),A=(0,i.useCallback)(e=>!!(e?.id&&C?.length)&&e.id===C[0]?.variableId,[C]),R=(0,i.useCallback)(({id:e,rankPosition:n,isFromSuggestedList:l})=>{if(!T||!t)return;let i=T.libraryVariables[e]?.resolvedValue??T.localVariables[e]?.resolvedValue;if(!i)return;let r={...u,fixes:[{variableId:e,resolvedValue:i}],selectedItemRankPosition:n,selectedItemIsFromSuggestedList:l};O.zl.set(nu.Sg,{groupKey:s,selectedFixItem:{fix:{ruleId:t,valid:!0,fixContext:r},status:"loaded"}})},[T,t,s,u]),M=(0,i.useCallback)(()=>{let e=O.zl.get(nQ.uw),t=!!e?.current&&!!h.current,n=e?.current===h.current;if(t&&n){g();return}let l=u?.suggestionId;f(h),y(!0),_(()=>A),k(()=>R),v({title:p,suggestionId:l,blockType:m,items:I})},[m,f,y,_,A,k,R,v,I,g,u,p]);if(!n||!c||!u||!N||0===N.length||!L||!r)return(0,l.jsx)(sJ,{ref:h,onClick:M,type:sB.kQ.COLOR});let{variableId:z,resolvedValue:F}=L,D=(S??{})[z]?.name,P=F.value;if(!P||!D)return(0,l.jsx)(sJ,{ref:h,onClick:M,type:sB.kQ.COLOR});let V=rT(P);return(0,l.jsx)(s2,{ref:h,onClick:M,tooltip:D,disabled:o,ariaLabel:(0,x.t)("design_linter.suggestion_block.color_variable_suggestion_aria",{variableName:D,variableValue:V}),children:()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s4,{isDisabled:o,children:(0,l.jsx)(rt.J,{color:P,opacity:P.a,className:rL})}),(0,l.jsx)(s1,{label:D,isApplying:o})]})})}function rY(){let{blocks:e,totalViolations:t}=(0,O.md)(rp.yU),n=(0,O.md)(t7.d$),s=(0,O.md)(nu.TT),r=i.useMemo(()=>{let t=rI(e,s).flatMap(e=>Object.entries(rN(e.violationsByGroupKey,s)).flatMap(([t,n])=>n.map(n=>({groupKey:t,violation:n,blockConfig:e.blockConfig})))),n={};return t.forEach(({blockConfig:e,groupKey:t,violation:l})=>{let{detectionContext:i}=l,s=i?.pluginId,r=i?.rule?.name;s&&r&&(n[s]||(n[s]={}),n[s][r]||(n[s][r]={blockConfig:e,violationsByGroupKey:{},ruleName:r}),n[s][r].violationsByGroupKey[t]||(n[s][r].violationsByGroupKey[t]=[]),n[s][r].violationsByGroupKey[t].push(l))}),Object.keys(n).sort().map(e=>({pluginId:e,rules:Object.values(n[e])}))},[e,s]);return t&&0!==r.length?(0,l.jsx)(l.Fragment,{children:r.map(({pluginId:e,rules:t},s)=>(0,l.jsxs)(i.Fragment,{children:[s>0&&(0,l.jsx)(s8,{}),(0,l.jsx)(s7,{suggestionBlock:sB.pZ.EXTENSIBILITY_RULE,header:(0,x.t)("design_linter.rules.plugin_rules.header",{pluginName:n?.get(e)?.name??""}),items:t.filter(({violationsByGroupKey:e})=>Object.keys(e).length>0).map(({blockConfig:t,violationsByGroupKey:n,ruleName:i})=>(0,l.jsx)(sW,{blockConfig:{...t,getLabel:()=>(0,l.jsx)("span",{children:i})},violationsByGroupKey:n,children:e=>(0,l.jsx)(l.Fragment,{children:Object.entries(n).map(([t,n])=>(0,l.jsx)(rQ,{groupKey:t,violations:n,isApplying:e},t))})},`${t.id}-${e}-${i}`))})]},`plugin-${e}`))}):null}let rQ=i.memo(function({groupKey:e,violations:t,isApplying:n}){return(0,l.jsx)("div",{children:(0,l.jsx)(rJ,{violations:t,groupKey:e,isApplying:n})},e)});function rJ({violations:e,groupKey:t,isApplying:n}){let[s]=(0,i.useState)(!1),{status:r}=s$(t),a=(0,lb.rO)(e),o=a?.detectionContext;return!s&&o?.explanation&&e.length?(0,l.jsx)(sY,{fixStatus:"loaded"===r?"loaded":"loading",groupKey:t,violations:e,isApplyingFixesToGroup:n,applyAriaLabel:(0,x.t)("design_linter.suggestion_block.apply_plugin_rule_aria"),children:{suggestionRowContent:e=>(0,l.jsx)(sX,{...e,hasFix:!0,children:(0,l.jsx)("div",{className:"x1akne3o x37zpob x1iyjqo2 xs83m0k x1t1x2f9 xilkfi8 x1vvkbs x1mzt3pk xeuugli",children:o.explanation})})}}):null}function r0(){let e=(0,O.md)(rp.d9);return(0,l.jsx)(rK,{data:e,suggestionBlock:sB.sE.NUMBER_VARIABLES,header:(0,x.t)("design_linter.suggestion_block_headers.number"),renderRow:({blockConfig:e,violations:t,groupKey:n,ruleId:i,isApplying:s})=>(0,l.jsx)(r1,{blockConfig:e,violations:t,groupKey:n,ruleId:i,isApplying:s})})}function r1({blockConfig:e,groupKey:t,violations:n,ruleId:i,isApplying:s}){let r=(0,lb.rO)(n),{fix:a,status:o}=s$(t);if(!r?.detectionContext)return null;let{detectionContext:d,developerId:u}=r;return(0,l.jsx)(sY,{fixStatus:o,groupKey:t,violations:n,isApplyingFixesToGroup:s,applyAriaLabel:(0,x.t)("design_linter.suggestion_block.apply_number_variable_aria"),children:{suggestionRowContent:n=>(0,l.jsx)(sZ,{...n,children:{currentValue:(0,l.jsx)(r2,{context:d}),suggestedValue:(0,l.jsx)(r5,{blockConfig:e,fix:a,groupKey:t,ruleId:i,violatingDevId:u,isApplying:s})}})}})}function r2({context:e}){if(!e)return null;let t=parseFloat(e.numericValue.toFixed(2)).toString();return(0,l.jsx)(nG.G,{text:t,showTooltip:nK.i.ALWAYS})}function r5({blockConfig:e,ruleId:t,fix:n,groupKey:s,violatingDevId:r,isApplying:a}){let{fixContext:o,valid:u}=n??{},{id:c,dropdownTitle:m}=e,p=(0,i.useRef)(null),h=(0,nJ.sf)(),g=(0,O.Xr)(nQ.uw),f=(0,O.Xr)(nQ.aW),y=(0,O.Xr)(nQ.iO),v=(0,O.Xr)(nQ.rg),k=(0,O.Xr)(nQ.jV),{fix:_}=sG(s),{fixContext:j}=_??{},b=o?.fixes,C=j?.fixes,w=(0,sz.d$)({ruleId:t}),{fixes:E,listItems:N,allResolvedVariables:I,variableMap:T}=(0,nJ.Dt)({selectedFixes:b??[],cachedFixes:C??[],violatingDevId:r,type:d.rXF.FLOAT,scopes:w}),S=i.useMemo(()=>{if(!b?.length)return E[0];let e=b[0]?.variableId;if(!e||!I)return E[0];let t=I.libraryVariables[e]?.resolvedValue??I.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:E[0]},[b,I,E]),L=(0,i.useCallback)(e=>!!(e?.id&&b?.length)&&e.id===b[0]?.variableId,[b]),A=(0,i.useCallback)(({id:e,rankPosition:n,isFromSuggestedList:l})=>{if(!I||!t)return;let i=I.libraryVariables[e]?.resolvedValue??I.localVariables[e]?.resolvedValue;if(!i)return;let r={...o,fixes:[{variableId:e,resolvedValue:i}],selectedItemRankPosition:n,selectedItemIsFromSuggestedList:l};O.zl.set(nu.Sg,{groupKey:s,selectedFixItem:{fix:{ruleId:t,valid:!0,fixContext:r},status:"loaded"}})},[I,t,s,o]),R=(0,i.useCallback)(()=>{let e=O.zl.get(nQ.uw),t=!!e?.current&&!!p.current,n=e?.current===p.current;if(t&&n){h();return}let l=o?.suggestionId;g(p),f(!0),k(()=>L),v(()=>A),y({title:m,blockType:c,suggestionId:l,items:N})},[c,g,f,k,L,v,A,y,N,h,o,m]);if(!n||!u||!o||!E||0===E.length||!S||!r)return(0,l.jsx)(sJ,{ref:p,onClick:R,type:sB.kQ.NUMBER});let{variableId:M,resolvedValue:z}=S,F=(T??{})[M]?.name,D=z.value;return F?(0,l.jsx)(s2,{ref:p,onClick:R,tooltip:F,disabled:a,ariaLabel:(0,x.t)("design_linter.suggestion_block.number_variable_suggestion_aria",{variableName:F,variableValue:D}),children:()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s4,{isDisabled:a,children:(0,l.jsx)(sM.J,{})}),(0,l.jsx)(s1,{label:F,value:D,isApplying:a})]})}):(0,l.jsx)(sJ,{ref:p,onClick:R,type:sB.kQ.NUMBER})}var r3=n(833915),r4=n(911018),r7=n(172461),r8=n(176765);function r6(){let{blocks:e,totalViolations:t}=(0,O.md)(rp.qQ),n=(0,O.md)(nu.TT),s=i.useMemo(()=>rI(e,n),[e,n]);return t&&0!==s.length?(0,l.jsx)(s7,{suggestionBlock:sB.pZ.TEXT_BACKGROUND_CONTRAST_AA,header:(0,x.t)("design_linter.suggestion_block_headers.accessibility_standards"),items:s.map(({blockConfig:e,violationsByGroupKey:t})=>{let i=rN(t,n);return(0,l.jsx)(sW,{blockConfig:e,violationsByGroupKey:i,children:t=>(0,l.jsx)(l.Fragment,{children:Object.entries(i).map(([n,i])=>{let s=(0,lb.rO)(i);return(0,l.jsx)(r9,{blockConfig:e,violations:i,groupKey:n,ruleId:s?.ruleId,isApplying:t},n)})})},e.id)})}):null}function r9({blockConfig:e,groupKey:t,violations:n,ruleId:i,isApplying:s}){let r=(0,lb.rO)(n),{fix:a,status:o}=s$(t);if(!r?.detectionContext)return null;let{detectionContext:d,developerId:u}=r;return(0,l.jsx)(sY,{fixStatus:o,groupKey:t,violations:n,isApplyingFixesToGroup:s,applyAriaLabel:(0,x.t)("design_linter.suggestion_block.apply_color_variable_aria"),children:{suggestionRowContent:n=>(0,l.jsx)(sZ,{...n,children:{currentValue:(0,l.jsx)(ae,{context:d}),suggestedValue:(0,l.jsx)(at,{blockConfig:e,fix:a,groupKey:t,ruleId:i,violatingDevId:u,isApplying:s,detectionContext:d})}})}})}function ae({context:e}){let t=e?.variableName;return t?(0,l.jsx)(nG.G,{text:t,showTooltip:nK.i.ALWAYS}):null}function at({blockConfig:e,ruleId:t,fix:n,groupKey:s,violatingDevId:r,isApplying:a,detectionContext:o}){let{fixContext:u,valid:c}=n??{},{id:m,dropdownTitle:p}=e,h=i.useRef(null),g=(0,nJ.sf)(),f=(0,O.Xr)(nQ.uw),y=(0,O.Xr)(nQ.aW),v=(0,O.Xr)(nQ.iO),k=(0,O.Xr)(nQ.rg),_=(0,O.Xr)(nQ.jV),j=(0,O.Xr)(nQ.Ue),{fix:b}=sG(s),{fixContext:C}=b??{},w=u?.fixes,E=C?.fixes,{fixes:N,listItems:I,allResolvedVariables:T,variableMap:S}=(0,nJ.Dt)({selectedFixes:w??[],cachedFixes:E??[],violatingDevId:r,type:d.rXF.COLOR,scopes:(0,sz.d$)({ruleId:t})}),L=i.useMemo(()=>{if(!w?.length)return N[0];let e=w[0]?.variableId;if(!e||!T)return N[0];let t=T.libraryVariables[e]?.resolvedValue??T.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:N[0]},[w,T,N]),A=i.useCallback(e=>!!(e?.id&&w?.length)&&e.id===w[0]?.variableId,[w]),R=i.useCallback(({id:e,rankPosition:n,isFromSuggestedList:l})=>{if(!T||!t)return;let i=T.libraryVariables[e]?.resolvedValue??T.localVariables[e]?.resolvedValue;if(!i)return;let r={...u,fixes:[{variableId:e,resolvedValue:i}],selectedItemRankPosition:n,selectedItemIsFromSuggestedList:l};O.zl.set(nu.Sg,{groupKey:s,selectedFixItem:{fix:{ruleId:t,valid:!0,fixContext:r},status:"loaded"}})},[T,t,s,u]),M=i.useCallback(()=>{let e=O.zl.get(nQ.uw),t=!!e?.current&&!!h.current,n=e?.current===h.current;if(t&&n){g();return}let{backgroundColor:i,contrastRatios:s}=o,r=function(e){if("LIST"!==e.type||!e.variable||!T)return null;let t=e.variable.node_id,n=T.libraryVariables[t]?.resolvedValue??T.localVariables[t]?.resolvedValue;if(!n?.value)return null;let r=n.value;return(0,l.jsx)(an,{backgroundColor:i,selectedColor:r,contrastRatios:s})},a=u?.suggestionId;f(h),y(!0),_(()=>A),k(()=>R),j(()=>r),v({title:p,blockType:m,suggestionId:a,items:I})},[m,f,y,_,A,k,R,j,v,I,g,o,T,u,p]);if(!n||!c||!u||!N||0===N.length||!L||!r)return(0,l.jsx)(sJ,{ref:h,onClick:M,type:sB.kQ.COLOR});let{variableId:z,resolvedValue:F}=L,D=(S??{})[z]?.name,P=F.value;if(!P||!D)return(0,l.jsx)(sJ,{ref:h,onClick:M,type:sB.kQ.COLOR});let V=rT(P);return(0,l.jsx)(s2,{ref:h,onClick:M,tooltip:D,disabled:a,ariaLabel:(0,x.t)("design_linter.suggestion_block.color_variable_suggestion_aria",{variableName:D,variableValue:V}),children:()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s4,{isDisabled:a,children:(0,l.jsx)(rt.J,{color:P,opacity:P.a,className:rL})}),(0,l.jsx)(s1,{label:D,isApplying:a}),(0,l.jsx)(an,{backgroundColor:o.backgroundColor,selectedColor:F.value,contrastRatios:o.contrastRatios})]})})}function an({backgroundColor:e,selectedColor:t,contrastRatios:n}){let s=i.useMemo(()=>{let{aaPass:l}=(0,r8.Ef)((0,r7.Hu)(t),e,n?.AA,n?.AAA);return!!l},[e,t,n]);return(0,l.jsxs)("div",{...{0:{className:"x78zum5 x6s0dn4 x195vfkc xy13l1i x87ps6o x1n0bwc9 xmauxvm"},1:{className:"x78zum5 x6s0dn4 x195vfkc xy13l1i x87ps6o xq6u9c4 x11vm0g5"}}[!!s<<0],children:[s?(0,l.jsx)(r3.l,{}):(0,l.jsx)(r4.X,{}),(0,x.t)("design_linter.suggestion_block.text_background_contrast_aa.aaStandard")]})}function al(){let e=(0,O.md)(rp.GM);return(0,l.jsx)(rK,{data:e,suggestionBlock:sB.pZ.TEXT_STYLE,header:(0,x.t)("design_linter.suggestion_block_headers.styles"),renderRow:({blockConfig:e,violations:t,groupKey:n,isApplying:i})=>(0,l.jsx)(ai,{blockConfig:e,violations:t,groupKey:n,isApplying:i})})}function ai({blockConfig:e,groupKey:t,violations:n,isApplying:i}){let s=(0,lb.rO)(n),{fix:r,status:a}=s$(t);return s?.detectionContext?(0,l.jsx)(sY,{fixStatus:a,groupKey:t,violations:n,isApplyingFixesToGroup:i,applyAriaLabel:(0,x.t)("design_linter.suggestion_block.apply_text_style_aria"),children:{suggestionRowContent:n=>(0,l.jsx)(sZ,{...n,children:{currentValue:(0,l.jsx)(as,{context:s.detectionContext}),suggestedValue:(0,l.jsx)(ar,{blockConfig:e,fix:r,groupKey:t,isApplying:i})}})}}):null}function as({context:e}){let{fontFamily:t,fontSize:n,lineHeight:i}=e,s=parseFloat(n.toFixed(2)).toString(),r=parseFloat(i.toFixed(2)).toString(),a=`${t} ${s}, ${r}`;return(0,l.jsx)(nG.G,{text:a,showTooltip:nK.i.ALWAYS})}function ar({blockConfig:e,fix:t,groupKey:n,isApplying:s}){let{fixContext:r,valid:a}=t??{},{id:o,dropdownTitle:d}=e,u=i.useRef(null),c=(0,O.Xr)(nQ.uw),m=(0,O.Xr)(nQ.aW),p=(0,O.Xr)(nQ.iO),h=(0,O.Xr)(nQ.rg),g=(0,O.Xr)(nQ.jV),f=(0,nJ.sf)(),{fix:y}=sG(n),{fixContext:v}=y??{},k=r?.fixes,{allStyles:_,listItems:j,styleKeyToStyle:b}=(0,nJ.td)({selectedStyles:k??[],cachedStyles:v?.fixes??[]}),C=k?.length?k[0]:_[0],w=i.useCallback(e=>!!k?.length&&"style"in e&&e.style.key.toString()===k[0]?.key?.toString(),[k]),E=i.useCallback(({id:e,rankPosition:t,isFromSuggestedList:l})=>{let i=b[e];if(!i)return;let s={...r,fixes:[i],selectedItemRankPosition:t,selectedItemIsFromSuggestedList:l};O.zl.set(nu.Sg,{groupKey:n,selectedFixItem:{fix:{ruleId:l$.C.REQUIRE_TEXT_STYLES,valid:!0,fixContext:s},status:"loaded"}})},[b,n,r]),N=i.useCallback(()=>{if(s)return;let e=O.zl.get(nQ.uw),t=!!e?.current&&!!u.current,n=e?.current===u.current;if(t&&n){f();return}let l=r?.suggestionId;g(()=>w),h(()=>E),p({title:d,blockType:o,suggestionId:l,items:j}),c(u),m(!0)},[o,f,s,w,j,E,c,m,g,p,h,r,d]);if(!t||!a||!r||!C)return(0,l.jsx)(sJ,{ref:u,onClick:N,type:sB.kQ.TEXT});let I=C.name;return(0,l.jsx)(s2,{ref:u,onClick:N,tooltip:I,ariaLabel:(0,x.t)("design_linter.suggestion_block.text_style_suggestion_aria",{styleName:I}),children:()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s4,{isDisabled:s,children:(0,l.jsx)(rt.J,{fillStyle:C,className:tf()(rL,rS)})}),(0,l.jsx)(s1,{label:I,isApplying:s})]})})}function aa(){(0,tv.h)(()=>{(0,nx.fx)()});let e=(0,iv.K)();return(0,l.jsxs)(lF.Cs,{variant:"warn","data-testid":"design-linter-stale-banner",children:[(0,l.jsx)(lD.Q,{children:(0,x.tx)("design_linter.modal.stale_linter_banner.title")}),(0,l.jsx)(lP.$,{onClick:e,children:(0,x.tx)("design_linter.modal.stale_linter_banner.button")})]})}function ao(){let[e,t]=i.useState(!1),n=(0,O.md)(nu.E$)??null,s=(0,O.md)(nu.NM),r=(0,O.md)(nu.xo),a=r??(0,lb.lv)(n),o=(0,nJ.sf)(),d=function(){let e=rG((0,O.md)(rp.r0)),t=rG((0,O.md)(rp.GM)),n=rG((0,O.md)(rp.d9)),s=function(){let{blocks:e,totalViolations:t}=(0,O.md)(rp.qQ);return!!e.length&&!!t}(),r=function(){let{blocks:e,totalViolations:t}=(0,O.md)(rp.LG);return!!rI(e,(0,O.md)(nu.TT)).length&&!!t}(),a=function(){let{blocks:e,totalViolations:t}=(0,O.md)(rp.yU);return!!e.length&&!!t}();return i.useMemo(()=>{let i=[];return e&&i.push({key:sB.pZ.BACKGROUND_COLOR,block:(0,l.jsx)(rU,{})}),t&&i.push({key:sB.pZ.TEXT_STYLE,block:(0,l.jsx)(al,{})}),n&&i.push({key:sB.pZ.CORNER_RADIUS,block:(0,l.jsx)(r0,{})}),s&&i.push({key:sB.pZ.TEXT_BACKGROUND_CONTRAST_AA,block:(0,l.jsx)(r6,{})}),r&&i.push({key:sB.pZ.ASSETS_OUTSIDE_SELECTED_LIBRARIES,block:(0,l.jsx)(rA,{})}),a&&i.push({key:sB.pZ.EXTENSIBILITY_RULE,block:(0,l.jsx)(rY,{})}),i},[e,t,n,s,r,a])}(),x=(0,iv.F)(),c=function(){let e=(0,O.md)(t7.wU),t=(0,O.md)(t7.o0),n=!(0,u.kc)().aip_flower_garden_full_responsiveness,l=t||e.size>0;return n&&l}(),{next:m,hasNext:p}=function(e,t){let n=(0,O.md)(nu.NM),l=(0,O.md)(nu.xo),s=(0,O.md)(nu.Bd),r=(0,O.md)(t7.Iy),a=(0,i.useRef)(null),o=(0,i.useRef)(null),d=(0,i.useRef)(null),x=(0,i.useRef)(null),u=(0,t8.Wo)(),c=(0,t8.OI)(),m=(0,t8.Vz)(),p=(0,t8.RD)();(0,i.useEffect)(()=>{if(!(o.current!==n))return;o.current=n;let e=s.map(e=>e.id),t=e.findIndex(e=>e===n);a.current=-1!==t?e.slice(t+1):e},[n,s]),(0,i.useEffect)(()=>{let e=x.current!==l,t=o.current!==n;if(!e&&!t)return;if(x.current=l,!n){d.current=null;return}let i=r.get(n);if(!i){d.current=null;return}let s=(0,lb.yz)(i);if(!l){d.current=s;return}let a=s.findIndex(e=>e===l);d.current=-1!==a?s.slice(a+1):s},[l,n,r]);let h=(0,i.useCallback)((e,n)=>{e&&(0,nx.oo)(e,n,"NEXT"),c(n),t?.()},[c,t]),g=(0,i.useCallback)(e=>{let n=r.get(e);n&&(0,nx.JT)(n,"NEXT"),u(e),m(),p(e),O.zl.set(lq),t?.()},[r,m,p,u,t]),f=(0,i.useCallback)(()=>{let e=d.current?.[0];if(e)return h(n,e),!0;if(!n)return!1;let t=r.get(n);if(!t)return!1;let i=(0,lb.lv)(t);return!!i&&i!==l&&(h(n,i),!0)},[h,n,l,r]),y=(0,i.useCallback)(()=>{if(!a.current||!s.length)return;let e=s.reduce((e,t)=>(e.add(t.id),e),new Set),t=null;for(let n=0;n<a.current.length;n++){let l=a.current[n]??null;if(l&&e.has(l)){t=l;break}}if(!t){let e=s[0]?.id??"";if(!e)return;t=e}g(t)},[s,g]);return{next:(0,i.useCallback)(()=>{if(e){y();return}f()||y()},[e,f,y]),hasNext:s.length>0}}(null===r,(0,i.useCallback)(()=>{t(!1)},[])),h=(x||e)&&null!==s,g=0===d.length&&!h;return!function({selectedGroupId:e,selectedRootId:t,isCompleted:n,hasNext:l,next:s}){let r=(0,i.useRef)(!1),a=n&&l;(0,i.useEffect)(()=>{r.current=!1},[e,t]),(0,i.useEffect)(()=>{a&&!r.current&&(r.current=!0,s())},[a,s])}({selectedGroupId:s,selectedRootId:r,isCompleted:h,hasNext:p,next:m}),(0,n0.fR)(),(0,i.createElement)("div",{className:"x78zum5 x5yr21d xh8yej3 xdt5ytf x1yjdb4r",key:`suggestionsView-${s}-${a}`},h?(0,l.jsx)(sS,{}):(0,l.jsx)(sN,{}),(0,l.jsx)(lV.P,{children:(0,l.jsx)("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x1iejq3h xsefle5 x1708eo",children:(0,l.jsx)("div",{className:"x78zum5 xdt5ytf x5yr21d xp6roeo x1iyjqo2",onScroll:o,"data-testid":"design-linter-suggestions-list",children:g?(0,l.jsx)(ip,{}):(0,l.jsx)("div",{className:"x78zum5 x1iyjqo2 xdt5ytf",children:d.map(({key:e,block:t},n)=>(0,l.jsxs)(i.Fragment,{children:[n>0&&(0,l.jsx)(s8,{}),t]},`suggestion-block-${e}-${s}-${r}`))})})})}),(0,l.jsxs)("div",{className:"xr1yuqi x2lah0s",children:[c&&(0,l.jsx)(aa,{}),(0,l.jsx)(au,{setDidIgnore:t,group:n,rootNodeDevId:r})]}))}let ad="design-linter-ignore-all-group",ax="design-linter-apply-all-group";function au({setDidIgnore:e,group:t,rootNodeDevId:n}){let s=(0,t8.rL)(e),{applyAllFixes:r}=function(){let e=(0,na.am)();return{applyAllFixes:(0,i.useCallback)(async()=>{if(!e)throw Error("Design linter not available");O.zl.set(nu.kR,!0),await new Promise(e=>requestAnimationFrame(()=>e()));let t=!1,n=0,l=0,i=0,s=e.linterAbortSignal;try{let r=O.zl.get(nu.DJ);for(let a of Object.values(r)){if(s.aborted)break;try{let r=[],o=[];for(let e in a){let t=a[e]??[],i=O.zl.get(nu.$C)?.get(e);i?.fix?.fixContext&&(i.fix.ruleId===l$.C.EXTENSIBILITY_RULE?o.push(...t):r.push({violations:t,fixContext:i.fix.fixContext}),n+=t.length,l+=1)}await e.applyFixContextToViolations({violationsWithFixContexts:r,customRuleViolations:o,shouldSkipCommit:!0,abortSignal:s}),t=!0,i+=1}catch(e){if(e instanceof lH.eU)continue;(0,nx.m7)()}finally{O.zl.set(nu.kR,!1)}}t&&(0,nx.i7)({numViolationsFixed:n,numRowsFixed:l,numBlocksFixed:i})}catch{(0,nx.Rz)()}finally{t&&nz.Y5.commit()}},[e])}}(),a=(0,O.md)(nu.kR),d=!(0,O.md)(nu.mE)||a,u=lX(t,n),c=u.length;return(0,l.jsxs)("div",{...{0:{className:"x1q0g3np x6s0dn4 x78zum5 x178xt8z x13fuv20 x16ufvko x9f619 x1vqgdyp xdqyycr x1iejq3h x13a6bvl"},1:{className:"x1q0g3np x6s0dn4 x78zum5 x178xt8z x13fuv20 x16ufvko x9f619 x1vqgdyp xdqyycr x1iejq3h x1qughib"}}[!!c<<0],"data-testid":"design-linter-group-view-footer",children:[c>0&&(0,l.jsx)("div",{className:"xqkxg93 x87ps6o",children:(0,x.tx)("design_linter.footer.layers_selected",{count:c})}),(0,l.jsxs)("div",{className:"x6s0dn4 x78zum5 x167g77z",children:[(0,l.jsx)(ne.$n,{onClick:s,variant:"secondary","data-testid":ad,recordingKey:ad,onMouseEnter:()=>{0!==u.length&&o.Ez5?.canvasViewState().temporarilyHoveredNodes.set(u)},onMouseLeave:()=>{o.Ez5?.canvasViewState().temporarilyHoveredNodes.set([])},onMouseDown:()=>{o.Ez5?.canvasViewState().temporarilyHoveredNodes.set([])},children:(0,x.tx)("design_linter.suggestion_block.ignore_all")}),(0,l.jsx)(ne.$n,{onClick:r,variant:"primary","data-testid":ax,recordingKey:ax,disabled:d,onMouseEnter:()=>{d||0===u.length||o.Ez5?.canvasViewState().temporarilyHoveredNodes.set(u)},onMouseLeave:()=>{o.Ez5?.canvasViewState().temporarilyHoveredNodes.set([])},onMouseDown:()=>{o.Ez5?.canvasViewState().temporarilyHoveredNodes.set([])},children:(0,l.jsxs)("div",{className:"x78zum5 x6s0dn4 x1jnr06f",children:[a&&(0,l.jsx)(nM.k,{size:"sm"}),(0,x.tx)("design_linter.suggestion_block.apply_all_btn")]})})]})]})}let ac=(0,i.memo)(function(){return!function(){let{targetNodeIds:e,selectedGroupId:t,selectedRootId:n}=function(){let e=(0,O.md)(nu.vu),t=(0,lB.k9)(()=>Array.from(e).sort(),[e]),n=(0,O.md)(nu.xo),l=(0,O.md)(nu.NM),s=i.useMemo(()=>{let e=n?[n]:t;return(0,nA.RG)(e)},[n,t]);return(0,i.useEffect)(()=>{s.length&&o.Egt?.replaceSelection(s,!0)},[s]),{targetNodeIds:s,selectedGroupId:l,selectedRootId:n}}();!function(e,t,n){let l=!!(0,u.kc)().aip_flower_garden_zoom_to_node,s=(0,lG.Z)("design_linter_group_selection_navigate"),r=i.useRef(null),a=i.useRef(null);(0,i.useEffect)(()=>{if(!e.length||!l||!o.mHF?.getViewportSettingsForLinterAutoZoom)return;let i=function(){let e=O.zl.get(nu.$H),t=O.zl.get(nu.r4);if(!e||!t)return null;let n=nz.Y5.getViewportInfo(),l=(0,lW.Nd)(n,t),i=(0,lW.Nd)(n,{x:t.x+e.x,y:t.y+e.y});return new lK.r(new lU.Mi(l.x,l.y),new lU.Mi(i.x-l.x,i.y-l.y))}();if(!i)return;let d=function(e,t,n,l){let i=null!==e&&e===n;return i&&l===t?o.bLy.ROOT_CHANGE:i&&null!==l&&t!==l?o.bLy.ROOT_CHANGE:o.bLy.GROUP_CHANGE}(r.current,a.current,t,n),x=o.mHF.getViewportSettingsForLinterAutoZoom(e,i,d);x&&(s(x,{preventCanvasHoversWhileNavigating:!0}),r.current=t,a.current=n)},[s,e,l,t,n])}(e,t,n)}(),(0,tv.h)(()=>{O.zl.set(lq)}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(sR,{}),(0,l.jsxs)("div",{className:"x78zum5 x5yr21d",children:[(0,l.jsx)("div",{className:"xs1s249 x32b0ac x1lpqudl x9f619 xl0ss4q",children:(0,l.jsx)(l9,{})}),(0,l.jsx)(ao,{})]})]})});function am(){let e=(0,t8._i)(),t=(0,t8.l2)()&&!e;return(!function(e){let t=(0,s.wA)(),n=(0,eI.f)("seen_linter_home_view");(0,i.useEffect)(()=>{n||e||t(eN.b({seen_linter_home_view:!0}))},[n,t,e])}(e),(0,n0._9)(),(0,n0.p6)(),(0,t8.Y0)(),!function(){let e=(0,O.md)(nx.Vg),t=(0,t8.bk)(),n=(0,i.useRef)(null);(0,i.useEffect)(()=>{(async function(){e!==n.current&&e&&(n.current=e,await t())})()},[t,e])}(),e)?(0,l.jsx)(iy,{}):t?(0,l.jsx)(lO,{}):(0,l.jsx)(ac,{})}function ap(){let e=lM.ox(),t=function(){let e=(0,O.Xr)(nu.$H);return(0,i.useMemo)(()=>nH()(t=>{e(t)},100),[e])}(),n=function(){let e=(0,O.Xr)(nu.r4);return(0,i.useMemo)(()=>nH()(t=>{e(t)},100),[e])}(),s=(0,t8.Hl)(),r=(0,O.Xr)(nu.$H),a=(0,i.useRef)(null),o=i.useCallback(e=>{e.size&&t(e.size),n(e.position)},[n,t]);(0,tv.h)(()=>{let e={x:528,y:664};t(e),r(e),n({x:d.x,y:d.y})}),(0,tv.h)(()=>{a.current?.focus()}),(0,i.useLayoutEffect)(()=>{let n=new lz.Mi(528,664);e.setSize(n),t(n),r(n)},[r,t,e]),(0,nx.ZE)();let d=(0,i.useMemo)(()=>new lz.Mi(56,70),[]);return(0,l.jsxs)(t6.bL,{width:528,maxHeight:664,defaultPosition:{left:d.x,top:d.y},manager:e,onClose:({source:e})=>{"outside"!==e&&((0,nx.Zz)(e),s())},onTransform:o,"data-testid":"design-linter-suggestions-modal",children:[(0,l.jsxs)(A.vo,{children:[(0,l.jsx)(A.Y9,{children:(0,l.jsx)(lg,{ref:a})}),(0,l.jsxs)(A.nB,{padding:0,scrolling:"manual",className:"xb3r6kr xy4gdg1",children:[(0,l.jsx)(am,{}),!!(0,u.kc)().aip_flower_garden_debug&&(0,l.jsx)(lh,{})]})]}),(0,l.jsx)(n8,{})]})}function ah(){return(0,t7.L4)()?(0,l.jsx)("div",{"data-testid":"design-linter-modals",children:(0,l.jsx)(ag,{})}):null}let ag=i.memo(()=>{let e=(0,eS.ut)(o.Ez5?.uiState()?.showDesignLinter,!1),t=(0,O.md)(nu.pR),n=(0,t8.PM)();return((0,i.useEffect)(()=>()=>{o.Ez5?.uiState()?.showDesignLinter?.set(!1)},[]),(0,nx.yU)(e,t),e)?(0,l.jsx)(af,{children:n?(0,l.jsx)(ly,{}):(0,l.jsx)(ap,{})}):null});function af({children:e}){return!function(){let e=(0,i.useRef)(null),t=(0,i.useRef)(null),n=(0,lj.$)(),l=(0,l_.e)(),[s,r]=(0,O.fp)(t7.ri),a=function(){let[e,t]=(0,O.fp)(t7.vV),n=(0,lk.ZC)(e),l=(0,O.Xr)(t7.v4),s=(0,O.Xr)(t7.jq);return(0,i.useCallback)(e=>{t(e);let i=n??new Set;e.size===i.size&&[...e].every(e=>i.has(e))||(l(e=>({...e,status:"stale"})),s(e=>({...e,status:"stale"})))},[t,n,l,s])}(),o=(0,j.tS)(),d=(0,i.useMemo)(()=>{let e=new Set,t=new Map,i=new Map;return"loading"===n.status||"loading"===l.status?{status:"loading",availableLibraryKeys:e,libraryFileMap:t,keyToPublishedLibraryMap:i}:(n.data&&n.data.forEach(t=>{e.add(t.library_key),i.set(t.library_key,t)}),l.data&&(l.data.unpublishedLibraries.forEach(t=>{e.add(t.library_key)}),l.data.publishedLibraries.forEach(t=>{e.add(t.library_key),i.set(t.library_key,t)}),(0,lv.nl)()&&o&&e.add(o)),{status:"loaded",availableLibraryKeys:e,libraryFileMap:t,keyToPublishedLibraryMap:i})},[n,l,o]),x=(0,i.useMemo)(()=>new Set(n?.data?.map(e=>e.library_key)),[n?.data]),u="loaded"===n.status&&"loaded"===d.status;(0,i.useEffect)(()=>{let t=e.current;(!t||t.status!==d.status||t.availableLibraryKeys.size!==d.availableLibraryKeys.size||Array.from(t.availableLibraryKeys).some(e=>!d.availableLibraryKeys.has(e)))&&(t&&t.libraryFileMap.size>0&&t.libraryFileMap.forEach((e,t)=>{d.libraryFileMap.has(t)||d.libraryFileMap.set(t,e)}),r(d),e.current=d)},[d,r]),(0,i.useEffect)(()=>{if(!u)return;let e=new Set(x);(0,lv.nl)()&&o&&e.add(o);let n=t.current;if(!n||n.size!==e.size||Array.from(e).some(e=>!n.has(e))){if(a(e),t.current=e,!n)return;let l=(0,na.X5)();(0,lb.Qi)(n,e).some(e=>{let t=s.keyToPublishedLibraryMap.get(e);return!t||t.num_styles>0||t.num_variables>0})?O.zl.set(t7.o0,!0):l?.onLinterDependencyChange()}},[u,x,o,a,s])}(),(0,t8.mr)(),(0,t8.vP)(),(0,t8.xg)(),(0,l.jsxs)("div",{"data-testid":"design-linter-data-loader",children:[(0,l.jsx)(lA,{}),e]})}var ay=n(12865),av=n(731374),ak=n(53964),a_=n(715886),aj=n(742284),ab=n(784395),aC=n(562418),aw=n(903039),aE=n(914694),aN=n(253193),aI=n(328779),aT=n(297331),aS=n(964622),aL=n(699546),aA=n(446125),aR=n(892925),aM=n(909196),az=n(362051),aO=n(421564),aF=n(21247),aD=n(397875);function aP({asset:e}){let t;let n=(0,j.q5)();e.type===aO.PW.COMPONENT?t=e.component_key:e.type===aO.PW.STATE_GROUP&&(t=e.key);let{status:s,displayedComponent:r,onFileChanged:a,onComponentChanged:o,onActiveRowChange:d,onConfirmConnection:x,onConfirmSuggestion:u,onValueChange:c,onDeleteMapping:m,onIgnoreMapping:p,onUpdateUserRules:h,updateConnection:g,bulkSuggestions:f,isLoadingSuggestions:y}=(0,aT.W)({libraryKey:e.library_key,defaultFilter:"all",componentKey:t,entrypoint:"design_system_view"}),v=(0,aS.OG)(e.library_key),k=v?.selectedRepositories[0]?.id,_=r?.component?.code_connect_info?.v1?.state==="connected",b=r?.component?.code_connect_info?.v1?.state==="ignored",C=r?.sourceIndex??0,w=r&&f.suggestions?.[r?.assetKey]||[],E=(0,aR.ER)(n),N=(0,az.C)(e.library_key),I=(0,aM.MO)({canvasAsset:e,canViewPlaygroundQueryResult:N,onLoaded:T.lQ,onError:T.lQ,thumbnailOptions:{maxWidth:640,maxHeight:480}}),S=(0,i.useMemo)(()=>{if(I?.state==="LOADED")return{hasChangesToReset:I?.currentAssetData?.hasChangesToReset??!1,nodeData:I?.currentAssetData?.nodeData??void 0,resetNodedata:I?.currentAssetData?.refetchAndResetScene,thumbnailData:I?.currentAssetData?.thumbnailData??void 0}},[I]),{showRulesPopout:L,setShowRulesPopout:A,savedUserRules:R,draftUserRules:M,setDraftUserRules:z,defaultPosition:O,handleOpenRulesWindow:F}=(0,aL.E)(r??null,"design_system_view",r?.sourceGuid??"");return v?.queryStatus==="loading"||"loading"===s?(0,l.jsx)("div",{className:"x78zum5 xl56j7k x6s0dn4 x5yr21d","data-testid":"loading-spinner",children:(0,l.jsx)(nM.k,{size:"lg"})}):r?(0,l.jsxs)("div",{className:"x78zum5 xdt5ytf x5u9viy",children:[(0,l.jsx)("div",{className:"x78zum5 xdt5ytf x1iyjqo2 xs83m0k xdl72j9 x1odjw0f",children:(0,l.jsx)("div",{className:"x78zum5 xdt5ytf x1i71x30 x1iyjqo2 xs83m0k xdl72j9 xeuugli x1r36162",children:(0,l.jsx)(aA.W,{data:r,entrypoint:"design_system_view",fullWidth:!0,isConnected:_,isIgnored:b,isLoadingSuggestions:y,mcpUserRulesEnabled:E,onActiveRowChange:d,onComponentChanged:o,onConfirmConnection:x,onConfirmSuggestion:u,onDeleteMapping:m,onFileChanged:a,onIgnoreMapping:p,onOpenRulesWindow:F,onValueChange:c,playgroundData:S,repositoryId:k,savedUserRules:R,sourceIndex:C,suggestions:w,updateConnection:g})})}),L&&(0,l.jsx)(aI.T,{defaultPosition:O,draftUserRules:M,onClose:()=>A(!1),onSave:e=>{(0,ty.sx)("component_browser.component_details_user_rules_saved",{componentBrowserEntrypoint:"design_system_view",nodeId:r?.sourceGuid??"",userRulesLength:e.length}),r&&h({row:r,userRules:e})},savedUserRules:R,setDraftUserRules:z,setShowRulesPopout:A})]}):null}function aV(){let e=(0,aD.K)();return e?(0,aF.HF)(e)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"xsdox4t xh8yej3 xso031l x1q0q8m5 xertd99"}),(0,l.jsx)(aP,{asset:e})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"xsdox4t xh8yej3 xso031l x1q0q8m5 xertd99"}),(0,l.jsx)("div",{className:"x78zum5 xl56j7k x1efd9su x1n0bwc9 xor4psk x1ncjjhx xaoa4km x2i041 x14terfx",children:(0,l.jsx)("h2",{children:(0,x.tx)("design_systems.home.editor.code_connect.not_published")})})]}):null}var aq=n(564669),aB=n(368773),aH=n(975182),a$=n(7562),aG=n(422677),aK=n(267765),aU=n(135748),aW=n(6997);let aX={maxWidth:320,maxHeight:240};function aZ(){let e=(0,aD.K)();return e?(0,l.jsx)(aY,{asset:e}):null}function aY({asset:e}){let t=(0,j.q5)(),n=(0,lC.l)(t?.libraryKey??""),s=(0,az.C)(n),[r,a]=(0,i.useState)(!1),o=(0,i.useRef)(null),[d,x]=(0,i.useState)(aX);i.useLayoutEffect(()=>{if(o.current){let{clientWidth:e,clientHeight:t}=o.current;x({maxWidth:.75*e,maxHeight:.75*t})}},[]);let u=(0,i.useCallback)(()=>a(!1),[]),c=(0,aM.MO)({canvasAsset:e,canViewPlaygroundQueryResult:s,onLoaded:T.lQ,onError:u,thumbnailOptions:{maxWidth:2*d.maxWidth,maxHeight:2*d.maxHeight}});if(!c)return(0,l.jsx)("div",{className:"x78zum5 x6s0dn4 xl56j7k x5yr21d",children:(0,l.jsx)(nM.k,{})});let m="LOADED"===c.state?c.currentAssetData:c.previousAssetData,p="ERROR"===c.state?c.errorType:void 0,h=s.unwrapOr(!1);return(0,l.jsxs)("div",{className:"x78zum5 x1q0g3np x5yr21d",children:[(0,l.jsx)("div",{className:"x1iyjqo2",ref:o,children:(0,l.jsx)(aU.r,{renderedAssetData:m,canViewPlayground:h,onCloseIfHidden:T.lQ,setFlyoutHidden:T.lQ,enableDragInsert:!1,maxThumbnailSize:d,fallbackToPublishedThumbnail:!1})}),(0,l.jsxs)("div",{className:"x78zum5 xdt5ytf x1dz1jew xe0pwq x19ypqd9 x1u2bih1",children:[(0,l.jsx)(aQ,{renderedAssetData:m}),(0,l.jsx)("div",{className:"x1iyjqo2 xs83m0k x2lwn1j xp6roeo",children:(0,l.jsx)(lV.P,{fill:!0,scroll:"y",children:(0,l.jsx)(aK.a,{renderedAssetData:m,errorType:p,canViewPlayground:h,shouldHideError:r,onSetShouldHideError:a})})})]})]})}function aQ({renderedAssetData:e}){let t=(0,i.useMemo)(()=>(0,nU.kH)(e.asset.name??""),[e.asset.name]),n=(0,i.useRef)(null),s=(0,aq.NG)({text:t,textRef:n}),r=e.asset,a=(0,aB.fV)(r.library_key);return(0,l.jsxs)("div",{className:"xi4r6k5",children:[(0,l.jsx)("div",{className:"xrbesu5 x12cwyba x1l993ej x1ejgcx7 x1aos5ly xlyipyv xuxw1ft xb3r6kr","data-tooltip":s?t:void 0,"data-tooltip-type":ns.Ib.TEXT,ref:n,children:t}),(0,l.jsxs)("div",{className:"x78zum5 x1q0g3np x6s0dn4 xg2d0mh",children:[r&&(0,l.jsx)(a$.Q,{assetLibraryKey:r.library_key,assetNodeId:r.node_id}),r&&(0,l.jsx)(aJ,{asset:r}),a&&(0,l.jsx)(aH.KP,{libraryKey:r.library_key,variant:"secondary",tooltipLocation:"below"})]}),r.updated_at&&(0,l.jsx)("div",{className:"x1w4f5ud",children:(0,l.jsx)(aG.M,{assetKey:(0,lI.Av)(r),type:r.type,updatedAt:r.updated_at})})]})}function aJ({asset:e}){let t=(0,rk.b)({libraryKey:e.library_key,nodeId:e.node_id,mainComponent:!0}),n=i.useMemo(()=>t.data?.type==="community",[t.data]),s=(0,i.useMemo)(()=>!!(e.type===aO.PW.COMPONENT&&e.component_key)||!!(e.type===aO.PW.STATE_GROUP&&e.key),[e]),r=(0,aW.K$)({isCommunityComponent:n,hasSingleBackingSymbol:!0,isBackingSymbolShared:s}),a=i.useMemo(()=>t.data?.link?{backingSymbolGUID:e.node_id,dataTooltip:r,disabled:!1,onMouseDown:T.lQ,ui3Icon:(0,l.jsx)("span",{className:"x180r7m8",children:(0,l.jsx)(aW.ab,{isCommunityComponent:n})}),url:t.data?.link}:null,[t.data,r,n,e.node_id]);return a?(0,l.jsx)(aW.iF,{data:a,recordingKey:"mainComponentLink"}):null}var a0=n(556003),a1=n(990462),a2=n(310955);let a5={h1:function({children:e,...t}){return(0,l.jsx)("h1",{...F.xk(a2.g.textHeadingLarge,a3.h1),...t,children:e})},h2:function({children:e,...t}){return(0,l.jsx)("h2",{...F.xk(a2.g.textHeadingMedium,a3.h2),...t,children:e})},h3:function({children:e,...t}){return(0,l.jsx)("h3",{...F.xk(a2.g.textHeadingSmall,a3.h3),...t,children:e})},h4:function({children:e,...t}){return(0,l.jsx)("h4",{...F.xk(a2.g.textBodyMedium,a3.h4),...t,children:e})},h5:function({children:e,...t}){return(0,l.jsx)("h5",{...F.xk(a2.g.textBodyMedium,a3.h5),...t,children:e})},h6:function({children:e,...t}){return(0,l.jsx)("h6",{...F.xk(a2.g.textBodySmall,a3.h6),...t,children:e})},p:function({children:e,...t}){return(0,l.jsx)("p",{...F.xk(a2.g.textBodyMedium,a3.paragraph),...t,children:e})},a:function({children:e,href:t,...n}){return(0,l.jsx)("a",{href:t,className:"x1quhyk7 xw77l6s x1choiuh x1hl2dhg xt0b8zv",...n,children:e})},strong:function({children:e,...t}){return(0,l.jsx)("strong",{className:"x1s688f x1akne3o",...t,children:e})},em:function({children:e,...t}){return(0,l.jsx)("em",{className:"x1k4tb9n",...t,children:e})},del:function({children:e,...t}){return(0,l.jsx)("del",{className:"xmqliwb x1n0bwc9",...t,children:e})},ul:function({children:e,...t}){return(0,l.jsx)("ul",{className:"xdj266r x1yztbdb x1tudf5h xtaz4m5",...t,children:e})},ol:function({children:e,...t}){return(0,l.jsx)("ol",{className:"xdj266r x1yztbdb x1tudf5h x3yw8vx",...t,children:e})},li:function({children:e,...t}){return(0,l.jsx)("li",{...F.xk(a2.g.textBodyMedium,a3.li),...t,children:e})},code:function({children:e,className:t,...n}){return(0,l.jsx)("code",{...F.xk(a2.g.textBodyMedium,t?a3.codeBlock:a3.inlineCode),...n,children:e})},pre:function({children:e,...t}){return(0,l.jsx)("pre",{className:"x176lpz5 x1tamke2 xur7f20 xysyzu8 xdj266r x1yztbdb",...t,children:e})},blockquote:function({children:e,...t}){return(0,l.jsx)("blockquote",{className:"xc8hjz9 x19ypqd9 x1u2bih1 xj3b58b x1yf7rl7 xdj266r x1yztbdb xnm25rq x1n0bwc9 x1k4tb9n",...t,children:e})},hr:function({...e}){return(0,l.jsx)("hr",{className:"xc342km xng3xce x9r1u3d x178xt8z x13fuv20 x16ufvko xqui205 x1hq5gj4",...e})},table:function({children:e,...t}){return(0,l.jsx)("div",{className:"xw2csxc x1yztbdb",children:(0,l.jsx)("table",{className:"xh8yej3 x1mwwwfo x1gukg7c",...t,children:e})})},thead:function({children:e,...t}){return(0,l.jsx)("thead",{className:"x176lpz5",...t,children:e})},tbody:function({children:e,...t}){return(0,l.jsx)("tbody",{...t,children:e})},tr:function({children:e,...t}){return(0,l.jsx)("tr",{className:"xso031l x1q0q8m5 xertd99",...t,children:e})},th:function({children:e,...t}){return(0,l.jsx)("th",{...F.xk(a2.g.textBodyMedium,a3.th),...t,children:e})},td:function({children:e,...t}){return(0,l.jsx)("td",{...F.xk(a2.g.textBodyMedium,a3.td),...t,children:e})},img:function({src:e,alt:t,...n}){return(0,l.jsx)("img",{src:e,alt:t,className:"x193iq5w xt7dq6l x1lliihq xw7yly9 x1yztbdb xur7f20",...n})}},a3={h1:{kMwMTN:"x1akne3o",keoZOQ:"xqui205",k1K539:"x1yztbdb",k63SB2:"x1xlr1w8",$$css:!0},h2:{kMwMTN:"x1akne3o",keoZOQ:"xqui205",k1K539:"x1yztbdb",k63SB2:"x1s688f",kGO01o:"xwib8y2",kt9PQ7:"xso031l",kfdmCh:"x1q0q8m5",kL6WhQ:"xertd99",$$css:!0},h3:{kMwMTN:"x1akne3o",keoZOQ:"x1sy10c2",k1K539:"xod5an3",k63SB2:"x1s688f",$$css:!0},h4:{kMwMTN:"x1akne3o",keoZOQ:"xw7yly9",k1K539:"x1e56ztr",k63SB2:"x1s688f",$$css:!0},h5:{kMwMTN:"x1n0bwc9",keoZOQ:"xw7yly9",k1K539:"x1e56ztr",k63SB2:"x1s688f",$$css:!0},h6:{kMwMTN:"x1n0bwc9",keoZOQ:"x14vqqas",k1K539:"x1e56ztr",k63SB2:"x1s688f",$$css:!0},paragraph:{kMwMTN:"x1akne3o",keoZOQ:"xdj266r",k1K539:"x1yztbdb",kLWn49:"x1dbl2gt",$$css:!0},li:{kMwMTN:"x1akne3o",k1K539:"x1e56ztr",kLWn49:"x1dbl2gt",$$css:!0},inlineCode:{kMv6JI:"x1ey7xld",kWkggS:"x176lpz5",kMwMTN:"x172n1ly",kLKAdn:"x1nn3v0j",kGO01o:"x1120s5i",kE3dHu:"x11iknt3",kpe85a:"x1ug7bdz",kZCmMZ:null,kwRFfy:null,kaIpWk:"x12oqio5",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kGuDYH:"xeb7xqv",$$css:!0},codeBlock:{kMv6JI:"x1ey7xld",kMwMTN:"x1akne3o",k1xSpc:"x1lliihq",$$css:!0},th:{kmVPX3:"xc7ga6q",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,k9WMMc:"xdpxx8g",k63SB2:"x1s688f",kMwMTN:"x1akne3o",$$css:!0},td:{kmVPX3:"xc7ga6q",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,kMwMTN:"x1akne3o",$$css:!0}};function a4({markdown:e}){return(0,l.jsx)("div",{className:"x1dtb55y x8x9d4c xack27t xdj266r xat24cr xggk2y7 x1yjdb4r x1akne3o",children:(0,l.jsx)(a0.o,{remarkPlugins:[a1.A],components:a5,children:e})})}var a7=n(494267);let a8=i.forwardRef(function({value:e,onChange:t,editable:n=!0,placeholder:s},r){let a=(0,td.DP)(),[o,d]=(0,i.useState)(null);(0,i.useEffect)(()=>{a7.pX.markdown().then(e=>{d(e.extension)})},[]);let x=(0,i.useMemo)(()=>{let e=["dark"===a?a7.AZ:a7.sg,a7.Lz.theme({"&":{height:"100%"},"&.cm-focused":{outline:"none"},".cm-scroller":{fontFamily:"var(--font-family-mono)",fontSize:"var(--text-body-medium-font-size)"}})];return o&&e.push(o),e},[a,o]),u=i.useRef(null);return i.useImperativeHandle(r,()=>({view:u.current?.view})),(0,l.jsx)("div",{className:"xh8yej3 xb3r6kr x5yr21d x78zum5 xdt5ytf",children:(0,l.jsx)(a7.CH,{ref:u,value:e,onChange:t,editable:n,placeholder:s,extensions:x,basicSetup:{lineNumbers:!0,foldGutter:!0,highlightActiveLine:n,highlightSelectionMatches:!0,bracketMatching:!0,autocompletion:!1,closeBrackets:!1}})})});function a6({initialContent:e,onChange:t,isEditing:n}){let[s,r]=(0,i.useState)(e??""),a=(0,i.useCallback)(e=>{r(e),t(e)},[t]);return(0,l.jsxs)("section",{className:"x78zum5 x5yr21d xh8yej3 xxhr3t",children:[(0,l.jsx)("div",{...{0:{className:"x78zum5 xdt5ytf xeuugli x5yr21d x1lpqudl x32b0ac xqtsale x1d8287x x1dot0sf xb3r6kr x1b0bnr5 xg01cxk x1c1uobl xgfja2r"},1:{className:"x78zum5 xdt5ytf xeuugli xjmn0ih x5yr21d xs1s249 x1lpqudl x32b0ac xqtsale x1d8287x x1dot0sf xb3r6kr x98rzlu x1hc1fzr"}}[!!n<<0],children:(0,l.jsx)(a8,{value:s,onChange:a,editable:!0})}),(0,l.jsx)("div",{className:"x98rzlu xeuugli x5yr21d x1odjw0f",children:(0,l.jsx)(a4,{markdown:s})})]})}function a9(){let e=(0,aD.K)(),t=(0,z.UN)(),n=t?.get(e?.node_id??""),s=(0,i.useCallback)(e=>{nR.l7.user("set-description",()=>{n&&(n.description=e)})},[n]),[r,a]=(0,i.useState)(!1);return(0,l.jsxs)("div",{className:"xh8yej3 xbfr8j9","data-testid":"ds-lexical-comp-docs",children:[(0,l.jsx)("div",{className:"x78zum5 x13a6bvl x4vex6e",children:(0,l.jsx)(ne.$n,{onClick:()=>a(!r),children:r?(0,x.tx)("design_systems.home.editor.done"):(0,x.tx)("design_systems.home.editor.edit")})}),!r&&!n?.description&&(0,l.jsx)("div",{className:"x78zum5 xl56j7k x1n0bwc9 xor4psk x1ncjjhx xaoa4km x2i041 x14terfx",children:(0,x.tx)("design_systems.home.editor.component_documentation.no_documentation")}),(0,l.jsx)(a6,{initialContent:n?.description,onChange:s,isEditing:r})]})}function oe(){return(0,aD.K)()?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"xsdox4t xh8yej3 xso031l x1q0q8m5 xertd99"}),(0,l.jsx)("div",{className:"x1efd9su x1r36162 x1eecynx x78zum5 xl56j7k x5yr21d",children:(0,l.jsx)(a9,{})})]}):null}var ot=n(188850),on=n(190531),ol=n(769831),oi=n(632381),os=n(692774),or=n(522755),oa=n.n(or),oo=n(925270);function od({components:e,onCardClick:t}){let n=(0,i.useRef)(null),[s,r]=(0,i.useState)(0);(0,i.useEffect)(()=>{let e=n.current;if(!e)return;let t=new ResizeObserver(e=>{for(let t of e)r(t.contentRect.width)});return t.observe(e),()=>t.disconnect()},[]);let a=(0,i.useMemo)(()=>0===s?1:Math.max(1,Math.floor((s-2*op+om)/(oc+om))),[s]),o=(0,i.useMemo)(()=>oa()(e,a),[e,a]),d=(0,nq.Te)({count:o.length,getScrollElement:()=>n.current,estimateSize:()=>265,overscan:5,measureElement:e=>e?.getBoundingClientRect().height}),x=d.getVirtualItems();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"xsdox4t xh8yej3 xso031l x1q0q8m5 xertd99"}),(0,l.jsx)("div",{className:"xh8yej3 x5u9viy x1odjw0f x1yjdb4r",ref:n,children:(0,l.jsx)("div",{...F.xk(of.virtualContainer(d.getTotalSize())),children:x.map(e=>{let n=o[e.index];return n?(0,l.jsx)("div",{"data-index":e.index,ref:d.measureElement,...F.xk(of.virtualRow(e.start)),children:(0,l.jsx)("div",{className:"xrvj5dj x1iux27p xou54vl xe8ttls",children:n.map(e=>(0,l.jsx)(ox,{component:e,onClick:t},`ds-view-component-grid-${(0,oo.V)(e.component)}`))})},e.key):null})})})]})}function ox({component:e,onClick:t}){let n=(0,i.useCallback)(()=>{t?.(e)},[t,e]);return(0,l.jsx)("div",{className:"x78zum5 xdt5ytf x19y5rnk x1yjdb4r x8nzjqq xb3r6kr","data-testid":"card-root",children:(0,l.jsxs)(sF.bL,{children:[(0,l.jsx)(sF.O6,{onClick:n,"aria-label":e.component.name}),(0,l.jsxs)("div",{className:"x78zum5 xdt5ytf",children:[(0,l.jsx)("div",{className:"x1n2onr6 x1v8gsql x19y5rnk xb3r6kr x18vase2 x186iv6y x78zum5 x6s0dn4 xl56j7k x1mh6rdz",children:(0,l.jsx)(ou,{component:e.component})}),(0,l.jsxs)("div",{className:"xrvj5dj x52fmzj xw3wufv x6s0dn4 xilkfi8 x1cmmqis xg2d0mh xb3r6kr",children:[(0,l.jsx)(sF.hE,{className:"x1lliihq xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xb3r6kr xlyipyv xuxw1ft x1vz1zt2 xeuugli",as:"span",children:e.component.name}),(0,l.jsxs)("div",{className:"x1j80ffk x78zum5 x6s0dn4 xg2d0mh x2lah0s x52n8ys",children:[(0,l.jsx)(oi.P,{"aria-hidden":"true","data-testid":"icon-component"}),e.isCodeConnected&&(0,l.jsx)(os.D,{"aria-hidden":"true","data-testid":"icon-code-connect"})]})]})]})]})})}function ou({component:e}){return e.thumbnail_url?(0,l.jsx)(eY.oW,{className:"x193iq5w xmz0i5r x19kjcj4 x115dhu7",src:e.thumbnail_url,alt:e.name,loading:"lazy",draggable:!1}):e.node_id?(0,l.jsx)(re.M,{className:"x193iq5w xmz0i5r x19kjcj4 x115dhu7 x1lliihq",draggable:!1,item:e,localThumbnailGenerationBehavior:"default",loading:"lazy"}):(0,l.jsx)("div",{className:"x78zum5 x6s0dn4 xl56j7k xh8yej3 x5yr21d x52n8ys x1v8gsql","aria-hidden":!0,children:(0,l.jsx)(oi.P,{"aria-hidden":"true"})})}let oc=310,om=16,op=8,oh={kVAEAm:"x1n2onr6",kzqmXN:"xh8yej3",kZKoxP:"x16ye13r",$$css:!0},og={kVAEAm:"x10l6tqk",k87sOh:"x13vifvy",kbCHJM:"xu96u03",kLqNvP:"",kt4wiu:"",kzqmXN:"xh8yej3",k3aq6I:"xsqj5wx",$$css:!0},of={virtualContainer:e=>[oh,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],virtualRow:e=>[og,{"--x-transform":`translateY(${e}px)`}]};function oy(){let e=(0,O.md)(ot.yO),t=i.useCallback(e=>{(0,on.Cw)(e?.component,ol.n.DESIGN)},[]);return(0,l.jsx)(od,{components:e,onCardClick:t})}function ov({children:e}){return(0,l.jsx)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xl56j7k x5yr21d",children:(0,l.jsx)("h2",{...F.xk(a2.g.textHeadingMedium,ok.title),children:e})})}let ok={title:{kMwMTN:"x1n0bwc9",kKX8nH:"x1j61x8r",$$css:!0}};function o_(){return(0,l.jsx)(ov,{children:(0,x.tx)("design_systems.home.editor.coming_soon")})}var oj=n(528856),ob=n(538349),oC=n(766274);let ow=new class{constructor(){this.CreateDsDocumentationPageSchemaValidator=(0,oC.vh)(),this.UpdateDsDocumentationPageSchemaValidator=(0,oC.vh)()}postCreateDsDocumentationPage(e){return this.CreateDsDocumentationPageSchemaValidator.validate(async({xr:t})=>await t.post("/api/design_systems/documentation_pages",{content:e.content,item_key:e.itemKey,item_type:e.itemType}))}putUpdateDsDocumentationPage(e){return this.UpdateDsDocumentationPageSchemaValidator.validate(async({xr:t})=>await t.put(`/api/design_systems/documentation_pages/${e.pageId}`,{content:e.content}))}},oE=ob.M4.Mutation(async({content:e,itemKey:t,itemType:n})=>await ow.postCreateDsDocumentationPage({content:e,itemKey:t,itemType:n})),oN=ob.M4.Mutation(async({content:e,pageId:t})=>await ow.putUpdateDsDocumentationPage({content:e,pageId:t})),oI=`# Design System Guidelines

Add your guidelines here...

## General Guidelines
- Rule 1
- Rule 2

## Component Guidelines
- Button usage
- Form patterns
`;function oT(){let{content:e,setContent:t,isLoading:n,onSave:r,isDisabled:a}=function(){let e=(0,j.q5)(),t=e?.libraryKey??"",n=(0,eu.Rs)((0,eh.qqt)({itemKey:t}),{enabled:!!t}),l=oj.unwrap(n.data?.dsDocumentationPageRelationship)?.page,r="loaded"===n.status?l?.content:null,[a,o]=(0,i.useState)(null),[d,u]=(0,i.useState)(!1),c=(0,ob.gY)(oE),m=(0,ob.gY)(oN),p=(0,s.wA)(),h=(0,i.useCallback)(async e=>{try{let n;u(!0),l?(await m({content:e,pageId:l.id}),n=(0,x.t)("design_systems.home.editor.guidelines.updated")):(await c({content:e,itemKey:t,itemType:"guidelines_page"}),n=(0,x.t)("design_systems.home.editor.guidelines.created")),p(y.F.enqueue({message:n,type:"success"}))}catch(e){p(y.F.enqueue({message:(0,x.t)("design_systems.home.editor.guidelines.failed_to_save"),type:"error"}))}finally{u(!1)}},[c,p,l,t,m]);return{content:a??r??oI,setContent:o,isLoading:"loading"===n.status&&!!t,isDisabled:d||!a||"loaded"!==n.status,onSave:h}}();return n?(0,l.jsx)("div",{className:"xh8yej3 x5yr21d x78zum5 xdt5ytf x6s0dn4 xl56j7k",children:(0,l.jsx)(nM.k,{})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"xsdox4t xh8yej3 xso031l x1q0q8m5 xertd99 x78zum5 x6s0dn4",children:(0,l.jsx)("div",{className:"xh8yej3 x78zum5 x13a6bvl x1cmmqis",children:(0,l.jsx)(ne.$n,{onClick:()=>{r(e)},disabled:a,"data-testid":"guidelines_submit",children:(0,x.tx)("design_systems.home.editor.submit")})})}),(0,l.jsx)("div",{className:"xh8yej3 x5yr21d x78zum5 xdt5ytf",children:(0,l.jsx)(a8,{value:e,onChange:t,editable:!0,placeholder:(0,x.t)("design_systems.home.editor.guidelines.placeholder")})})]})}var oS=n(732629),oL=n(846100),oA=n(183287);let oR={kLqNvP:"",kt4wiu:"",$$css:!0},oM={base:{kVAEAm:"x10l6tqk",k87sOh:"x13vifvy",krVfgx:"x1ey2m1c",kCIrl2:"x3m8u43",kfSwDN:"x87ps6o",kB7OPa:"x9f619",kWkggS:"x1yjdb4r",kHBbk8:"xc8icb0",$$css:!0},left:e=>[oR,{kbCHJM:null!=e?"xgq9j65":e,$$css:!0},{"--x-left":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e)}]};function oz(){let e=(0,eE.dP)()+(0,ab.B)(),[t]=(0,O.fp)(oS.BE),[n]=(0,O.fp)(oS.Px),i=function(e,t){switch(e){case ol.q.OVERVIEW:return(0,l.jsx)(o_,{});case ol.q.COMPONENTS:return(0,l.jsx)(oy,{});case ol.q.COMPONENT:return function(e){switch(e){case ol.n.DOCUMENTATION:return(0,l.jsx)(oe,{});case ol.n.CODE:return(0,l.jsx)(aV,{});case ol.n.DESIGN:default:return(0,l.jsx)(aZ,{})}}(t);case ol.q.GUIDELINES:return(0,l.jsx)(oT,{});case ol.q.STYLES:return(0,l.jsx)(o_,{});case ol.q.VARIABLES:return(0,l.jsx)(oO,{});default:return null}}(t,n);return(0,l.jsx)(ot.Cj,{children:(0,l.jsx)("section",{"data-testid":"design-system-view",...F.Ay.props(oM.base,oM.left(e)),children:i})})}function oO(){let e=(0,aC.m0)();return(0,l.jsx)(aN.GP,{preset:e?aw.ub.READ_ONLY:aw.ub.WRITEABLE,children:(0,l.jsxs)(aE.s,{children:[(0,l.jsx)(oA.w,{}),(0,l.jsx)(oL.P,{})]})})}var oF=n(450207),oD=n(775878);let oP=(0,u.kc)().ds_home?function(){(function(){let e=(0,s.wA)(),t=(0,O.md)(oS.f_),n=(0,O.md)(oS.BE),l=(0,O.md)(oS.Px),r=(0,O.md)(oS.gS);(0,i.useEffect)(()=>{let t=O.zl.get(oD.OC);e((0,oF.sf)({...t}))},[e,t,n,l,r])})(),function(){let e=(0,s.wA)(),t=(0,O.Xr)(oS.Nj),[n,l]=(0,O.fp)(oS.ZN);(0,i.useEffect)(()=>{n&&(l(!1),t(!0),nz.Y5.dispatch((0,tK.FP)({tab:o.xae.DESIGN_SYSTEM})))},[e,t,l,n])}()}:T.lQ;var oV=n(512642),oq=n(835996),oB=n(664455),oH=n(840094),o$=n(309957),oG=n(805940),oK=n(220153);let oU={loggerEventName:"design_navigate"},oW={allowLibraryPublish:!0};function oX({children:e}){let t=r.v.getFeatureGate("uxp_memoize_design_config_provider_props");return(0,l.jsx)(oK.G.Provider,{value:t?oU:{loggerEventName:"design_navigate"},children:(0,l.jsx)(o$.s.Provider,{value:t?oW:{allowLibraryPublish:!0},children:(0,l.jsx)(oG.y0.Provider,{value:oG.X,children:e})})})}var oZ=n(294407),oY=n(720410),oQ=n(936199),oJ=n(908756),o0=n(359547),o1=n(979769),o2=n(313616),o5=n(50898),o3=n(38519),o4=n(294561),o7=n(162251),o8=n(511650),o6=n(720091),o9=n(590699);function de(e){let t=(0,s.wA)(),n=(0,j.q5)(),i=e.noPassthrough?(0,s.d4)(e=>e.dropdownShown):e.dropdownShown,r=e.noPassthrough?(0,s.d4)(e=>e.pickerShown):e.pickerShown,a=e.noPassthrough?(0,s.d4)(e=>e.saveAsState):e.saveAsState,o=e.noPassthrough?(0,s.d4)(e=>e.mirror.sceneGraphSelection):e.sceneGraphSelection,d=(0,et.p8)("currentPage"),u=(0,et.p8)("isReadOnly"),c=(0,et.p8)("currentSelectedProperty"),m=(0,aC.m0)(),p=u&&!m,h=(0,o7.Gt)("numSelected"),{exportSettings:g}=(0,o7.pw)("exportSettings"),f=(0,o6.Wd)();return(0,l.jsx)(o8.VF,{isVisible:!0,children:()=>(0,l.jsx)(o6.LI,{currentPage:d,currentSelectedProperty:c,dispatch:t,dropdownShown:i,exportSettings:g,isSelectionRenamable:o6.LI.isSelectionRenamable(Object.keys(o)),numSelected:h,openFile:n,panelWidth:o9.iP,pickerShown:r,recordingKey:"exportsPanel",saveAsState:a,sceneGraphSelection:o,singleNodeName:f,standalone:!0,title:p?(0,x.t)("fullscreen.properties_panel.export"):(0,x.t)("fullscreen.properties_panel.presets")},"export")})}var dt=n(937271),dn=n(234733),dl=n(834676),di=n(635112),ds=n(363198),dr=n(587412),da=n(42656),dd=n(511108),dx=n(802398);let du=(0,m.w)(function(e){let t=(0,j.q5)(),n=(0,ds.cJ)(),i=(0,o7.tN)("containsSiteWebpages"),s=e.noPassthrough?(0,eS.J2)((0,eA.J$)().shownPropertiesPanels):e.shownPanels,r=!s[o.ibQ.FRAME_PRESETS]&&!s[o.ibQ.PENCIL_TOOL]&&!i;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o8.VF,{isVisible:s[o.ibQ.FRAME_PRESETS],children:()=>(0,l.jsx)(dr.nl,{recordingKey:"framePresetPanel"},"frame-presets")}),!n&&(0,l.jsx)(o8.VF,{isVisible:s[o.ibQ.PENCIL_TOOL],children:()=>(0,l.jsx)(dd.q,{id:"pencilToolPanel",recordingKey:"pencilToolPanel",openFile:t},"pencilToolPanel")}),(0,l.jsx)(o8.VF,{isVisible:r,children:()=>(0,l.jsx)(dx.Z0,{...e,recordingKey:"prototypePanel"},"prototype")}),(0,u.kc)().jsx_debugging&&(0,l.jsx)(da.Ay,{recordingKey:"jsxDebugPanel"})]})},"PrototypeTab");function dc({scrollContainer:e,refMainScrollContainer:t,...n}){(0,dt.S2)();let i=(0,oY.k)(),r=n.propertiesPanelTab,a=(0,et.p8)("topLevelMode"),d=n.noPassthrough?(0,s.d4)(e=>e.user):n.user,x=(0,o9.Dj)(d),c=a!==o.lyf.PREVIEW&&(a!==o.lyf.BRANCHING||!x)&&a!==o.lyf.DEV_HANDOFF&&r===o.FAf.DESIGN,m=a!==o.lyf.PREVIEW&&a!==o.lyf.BRANCHING&&r===o.FAf.PROTOTYPE,p=(0,u.kc)().metronome&&a!==o.lyf.PREVIEW&&a!==o.lyf.BRANCHING&&r===o.FAf.METRONOME,h=n.noPassthrough?(0,s.d4)(e=>e.userStateLoaded):n.userStateLoaded,g=a===o.lyf.PREVIEW&&!h&&!i||r===o.FAf.INSPECT,f=r===o.FAf.EXPORT,y=r===o.FAf.COMMENT;return(0,l.jsxs)(l.Fragment,{children:[c&&(0,l.jsx)(o4.Y,{scrollContainer:e,...n}),m&&(0,l.jsx)(du,{...n}),p&&(0,l.jsx)(o3.e,{}),g&&(0,l.jsx)(dn.q,{scrollContainer:e}),f&&(0,l.jsx)(de,{...n}),y?n.noPassthrough?(0,l.jsx)(o5.L,{}):(0,l.jsx)(n.commentsPanel,{}):null]})}let dm=(0,m.w)((0,p._d)(function(e){!function(){let{isPropertiesPanelCollapsed:e,setPropertiesPanelCollapsed:t}=(0,o2.iT)(),n=(0,tI.Ye)(),l=(0,aC.ow)(),r=(0,et.ax)(),a=(0,et.dH)(),x=a===d.NLJ.FRAME||a===d.NLJ.COMMENTS||a===d.NLJ.VECTOR_PENCIL,u=(0,s.d4)(e=>e.mirror.appModel.activeUserAction===o.QOV.DEFAULT),c=(0,o2.ys)();(0,i.useEffect)(()=>{u&&!l&&e&&(x||r)&&t(!1)},[r,u,a,t,e,n,x,l]),(0,i.useEffect)(()=>{c&&t(!0)},[c,t,e])}();let t=(0,et.p8)("showUi"),n=(0,s.d4)(e=>e.mirror.appModel.topLevelMode),r=(0,et.p8)("isReadOnly"),a=(0,dt.G$)(),x=(0,et.dH)(),c=function(){let e=(0,di.NK)(),t=(0,di.Ex)(),n=(0,di.UM)(),l=(0,di.Eo)(),s=(0,di.wE)();return(0,i.useMemo)(()=>({[o.FAf.COMMENT]:e,[o.FAf.INSPECT]:t,[o.FAf.DESIGN]:n,[o.FAf.PROTOTYPE]:l,[o.FAf.METRONOME]:s}),[e,t,n,l,s])}(),m=(0,o1.wm)(()=>{let t=n===o.lyf.PREVIEW,l=n===o.lyf.LAYOUT,i=n===o.lyf.BRANCHING;if(l&&r||t)return[o.FAf.COMMENT,o.FAf.INSPECT];if(l&&e.propertiesPanelTab===o.FAf.COMMENT)return[o.FAf.COMMENT];if(i)return[o.FAf.INSPECT];let s=[o.FAf.DESIGN,o.FAf.PROTOTYPE];return(0,u.kc)().metronome&&s.push(o.FAf.METRONOME),a&&s.push(o.FAf.INSPECT),s},[n,r,e.propertiesPanelTab,a]),p=i.useCallback(e=>{x===d.NLJ.SCALE&&e===o.FAf.PROTOTYPE?nz.Y5.triggerAction("set-tool-default"):n===o.lyf.PREVIEW&&(e===o.FAf.COMMENT?nz.Y5.triggerAction("set-tool-comments"):nz.Y5.triggerAction("set-tool-default"))},[x,n]);if((0,u.kc)().dont_render_ui&&!t)return(0,l.jsx)(l.Fragment,{});let h=null,g=e=>{h=e};return(0,l.jsx)(dl.j,{recordingKey:e.recordingKey,activeTab:e.propertiesPanelTab,refMainScrollContainer:g,shouldDeferCanvasUpdateOnPanelResize:!0,tabs:m,tabInfo:c,onSetTabsHeader:p,children:(0,l.jsx)(dc,{...e,scrollContainer:h,refMainScrollContainer:g})})},"PropertiesPanel"),"PropertiesPanel");var dp=n(586552),dh=n(232880);let dg=i.memo(function(){let e=(0,aC.my)()===eq.nT.Design,t=(0,eS.ut)((0,eA.aY)(),o.FAf.DESIGN),n=(0,oY.k)(),a=(0,i.useMemo)(()=>n?o.FAf.COMMENT:t,[t,n]);if((0,i.useEffect)(()=>{a!==t&&eA.aY()?.set(a)},[a,t]),r.v.getFeatureGate("uxp_property_panel_undrill_props"))return(0,l.jsxs)(dh.o,{boundaryKey:"PropertiesPanel",loggedOutDesktopRevampExpAvaialable:e,children:[(0,l.jsx)(dm,{noPassthrough:!0,propertiesPanelTab:a,recordingKey:"propertiesPanel"},(0,lv.tw)()??void 0),(0,l.jsx)(dp.tZ,{})]});let d=(0,et.aV)(),x=(0,s.d4)(e=>e.loadingState),u=(0,z.UN)(),c=(0,s.d4)(e=>e.mirror.sceneGraphSelection),m=(0,s.d4)(e=>e.dropdownShown),p=(0,s.d4)(e=>e.installedPluginVersions),h=(0,s.d4)(e=>e.library),g=(0,s.d4)(e=>e.localPlugins),f=(0,s.d4)(e=>e.modalShown),y=(0,s.d4)(e=>e.openFile),v=(0,s.d4)(e=>e.pickerShown),k=(0,s.d4)(e=>e.pickerInStyleCreationShown),_=(0,s.d4)(e=>e.publishedPlugins),j=(0,s.d4)(e=>e.saveAsState),b=(0,s.d4)(e=>e.stylePickerListLayout),C=(0,s.d4)(e=>e.stylePickerShown),w=(0,s.d4)(e=>e.stylePreviewShown),E=(0,s.d4)(e=>e.user),N=(0,s.d4)(e=>e.userFlags),I=(0,s.d4)(e=>e.userStateLoaded),T=(0,oJ.VP)(x,"edit_button_upgrading_to_edit"),S=d||T,L=(0,eS.J2)((0,eA.J$)().shownPropertiesPanels),A=(0,eE.Ku)(),R=(0,eE.qw)(),M=(0,eR.s_)(),O=!(0,oZ.Oo)()&&M,F=(0,eS.J2)((0,eE.UK)().renderRulers),{isRightPanelCollapsed:D}=(0,i.useContext)(o0.t),{inProductHelpViewType:P}=(0,tN.A5)(),V=(0,eR.yO)(),q=(0,oQ.T)(),B=(0,oQ.q)();return(0,l.jsxs)(dh.o,{boundaryKey:"PropertiesPanel",loggedOutDesktopRevampExpAvaialable:e,children:[(0,l.jsx)(dm,{allSavedPlugins:p,colorFormat:A,commentsPanel:o5.L,dropdownShown:m,inProductHelpSidePanelWidth:V,inProductHelpViewType:P,isCollapsed:D,isLoading:S,isUIMinimized:B,justChangedMinimizeUIValue:q,library:h,localPlugins:g,modalShown:f,noPassthrough:!1,openFile:y,pickerInStyleCreationShown:k,pickerShown:v,propertiesPanelSplitPosition:R,propertiesPanelTab:a,publishedPlugins:_,recordingKey:"propertiesPanel",rulersVisible:F,saveAsState:j,sceneGraph:u,sceneGraphSelection:c,shouldAnimateLoadingState:d,shouldShowBackgroundGradient:O,shownPanels:L,stylePickerListLayout:b,stylePickerShown:C,stylePreviewShown:w,user:E,userFlags:N,userStateLoaded:I},(0,lv.tw)()??void 0),(0,l.jsx)(dp.tZ,{})]})}),df=(0,m.w)(dg,"DesignUIPanels");var dy=n(669437),dv=n(293904),dk=n(55524),d_=n(299390),dj=n(381302),db=n(461718),dC=n(983054),dw=n(828548),dE=n(210501),dN=n(467838),dI=n(33313),dT=n(811528),dS=n(764676),dL=n(395046),dA=n(159861),dR=n(96955),dM=n(768512),dz=n(554725),dO=n(787569),dF=n(380383),dD=n(320226),dP=n(691222),dV=n(855638),dq=n(809294),dB=n(705134),dH=n(287677),d$=n(846585);let dG=i.memo(function({shouldShowDragAndDropBorder:e}){let t=(0,et.p8)("isReadOnly"),n=(0,s.d4)(e=>e.progressBarState),d=(0,et.p8)("loadingEmbeds"),m=(0,eR.L3)(),p=(0,eV.Lk)(),y=(0,i.useRef)(null),v=(0,s.d4)(e=>e.openFile),k=v?v.key:"";(0,eb.Gb)(k),(0,eP.W)(),(0,eH.qh)(),oP();let _=(0,eO.BI)(),j=(0,ec.l7)(),b=(0,eS.ut)((0,eE.UK)().enableCodegenMcpServer,!1),C=(0,h.BE)(),w=(0,eT.o3)(eT.nt.collabToolsInDesign),E=(0,s.d4)(e=>e.multiplayerEmoji),I=(0,s.d4)(e=>e.isFullscreenDocumentLoaded),T=(0,on.bE)(),S=(0,oq.cE)(),L=(0,eF.$0)(),A=L?.designFullPageViewState??null;(0,oB.oo)(!!A&&A!==o.zx_.NONE),function(){let e=(0,eS.ut)(o.Ez5?.editorPreferences().showPropertyLabels,!1),t=(0,u.kc)().uxp_default_property_and_navbar_labels_on,n=(0,eI.f)(eL),l=(0,s.wA)(),r=(0,eT.o3)(eT.nt.designNavBar);(0,i.useEffect)(()=>{t&&!n&&r&&(e||o.Ez5?.editorPreferences().showPropertyLabels.set(!0),l(eN.b({[eL]:!0})))},[e,t,n,r,l])}();let R=(0,l.jsx)(eB.m,{role:"region","aria-label":(0,x.t)("fullscreen_actions.left_sidebar_label"),children:j?(0,l.jsx)(g.tH,{boundaryKey:"DevModeLeftPanel",fallback:g.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:a.e.DEV_MODE},children:(0,l.jsx)(N.O,{})}):(0,l.jsx)(dj.mW,{})});return(0,l.jsxs)(oX,{children:[(0,l.jsx)(ew.ED,{}),(0,l.jsxs)(dy.sk,{children:[n.mode!==o.Oin.OFF&&(0,l.jsx)("div",{className:d$._q}),(0,l.jsxs)(eC.pO,{initialFilterState:{currentPage:!1},children:[d.map(e=>(0,l.jsx)(a_._,{nodeId:e},`loading-embed-${e}`)),C&&(0,u.kc)().aip_expand_image&&(0,l.jsx)(dI.y,{}),C&&(0,l.jsx)(f.u,{}),(0,l.jsx)(dv.qn,{}),(0,l.jsx)(dP.uV,{}),((0,u.kc)().aip_mw_video||(0,u.kc)().video_in_canvas_design)&&(0,l.jsx)(dS.H,{}),m&&(0,l.jsx)(dw.n,{}),(0,u.kc)().ce_al_experiments_on&&(0,l.jsx)(dw.n,{}),(0,l.jsx)(ak.GR,{}),(0,l.jsx)(ak.bu,{}),(0,l.jsx)(dT.J,{}),!S&&(0,l.jsx)(t4.b,{}),(0,u.kc)().dt_mcp_auto_resources&&b&&(0,l.jsx)(c.y6,{}),(0,l.jsx)(dv.XI,{commentsDetailContainerRef:y}),(0,l.jsx)(dH.Z,{}),(0,l.jsx)(d_.X,{}),w&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(dL.c7,{}),(0,l.jsx)(aj.S4,{multiplayerEmoji:E})]}),(0,l.jsx)(ay.J,{}),(0,l.jsx)(db.Nz,{}),(0,l.jsx)("div",{ref:y}),!(0,eM.T)()&&R,!t&&(0,l.jsx)(dE.E,{}),(0,l.jsx)(av.G,{children:S&&I?(0,l.jsxs)(l.Fragment,{children:[T&&(0,l.jsx)(g.tH,{boundaryKey:"DesignSystemView",fallback:g.H4.DEFAULT_FULL_PAGE,sentryTags:{area:a.e.DESIGN_SYSTEMS_ECOSYSTEM},hasCustomWASMBuild:ez.y4,children:(0,l.jsx)(oz,{})}),(0,l.jsx)(g.tH,{boundaryKey:"DesignFullPageView",fallback:g.H4.DEFAULT_FULL_PAGE,sentryTags:{area:a.e.UX_PLATFORM},hasCustomWASMBuild:ez.y4,children:(0,l.jsx)(oV.q,{})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(dK,{}),!!_?.shouldOptimizeForIpadApp&&(0,l.jsx)(dO.K,{}),!!_?.shouldOptimizeForIpadApp&&(0,l.jsx)(dF.t,{})]})}),(0,u.kc)().bake_canvas&&(0,l.jsx)(dR.tX,{}),(0,u.kc)().bake_canvas&&(0,l.jsx)(dk.N,{}),r.v.getFeatureGate("metronome")&&(0,l.jsx)(dD.eT,{}),e&&(0,l.jsx)(db.X5,{}),(0,u.kc)().aip_flower_garden&&(0,l.jsx)(ah,{})]}),(0,l.jsx)(e$.A,{editorType:eq.nT.Design,openFile:v}),!S&&(0,l.jsx)(dN.l,{defaultViewTabsAvailable:!0,defaultViewAssetsTabVisible:!0})]}),p&&(0,l.jsx)(dC.K,{className:d$.PA,children:(0,l.jsx)(dz.s,{})})]})}),dK=i.memo(function(){let e=(0,et.p8)("topLevelMode"),t=(0,et.ax)(),n=(0,et.dH)();return(0,eD.z)({topLevelMode:o.lyf.PREVIEW,eventName:"Preview Mode Selection Changed",teamFilesOnly:!0}),i.useEffect(()=>{t&&e===o.lyf.PREVIEW&&n!==d.NLJ.COMMENTS&&(0,eA.NT)(o.FAf.INSPECT)},[t,e,n]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(df,{}),(0,l.jsx)(dU,{})]})}),dU=i.memo(function(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eG.p,{children:(0,l.jsx)(tc.j,{entryPoint:dM.C5.Design})}),(0,l.jsx)(eG.p,{featureFlag:"starting_points_modal",children:(0,l.jsx)(tH,{})}),(0,l.jsx)(eG.p,{children:(0,l.jsx)(tu,{})}),(0,l.jsx)(eG.p,{children:(0,l.jsx)(eo,{})}),(0,l.jsx)(eG.p,{children:(0,l.jsx)(e_,{})}),(0,l.jsx)(eG.p,{children:(0,l.jsx)(dA.e,{})}),(0,l.jsx)(eG.p,{children:(0,l.jsx)(I.S,{})}),(0,l.jsx)(eG.p,{children:(0,l.jsx)(t3,{})}),(0,l.jsx)(eG.p,{children:(0,l.jsx)(e1,{})}),(0,l.jsx)(eG.p,{featureFlag:"cheddar",children:(0,l.jsx)(dV.Ab,{})}),(0,l.jsxs)(eG.p,{featureFlag:"buzz_import_from_design",children:[(0,l.jsx)(E.Hm,{}),(0,l.jsx)(w,{})]}),(0,l.jsx)(eG.p,{featureFlag:"bob_template_gen",children:(0,l.jsx)(dq.E,{})})]})});function dW(){let[e,t]=(0,i.useState)(!1);return(0,l.jsx)(m.k,{id:"DesignView",children:(0,l.jsx)(p.u9,{label:"DesignView",children:(0,l.jsx)(oH.c,{loadedCommentsProvider:!1,children:(0,l.jsx)(dB.v,{setShouldShowDragAndDropBorder:t,isDragTarget:!1,children:(0,l.jsx)(dG,{shouldShowDragAndDropBorder:e})})})})})}},287677:(e,t,n)=>{n.d(t,{Z:()=>C});var l=n(239976),i=n(105652),s=n(20002),r=n(466082),a=n(270450),o=n(224542),d=n.n(o),x=n(40297),u=n(875253),c=n(151370),m=n(212198),p=n(421914),h=n(162251),g=n(1007),f=n(157750),y=n(895414),v=n(748765),k=n(526865);let _="offscreen_indicators--indicatorGraphicBlue--B9x6A",j="offscreen_indicators--indicatorGraphicPurple--LTpHv",b=(0,x.jz)(k.y9S);function C(){let e=[],t=(0,h.kl)("selectionRegions"),n=(0,p.E7)(t);n&&(e=n);let i=(0,s.d4)(e=>e.mirror.appModel.hoveredNode);if(i&&(0,a.kc)().ce_offscreen_indicators_for_hovered_nodes){let t=(0,r.UN)().get(i);if(t){let n=t.absoluteBoundingBox;e=[...e,{bounds:{height:n.h,width:n.w,x:n.x,y:n.y},regionType:t.isPrimaryInstance||t.isInstanceSublayer||t.isComponentish||t.isSymbolSublayer?v.fV.SYMBOLS_ONLY:v.fV.MIXED_OR_NO_SYMBOLS}]}}let o=!!e&&e.length>=1,d=(0,g._X)({subscribeToUpdates_expensive:o});return d&&e?(0,l.jsx)(w,{viewportInfo:d,regions:e}):null}function w({viewportInfo:e,regions:t}){let n=(0,i.useContext)(y.kw),r=(0,i.useMemo)(()=>n.getCommentsWrapperOffset(e),[n,e]),a=r.x,o=r.y,d={transform:`translate(${a}px, ${o}px)`},x=(0,s.d4)(e=>e.mirror?.appModel.showUi),u=(0,f.J2)((0,m.UK)().renderRulers)&&x?b:0,p={x:-3.5+u,y:-3.5+u,width:e.width- -7-u,height:e.height- -7-u},h={x:-3.5+u,y:-3.5+u,width:e.width- -7-u,height:e.height- -7-u};return(0,l.jsx)(c.p,{children:(0,l.jsx)("div",{"aria-hidden":!0,"data-forward-events-to-fullscreen":!0,className:"offscreen_indicators--overlay--MdYer",style:d,children:!!t?.length&&(0,l.jsx)("div",{children:t.map((t,n)=>{let i=(0,g.Z0)(e,{x:t.bounds.x,y:t.bounds.y}),s=(0,g.Z0)(e,{x:t.bounds.x+t.bounds.width,y:t.bounds.y+t.bounds.height}),r={x:i.x,y:i.y,width:s.x-i.x,height:s.y-i.y};return r.x<p.x+p.width&&r.x+r.width>p.x&&r.y+r.height>p.y&&r.y<p.y+p.height?null:(0,l.jsx)(E,{viewportBounds:h,viewportInfo:e,indicatorViewportBounds:r,selectionBoundsScaledWidth:function(e,t){let n=Math.max(e.x,t.x);return Math.max(Math.min(e.x+e.width,t.x+t.width)-n,10)}(r,h),selectionBoundsScaledHeight:function(e,t){let n=Math.max(e.y,t.y);return Math.max(Math.min(e.y+e.height,t.y+t.height)-n,10)}(r,h),selectionRegionType:t.regionType},n)})})})})}function E({viewportBounds:e,viewportInfo:t,indicatorViewportBounds:n,selectionBoundsScaledWidth:i,selectionBoundsScaledHeight:r,selectionRegionType:a}){let o=function(e,t){let n=0-t.x,l=0+e.width-t.x,i=0-t.y,s=0+e.height-t.y,r=Math.abs(n)<l?n:l,a=Math.abs(i)<s?i:s,o=n<0!=l<0,d=i<0!=s<0;return o&&d?Math.abs(r)<Math.abs(a)?{x:t.x+r,y:t.y}:{x:t.x,y:t.y+a}:!o&&d?{x:t.x+r,y:t.y}:o&&!d?{x:t.x,y:t.y+a}:{x:t.x+r,y:t.y+a}}(t,{x:n.x+n.width/2,y:n.y+n.height/2});o.x-=i/2,o.y-=r/2;let x=(0,s.d4)(e=>e.mirror?.appModel.showUi),c=(0,f.J2)((0,m.UK)().renderRulers)&&x?b:0,p=1+c,h=Math.max(p,t.width-1-i),g=1+c,y=Math.max(g,t.height-1-r-1),k=u.Mi.bound(o,{min:{x:p,y:g},max:{x:h,y:y}}),C=n.y+n.height<e.y,w=n.y>e.y+e.height,E=n.x+n.width<e.x,N=n.x>e.x+e.width;k.x+=t.x,k.y+=t.y;let I=Math.min(t.width-2,i),T=Math.min(t.height-2,r);return(0,l.jsxs)("div",{className:"offscreen_indicators--indicator--DMb7m",style:{transform:`translate3D(${k.x}px, ${k.y}px, 0)`},children:[(C||w)&&(0,l.jsx)("div",{style:{position:"absolute",height:1.5,width:I,marginTop:w?T-1.5:0},className:d()({[_]:a===v.fV.MIXED_OR_NO_SYMBOLS,[j]:a===v.fV.SYMBOLS_ONLY})}),(E||N)&&(0,l.jsx)("div",{style:{position:"absolute",left:0,height:T,width:1.5,marginLeft:N?I-1.5:0},className:d()({[_]:a===v.fV.MIXED_OR_NO_SYMBOLS,[j]:a===v.fV.SYMBOLS_ONLY})})]})}},55524:(e,t,n)=>{n.d(t,{N:()=>h});var l=n(239976),i=n(105652),s=n(805242),r=n(20002),a=n(692376),o=n(709003),d=n(1007),x=n(157750),u=n(53964),c=n(612788),m=n(542948),p=n(691222);function h(){let e=(0,x.ut)(a.Ez5?.uiState()?.nodeIdsOfCurrentlyPlayingMakes,null);if(!e||0===e.length)return null;let t=(0,p.Jf)();return t?(0,s.createPortal)((0,l.jsx)(g,{nodeIds:e}),t):null}function g({nodeIds:e}){let t=(0,i.useCallback)(e=>e.nodeId&&e.position?{nodeId:e.nodeId,position:e.position}:void 0,[]),n=(0,o.tB)("HTMLPreviewsOfMakesOnCanvas",e,t,{useFlushSyncExpensive:!0});return(0,l.jsx)(l.Fragment,{children:e.map(e=>{let t=n[e]?.position;return t&&(0,l.jsx)(f,{nodeId:e,position:t},e)})})}function f({nodeId:e,position:t}){var n,s;let x=(0,d._X)({subscribeToUpdates_expensive:!0}),p=(0,i.useMemo)(()=>x&&t?(0,d.Yb)(x,t):null,[x,t]),h=(0,r.d4)(({mirror:{sceneGraphSelection:t}})=>e in t),g=(0,r.d4)(({mirror:{sceneGraph:t}})=>t.get(e)),f=g?.isMakeEmbed??!1,y=(0,r.d4)(({mirror:{sceneGraphSelection:t,appModel:n}})=>{let l=e in t,i=n.activeUserAction===a.QOV.DRAGGING,s=n.activeUserAction===a.QOV.CLICKING_TO_CHANGE_SELECTION,r=n.activeUserAction===a.QOV.RESIZING;return i||s||r||!l});if(!x||!t||!p)return null;let v=x.zoomScale;return(0,l.jsx)("div",{style:{position:"fixed",width:t.width,height:t.height,top:x.y,left:x.x,transform:`translate(${p.x}px, ${p.y}px) ${(0,o.aZ)(t)} scale(${v})`,transformOrigin:"top left",pointerEvents:"none"},children:(0,l.jsx)("div",{style:{pointerEvents:y?"none":"auto",height:"100%",width:"100%",...h&&{clipPath:(n=1/v,s=5/v,`polygon(
    ${s}px ${n}px,
    calc(100% - ${s}px) ${n}px,
    calc(100% - ${s}px) ${s}px,
    calc(100% - ${n}px) ${s}px,
    calc(100% - ${n}px) calc(100% - ${s}px),
    calc(100% - ${s}px) calc(100% - ${s}px),
    calc(100% - ${s}px) calc(100% - ${n}px),
    ${s}px calc(100% - ${n}px),
    ${s}px calc(100% - ${s}px),
    ${n}px calc(100% - ${s}px),
    ${n}px ${s}px,
    ${s}px ${s}px
  )`)}},children:f?(0,l.jsx)(u.Nh,{srcUrl:g?.makeEmbedSrcUrl??"",autofocus:!1}):(0,l.jsx)(m.m,{codeSelectionToRender:{type:"instance",codeInstanceNodeGuid:e,allCodeInstanceNodeIds:[e]},chatNodeId:null,disableDrawer:!0,disablePointerEvents:y,isVisible:!0,sandbox:null,useProgressBarWhenLoading:!0,surface:c.e.DesignPlayableMakesOnCanvas})})})}},828548:(e,t,n)=>{n.d(t,{n:()=>o});var l=n(239976),i=n(20002),s=n(456556),r=n(753233),a=n(740155);function o(){let e=function(){let e=(0,i.d4)(e=>e.mirror.appModel.onCanvasPillInfo);return(0,s.Fk)((e,t)=>t&&0!==t.length?t.map(t=>{let n=e.get(t.guid);if(!n||"-1:-1"===n.guid)return null;let l={guid:n.guid,name:n.name,type:n.type,boundingBox:n.absoluteBoundingBox,isFigmaPurple:t.isFigmaPurple,hasEnabledStaticImagePaint:n.hasEnabledStaticImagePaint,isState:n.isState,isStateGroup:n.isStateGroup,stackCounterAlignItems:n.stackCounterAlignItems,stackMode:n.stackMode,isGroup:n.isGroup,canHaveStatus:n.canHaveStatus,hasStatus:n.hasStatus,objectsPanelThumbnailId:n.objectsPanelThumbnailId};if(l.isState&&t.symbolId){let n=e.get(t.symbolId);l.symbolName=n?.name}return l}):null,e)}()?.[0];return e?(0,l.jsx)(r.MO,{node:e,offsetX:-3,children:(0,l.jsxs)("div",{className:a.nM,children:[(0,l.jsx)(r.Tq,{node:e}),(0,l.jsx)("span",{className:a.dK,children:e.symbolName?e.symbolName:e.name})]})}):null}},234733:(e,t,n)=>{n.d(t,{q:()=>p});var l=n(239976),i=n(338630),s=n(162251),r=n(384203),a=n(223487),o=n(511650),d=n(795867),x=n(131547),u=n(158910),c=n(788302),m=n(584166);function p({scrollContainer:e}){let t=(0,a.q5)(),n=(0,r.KH)(),p=(0,s.Gt)("prototypeStartingPointsInfo"),h=!p||p.length>0,g=0===Object.keys(n).length,f=t?.canEdit,y=(0,l.jsx)(o.VF,{isVisible:g&&!f&&h,children:()=>(0,l.jsx)(m.A,{viewOnly:!0})}),v=(0,l.jsx)(o.VF,{isVisible:g,children:()=>(0,l.jsx)(x.Q,{recordingKey:"code-local-styles",scrollContainer:e},"code-local-styles")});return(0,l.jsxs)(i.fu,{name:d.e0.CODE_PANEL,children:[(0,l.jsx)(u.Mw,{panelName:u.ON.INSPECT}),(0,l.jsx)(c.t,{recordingKey:"inspectionPanel",flowPanel:y,localStylesPanel:v},"inspection-properties-panel")]})}},33313:(e,t,n)=>{n.d(t,{y:()=>A});var l=n(239976),i=n(105652),s=n(295870),r=n(626056),a=n(692376),o=n(379141),d=n(445019),x=n(323264),u=n(393463),c=n(806130),m=n(842582),p=n(639184),h=n(338630),g=n(859100),f=n(634224),y=n(157750),v=n(215496),k=n(827081),_=n(289252),j=n(527205),b=n(217230),C=n(581121),w=n(818350),E=n(359962),N=n(410274),I=n(848932),T=n(545242),S=n(355441),L=n(271625);function A(){let e=(0,w.wj)(C.JT.EXPAND_IMAGE),t=(0,y.ut)(a.Ez5?.expandState().dragTarget,null),n=(0,N.zB)(C.JT.EXPAND_IMAGE),i=(0,y.ut)(a.Ez5?.editShapeBehaviorState().isAnyHandleBeingDragged,!1),r=(0,y.ut)(a.Ez5?.expandState().isExpandMode,!1);return!t||e.state===w.qy.RUNNING||!n||i||r?null:(0,l.jsx)(c.tH,{boundaryKey:"ExpandImageOverlay",fallback:c.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:s.e.AI_PRODUCTIVITY},children:(0,l.jsx)(M,{dragTarget:t})})}let R="expand-image-overlay";function M({dragTarget:e}){let t=(0,i.useCallback)(()=>{let t=e.source;(0,N.$I)({moduleToOpen:{type:"custom",module:(0,l.jsx)(I.H,{source:t}),beforeModuleOpen:()=>{(0,w.B3)(C.JT.EXPAND_IMAGE),a.ruz?.keepExpandModeChanges(),(0,w.Ag)(C.JT.EXPAND_IMAGE,b.E,{source:t,target:e})},name:E.Sn.EXPAND_IMAGE_VIEW},trackingData:{source:t}})},[e]),n=(0,y.ut)(a.Ez5?.expandState().isResizing,!1),s=(0,i.useRef)(!1),d=(0,i.useCallback)(()=>{s.current=a.Ez5?.expandState().shouldShowExpandBackground.getCopy()??!1,s.current||n||a.Ez5?.expandState().shouldShowExpandBackground.set(!0)},[n]),u=(0,i.useCallback)(()=>{s.current||n||a.Ez5?.expandState().shouldShowExpandBackground.set(!1)},[n]);return(0,i.useEffect)(()=>(a.Ez5?.expandState().isExpandButtonShowing.set(!0),(0,T.Vm)(e.guid,(0,l.jsx)(h.fu,{name:"Expand Image Button",properties:{source:e.source},children:(0,l.jsxs)(k.m,{role:"region","aria-label":(0,o.t)("fullscreen_actions.expand_image"),children:[(0,l.jsx)("div",{onMouseEnter:d,onMouseLeave:u,...x.Ay.props(O.button,[a._ns.TOP,a._ns.TOP_LEFT,a._ns.TOP_RIGHT].includes(e.direction)&&O.top,[a._ns.BOTTOM,a._ns.BOTTOM_LEFT,a._ns.BOTTOM_RIGHT].includes(e.direction)&&O.bottom,[a._ns.LEFT,a._ns.TOP_LEFT,a._ns.BOTTOM_LEFT].includes(e.direction)&&O.left,[a._ns.RIGHT,a._ns.TOP_RIGHT,a._ns.BOTTOM_RIGHT].includes(e.direction)&&O.right,[a._ns.TOP,a._ns.BOTTOM].includes(e.direction)&&O.centerX,[a._ns.LEFT,a._ns.RIGHT].includes(e.direction)&&O.centerY,[a._ns.TOP,a._ns.BOTTOM].includes(e.direction)&&O.centerX,[a._ns.LEFT,a._ns.RIGHT].includes(e.direction)&&O.centerY),children:(0,l.jsx)(m.Me,{trackingProperties:{trackingDescriptor:p.c.EXPAND_IMAGE,source:e.source},"aria-label":(0,o.t)("fullscreen_actions.expand_image"),variant:"primary",onClick:t,"data-onboarding-key":R,children:(0,l.jsx)(r.V,{})})}),(0,l.jsx)(z,{onClick:t})]})}),{minSize:64,overlayId:R}),()=>{(0,T.ks)(e.guid,R),a.Ez5?.expandState().isExpandButtonShowing.set(!1)}),[e.guid,e.source,e.direction,t,d,u]),null}function z({onClick:e}){let t=(0,f.r1)("seen_expand_image_feature_callout"),n=(0,d.md)(t),{show:s,isShowing:r,complete:a}=(0,g.e)({overlay:L.WAI,priority:v.N.DEFAULT_MODAL},[n]);(0,i.useEffect)(()=>{let e=setTimeout(()=>{s()},1e3);return()=>clearTimeout(e)},[s]);let x=(0,i.useCallback)(()=>{a(),e()},[a,e]);return(0,l.jsx)(j.rq,{arrowPosition:S.F_.TOP_RIGHT,clickOutsideToHide:!0,description:(0,o.tx)("image_ai.expand.feature_callout.description"),isShowing:r,media:(0,l.jsx)(_.w,{src:(0,u.ck)("56251b3b57510d62e7d3e2d5b14ac2420c112f6d"),aspectRatio:16/9}),onClose:a,primaryCta:{label:(0,o.tx)("image_ai.onboarding.try_it_out"),onClick:x,type:"button",ctaTrackingDescriptor:p.c.TRY_IT_OUT},shouldDisableAnimation:!0,targetKey:R,title:(0,o.tx)("image_ai.expand.feature_callout.title"),trackingContextName:"ExpandImageFeatureCallout",userFlagOnShow:"seen_expand_image_feature_callout"})}let O={button:{kfzvcC:"x71s49j",kVAEAm:"x10l6tqk",$$css:!0},top:{k87sOh:"x8ow593",$$css:!0},bottom:{krVfgx:"x17339ns",$$css:!0},left:{kbCHJM:"x2s4c47",kLqNvP:null,kt4wiu:null,$$css:!0},right:{kCIrl2:"xibut22",kLqNvP:null,kt4wiu:null,$$css:!0},centerX:{kbCHJM:"x1nrll8i",kLqNvP:null,kt4wiu:null,k3aq6I:"xuuh30",$$css:!0},centerY:{k87sOh:"xwa60dl",k3aq6I:"x1cb1t30",$$css:!0}}},764676:(e,t,n)=>{n.d(t,{H:()=>T});var l=n(239976),i=n(105652),s=n(20002),r=n(865702),a=n(572827),o=n(692376),d=n(270450),x=n(445019),u=n(355349),c=n(862390),m=n(709003),p=n(603163),h=n(1007),g=n(384203),f=n(456556),y=n(123245),v=n(897697),k=n(448571),_=n(466082),j=n(450334),b=n(198541),C=n(629004),w=n(644857),E=n(17248);function N(e){return e?e.richMediaInfo?.richMediaType==="VIDEO"?(0,y.MT)(e.type)&&!(0,d.kc)().figjam_canvas_migrate_video_nodes?null:e.childrenGuids[0]??null:e.hasEnabledVideoPaint?e.guid:null:null}function I(e){let t=N(e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode));return t?[t]:[]}function T(){let e=function(){let e=(0,g.Mw)(),t=(0,s.d4)(I);return(0,i.useMemo)(()=>{let n=[...t],l=N(e);return l&&n.push(l),[...new Set(n)]},[t,e])}();return e.length?(0,l.jsx)(S,{videoNodeIds:e}):null}function S({videoNodeIds:e}){let t=function(e){let t=(0,i.useCallback)(e=>e.nodeId&&e.position?{nodeId:e.nodeId,position:e.position}:void 0,[]);return(0,m.tB)("VideoOverlays",e,t,{useFlushSyncExpensive:!0})}(e),n=(0,h._X)({subscribeToUpdates_expensive:!0});return n?(0,l.jsx)(l.Fragment,{children:Object.entries(t).map(([e,t])=>(0,l.jsx)(L,{nodeId:e,position:t.position,viewportInfo:n},e))}):null}function L({nodeId:e,position:t,viewportInfo:n}){let d=(0,v.US)(w.R8,{nodeId:e}),[N,I]=(0,i.useState)(!1),T=(0,E.sO)(),S=(0,g.KH)(),L=(0,i.useMemo)(()=>Object.keys(S),[S]),A=(0,s.d4)(e=>e.mirror.sceneGraph),R=(0,i.useMemo)(()=>(0,h.Yb)(n,t),[n,t]),M=(0,f.wA)((e,t)=>{let n=e.get(t);if(!n||!n.hasEnabledVideoPaint)return null;let l=n.fills.findIndex(e=>p.y7(e)?.video?.hash);if(-1===l)return null;let i=n.fills[l];return i&&i.video?.hash?{hexHash:(0,a.nj)(i.video.hash),index:l,showControls:!!(n.videoPlayback?.showControls||n.isInImmutableFrame)}:null},e),[z,O,F,D,P]=function(e,t,n,l,s,r){let[a,d]=(0,i.useState)("dormant"),[u,c,m]=(0,b.J)(null),[p,h,g]=(0,b.J)(null),[f,y,v]=(0,b.J)(null),[w]=(0,x.fp)(C.oe),E=(0,i.useRef)(void 0);void 0===E.current&&(E.current=w[e]?.currentVolume??1);let N=function(e,t,n,l,s,r,a,o){let d=(0,i.useRef)(r),x=(0,i.useRef)(a);return(0,i.useCallback)(()=>{if(!e)return;t("loading");let i=document.createElement("video");i.crossOrigin="anonymous",i.autoplay=!0,i.muted=0===o,i.volume=o,n(i);let r=document.createElement("div");r.appendChild(i),r.style.width=`${d.current}px`,r.style.height=`${x.current}px`,document.body.appendChild(r),l(r),async function(){e&&s(await (0,k.mc)(null,i,e))}()},[e,t,s,n,l,o])}(t,d,g,v,m,l,s,E.current),I=(0,i.useCallback)(()=>{if(u.current){try{u.current.dispose()}catch(e){console.error("Error disposing of video player",e)}m(null)}function t(){let t=(0,_.UN)().get(e);t&&null!=n&&(o.Ez5?.markContainingIndependentLayerNodesDirty(t.guid)||o.Ez5?.invalidateCanvas(),o.Ez5?.moveFromIndependentRenderLayer(t.guid),t.invalidateCanvasSpaceBoundsForSelfAndParents())}p.current&&p.current.parentNode&&p.current.remove(),g(null),f.current&&f.current.parentNode&&f.current.remove(),v(null),o.Ez5?.removeAllVideoNodeReferences(e),d("dormant"),t(),setTimeout(t,0)},[e,n,u,m,d,p,g,f,v]);return function(e,t,n,l,s,r){let a=(0,i.useRef)(r);a.current=r,(0,i.useEffect)(()=>{n&&l&&l.parentNode&&null!=t&&(n.on("playing",()=>{s("playing");let n=(0,_.UN)().get(e);if(n){n.initializeVideoTextureInFillPaint(t,l.videoWidth,l.videoHeight),n.setVideoElementInFillPaint(t,l),o.Ez5?.moveToIndependentRenderLayer(n.guid);let i=()=>{if(!a.current&&(n=(0,_.UN)().get(e))){let e=Math.floor(1e3*l.currentTime);n.setVideoCurrentTimeInFillPaint(t,e),n.setVideoIsPlayingInFillPaint(t,!l.paused),o.Ez5?.markContainingIndependentLayerNodesDirty(n.guid)||o.Ez5?.invalidateCanvas(),n.invalidateCanvasSpaceBoundsForSelfAndParents()}};if("requestVideoFrameCallback"in HTMLVideoElement.prototype){let e=()=>{i(),l.requestVideoFrameCallback(e)};e()}else{let e=()=>{i(),requestAnimationFrame(e)};e()}}}),_.UN().get(e)?.videoPlayback?.muted&&(n.muted(!0),n.volume(0)),n.play())},[e,t,n,l,s])}(e,n,c,h,d,r),(0,i.useEffect)(()=>{if(!h)return;let t=w[e]?.currentVolume;void 0!==t&&h.volume!==t&&(h.volume=t)},[w,h,e]),(0,i.useEffect)(()=>()=>{I()},[I]),(0,i.useEffect)(()=>{let e=(0,j.tG)().subscribeToContextLost(()=>{I()});return()=>{e()}},[I]),[h,y,a,N,I]}(e,M?.hexHash??null,M?.index??null,t.width*n.zoomScale,t.height*n.zoomScale,n.isPanning||n.isZooming),V=(0,i.useCallback)(t=>{let n=A.get(e),l=n?.parentNode?.type||"";if((0,y.MT)(l)){let e=n?.parentGuid;e&&!L.includes(e)&&c.tJ([e])}else L.includes(e)||c.tJ([e]);t&&"dormant"!==F?t?.paused?t?.play():t?.pause():(I(!1),D())},[F,D,e,L,A]),q=(0,k.DD)(e),B=(0,k.ZU)(e),[H,$]=(0,x.fp)(C.H),{isVideoNodeHovered:G,pointerDownOnVideo:K}=H,U=(0,i.useCallback)((e,t)=>{$({isVideoNodeHovered:e,pointerDownOnVideo:t})},[$]),W=o.qmM?.editorTypeConfig().shouldAlwaysShowPlaybackOverlay()??!1;return M&&(W||M.showControls)?(0,l.jsx)("div",{tabIndex:-1,style:{position:"fixed",width:t.width*n.zoomScale,height:t.height*n.zoomScale,top:n.y,left:n.x,transform:`translate(${R.x}px, ${R.y}px) ${(0,m.aZ)(t)}`,transformOrigin:"top left",pointerEvents:"none"},children:(0,l.jsx)("div",{style:{pointerEvents:"auto"},children:(0,l.jsx)(u._L,{didAutoplayOnSelection:!1,hasEnded:N,isLoading:"loading"===F,isMaximized:!1,isVideoHovered:!0,isVideoNodeHovered:G,mediaHash:M.hexHash,playButtonRef:d,pointerDownOnVideo:K,setHasEnded:e=>{I(e),e&&P()},setIsMaximized:r.lQ,setIsVideoHovered:r.lQ,setVideoControls:U,shouldHideControlBar:B,shouldHideFullscreenButton:T,shouldHidePlaybackButton:q,toggleVideoPlayback:V,videoContainerElement:O,videoElement:z})})}):null}},395046:(e,t,n)=>{n.d(t,{c7:()=>O});var l=n(239976),i=n(105652),s=n(20002),r=n(379141),a=n(29161),o=n(278825),d=n(223487),x=n(597298),u=n(236410),c=n(569693),m=n(95273),p=n(424364),h=n(40297),g=n(989611),f=n(709003),y=n(1007),v=n(806082),k=n(526865);let _=(0,h.hG)(k.Yub),j=(0,h.hG)(k.Dts)+4;function b({stamp:e,renderChildren:t}){let n=(0,y._X)({subscribeToUpdates_expensive:!0}),[s,r]=i.useState(null),a=(0,g.Yk)(),o=e.guid;(0,i.useEffect)(()=>{let e=`stamp-tooltip-${o}`,t=(0,f.EE)(e,[o],e=>r(e.position));return r(t.currentNodePosition[o]?.position||null),()=>{(0,f.lB)(e)}},[o]);let d=(0,i.useMemo)(()=>s?(0,y.Yb)(n,s.absoluteBounds):null,[s,n]),x=(0,i.useMemo)(()=>d?{...d,x:d.x+n.x,y:d.y+n.y}:null,[d,n.x,n.y]),c=(0,i.useMemo)(()=>!!d&&(0,y.ZT)(d,n),[d,n]),m=(0,i.useCallback)((e,t,l)=>{let i;let s=n.y+10,r=n.y+n.height-10-a-t.height,o=n.x+10,d=n.x+n.width-10-t.width,x=u.Zj.ABOVE,c=(0,p.qE)((0,v.Al)(e,t),o,d);return c+_+j>e.x+e.width?(c=(0,p.qE)(e.x+e.width+l,o,d),x=u.Zj.RIGHT):c+t.width-_-j<e.x&&(c=(0,p.qE)(e.x-t.width-l,o,d),x=u.Zj.LEFT),x===u.Zj.LEFT||x===u.Zj.RIGHT?i=(0,v.tJ)(e,t):(i=(0,v.T1)(e,t,l))<s&&(i=(0,v.DH)(e,t,l),x=u.Zj.BELOW),{pos:x,x:c,y:(0,p.qE)(i,s,r)}},[a,n]),h=(0,i.useCallback)((e,t,n)=>m(e,t,n).x,[m]),k=(0,i.useCallback)((e,t,n)=>m(e,t,n).y,[m]),b=(0,i.useCallback)(({x:e,y:n,size:l,offset:i})=>{if(!x)return null;let s=m(x,l,i).pos,r=function({targetRect:e,tooltipRect:t,tooltipPosition:n}){let l=e.x-t.x+e.width/2,i=e.y-t.y+e.height/2,s=t.width-2*_-j,r=t.height-2*_-j;switch(n){case u.Zj.ABOVE:return{left:(0,p.qE)(l-_,j,s),top:Math.floor(t.height)};case u.Zj.BELOW:return{left:(0,p.qE)(l-_,j,s),top:-_};case u.Zj.RIGHT:return{left:-_,top:(0,p.qE)(i-_,j,r)};case u.Zj.LEFT:return{left:Math.floor(t.width),top:(0,p.qE)(i-_,j,r)}}}({targetRect:x,tooltipRect:{x:e,y:n,width:l.width,height:l.height},tooltipPosition:s});return t({tooltipPosition:s,arrowPosition:r})},[m,t,x]);return x&&c?(0,l.jsx)(v.lM,{style:{WebkitUserSelect:"none"},targetRect:x,offset:_,positionX:h,positionY:k,children:b}):null}let C="stamp_overlay--userText---6-Gd ellipsis--ellipsis--70pHK",w="stamp_overlay--tRexAvatarForeground--AMyF3",E={[u.Zj.ABOVE]:"stamp_overlay--downArrow--wRs-6 stamp_overlay--arrow--MP-tD",[u.Zj.BELOW]:"stamp_overlay--upArrow--gsCLu stamp_overlay--arrowInset--yWTx2 stamp_overlay--arrow--MP-tD",[u.Zj.RIGHT]:"stamp_overlay--leftArrow--iIo8D stamp_overlay--arrow--MP-tD",[u.Zj.LEFT]:"stamp_overlay--rightArrow--Q0BXn stamp_overlay--arrow--MP-tD"},N={[u.Zj.ABOVE]:"stamp_overlay--animationUp--sxfo9 stamp_overlay--animationBase--B1NMG",[u.Zj.BELOW]:"stamp_overlay--animationDown--Ie9bh stamp_overlay--animationBase--B1NMG",[u.Zj.RIGHT]:"stamp_overlay--animationRight--1ldiu stamp_overlay--animationBase--B1NMG",[u.Zj.LEFT]:"stamp_overlay--animationLeft--tG35a stamp_overlay--animationBase--B1NMG"};function I(e){let t=e.mirror.sceneGraph,n=Object.keys(e.mirror.sceneGraphSelection);if(1!==n.length)return null;let l=t.get(n[0]);return l&&"STAMP"===l.type?l:null}function T(e){let t=e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode);return t&&"STAMP"===t.type?t.guid:null}function S({shouldShowAvatar:e,avatarEntity:t,text:n}){return(0,l.jsxs)(l.Fragment,{children:[e&&(0,l.jsx)(c.Ro,{size:16,entity:t}),(0,l.jsx)("div",{className:C,children:n})]})}function L({size:e}){return(0,l.jsxs)("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",children:[(0,l.jsxs)("g",{clipPath:"url(#clip0_1941_43995)",children:[(0,l.jsx)("rect",{className:"stamp_overlay--tRexAvatarBackground--LnV38",width:"16",height:"16"}),(0,l.jsx)("path",{className:w,d:"M3 9.90476V8H9V9.42857V10.8571V13C9 15.2091 7.20914 17 5 17H0L-0.71875 11.7143L3 9.90476Z"}),(0,l.jsx)("path",{className:w,fillRule:"evenodd",clipRule:"evenodd",d:"M4.81038 2.08926C3.50282 2.45482 3 3.93364 3 5.29134V8C3 8.55228 3.44771 9 4 9H13C13.5523 9 14 8.55228 14 8V6.16667C14 4.50981 12.6569 3.16667 11 3.16667H8.24357C7.98467 3.16667 7.73678 3.06531 7.53359 2.90486C7.09796 2.56089 6.25898 2 5.42 2C5.21483 2 5.00965 2.03354 4.81038 2.08926ZM5.75 5.5C6.16421 5.5 6.5 5.16421 6.5 4.75C6.5 4.33579 6.16421 4 5.75 4C5.33579 4 5 4.33579 5 4.75C5 5.16421 5.33579 5.5 5.75 5.5Z"}),(0,l.jsx)("path",{className:w,d:"M11.8504 13.8881C10.8861 14.05 10.9477 12.5057 9.64966 12.5057C8.35158 12.5057 7.14966 13.3116 7.14966 12.1587C7.14966 11.0057 8.35155 11 9.64962 11C11.5299 11 12.8147 13.7262 11.8504 13.8881Z"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"clip0_1941_43995",children:(0,l.jsx)("circle",{r:"8",cx:"8",cy:"8",fill:"black"})})})]})}function A({stamp:e,shouldAnimate:t,testId:n}){let s=e.stampData?.stampedByUserId||null,a=e.stampData?.userId||null,{user:o,loading:u}=(0,x.wW)(s),{user:c,loading:m}=(0,x.wW)(a),p=d.q5()?.org?.name,h=i.useCallback(()=>{let t=!e.isFaceStamp,n=!!e.stampData?.votingSessionId;if(s&&u||a&&m)return(0,l.jsxs)(l.Fragment,{children:[t&&(0,l.jsx)("div",{className:"stamp_overlay--loadingAvatar--uOszs stamp_overlay--loadingBase--vrdE1"}),(0,l.jsx)("div",{className:"stamp_overlay--loadingUserText--JR1dn stamp_overlay--loadingBase--vrdE1"})]});if(o){let e=o.handle;return(0,l.jsx)(S,{shouldShowAvatar:t,avatarEntity:o,text:n?(0,r.tx)("voting.stamp_tooltip.vote",{userName:e}):a&&s!==a?(0,l.jsxs)("div",{className:"stamp_overlay--faceStampTooltipText--RjRP-",children:[c?.handle," ",(0,l.jsx)("br",{}),(0,l.jsx)("p",{className:"stamp_overlay--stampedByText--02Clk",children:(0,r.tx)("whiteboard.stamp.stamped_by_tooltip",{userName:e})})]}):e})}if(c){let e=c.handle;return(0,l.jsx)(S,{shouldShowAvatar:t,avatarEntity:c,text:n?(0,r.tx)("voting.stamp_tooltip.vote",{userName:e}):e})}if(a&&(0,x.Fl)(a)||s&&(0,x.Fl)(s)){let e=n?(0,r.tx)("voting.stamp_tooltip.visitor_vote"):p?(0,r.tx)("voting.stamp_tooltip.visitor_with_org",{orgName:p}):(0,r.tx)("voting.stamp_tooltip.visitor_without_org");return(0,l.jsx)(S,{shouldShowAvatar:t,avatarEntity:{id:s||a||void 0},text:e})}return s||a?(0,l.jsx)(S,{shouldShowAvatar:t,avatarEntity:{},text:(0,r.tx)("voting.stamp_tooltip.unavailable")}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(L,{size:16}),(0,l.jsx)("div",{className:C,children:(0,r.tx)("voting.stamp_tooltip.old_stamp")})]})},[u,m,p,e.isFaceStamp,e.stampData?.votingSessionId,o,s,c,a]);return(0,l.jsx)(b,{stamp:e,renderChildren:i.useCallback(({tooltipPosition:e,arrowPosition:i})=>(0,l.jsxs)("div",{className:t?N[e]:"",children:[(0,l.jsx)("div",{className:"stamp_overlay--tooltip--AzvNV","data-testid":n,children:h()}),i&&(0,l.jsx)("div",{className:E[e],style:i})]}),[t,n,h])})}let R=i.memo(function(){let e=(0,s.d4)(I);return(0,l.jsx)(l.Fragment,{children:e&&(0,l.jsx)(A,{stamp:e,shouldAnimate:!0,testId:"selected-stamp-tooltip"},e.guid)})}),M=i.memo(()=>{let e=(0,s.d4)(I),t=(0,m.d0)();return e?.isFaceStamp&&!e?.stampData?.votingSessionId&&t?null:(0,l.jsx)(l.Fragment,{children:e&&(0,l.jsx)(A,{stamp:e,shouldAnimate:!0,testId:"selected-stamp-tooltip"},e.guid)})}),z=i.memo(function(){let e=(0,s.d4)(T),[t,n]=(0,i.useState)(null),[r,a]=(0,i.useState)(!0),d=(0,s.d4)(e=>t?e.mirror.sceneGraph.get(t):null),x=(0,s.d4)(I),u=(0,m.d0)(),c=(0,o.e_)();return((0,i.useEffect)(()=>{let l=!!t;if(e!==t&&(e||t)){if(e&&l){a(!1),n(e);return}if(e&&!l){let t=setTimeout(()=>{n(e)},100);return()=>clearTimeout(t)}if(!e&&l){let e=setTimeout(()=>{n(null),a(!0)},300);return()=>clearTimeout(e)}}},[e,t]),x?.isFaceStamp&&!x?.stampData?.votingSessionId&&u||c&&x?.id===d?.id)?null:(0,l.jsx)(l.Fragment,{children:d&&(0,l.jsx)(A,{stamp:d,testId:"hovered-stamp-tooltip",shouldAnimate:r},d.guid)})}),O=i.memo(function(){let e=(0,o.e_)();return(0,a.aJ)()?e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(M,{}),(0,l.jsx)(z,{})]}):(0,l.jsx)(z,{}):(0,l.jsx)(R,{})})},380383:(e,t,n)=>{n.d(t,{t:()=>o});var l=n(105652),i=n(20002),s=n(692376),r=n(854225),a=n(941452);function o(){let e=(0,a.m0)(),t=(0,i.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);return l.useEffect(()=>{e&&(e._keyboard_will_show_with_height=e=>{s.glU.keyboardWillShowWithHeight(e)},e._keyboard_will_hide=()=>{t===r.m1T.TEXT&&s.glU.setDefaultEditMode()},window.FigmaAppObj?(window.FigmaAppObj.keyboardWillShow=()=>{s.glU.keyboardWillShow()},window.FigmaAppObj.keyboardWillShowWithHeight=e=>{s.glU.keyboardWillShowWithHeight(e)}):window.FigmaAppObj={keyboardWillShow:()=>{s.glU.keyboardWillShow()},keyboardWillShowWithHeight:e=>{s.glU.keyboardWillShowWithHeight(e)}})},[e,t]),null}},455835:(e,t,n)=>{n.d(t,{jk:()=>$});var l=n(239976),i=n(105652),s=n(20002),r=n(865702),a=n(798913),o=n(270450),d=n(847923),x=n(537303),u=n(239620),c=n(224542),m=n.n(c),p=n(494432),h=n(270351),g=n(910136),f=n(174141),y=n(154963),v=n(324880),k=n(608375),_=n(562418),j=n(205842),b=n(967960),C=n(964731),w=n(362844),E=n(236410),N=n(248046),I=n(471074),T=n(432318),S=n(704024);let L="widget_controls--label--zeygg text--fontNeg12--HBXnm text--_fontBase--VaHfk text--_negText--7Cnf0",A="widget_controls--img--v9G8M",R=(0,x.UJ)(e=>e.includes("xmlns")?"data:image/svg+xml;utf8,"+encodeURIComponent(e.trim()):(g.k.warn("Your widget must include the xmlns property on any SVGs used in the property menu. See https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg for more info"),null),1e3);function M(e){let t=(0,_.E3)(),n=e.icon?R(e.icon):null,i=void 0!==t&&t===w.nT.Design;return n?(0,l.jsx)(z,{label:e.label,propertyName:e.propertyName,href:e.href,size:i?"small":"large",tooltip:e.tooltip,icon:n,onClick:e.onClick,active:e.active?e.active:"NONE"}):(0,l.jsx)(O,{label:e.label,propertyName:e.propertyName,href:e.href,tooltip:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE"})}function z(e){let t=e.href?(0,l.jsx)(f.N,{href:e.href,className:y.s.cursorDefault.wFull.hFull.$,target:"_blank",trusted:!1,children:(0,l.jsx)("img",{src:e.icon,className:A,alt:`${e.propertyName}`})}):(0,l.jsx)("img",{src:e.icon,className:A,alt:`${e.propertyName}`});return(0,l.jsx)(T.$n,{buttonStyle:{overflow:"hidden",flexShrink:0},size:e.size,tooltip:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE",recordingKey:(0,u.Pt)("widgetControl",e.propertyName),children:t})}function O(e){let t=e.href?(0,l.jsx)(f.N,{href:e.href,className:m()(L,y.s.cursorDefault.wFull.hFull.$),target:"_blank",trusted:!1,children:e.label}):(0,l.jsx)("span",{className:L,children:e.label});return(0,l.jsx)(T.$n,{className:y.s.flexShrink0.$,tooltip:e.tooltip===e.label?void 0:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE",recordingKey:(0,u.Pt)("widgetControl",e.propertyName),children:t})}function F({widgetInfo:e,item:t}){let n=(0,_.E3)(),s=a.nc.user("widget-select-color",n=>{let l=(0,p.colorToHex)(n.option);j.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,m[l]??l)}),r=(0,h.A)(s,100),[o,d]=i.useState(!1),x=[t.selectedOption,...t.options.map(e=>e.option)],c={},m={};for(let e of x)try{let t=k.z5.parse(e);c[e]=t,m[(0,p.colorToHex)(t)]=e}catch(t){return g.k.warn(`Cannot render widget color selector. ${e} is an invalid color.`),(0,l.jsx)("div",{"data-testid":"emptyColorSelector"})}let f=n===w.nT.Design;return(0,l.jsx)(I.qW,{buttonSize:f?"xsmall":"small",inlineButtonTooltip:t.tooltip,isColorPopoverOpen:o,isDesignInlineMenu:f,onColorChange:e=>{r(e)},optionSize:"medium",options:t.options.map(e=>({option:c[e.option],tooltip:e.tooltip})),paletteType:"widget",recordingKey:(0,u.Pt)("widgetControl",t.propertyName),setIsColorPopoverOpen:d,value:{option:c[t.selectedOption]}})}function D({widgetInfo:e,item:t}){return(0,l.jsx)(M,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:t.icon,onClick:a.nc.user("widget-action",()=>{j.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,null)})})}let P=N.l6,V=N.c$;function q({item:e,widgetInfo:t}){let n=(0,_.E3)(),i=(0,s.wA)(),r=(0,C.Um)(),a=e.options.find(t=>t.option===e.selectedOption),o=(0,u.Pt)("widgetControl",e.propertyName),d=void 0!==n&&n===w.nT.Design;return(0,l.jsx)("div",{className:d?void 0:S.kL,"data-tooltip-show-above":!0,"data-tooltip-type":E.Ib.TEXT,"data-tooltip":e.tooltip,children:(0,l.jsx)(P,{ariaLabel:e.tooltip,blurOnChange:!0,chevronClassName:d?"widget_controls--chevron--cOthV":S.ai,className:d?"widget_controls--select--VlvHi text--fontNeg11--bghdh text--_fontBase--VaHfk text--_negText--7Cnf0":S.Lt,dispatch:i,dropdownAlignment:"left",dropdownClassName:v.Dm,dropdownShown:r,dropdownWidth:144,formatter:{format:e=>e.tooltip,isEqual:(e,t)=>e.option===t.option},id:`widgetControl.${e.propertyName}`,inputClassName:d?"widget_controls--input--rYVy9":S.hF,onChange:n=>{j.x.runPropertyMenuCallback(t.pluginID,t.widgetID,e.propertyName,n.option)},property:{option:e.selectedOption,tooltip:a?a.tooltip:e.selectedOption},recordingKey:o,targetDomNode:document.body,children:e.options.map((t,n)=>(0,l.jsx)(V,{value:t,formattedValue:t.tooltip,recordingKey:(0,u.Pt)(o,t.option),selected:e.selectedOption===t.option,truncateInMiddle:!0},n))})})}function B({widgetInfo:e,item:t}){return(0,l.jsx)(M,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:t.icon,active:t.isToggled?"LOUD":"NONE",onClick:a.nc.user("widget-toggle",()=>{j.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,null)})})}function H({widgetInfo:e,item:t}){let n;let i=(0,o.kc)().widget_link_encode_uri_component?encodeURIComponent(t.href):t.href;return null!==t.icon&&(n=t.icon?t.icon:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 12H16V13H13V27H27V24H28V27V28H13H12V27V13V12ZM27.0001 13H26.9913L27.0001 13.0088V13ZM20.0001 13H26.2999L17.0251 22.2747L17.7323 22.9818L27.0001 13.714V20H28.0001V12.5V12H27.5001H20.0001V13Z" fill="white" fill-opacity="0.8"/></svg>'),(0,l.jsx)(M,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:n,onClick:r.lQ,href:"https://www.figma.com/exit?url="+i})}function $(){let e=function(){let e=(0,d.R)(e=>e.mirror.selectionProperties.selectedWidgetInfo);return i.useMemo(()=>{if(!e)return e;let{pluginID:t}=e;if(!(0,b.Vi)(t))return e;let n=e.propertyMenu.map(e=>"separator"===e.itemType?e:{...e,tooltip:(0,b.kZ)(t,e.propertyName)||e.tooltip});return{...e,propertyMenu:n}},[e])}();return e&&e.propertyMenu.length?(0,l.jsx)(l.Fragment,{children:e.propertyMenu.map((t,n)=>{switch(t.itemType){case"action":return(0,l.jsx)(D,{item:t,widgetInfo:e},n);case"separator":return(0,l.jsx)(T.wv,{},n);case"color-selector":return(0,l.jsx)(F,{item:t,widgetInfo:e},n);case"dropdown":return(0,l.jsx)(q,{item:t,widgetInfo:e},n);case"toggle":return(0,l.jsx)(B,{item:t,widgetInfo:e},n);case"link":return(0,l.jsx)(H,{item:t,widgetInfo:e},n)}})}):null}},481399:(e,t,n)=>{n.d(t,{x:()=>V});var l=n(239976),i=n(105652),s=n(20002),r=n(942356);let a=(0,i.memo)(function(e){return(0,l.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,l.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M18.5 4A1.5 1.5 0 0 1 20 5.5V19a1 1 0 0 1-.898.995L19 20h-1l-.102-.005A1 1 0 0 1 17 19v-6H7v6a1 1 0 0 1-.897.995L6 20H5l-.103-.005A1 1 0 0 1 4 19V5.5a1.5 1.5 0 1 1 3 0V7h10V5.5A1.5 1.5 0 0 1 18.5 4m0 1a.5.5 0 0 0-.5.5V19h1V5.5a.5.5 0 0 0-.5-.5m-13 0a.5.5 0 0 0-.5.5V19h1V5.5a.5.5 0 0 0-.5-.5m9.701 7H17v-1.799zM7 11.2v.8h.802l-.009-.009L11.784 8H10.2zm2.198.8h1.603l-.008-.008L14.785 8h-1.587zM16.2 8l-4 4h1.588L17 8.787V8zM7 9.786 8.786 8H7z"})})});var o=n(379141),d=n(847923),x=n(239620),u=n(629036),c=n.n(u),m=n(610265),p=n(402342),h=n(732730),g=n(192704),f=n(223487),y=n(816505),v=n(425519),k=n(789379),_=n(231305),j=n(591600),b=n(362844),C=n(702746),w=n(236410),E=n(862750);let N=(0,n(145652).ex)("figjam_plugin_relaunch_button_info",function(e){let{name:t,description:n}=e;return(0,l.jsxs)("div",{className:"figjam_plugin_relaunch_button_info_tooltip--figjamRelaunchButtonInfo--Ml-44 text--fontPos11--rO47d text--_fontBase--VaHfk",children:[(0,l.jsx)("span",{className:"figjam_plugin_relaunch_button_info_tooltip--handle--RmK9-",children:t}),n&&(0,l.jsx)("div",{children:n})]})},e=>({name:e.getAttribute("data-tooltip-name"),description:e.getAttribute("data-tooltip-description")}));var I=n(683261),T=n(943360),S=n(563225);function L({onClick:e,recordingKey:t,ariaLabel:n,tooltip:i,tooltipType:s,tooltipName:r,tooltipDescription:a,showChevron:o,children:d}){return(0,l.jsx)(T.E,{className:"whiteboard_inline_menu_icon_button--iconButton40--7dlIk",onClick:e,recordingKey:t,"aria-label":n,htmlAttributes:{"data-tooltip":i,"data-tooltip-type":s,"data-tooltip-show-above":!0,"data-tooltip-name":r,"data-tooltip-description":a,"data-testid":t},children:(0,l.jsxs)("span",{"aria-hidden":!0,className:"whiteboard_inline_menu_icon_button--icon--ssq78",children:[d,o&&(0,l.jsx)(S.O,{className:"whiteboard_inline_menu_icon_button--chevron--2gQ5z"})]})})}var A=n(432318),R=n(149712),M=n(102462),z=n(888903),O=n(287736);function F(e){let{tooltipName:t,tooltipDescription:n,onClick:i,hasMultipleOptions:s,recordingKey:r,plugin:d}=e,x=(0,I._r)(),u=s?(0,o.t)("whiteboard.inline_menu.open_relaunch_menu.aria_label",{pluginName:d.name}):t??d.name,c=s?{tooltip:d.name,tooltipType:w.Ib.TEXT}:{tooltip:N,tooltipType:x&&t?w.Ib.SPECIAL:void 0,tooltipName:t,tooltipDescription:"string"==typeof n?n:String(n)};return(0,l.jsx)(L,{onClick:i,recordingKey:r,showChevron:s,ariaLabel:u,...c,children:(0,C.ZQ)(d)?(0,l.jsx)(a,{}):(0,l.jsx)(E.V,{className:"plugin_relaunch_content--pluginIcon--Tk4Ac plugin--pluginIconBase--y3Ro5",plugin:d,alt:d.name})})}function D({children:e}){return(0,l.jsx)("div",{className:"plugin_relaunch_content--flexColumn--b7vti",children:e})}function P(e){let{relaunchData:t}=e,n=e=>parseInt(e||"0");return(0,l.jsx)(R.Fn,{onChange:l=>{let i=t[n(l)];i&&e.onSelect(i)},value:null,renderOption:({value:e,onClick:i})=>{let s=t[n(e)];if(!s)return null;let a=s.relaunchButton.name.length>34||"string"==typeof s.relaunchButton.description&&s.relaunchButton.description.length>34,o=(0,x.Pt)("relaunchMenuSelectorOption",s.pluginTypeAndID,s.relaunchButton.command);return(0,l.jsx)("div",{"data-tooltip":N,"data-tooltip-type":s.relaunchButton.name&&a?w.Ib.SPECIAL:void 0,"data-tooltip-show-right":!0,"data-tooltip-name":s.relaunchButton.name,"data-tooltip-description":s.relaunchButton.description,children:(0,l.jsx)("div",{className:"plugin_relaunch_content--menuItem--w-6ZM",children:(0,l.jsxs)(r.WW,{variant:"secondary",onClick:i,recordingKey:o,children:[(0,l.jsx)("div",{className:"plugin_relaunch_content--name--0gCRY ellipsis--ellipsis--70pHK",children:s.relaunchButton.name}),s.relaunchButton.description&&(0,l.jsx)("div",{className:"plugin_relaunch_content--description--zvcEu ellipsis--ellipsis--70pHK",children:String(s.relaunchButton.description)})]})})},`${s.pluginTypeAndID}-${e}`)},renderButton:({onClick:e,value:i})=>{let s=t[n(i)];return s?(0,l.jsx)(F,{hasMultipleOptions:!0,onClick:e,plugin:s.plugin,recordingKey:(0,x.Pt)("relaunchMenuSelectorIconButton",s.pluginTypeAndID)}):null},options:t.map((e,t)=>`${t}`),OptionWrapper:D})}function V(){let e=(0,d.R)(e=>e.mirror.selectionProperties.pluginRelaunchData),t=(0,s.d4)(e=>e.mirror.selectionProperties.numSelected),n=(0,d.R)(e=>e.publishedPlugins),r=(0,d.R)(e=>e.localPlugins),a=(0,y.dq)(),u=(0,f.tS)(),w=(0,i.useRef)(new k.O(m.A.duration(1,"day"))),E=(0,g.V2)(),N=(0,s.wA)(),I=e=>N(p.af({id:e,resourceType:n[e]?.is_widget?j.bD.WIDGET:j.bD.PLUGIN})),T=(0,v.vA)(e,n,r,a,t||0,(e,t)=>w.current.debounceRefresh(e,()=>I(e),t),C.FW.FIGJAM),S=c()(T,e=>e.pluginTypeAndID),L=e=>{var t,n;if(!u)return;if(!E){_.R0.instance.handleUpgrade(h.Q7.RUN_WIDGET);return}t=(0,o.t)("whiteboard.inline_menu.relaunching_plugin",{commandName:e.relaunchButton.name}),n="figjam-plugin-relaunched",M.D.dispatch(z.F.enqueue({message:t,type:n,icon:O.zX.CHECK,timeoutOverride:3e3}));let{canRun:l}=(0,v.JT)({plugin:e.plugin,editorType:b.nT.Whiteboard});l&&_.R0.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:e.plugin,openFileKey:u||"",command:e.relaunchButton.command,queryMode:!1,runMode:"default",triggeredFrom:"relaunch",ignoreForRunLastPlugin:!0,isWidget:!1}})};return 0===T.length?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(A.wv,{}),Object.values(S).map(e=>{if(!e||!e[0])return;let t=e[0],n=`relaunch-button-${t.pluginTypeAndID}-${e.length}`;return 1===e.length?(0,l.jsx)(F,{tooltipName:t.relaunchButton.name,tooltipDescription:t.relaunchButton.description,plugin:t.plugin,onClick:()=>L(t),recordingKey:(0,x.Pt)("relaunchIconButton",t.pluginTypeAndID,t.relaunchButton.command)},n):(0,l.jsx)(P,{relaunchData:e,onSelect:L},n)})]})}}}]);

//# debugId=68291ad7-5699-598d-8dee-31f4c5e850ba

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/9cf2e3f7fa488791f05d390310bf8d9847823bbf/a88a4c5a-0b49713ca644debd.min.js.map