"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8b5cc788-1236-5822-955d-1419fc4b5715")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[1247],{990981:(e,i,t)=>{t.d(i,{_:()=>m,n:()=>v});var n=t(239976),l=t(105652),s=t(378721),d=t(263773);let r=(0,l.memo)(function(e){return(0,n.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:[(0,n.jsx)("path",{fill:"var(--fpl-icon-color-3, var(--color-icon-tertiary))",d:"M8 6.5A1.5 1.5 0 0 1 9.5 5h5A1.5 1.5 0 0 1 16 6.5v11.597c0 .89-1.074 1.336-1.705.71L12 16.525l-2.295 2.28c-.631.627-1.705.18-1.705-.71z"}),(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"m12 15.116.705.7L15 18.096V6.5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0-.5.5v11.597l2.295-2.28zm0 1.41 2.295 2.28c.631.627 1.705.18 1.705-.71V6.5A1.5 1.5 0 0 0 14.5 5h-5A1.5 1.5 0 0 0 8 6.5v11.597c0 .89 1.074 1.336 1.705.71z",clipRule:"evenodd"})]})});var a=t(379141),o=t(224542),u=t.n(o),c=t(7857),g=t(236410),p=t(86129),I=t(541009),v=(e=>(e.DETAIL="detail",e.TILE="title",e.FIGJAM_PLUGIN_ROW="figjam_plugin_row",e))(v||{});let m=(0,c._d)(function(e){let{isSavedForUser:i,save:t,unsave:l}=(0,p.QK)(e.resourceId,e.resourceType);return(0,n.jsx)(x,{onClick:e=>{i?l():t(),e.stopPropagation()},isSaved:i,parentView:e.parentView,isFauxFocused:e.isFauxFocused})},"ResourceSaveButton");function x(e){let i="title"===e.parentView?u()({"save_button--showOnFocus--qb5Za":!e.isSaved,[I.Xb]:!e.isSaved,[I.ez]:e.isSaved||!!e.isFauxFocused}):"figjam_plugin_row"===e.parentView?I._P:"",{SaveIcon:t,SaveFilledIcon:o}=l.useMemo(()=>(e.parentView,{SaveIcon:d.T,SaveFilledIcon:r}),[e.parentView]);return(0,n.jsx)("div",{className:i,children:(0,n.jsx)(s.K,{onClick:e.onClick,"aria-label":e.isSaved?(0,a.t)("community.saves.remove_from_saves"):(0,a.t)("community.saves.save"),"aria-pressed":e.isSaved,htmlAttributes:{"data-tooltip-type":g.Ib.TEXT,"data-tooltip":e.isSaved?(0,a.t)("community.saves.remove_from_saves"):(0,a.t)("community.saves.save")},children:e.isSaved?(0,n.jsx)(o,{}):(0,n.jsx)(t,{})})})}},131247:(e,i,t)=>{t.d(i,{Cg:()=>eR,GJ:()=>eZ,R7:()=>ex,dr:()=>e$,ff:()=>eb,tO:()=>ez,yG:()=>eH});var n=t(239976),l=t(105652),s=t(20002),d=t(865702),r=t(449979),a=t(116695),o=t(378721),u=t(345123),c=t(376235),g=t(4245),p=t(798913),I=t(379141),v=t(224542),m=t.n(v),x=t(732838),j=t(7857),h=t(348841),w=t(348149),_=t(346942),y=t(901962),f=t(259714),b=t(154963),T=t(770785),C=t(227517),R=t(139133),F=t(713913),N=t(125416),k=t(442501),B=t(867203),P=t(199610),E=t(39171),D=t(450207),A=t(136393),S=t(338630),O=t(738388),V=t(562418),M=t(816411),L=t(192704),U=t(526575),W=t(487806),z=t(345782),G=t(489985),$=t(964731),H=t(816505),Z=t(920675),Y=t(425519),J=t(815543),K=t(591600),Q=t(702746),X=t(236410),q=t(587928),ee=t(862750),ei=t(834051),et=t(891623),en=t(199525),el=t(152013),es=t(469543),ed=t(288019),er=t(876561),ea=t(13726),eo=t(990981),eu=t(615974),ec=t(142359),eg=t(173407),ep=t(802825),eI=t(541009),ev=t(791911),em=t(510080),ex=(e=>(e.COMMUNITY="community",e.RECENT="recent",e.DEVELOPMENT="development",e.DEVELOPMENT_MISSING_LOCAL="development_missing_local",e.ORG_PRIVATE="org_private",e.SAVED="saved",e.INVITED="invited",e))(ex||{});function ej(e){let i=(0,s.d4)(e=>e.orgById);if(e.resource.is_private){let t=e.resource?.org_id&&i[e.resource.org_id]?.name;return(0,n.jsx)(u.s,{className:eI.Sx,"data-tooltip-type":X.Ib.TEXT,"data-tooltip":t?(0,I.t)("community.plugins.private_for_plugin_org_name",{orgName:t}):(0,I.t)("community.plugins.private_for_plugin_org")})}return(0,n.jsx)(n.Fragment,{})}let eh=l.createContext(null);function ew(){return(0,r.sR)(l.useContext(eh),"Must be wrapped within <FdBrowseWidgetTileContext.Provider>")}let e_=l.createContext(null);function ey(){return(0,r.sR)(l.useContext(e_),"Must be wrapped within <FdBrowsePluginTileContext.Provider>")}function ef(e,i,t){let n=l.useRef(null),s=l.useCallback(()=>{n.current&&n.current.click()},[n]),{setKeyboardNavigationElement:d,isFauxFocused:r,keyboardNavigationItem:a}=(0,y.M3)({path:i||[0],fauxClick:s,id:e}),o=t&&i&&i.length>=2&&i[0]===ep.B6&&0===i[1];return l.useEffect(()=>{o&&a?.fauxFocus()},[o,a]),{setKeyboardNavigationElement:d,isFauxFocused:r,keyboardNavigationButtonRef:n}}let eb=(0,j._d)(function({resourceId:e,type:i,keyboardNavigationPath:t,shouldFocusFirstItem:s}){let d;let{activeTab:r,viewResource:a}=(0,ep.IT)(),o=(0,L.$1)(),u="development"===i?Object.values(o).find(i=>String(i.localFileId)===e):null,c=u?.plugin_id,g=l.useCallback(()=>a({id:c??e}),[e,a,c]),p=l.useMemo(()=>r===J.sk.WIDGET?{viewWidgetDetails:g,keyboardNavigationPath:t,shouldFocusFirstItem:s}:{viewPluginDetails:g,keyboardNavigationPath:t,shouldFocusFirstItem:s},[r,t,g,s]);if(r===J.sk.WIDGET){switch(i){case"community":d=(0,n.jsx)(eL,{widgetId:e});break;case"recent":d=(0,n.jsx)(eA,{widgetId:e,type:"recent"});break;case"development":d=(0,n.jsx)(eV,{localFileId:e});break;case"development_missing_local":d=(0,n.jsx)(eV,{widgetId:e});break;case"org_private":d=(0,n.jsx)(eO,{widgetId:e});break;case"saved":d=(0,n.jsx)(eS,{widgetId:e,type:"saved"});break;case"invited":d=(0,n.jsx)(eM,{widgetId:e});break;default:return null}return(0,n.jsx)(eh.Provider,{value:p,children:d})}switch(i){case"community":d=(0,n.jsx)(eC,{pluginId:e});break;case"recent":d=(0,n.jsx)(eT,{pluginId:e});break;case"development":d=(0,n.jsx)(eB,{localFileId:e});break;case"development_missing_local":d=(0,n.jsx)(eB,{pluginId:e});break;case"org_private":d=(0,n.jsx)(eP,{pluginId:e});break;case"saved":d=(0,n.jsx)(eN,{pluginId:e,type:"saved"});break;case"invited":d=(0,n.jsx)(eF,{pluginId:e});break;default:return null}return(0,n.jsx)(e_.Provider,{value:p,children:d})},"FdBrowseResourceTile");function eT({pluginId:e}){let i=(0,L.b4)()[e],t=(0,L.cW)()[e],l=(0,W.tw)(t);return i?(0,Q.ZQ)(i)?(0,n.jsx)(eB,{localFileId:i.localFileId.toString(),isRecentTile:!0}):l?null:(0,n.jsx)(eN,{pluginId:i.plugin_id,type:"recent"}):null}function eC(e){let i=(0,L.cW)()[e.pluginId],t=(0,E.to)(),{getDynamicConfig:l}=(0,w.bY)("hide_buzz_plugin_community_stats"),s=t&&l().get("hidden",!1);if(e.plugin&&(i=e.plugin),!i)return null;let d=(0,Y.uF)(i),{description:r,tagline:a}=d,o=s?(0,ep.kB)(i):(0,ep.fO)(i),u=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:eI.y7,children:(0,P.G8)({tagline:a,description:r},h.$J)}),(0,n.jsx)("div",{className:eI.Yl,children:o})]});return(0,n.jsx)(eD,{pluginVersion:d,subheader:u,pluginId:e.pluginId,primaryCTAButton:e.ctaButton,alwaysShowPrimaryCTA:e.alwaysShowCta,isDevModeWizard:e.isDevModeWizard,onClick:e.onClick,isCommunityPreview:!0})}function eR({plugin:e,ctaButton:i,onClick:t}){let l={viewPluginDetails:d.lQ,keyboardNavigationPath:void 0,shouldFocusFirstItem:void 0};return(0,n.jsx)(e_.Provider,{value:l,children:(0,n.jsx)(eC,{pluginId:e.id,plugin:e,ctaButton:i,alwaysShowCta:!0,isDevModeWizard:!0,onClick:t})})}function eF(e){let i=(0,L.cW)()[e.pluginId],t=(0,s.wA)(),d=l.useCallback(()=>{t(D.oB())},[t]);if(!i)return null;let r=(0,Y.uF)(i),{description:a,tagline:o}=r,u=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:eI.Pg,children:(0,P.G8)({tagline:o,description:a},h.$J)}),(0,n.jsx)("div",{className:eI.Yl,children:(0,ep.fO)(i)})]});return(0,n.jsx)(eD,{pluginVersion:r,subheader:u,pluginId:e.pluginId,onClick:d,showEditorTypeIcon:!0,isNotification:!0,metadataOverrideNode:(0,n.jsx)(ea.PE,{resource:i})})}let eN=l.memo(function(e){let i=(0,L.Be)(),t=i.plugins[e.pluginId]||i.orgPlugins[e.pluginId],s=(0,L.b4)()[e.pluginId],d=(0,L.cW)()[e.pluginId],r=l.useMemo(()=>"recent"===e.type?s:"org_private"===e.type?(0,Y.uF)(d):t,[t,e.type,d,s]),a=(0,$.Um)(),o=a?.type===eg._n&&a.data.pluginId===e.pluginId&&a.data.targetRect&&a.data.viewType===e.type,u=eH(e.pluginId,e.type);return(0,n.jsx)(ek,{pluginId:e.pluginId,type:e.type,dropdownIsShown:o,runOptionsDropdownIsShown:u,version:r})}),ek=l.memo(function(e){let{dropdownIsShown:i,version:t}=e,d=(0,s.wA)(),{viewPluginDetails:r}=ey(),a=l.useCallback(t=>{t.stopPropagation(),i?d(D.oB()):d(D.j7({type:eg._n,data:{pluginId:e.pluginId,targetRect:t.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[i,d,e.pluginId,e.type]),o=(0,M.dR)(e.pluginId,"universal-insert"),u=(0,M.Gt)(e.pluginId,"universal-insert"),c=(0,O.t)(e.pluginId,u,o),g=c.length>0,p=e.runOptionsDropdownIsShown&&g,I=l.useRef(null),{validatePublishedPluginInOrgAllowlist:v,isPluginBlockedByAllowlist:m}=(0,L.j1)(e.pluginId),x=(0,M.RK)(e.pluginId),j=l.useCallback(i=>{if(i?.stopPropagation(),v()){if(g){p?d(D.oB()):d(e$({pluginId:e.pluginId,tileType:e.type}));return}x?u():o(),d(A.b({seen_published_plugin_onboarding_modal:!0})),d(A.b({seen_development_plugin_onboarding_modal:!0}))}},[v,g,x,d,p,e.pluginId,e.type,u,o]),h=I.current?.getBoundingClientRect();if(!t)return null;let w=!!(p&&h)||i,_=(0,n.jsx)(eo._,{resourceId:e.pluginId,resourceType:K.vt.PLUGIN,parentView:eo.n.TILE,isFauxFocused:w});return(0,n.jsxs)("div",{children:[(0,n.jsx)(eD,{isFauxFocused:w,onClick:j,onOptionsClick:a,optionsButtonIsActive:i,pluginId:e.pluginId,pluginVersion:t,primaryCTAButton:_,secondaryIcon:(0,n.jsx)(ej,{resource:t}),showOnClickDropdownChevron:g,visuallyDisabled:m}),(0,n.jsx)("div",{ref:I}),p&&h&&(0,n.jsx)(es.j,{showPoint:!1,lean:"center",items:c,onSelectItem:e=>{e.callback&&e.callback("",null,d)},parentRect:h,dispatch:d}),i&&(0,n.jsx)(eg.EJ,{viewResource:r,plugin:t})]})});function eB(e){let i=(0,s.wA)(),t=(0,L.nl)({allowNonVsCodePluginsInVsCode:!0}),d=e.localFileId?t[e.localFileId]:void 0,r=d?d.plugin_id:e.pluginId,a=(0,L.kd)({includePendingPublishers:!1}).find(e=>e.id===r),o=a?(0,Y.uF)(a):void 0,g=(0,$.Um)(),{viewPluginDetails:p}=ey(),v=g?.type===eg.lD&&g?.data.localFileId===e.localFileId&&g?.data.pluginId===r,m=l.useCallback(t=>{if(t.stopPropagation(),v)i(D.oB());else{let n=t.currentTarget.getBoundingClientRect();i(D.j7({type:eg.lD,data:{localFileId:e.localFileId,pluginId:r,targetRect:n}}))}},[i,e.localFileId,r,v]),x=(0,M.Gt)(r,"universal-insert"),j=(0,M.dR)(r,"universal-insert"),h=(0,O.t)(r,x,j),w=h.length>0,_=l.useRef(null),y=_.current?.getBoundingClientRect(),b=eH(r,e.isRecentTile?"recent_development":"development")&&w,T=l.useCallback(()=>{if(w){b?i(D.oB()):r&&i(e$({pluginId:r,tileType:e.isRecentTile?"recent_development":"development"}));return}j()},[w,j,b,i,r,e.isRecentTile]);if(!d&&!a)return null;let C=(0,n.jsx)(ed.A,{localResource:d,publishedResource:a}),F=a&&(0,P.AC)(a),N=a&&o?.redirect_icon_url,k=a&&!F?a.roles.is_public?c.$:u.s:void 0,B=(0,n.jsx)(R.Ex,{height:"16",children:(0,n.jsx)("span",{children:(0,I.tx)("universal_insert.development")})});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eD,{icon:N?void 0:(0,n.jsx)(f.B,{svg:em.A,className:eI.Bx}),inReview:F,localPlugin:d,onClick:T,onOptionsClick:m,optionsButtonIsActive:v,pluginId:r,pluginVersion:o,publishingStatusIcon:k,secondaryIcon:B,showEditorTypeIcon:!1,showOnClickDropdownChevron:w,subheader:C}),(0,n.jsx)("div",{ref:_}),b&&y&&(0,n.jsx)(es.j,{showPoint:!1,lean:"center",items:h,onSelectItem:e=>{e.callback&&e.callback("",null,i)},parentRect:y,dispatch:i}),v&&(d?(0,n.jsx)(eg.T9,{localResource:d,viewResource:p}):(0,n.jsx)(eg.T9,{publishedResource:a,viewResource:p}))]})}function eP(e){return(0,L.cW)()[e.pluginId]?(0,n.jsx)(eN,{pluginId:e.pluginId,type:"org_private"}):null}function eE({pluginId:e,name:i,icon:t,iconUrl:s}){let[d,r]=l.useState(!!t);return(0,n.jsx)("div",{className:m()(d?eI.lP:eI.vt),children:t||(0,n.jsx)(ee.V,{plugin:{name:i,plugin_id:e,redirect_icon_url:s??""},loading:"lazy",alt:`${i} icon`,onLoad:()=>r(!0)})})}function eD(e){let i;let t=e.pluginVersion?.name??e.localPlugin?.name??"",l=e.pluginVersion?.redirect_icon_url,{isPluginSetToAutoRun:s}=(0,q.bE)(e.pluginVersion??null),d=e.localPlugin?e.localPlugin.manifest.editorType:e.pluginVersion?.manifest.editorType,r=!e.subheader,{viewPluginDetails:u,keyboardNavigationPath:c,shouldFocusFirstItem:p}=ey(),{setKeyboardNavigationElement:v,isFauxFocused:x,keyboardNavigationButtonRef:j}=ef(`plugin_${t}`,c,!!p),h=(0,S.j6)(),w=(0,W.ul)(e.pluginId),_=Object.values((0,L.$1)()).find(i=>String(i.plugin_id)===e.pluginId),y=(0,Y.uF)(w),k=(0,Y.pk)(y),B=(0,W.EO)(w)&&!_,P=(0,W.OY)(w),E=(0,W.gn)(w)&&!_,D=(0,H.sZ)(),A=(0,L.ll)(),O=!_&&(0,z.BF)({org:D,extensionVersion:y??e.pluginVersion,isWidget:!1,allowlistedExtensions:A}),M=e.isCommunityPreview&&!O&&!e.isDevModeWizard,G=B&&!P?(0,n.jsx)(eY,{plugin:w,hideFreeTrialBadge:!0}):E?(0,n.jsx)(er.ur,{}):M?(0,n.jsx)(ez,{pluginId:e.pluginId,buttonRef:j,usePrimaryButtonStyles:!0}):void 0,$=(0,F.QP)({resource:w,validBadges:[F.op.FREEMIUM,F.op.OFF_PLATFORM,F.op.PURCHASED]}),Z=e.metadataOverrideNode??(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:eI.FV,children:[(0,n.jsxs)(C.Y,{spacing:4,children:[(0,n.jsx)("div",{className:m()(eI.B6,{[b.s.colorTextDisabled.$]:e.visuallyDisabled}),children:(0,n.jsx)(a.hE,{as:"span",children:t})}),s&&(0,n.jsx)(R.Ex,{height:"16",children:(0,I.t)("universal_insert.auto_run")}),e.inReview&&(0,n.jsx)(N.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,$&&!E&&(0,n.jsx)("div",{className:eI.UK,children:$}),e.publishingStatusIcon&&(0,n.jsx)("div",{className:eI.TW,children:(0,n.jsx)(e.publishingStatusIcon,{})}),e.showOnClickDropdownChevron&&(0,n.jsx)(f.B,{svg:ev.A,className:eI.o2})]}),e.subheader&&(0,n.jsx)("div",{className:eI.ZK,children:e.subheader})]}),G&&(0,n.jsx)(a.HG,{children:(0,n.jsx)("div",{className:eI.D1,children:G})}),e.primaryCTAButton&&(0,n.jsx)(a.HG,{children:(0,n.jsx)("div",{style:T.sx.add({alignSelf:"center"}).$,children:e.primaryCTAButton})}),e.onOptionsClick&&(0,n.jsx)(a.HG,{children:(0,n.jsx)(o.K,{onClick:e.onOptionsClick,"aria-label":(0,I.t)("universal_insert.more_options"),htmlAttributes:{"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,I.t)("universal_insert.more_options")},children:(0,n.jsx)(g.J,{})})})]}),J=function(e,i){if((0,V.m0)());else if(e&&i)return!0;return!1}(e.showEditorTypeIcon,d),K=(0,V.m0)();return i=J?(0,n.jsxs)(el.li.IconAndBadgeContainer,{children:[(0,n.jsx)(eE,{pluginId:e.pluginId,name:t,iconUrl:l,icon:e.icon}),(0,n.jsx)(el.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin",children:(0,n.jsx)(el.dn,{editorType:d,is16x16:!0})})]}):K&&k?(0,n.jsxs)(el.li.IconAndBadgeContainer,{children:[(0,n.jsx)(eE,{pluginId:e.pluginId,name:t,icon:e.icon,iconUrl:l}),(0,n.jsx)(el.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin",children:(0,n.jsx)(el.ZA,{})})]}):(0,n.jsx)(eE,{pluginId:e.pluginId,name:t,icon:e.icon,iconUrl:l}),(0,n.jsx)(a.bL,{"data-testid":"plugin-tile-card",className:eI.gb,children:(0,n.jsxs)("div",{className:m()(r?eI.$C:eI.MJ,x||e.isFauxFocused?eI.c6:void 0,e.isDevModeWizard?eI.NH:void 0),children:[(0,n.jsx)(a.O6,{className:eI.FO,onClick:()=>{if((0,U.Cu)({trackingContext:h.name,pluginId:e.pluginId}),B&&!P||O){u();return}if(e.onClick){e.onClick();return}u()},ref:e=>{M||(j.current=e),c&&v(e)},"data-testid":"plugin-tile-button"}),(0,n.jsxs)("div",{className:eI.ot,children:[e.isNotification&&(0,n.jsx)("div",{className:eI.Vx}),i]}),Z]})})}function eA(e){let i=(0,L.YO)()[e.widgetId],t=(0,L.ZT)()[e.widgetId],l=(0,W.tw)(t);return i?(0,Q.ZQ)(i)?(0,n.jsx)(eV,{localFileId:i.localFileId.toString(),isRecentTile:!0}):l?null:(0,n.jsx)(eS,{widgetId:e.widgetId,type:"recent"}):null}function eS(e){let i=(0,s.wA)(),{viewWidgetDetails:t}=ew(),d=(0,L.ZT)()[e.widgetId],r=(0,L.Be)().widgets[e.widgetId],a=(0,L.YO)()[e.widgetId],o="recent"===e.type?a:"org_private"===e.type?(0,Y.uF)(d):r,u=(0,$.Um)(),c=u?.type===eg._n&&u.data.widgetId===e.widgetId&&u.data.targetRect&&u.data.viewType===e.type,g=(0,L.Ud)(e.widgetId),I=l.useRef(null),v=(0,L.WK)(e.widgetId),m=x.eD&&!!g&&!v,j=!!v||m,h=(0,$.Um)(),w=l.useRef(null),_=u?.type===ec.cH&&u.data.widgetId===e.widgetId,{isWidgetBlockedByAllowlist:y}=(0,L.Ys)(e.widgetId),f=l.useCallback(t=>{if(j){if(t.preventDefault(),t.stopPropagation(),_)i(D.oB());else{let n=t.currentTarget.getBoundingClientRect();i(D.j7({type:ec.cH,data:{targetRect:n,widgetId:e.widgetId}}))}}},[i,e.widgetId,_,j]),b=l.useCallback(()=>{(0,G.j)({pluginID:e.widgetId,widgetName:o.name,pluginVersionID:o.id,triggeredFrom:"universal-insert"})},[o,e.widgetId]),T=l.useCallback(e=>{j?f(e):p.l7.user("insert-published-widget",()=>{b()})},[b,f,j]),C=l.useCallback(t=>{t.stopPropagation(),c?i(D.oB()):i(D.j7({type:eg._n,data:{widgetId:e.widgetId,targetRect:t.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[c,i,e.widgetId,e.type]);if(!o)return null;if((0,Q.ZQ)(o))return(0,n.jsx)(eV,{localFileId:o.localFileId.toString()});let R=w.current?.getBoundingClientRect(),F=!!(h&&R)||c,N=(0,n.jsx)(eo._,{resourceId:e.widgetId,resourceType:K.vt.WIDGET,parentView:eo.n.TILE,isFauxFocused:F});return(0,n.jsxs)("div",{children:[(0,n.jsx)(eW,{iconUrl:o.redirect_snapshot_url??void 0,isFauxFocused:F,localWidget:v,onClick:T,onOptionsClick:C,optionsButtonIsActive:c,primaryCTAButton:N,secondaryIcon:(0,n.jsx)(ej,{resource:o}),subheader:(0,ep.CF)(o),useHorizontalLayout:!0,visuallyDisabled:y,widget:o,widgetId:e.widgetId}),(0,n.jsx)("div",{ref:I}),h&&R&&(0,n.jsx)(eg.NR,{targetRect:R,widgetId:e.widgetId,lean:"center"}),c&&(0,n.jsx)(eg.EJ,{viewResource:t,plugin:o})]})}function eO(e){return(0,L.ZT)()[e.widgetId]?(0,n.jsx)(eS,{widgetId:e.widgetId,type:"org_private"}):null}function eV(e){let i=(0,s.wA)(),t=(0,L.yQ)(),d=l.useMemo(()=>e.localFileId?t[e.localFileId]:void 0,[t,e.localFileId]),r=(0,L.jg)(),a=d?d.plugin_id:e.widgetId,o=(0,L.bh)({includePendingPublishers:!1}),g=l.useMemo(()=>Object.values(o).find(e=>e.id===a),[o,a]),p=l.useMemo(()=>g&&g.current_plugin_version_id?g.versions[g.current_plugin_version_id]:void 0,[g]),I=(0,$.Um)(),{viewWidgetDetails:v}=ew(),m=I?.type===en.jZ.DEVELOPMENT_WIDGET_DROPDOWN&&I?.data.isRecentTile===e.isRecentTile&&I?.data.localFileId===e.localFileId&&I?.data.pluginId===a&&I?.data.targetRect,x=l.useCallback(t=>{if(t.stopPropagation(),m)i(D.oB());else{let n=t.currentTarget.getBoundingClientRect();i(D.j7({type:en.jZ.DEVELOPMENT_WIDGET_DROPDOWN,data:{localFileId:e.localFileId,pluginId:a,isRecentTile:e.isRecentTile,targetRect:n}}))}},[i,e.localFileId,a,e.isRecentTile,m]),j=l.useCallback(()=>{d&&(0,G.j)({pluginID:d.plugin_id,widgetName:d.name,pluginVersionID:"",triggeredFrom:"universal-insert"})},[d]);if(!d&&!g)return null;let h=(0,n.jsx)(ed.A,{localResource:d,publishedResource:g}),w=g&&(0,P.AC)(g),_=g&&(0,Y.uF)(g).redirect_snapshot_url||e.localFileId&&r[e.localFileId]&&r[e.localFileId].metadata.widgetSnapshotImageSrc||eu.J,y=g&&!w?g.roles.is_public?c.$:u.s:void 0;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eW,{iconUrl:_,inReview:w,localWidget:d,onClick:()=>j(),onOptionsClick:x,optionsButtonIsActive:m,publishingStatusIcon:y,showEditorTypeIcon:!1,subheader:h,useHorizontalLayout:!0,widget:p,widgetId:a}),m&&(d?(0,n.jsx)(eg.T9,{localResource:d,viewResource:v}):(0,n.jsx)(eg.T9,{publishedResource:g,viewResource:v}))]})}function eM(e){let{widgetId:i}=e,t=(0,L.ZT)()[i]??null;if(!t)return null;let l=(0,Y.uF)(t),{redirect_snapshot_url:s,manifest:d}=l;return(0,n.jsx)(eW,{widget:l,iconUrl:s??void 0,widgetId:t.id,onClick:e=>e.stopPropagation(),useHorizontalLayout:!0,showEditorTypeIcon:!0,editorType:d.editorType,isNotification:!0,metadataOverrideNode:(0,n.jsx)(ea.PE,{resource:t})})}function eL(e){let i=(0,W.J$)(e.widgetId);if(!i)return null;let t=(0,Y.uF)(i),l=(0,ep.fO)(i),s=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:eI.rz,children:(0,P.G8)(t,h.$J)}),(0,n.jsx)("div",{className:eI.Yl,children:l})]});return(0,n.jsx)(eW,{widget:t,subheader:s,iconUrl:t.redirect_snapshot_url??void 0,widgetId:e.widgetId})}function eU({useHorizontalLayout:e=!1,onIconClick:i,disabled:t,iconUrl:d="",widget:r,publishedWidget:a,keyboardNavigationButtonRef:o}){let u=l.useMemo(()=>e?[F.op.PRICE]:[F.op.PURCHASED,F.op.OFF_PLATFORM,F.op.FREEMIUM,F.op.PRICE],[e]),c=(0,s.d4)(e=>e.authedActiveCommunityProfile);return(0,n.jsxs)("div",{className:e?eI.Zv:eI.Cq,onClick:i,role:"button",tabIndex:0,children:[t?(0,n.jsx)(ei.z,{src:d,context:Z._Y.DESIGN}):(0,n.jsx)(et._,{widget:r,src:d,analytics:{triggeredFrom:"universal-insert"},keyboardNavigationButtonRef:o,context:Z._Y.DESIGN}),(0,n.jsx)("div",{className:eI.VJ,children:(0,F.$3)({resource:a,authedActiveCommunityProfile:c,validBadges:u,size:e?"md":"lg"})})]})}let eW=l.memo(function(e){let i=e.localWidget??e.widget??Y.lT,{viewWidgetDetails:t,keyboardNavigationPath:l,shouldFocusFirstItem:s}=ew(),{setKeyboardNavigationElement:d,isFauxFocused:r,keyboardNavigationButtonRef:a}=ef(`widget_${i.name}`,l,!!s),u=(0,L.ZT)()[e.widgetId],c=(0,W.EO)(u),p=(0,W.gn)(u),v=u?(0,Y.uF)(u):null,x=i.name;v?.name&&v?.name!==""&&(x=v?.name);let j=(0,H.sZ)(),h=(0,L.U6)(),w=!e.localWidget&&(0,z.BF)({org:j,extensionVersion:v??e.widget,isWidget:!0,allowlistedExtensions:h}),_=!!(c||w),y=(0,S.j6)(),f=_?void 0:e=>e.stopPropagation(),R=e.metadataOverrideNode??(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:eI.QF,children:[(0,n.jsx)("div",{className:eI.JW,children:(0,n.jsxs)(C.Y,{spacing:4,verticalAlignItems:"center",children:[(0,n.jsx)("div",{className:m()(eI.Y2,{[b.s.colorTextDisabled.$]:e.visuallyDisabled}),children:x}),e.inReview&&(0,n.jsx)(N.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,e.publishingStatusIcon&&(0,n.jsx)("div",{className:eI.TW,children:(0,n.jsx)(e.publishingStatusIcon,{})}),p&&(0,n.jsx)("div",{className:eI.Y9,children:(0,n.jsx)(er.xY,{})})]})}),(0,n.jsx)("div",{className:eI.ML,children:e.subheader})]}),e.primaryCTAButton&&(0,n.jsx)("div",{style:T.sx.add({alignSelf:"center"}).$,children:e.primaryCTAButton}),e.onOptionsClick&&(0,n.jsx)(o.K,{"aria-label":(0,I.t)("universal_insert.more_options"),htmlAttributes:{"data-tooltip-type":X.Ib.TEXT,"data-tooltip":(0,I.t)("universal_insert.more_options")},onClick:e.onOptionsClick,children:(0,n.jsx)(g.J,{})})]});return(0,n.jsxs)("div",{className:m()(e.useHorizontalLayout?eI.Gy:eI.BG,r?eI.c6:void 0),onClick:i=>{(0,U.Cu)({trackingContext:y.name,widgetId:e.widgetId}),_?t():e.onClick?e.onClick(i):t()},role:"button",tabIndex:0,ref:l?d:void 0,"data-testid":"widget-tile",children:[(0,n.jsxs)("div",{className:eI.ot,children:[e.isNotification&&(0,n.jsx)("div",{className:eI.Vx}),e.showEditorTypeIcon?(0,n.jsxs)(el.li.IconAndBadgeContainer,{children:[(0,n.jsx)(eU,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:f,disabled:_,iconUrl:e.iconUrl,widget:i,publishedWidget:u,keyboardNavigationButtonRef:a}),(0,n.jsx)(el.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"widget",children:(0,n.jsx)(el.dn,{editorType:e.editorType,is16x16:!0})})]}):(0,n.jsx)(eU,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:f,disabled:_,iconUrl:e.iconUrl,widget:i,publishedWidget:u,keyboardNavigationButtonRef:a})]}),R]})});function ez(e){let i=(0,s.wA)(),t=l.useRef(null),d=(0,$.Um)(),r=(0,L.x)(),a=(0,V.m0)(),o=(0,M.dR)(e.pluginId,"universal-insert"),u=(0,M.Gt)(e.pluginId,"universal-insert"),c=(0,O.t)(e.pluginId,u,o),g=c.length>0,p=eH(e.pluginId,"community"),v=g&&d?.type===e.dropdownShownType&&d?.data.pluginId===e.pluginId,m=p||v,{validatePublishedPluginInOrgAllowlist:x}=(0,L.j1)(e.pluginId),j=(0,M.RK)(e.pluginId),h=l.useCallback(t=>{if(t.stopPropagation(),x()){if(g){m?i(D.oB()):(e.dropdownShownType&&i(D.j7({type:e.dropdownShownType,data:{pluginId:e.pluginId}})),i(e$({pluginId:e.pluginId,tileType:"community"})));return}j?u():o(),i(A.b({seen_published_plugin_onboarding_modal:!0})),i(A.b({seen_development_plugin_onboarding_modal:!0}))}},[x,g,j,i,m,e.dropdownShownType,e.pluginId,u,o]);if(a&&!r)return null;let w=t.current?.getBoundingClientRect(),y=e.usePrimaryButtonStyles?(0,n.jsxs)(_.$$,{onClick:h,className:eI.lI,children:[(0,I.tx)("universal_insert.run"),g&&(0,n.jsx)(f.B,{svg:ev.A,className:eI.sI})]}):(0,n.jsxs)("button",{className:eI.lO,onClick:h,ref:e.buttonRef,children:[(0,I.tx)("universal_insert.run"),g&&(0,n.jsx)(f.B,{svg:ev.A,className:eI.zZ})]});return(0,n.jsxs)("div",{className:e.usePrimaryButtonStyles?eI.od:void 0,"data-testid":"run-plugin-button",children:[(0,n.jsx)("div",{ref:t,children:y}),m&&w&&(0,n.jsx)(es.j,{showPoint:!1,items:c,onSelectItem:e=>{e.callback&&e.callback("",null,i)},parentRect:w,dispatch:i,lean:"left"})]})}let eG="DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU";function e$(e){return D.j7({type:eG,data:e})}function eH(e,i){let t=(0,$.Um)();return t?.type===eG&&t.data.pluginId===e&&i===t.data.tileType}function eZ(e){let i=(0,s.wA)(),t=(0,L.ZT)()[e.widgetId],d=(0,L.WK)(e.widgetId),r=(0,L.Ud)(e.widgetId),a=x.eD&&!!r&&!d,o=!!d||a,u=(0,$.Um)(),c=u?.type===ec.cH&&u.data.widgetId===e.widgetId,g=l.useRef(null),v=l.useCallback(t=>{if(o){if(t.preventDefault(),t.stopPropagation(),c)i(D.oB());else{let n=t.currentTarget.getBoundingClientRect();i(D.j7({type:ec.cH,data:{targetRect:n,widgetId:e.widgetId}}))}}},[i,e.widgetId,c,o]),m=l.useCallback(()=>{let e=(0,Y.uF)(t);(0,G.j)({pluginID:e.plugin_id,widgetName:e.name,pluginVersionID:e.id,triggeredFrom:"universal-insert"})},[t]),j=l.useCallback(e=>{o?v(e):p.l7.user("insert-published-widget",()=>{m()})},[m,v,o]);if(!t)return null;let h=(0,n.jsxs)(_.$$,{onClick:j,className:eI.lI,children:[(0,I.tx)("universal_insert.add"),o&&(0,n.jsx)(f.B,{svg:ev.A,className:eI.sI})]}),w=g.current?.getBoundingClientRect();return(0,n.jsxs)("div",{className:eI.od,children:[(0,n.jsx)("div",{ref:g,children:h}),c&&w&&(0,n.jsx)(eg.NR,{targetRect:w,widgetId:e.widgetId})]})}function eY(e){let i=(0,W.lt)(e.plugin);return e.plugin.monetized_resource_metadata?(0,n.jsxs)("div",{className:eI.y2,children:[(0,n.jsx)("div",{className:eI.lO,children:(0,B.bV)(e.plugin.monetized_resource_metadata)}),!e.hideFreeTrialBadge&&(0,B.Lt)({resource:e.plugin,payment:i})&&(0,n.jsx)(k.w5,{metadata:e.plugin.monetized_resource_metadata,condensed:!0})]}):null}}}]);

//# debugId=8b5cc788-1236-5822-955d-1419fc4b5715

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/77a38f1ddaadd4bf33856b453b1d958cce49273d/1247-488244f98f9d61d5.min.js.map