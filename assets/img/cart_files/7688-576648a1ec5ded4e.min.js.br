"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="18266557-ff9d-59fe-924b-a6c15228b8e5")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[7688],{791435:(e,t,i)=>{i.d(t,{HE:()=>l,QI:()=>o,RR:()=>n,Rj:()=>r,Y1:()=>c,_s:()=>d,b_:()=>a,jJ:()=>s});let r="redirect_modal_styles--redirectModalContent--orxfH",n="redirect_modal_styles--modalTitleText--iyb50 text--fontPos20--WslT3 text--_fontBase--VaHfk",s="redirect_modal_styles--modalBodyText--yxwVQ text--fontPos13--5OfL8 text--_fontBase--VaHfk",o="redirect_modal_styles--domainText--S4MW2",a="redirect_modal_styles--modalContinueButton--LPUpW",d="redirect_modal_styles--modalContinueText--MSUw8 text--fontNeg13--NfHlH text--_fontBase--VaHfk text--_negText--7Cnf0",l="redirect_modal_styles--modalGoBackButton--TxPND",c="redirect_modal_styles--modalGoBackText--WPd-T text--fontNeg13--NfHlH text--_fontBase--VaHfk text--_negText--7Cnf0"},330096:(e,t,i)=>{i.d(t,{CA:()=>a,Dh:()=>l,Dr:()=>c,K1:()=>u,Yr:()=>_,Z3:()=>o,_3:()=>n,d1:()=>m,dD:()=>g,iM:()=>y,pz:()=>p,qN:()=>r,t:()=>s,y7:()=>d});let r="plugin_try_switch_editor_dropdown--pointingDropdown--LBp2W",n="plugin_try_switch_editor_dropdown--subMenu--fByd-",s="plugin_try_switch_editor_dropdown--editorOption--MVH97 text--fontPos13--5OfL8 text--_fontBase--VaHfk",o="plugin_try_switch_editor_dropdown--editorOptionRow--KrysI",a="plugin_try_switch_editor_dropdown--editorOptionRowText--YSVQQ ellipsis--ellipsis--70pHK",d="plugin_try_switch_editor_dropdown--editorOptionRowIcon--M0cA5",l="plugin_try_switch_editor_dropdown--dropdownHeader--j7zGp text--fontPos13--5OfL8 text--_fontBase--VaHfk",c="plugin_try_switch_editor_dropdown--recentFiles--QvCKg",u="plugin_try_switch_editor_dropdown--newFileBadge--Arm4d",_="plugin_try_switch_editor_dropdown--rightCaret--qwaco",p="plugin_try_switch_editor_dropdown--newFileButton--Jv5rQ",g="plugin_try_switch_editor_dropdown--editorTypeBadge--orGcn",y="plugin_try_switch_editor_dropdown--shimmer--jIajj file_load--shimmer--Ldia4",m="plugin_try_switch_editor_dropdown--shimmerContainer--7PcOl"},864538:(e,t,i)=>{i.d(t,{L:()=>m,I:()=>f});var r=i(239976),n=i(746255),s=i(218773),o=i(448423),a=i(311221),d=i(71224),l=i(338630),c=i(353338),u=i(711292),_=i(11353);let p="resource_page_header--resourceHeaderAvatar--MQ4Kq",g="resource_page_header--resourceHeaderAvatarWrapper--W7Z0D",y="resource_page_header--resourceHeaderFigmaPartnerBadge--DO2Zr";function m({publishers:e,size:t=32,showFigmaPartnerBadge:i,openInNewTab:s=!1}){let m=(0,_.AG)(),f=(0,a.Om)()??void 0,h=(0,a.tv)()??void 0,w=m?2:3;return e.length<5?(0,r.jsx)(r.Fragment,{children:e.map((e,n)=>{let a=(0,o.RE)(e.profile_handle,m,f,h);return(0,r.jsxs)("div",{className:g,"data-testid":"resource-header-avatar-"+n,children:[(0,r.jsx)(l.o3,{to:a.to,trackingEventName:"resource_creator_click",trackingProperties:{profileId:e.id,target:"avatar"},target:s?"_blank":"_self",children:(0,r.jsx)(c.e,{entity:e,size:t,style:{zIndex:w-n},adtlClassName:p})},e.id),i&&(0,r.jsx)("div",{className:y,style:{zIndex:w-n},children:(0,u.C2)(e,!0)})]},e.id)})}):(0,r.jsxs)(r.Fragment,{children:[e.slice(0,3).map((e,t)=>{let s=(0,o.RE)(e.profile_handle,m,f,h);return(0,r.jsxs)("div",{className:g,"data-testid":"resource-header-avatar-"+t,children:[(0,r.jsx)(n.N_,{to:s.to,onClick:e=>e.stopPropagation(),children:(0,r.jsx)(c.e,{entity:e,style:{zIndex:3-t},adtlClassName:p})},e.id),i&&(0,r.jsx)("div",{className:y,style:{zIndex:3-t},children:(0,u.C2)(e,!0)})]},e.id)}),(0,r.jsx)("div",{className:"resource_page_header--resourceHeaderAvatarWrapperExtraProfiles--SPksG resource_page_header--resourceHeaderAvatarWrapper--W7Z0D",children:(0,r.jsx)(d.e,{type:"Letter",size:"Large",letter:(e.length-3).toString()})})]})}function f({publishers:e,useSmallWidth:t=!1,removeByLabel:i=!1,openInNewTab:n=!1}){return(0,r.jsx)("span",{className:e.length>2?"resource_page_header--author--JwyKq":"resource_page_header--authorHiddenOverflow--gJwra",children:(0,s.kc)(e,t,i,n)})}},475464:(e,t,i)=>{i.d(t,{cx:()=>ei,lx:()=>en,JA:()=>er,aI:()=>es,s0:()=>eo});var r=i(295870),n=i(379141),s=i(522568),o=i(987425),a=i(29161),d=i(129416),l=i(431757),c=i(888903),u=i(287736),_=i(239976),p=i(20002),g=i(245814),y=i(655793),m=i(517478),f=i(943360),h=i(536378),w=i(338630),I=i(795867),x=i(747079),T=i(791435);let v=(0,x.Ju)(function(e){let t=(0,p.wA)(),i=()=>{t(h.AS())},r=g.hS({...e,onClose:i});return(0,_.jsx)(w.fu,{name:I.e0.COMMUNITY_REDIRECT_THIRD_PARTY_PLUGIN_MODAL,children:(0,_.jsx)(y.bL,{manager:r,width:440,children:(0,_.jsx)(m.vo,{children:(0,_.jsx)(m.nB,{children:(0,_.jsxs)("div",{className:T.Rj,children:[(0,_.jsx)("div",{className:T.RR,children:(0,n.tx)("community.detail_view.this_plugin_requires_third_party_payment_if_you_decide_to_upgrade")}),(0,_.jsx)("div",{className:T.jJ,children:(0,n.tx)("community.detail_view.you_ll_need_to_work_directly_with_this_provider_to_handle_any_issues_or_refunds")}),(0,_.jsx)(f.E,{onClick:e.onContinue,className:T.b_,children:(0,_.jsx)("span",{className:T._s,children:(0,n.tx)("community.detail_view.continue")})}),(0,_.jsx)(f.E,{className:T.HE,onClick:i,children:(0,_.jsx)("span",{className:T.Y1,children:(0,n.tx)("community.detail_view.go_back")})})]})})})})})});var N=i(846413),P=i(37380),b=i(970462),E=i(152599),S=i(805235),k=i(911900),D=i(650162),C=i(332195),F=i(796617),j=i(755223),W=i(832374),A=i(425519),O=i(981030),R=i(591600),H=i(362844),B=i(15039),M=i(702746),L=i(948188),G=i(385911),z=i(717096),U=i(312884),V=i(732838),Y=i(141288),K=i(337812);async function q(e){let t={org_id:e.orgId,user_id:e.userId,team_id:e.teamId};try{let i=await K.Ay.post(`/api/${e.isWidget?"widgets":"plugins"}/${e.pluginId}/${e.pluginVersionId}/copy_playground_file`,t);return i?.data.meta.url}catch(e){return null}}async function J(e,t,i,r){let n,s=e.fileKey?`/file/${e.fileKey}`:"/file/new";e.isPlaygroundFile&&(s=(n=await q({pluginVersionId:e.tryPluginVersionId,pluginId:e.tryPluginId,isWidget:!!e.isWidget,orgId:t,teamId:i,userId:r}))||s);let o={"try-plugin-id":e.tryPluginId,"try-plugin-version-id":e.tryPluginVersionId,"try-plugin-name":e.tryPluginName,"is-widget":e.isWidget?"1":"0","is-playground-file":e.isPlaygroundFile&&n?"1":"0"};switch(e.fileKey&&(o["try-plugin-file-key"]=e.fileKey),e.fullscreenEditorType){case H.nT.Design:o.mode="design",o.type="design";break;case H.nT.DevHandoff:o.mode="dev",o.type="design";break;case H.nT.Whiteboard:o.type="whiteboard";break;case H.nT.Slides:o.type="slides";break;case H.nT.Cooper:o.type="cooper"}e.fuid&&(o.fuid=e.fuid),e.tryPluginEditorType&&(o["try-plugin-editor-type"]=e.tryPluginEditorType),V.eD&&(o["time-opened"]=Date.now().toString());let d=(0,U.dR)(s,o);Y.Ay.redirect(d,a.Xb?void 0:"_blank")}var Z=i(152891),Q=i(960446);let X=()=>async e=>{let t="org-admin-team-creation";e(c.F.enqueue({message:(0,n.t)("resources_tab.create_team_modal.team_creation_loading"),type:t,icon:u.zX.SPINNER}));try{let i=(await L.G.createStarterTeam()).data.meta;return e(c.F.dequeue({matchType:t})),e(h.Lo()),i}catch(i){return e(c.F.dequeue({matchType:t})),e(h.Lo()),e(c.F.enqueue({message:(0,n.t)("general.an_error_occurred"),error:!0})),Promise.reject()}},$=(0,x.Ju)(z.yX),ee=(e,t,i)=>r=>{r(h.to({type:$,data:{confirmationTitle:(0,n.t)("resources_tab.create_team_modal.modal_title",{extensionName:e}),content:(0,n.t)("resources_tab.create_team_modal.content",{orgName:t}),confirmText:(0,n.t)("general.continue"),onConfirm:()=>{r(X()).then(i)},hideCancel:!0}}))},et=(0,E.nF)(async(e,t)=>{let{workspaces:i,plans:r}=t,n=e.getState(),{authedUsers:s,orgById:o}=n,a=i.map(e=>({...e,workspaceName:(0,F.HE)(n,e),user:s.byId[e.userId]})),d=await Promise.all(a.map(async e=>{let i=e.orgId&&o[e.orgId],s=!0,a=!0;if(i&&(s=await (0,D.hb)(t.resource,i),a=(0,D.VT)(t.resource,i)),(0,A.Rt)(t.resource)&&!(0,W.canMemberOrg)(e.orgId,n,e.userId))return;let d=(0,b.y)(e,(0,H.wN)(t.editorType),n,r);if(d)return d.publicPluginsOrWidgetDisabled=!s,d.extensionRequestsAllowed=a,d})),l=[];if(d.forEach(e=>{void 0!==e&&l.push(e)}),l.length<=1){let e=l.length?l[0]:void 0;t.onSelectWorkspace(e);return}e.dispatch(h.to({type:N._,data:{payload:{extension:t.resource,workspaces:l,onSelectWorkspace:t.onSelectWorkspace,mode:"new_file"}}}))}),ei=(0,E.nF)((e,t)=>{if(a.Ay.isMobileBrowser){window.location.href="/login";return}let i=t.isWidget?(0,n.t)("community.logged_out.sign_up_modal_widget_header"):(0,n.t)("community.logged_out.sign_up_modal_plugin_header");e.dispatch(l.Ts({origin:"plugin_try_signed_out"})),e.dispatch(h.to({type:G.l,data:{headerText:i,icon:t.isWidget?Q.A:Z.A,dispatch:e.dispatch,redirectPath:t.redirectPath}}))});(0,E.nF)((e,t)=>{let i=e.getState().user,r=t.extension,n="isWidget"in r?!!r.isWidget:!!r.is_widget,s="currentPluginVersion"in r?r.currentPluginVersion:(0,A.Ar)(r);if(!s||!i)return;let o="hasPlaygroundFile"in s?s.hasPlaygroundFile:s.playground_file_version_id,a=t.fullscreenEditorType===H.nT.DevHandoff,d={fullscreenEditorType:t.fullscreenEditorType,tryPluginId:r.id,tryPluginVersionId:s.id,tryPluginName:s.name??"",isWidget:n,isPlaygroundFile:!!(o||a),fuid:i.id,tryPluginParams:void 0};(0,O.Y9)(i.id,!1,null),J(d,null,null,i.id),(()=>{let o={storeInRecentsKey:(0,k.B)(t.fullscreenEditorType),id:r.id,version:s.id,currentUserId:i.id};n?e.dispatch(S.RH(o)):e.dispatch(S.gU(o))})()});let er=(0,E.nF)((e,t)=>{let i=e.getState(),r=i.user,n=t.extension,s="isWidget"in n?!!n.isWidget:!!n.is_widget,a="currentPluginVersion"in n?n.currentPluginVersion:(0,A.Ar)(n);if(!a||!r)return;let d=()=>{let i={storeInRecentsKey:(0,k.B)(t.fullscreenEditorType),id:n.id,version:a.id,currentUserId:r.id};s?e.dispatch(S.RH(i)):e.dispatch(S.gU(i))},l="hasPlaygroundFile"in a?a.hasPlaygroundFile:a.playground_file_version_id,c=t.fullscreenEditorType===H.nT.DevHandoff,u={fullscreenEditorType:t.fullscreenEditorType,tryPluginId:n.id,tryPluginVersionId:a.id,tryPluginName:a.name??"",isWidget:s,isPlaygroundFile:!!(l||c),fuid:r.id,tryPluginParams:void 0},_=i.plans.filter(e=>e.plan_type===B.O.TEAM).map(e=>{let t=(0,o.O)(e,r.id);return{...t,workspaceName:(0,F.HE)(i,t),user:r}});if(0===_.length){e.dispatch(ee(a.name,i.orgById[i.currentUserOrgId].name,e=>{(0,O.Y9)(r.id,!1,null,void 0,e.id),J(u,null,e.id,r.id),d()}));return}1===_.length?((0,O.Y9)(r.id,!1,null,void 0,_[0].teamId??null),J(u,null,_[0].teamId??null,r.id),d()):e.dispatch(h.to({type:N._,data:{payload:{workspaces:_,onSelectWorkspace:e=>{(0,O.Y9)(r.id,!1,null,void 0,e?.teamId??null),J(u,null,e?.teamId??null,r.id),d()},mode:"new_file"}}}))}),en=(0,E.nF)((e,t)=>{let i=e.getState(),r=i.user,n=t.extension,s="isWidget"in n?!!n.isWidget:!!n.is_widget,o="currentPluginVersion"in n?n.currentPluginVersion:(0,A.Ar)(n);if(!o||!r)return;let a="hasPlaygroundFile"in o?o.hasPlaygroundFile:o.playground_file_version_id,d=t.fullscreenEditorType===H.nT.DevHandoff,l={fullscreenEditorType:t.fullscreenEditorType,tryPluginId:n.id,tryPluginVersionId:o.id,tryPluginName:o.name??"",isWidget:s,isPlaygroundFile:!!(a||d),fuid:r.id,tryPluginParams:void 0},c=i.plans.find(e=>e.plan_type===B.O.ORG&&e.plan_id===i.currentUserOrgId);(0,O.Y9)(r.id,!1,c.plan_id,void 0,null),J(l,c.plan_id,null,r.id),(()=>{let i={storeInRecentsKey:(0,k.B)(t.fullscreenEditorType),id:n.id,version:o.id,currentUserId:r.id};s?e.dispatch(S.RH(i)):e.dispatch(S.gU(i))})()}),es=(0,E.nF)(async(e,t)=>{let i=e.getState(),{user:o}=i,a=(0,P.wr)(i),l=(0,P.Ux)(i),u=(0,R.xQ)(t.resource),_=(0,A.uF)(t.resource);if(!o){e.dispatch(ei({isWidget:u}));return}let p=()=>{let i={storeInRecentsKey:(0,k.B)(t.fullscreenEditorType),id:t.resource.id,version:_.id,currentUserId:o.id};u?e.dispatch(S.RH(i)):e.dispatch(S.gU(i))},g=[],y=null;try{y=await e.dispatch((0,C.nm)(!0)),g=(0,j.F)(i,t.resource,y)}catch(i){let t=i?.data?.message||(0,n.t)("file_browser.error_try_again");e.dispatch(c.F.enqueue({message:t,type:"error"}))}let m=!t.orgId&&g.length>1&&!t.fileKey,f={fullscreenEditorType:t.fullscreenEditorType,tryPluginId:t.resource.id,tryPluginVersionId:_.id,tryPluginName:_.name,tryPluginEditorType:_.manifest.editorType?.[0]??M.FW.FIGMA,isWidget:u,isPlaygroundFile:!!t.isPlaygroundFile,tryPluginParams:void 0,fileKey:t.fileKey};if((0,s.sx)("CTA Clicked",{name:"Try it out",pluginId:t.resource.id,isWidget:u,editorType:t.fullscreenEditorType,isMonetized:(0,R.m3)(t.resource),fileKey:t.fileKey,search_session_id:a,query_id:l}),m)(0,s.sx)("try_it_out_drafts_picker_menu_opened",{pluginId:t.resource.id,isWidget:u,searchSessionId:a}),e.dispatch(et({plans:y,workspaces:g,resource:t.resource,editorType:(0,H.oD)(t.fullscreenEditorType),onSelectWorkspace:e=>{e?(f.fuid=e.userId,(0,O.Y9)(e.userId,!1,e.orgId,void 0,e.teamId??null),J(f,e.orgId,e.teamId??null,e.userId)):J(f,null,null,o.id),p()}}));else if(t.fileKey)f.fuid=t.userId??o.id,J(f,null,null,f.fuid);else if(t.orgId){f.fuid=t.userId??o.id;let r=i.orgById[t.orgId];if(r&&!await (0,D.hb)(t.resource,r)){e.dispatch(c.F.enqueue({message:(0,n.t)("community.resource.you_do_not_have_permissions_to_use_this_resource"),error:!0}));return}(0,O.Y9)(o.id,!1,t.orgId),J(f,t.orgId,null,o.id)}else if(1===g.length){let r=g[0];if(r.orgId&&!(0,D.VT)(t.resource,i.orgById[r.orgId])&&!await (0,D.hb)(t.resource,i.orgById[r.orgId])){e.dispatch(ee(_.name,(0,F.HE)(i,r),e=>{(0,O.Y9)(o.id,!1,null,void 0,e.id),J(f,null,e.id,o.id),p()}));return}(0,O.Y9)(r.userId,!1,r.orgId,void 0,r.teamId??null),J(f,r.orgId,r.teamId??null,r.userId)}else(0,d.$D)(r.e.COMMUNITY,Error("No workspaces found")),e.dispatch(c.F.enqueue({message:(0,n.t)("file_browser.error_try_again"),error:!0}))});function eo(e,t){e(h.to({type:v,data:{onContinue:t}}))}},346874:(e,t,i)=>{i.d(t,{UK:()=>M,WW:()=>z,to:()=>O});var r=i(239976),n=i(105652),s=i(20002),o=i(836848),a=i(865702),d=i(379141),l=i(270450),c=i(522568),u=i(309742),_=i(980438),p=i(259714),g=i(11353),y=i(37380),m=i(448423),f=i(475464),h=i(450207),w=i(536378),I=i(964731),x=i(963245),T=i(920675),v=i(790016),N=i(425519),P=i(591600),b=i(362844),E=i(702746),S=i(238023),k=i(469543),D=i(617654),C=i(375065),F=i(152013),j=i(330096),W=i(99252),A=i(25206);function O(e,t,i,r){(0,c.sx)("extension_opened_from_community",{extension_id:e,file_type:t,editor_type:i,searchSessionId:r})}function R(e,t,i,r,n){i((0,N.Rt)(e)&&r?f.lx({extension:e,fullscreenEditorType:t}):f.aI({resource:e,fullscreenEditorType:t,isPlaygroundFile:n}))}function H(e){return(0,r.jsxs)("button",{type:"button",className:j.t,onClick:e.onClick,onTouchEnd:t=>{t.preventDefault(),e.onClick&&e.onClick(t)},children:[(0,r.jsxs)("div",{className:j.Z3,children:[(0,r.jsx)("div",{className:j.y7,children:e.icon}),(0,r.jsx)("div",{className:j.CA,children:e.text})]}),e.rightIcon]})}function B(e){return(0,r.jsx)(H,{onClick:e.onClick,icon:(0,r.jsx)("div",{className:j.dD,children:(0,r.jsx)(_.w4,{size:16,type:e.fileIconType})}),text:e.fileDisplayText})}function M(e){let t;let i=(0,r.jsx)(F.dn,{editorType:[e.editorType]});if(e.fileName)t=e.fileName;else if(e.playgroundFile)t=(0,d.t)("community.using.playground_file");else switch(e.editorType){case E.FW.FIGMA:t=(0,d.t)("community.duplicate.open_in_figma");break;case E.FW.FIGJAM:t=(0,d.t)("community.duplicate.open_in_figjam");break;case E.FW.DEV:case E.FW.INSPECT:t=(0,d.t)("community.detail_view.plugin_open_devmode");break;case E.FW.SLIDES:t=(0,d.t)("community.detail_view.plugin_open_slides");break;case E.FW.BUZZ:t=(0,d.t)("community.detail_view.plugin_open_buzz");case E.FW.SITES:}return(0,r.jsx)("button",{type:"button",className:j.t,onClick:e.onClick,"data-testid":e.dataTestId,children:(0,r.jsxs)("div",{className:j.Z3,children:[(0,r.jsx)("div",{className:j.dD,children:i}),(0,r.jsx)("div",{className:j.CA,children:t})]})})}function L(e){let t=(0,s.wA)(),{files:i,resource:n,editorTypes:a}=e,c=(0,y.Jm)(),u=e=>{if(!e.org_id)return;let i=(0,m.qD)(n),r={extension:{pluginId:i.plugin_id,iconUrl:i.redirect_icon_url,name:i.name},isWidget:n.is_widget,orgId:e.org_id,workspaceDetails:{workspaceId:e.workspace_id,workspaceName:e.workspace_name,fileKey:e.key,fileName:e.name},openedFrom:"community",fullscreenEditorType:null};t((0,w.to)({type:C.S,data:r}))},p=e=>{O(n.id,"existing_file",(0,b.wN)(e.editor_type),c),t(f.aI({resource:n,fullscreenEditorType:e.editor_type===T._Y.DESIGN&&(0,E.Pe)(a)?b.nT.DevHandoff:(0,b.wN)(e.editor_type),fileKey:e.key,userId:e.user_id}))};return i?.length===0?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:j.Dh,children:(0,d.tx)("community.detail_view.recent_files")}),(0,r.jsx)("div",{className:j.Dr,children:i?i.map(e=>(0,r.jsx)(B,{fileIconType:function(e){switch(e.editor_type){case T._Y.DESIGN:return e.last_published_at?_.y1.PUBLISHED:_.y1.DESIGN;case T._Y.WHITEBOARD:return _.y1.WHITEBOARD;case T._Y.SLIDES:return _.y1.SLIDES;case T._Y.SITES:case T._Y.COOPER:return(0,l.kc)().buzz_plugins_publishing?_.y1.COOPER:_.y1.DESIGN;case T._Y.FIGMAKE:return _.y1.DESIGN;default:(0,o.xb)(e.editor_type)}}(e),fileDisplayText:e.name,onClick:()=>{t(h.oB()),e.can_run?(0,P.zF)(n)?f.s0(t,()=>p(e)):p(e):e.requests_allowed&&u(e)}},e.key)):(0,r.jsx)("div",{className:j.d1,children:[...Array(6)].map((e,t)=>(0,r.jsx)("div",{className:j.iM},t))})})]})}function G({hasSecondaryDropdown:e,text:t,primaryFullscreenEditorType:i,resource:n}){let o=(0,s.wA)(),a=(0,N.uF)(n),d=(0,y.Jm)(),l=(0,g.AG)();return(0,r.jsx)(H,{onClick:()=>{if(!e){let e=!!(a.playground_file_version_id||i===b.nT.DevHandoff);O(n.id,e?"playground":"new_file",i,d),o(h.oB());let t=()=>{R(n,i,o,l,e)};(0,P.zF)(n)?f.s0(o,t):t()}},icon:(0,r.jsx)(p.B,{svg:A.A,className:j.K1}),text:t,rightIcon:e?(0,r.jsx)(p.B,{svg:W.A,className:j.Yr}):void 0})}function z(e,t,i){let p=(0,s.wA)(),m=(0,I.Um)(),f=m?.type===U&&m.data.resourceId===e.id&&m.data.viewContext===i,w=(0,g.AG)(),P=n.memo(function({primaryFullscreenEditorType:i,recentFiles:s}){let g=(0,v.T5)("usePluginTrySwitchEditorDropdown").unwrapOr(null),I=g?.figjamDisabledAt??null,P=g?.type===T.OL.ORG?g?.key.parentId:void 0,C=(0,y.Jm)(),F=(e,t,i)=>e.filter(e=>(!(0,N.Rt)(t)||e.org_id===i)&&(e.can_run||e.requests_allowed)).slice(0,6),[W,A]=n.useState(()=>{if(s)return F(s,e,P)});(0,u.h)(()=>{void 0===W&&async function(){let t=await S.C.getRecentFiles({extensionId:e.id,isWidget:!!e.is_widget});(0,c.sx)("recent_files_for_plugins_loaded",{response_count:t.data.meta.length,extension_id:e.id,searchSessionId:C}),A(F(t.data.meta,e,P))}()});let H=(0,N.uF)(e),M=H.manifest.editorType?.sort()??[],z=!!H.playground_file_version_id||i===b.nT.DevHandoff,U=e=>{switch(e){case E.FW.FIGMA:case E.FW.DEV:case E.FW.INSPECT:return i===b.nT.DevHandoff?b.nT.DevHandoff:b.nT.Design;case E.FW.FIGJAM:return I?null:b.nT.Whiteboard;case E.FW.SLIDES:return b.nT.Slides;case E.FW.SITES:return null;case E.FW.BUZZ:return(0,l.kc)().buzz_plugins_publishing?b.nT.Cooper:null;default:(0,o.xb)(e)}},V=e=>{switch(e){case E.FW.FIGMA:case E.FW.DEV:case E.FW.INSPECT:return(0,d.t)("community.using.figma_file");case E.FW.FIGJAM:return(0,d.t)("community.using.figjam_board");case E.FW.SLIDES:return(0,d.t)("community.using.slides");case E.FW.SITES:return(0,d.t)("community.using.figma_file");case E.FW.BUZZ:return(0,d.t)("community.using.buzz");default:(0,o.xb)(e)}},Y=new Map;for(let e of M){let t=U(e);null==t||Y.has(t)||Y.set(t,{fileIconType:function(e){switch(e){case b.nT.Design:return _.y1.DESIGN;case b.nT.Whiteboard:return _.y1.WHITEBOARD;case b.nT.DevHandoff:return _.y1.DESIGN;case b.nT.Slides:return _.y1.SLIDES;case b.nT.Cooper:return(0,l.kc)().buzz_plugins_publishing?_.y1.COOPER:_.y1.DESIGN;case b.nT.Sites:case b.nT.Figmake:case b.nT.Illustration:return _.y1.DESIGN;default:(0,o.xb)(e)}}(t),fileDisplayText:V(e)})}let K=Y.size,q=[];Y.forEach(({fileIconType:t,fileDisplayText:i},n)=>{q.push({displayText:(0,d.t)("community.using.new_file"),preventDismissOnSelected:!0,render:()=>(0,r.jsx)(B,{fileIconType:t,fileDisplayText:i,onClick:()=>{O(e.id,"new_file",n,C),p(h.oB()),R(e,n,p,w,!1)}})})});let J={displayText:(0,d.t)("community.using.new_file"),className:j.pz,preventDismissOnSelected:!0,autoHeightSubmenu:!0,render:()=>(0,r.jsx)(G,{hasSecondaryDropdown:q.length>1,text:(0,d.t)("community.using.new_file"),primaryFullscreenEditorType:i,resource:e}),children:q.length>1?q:void 0},Z={displayText:(0,d.t)("community.using.playground_file"),className:j.pz,preventDismissOnSelected:!0,render:()=>(0,r.jsx)(G,{hasSecondaryDropdown:!1,text:(0,d.t)("community.using.playground_file"),primaryFullscreenEditorType:i,resource:e})};(0,x.U3)("resize",()=>{f&&p(h.oB())});let Q=(()=>{let t=[];if(void 0===W||W.length>0)t.push({displayText:"recentFiles",preventDismissOnSelected:!0,render:()=>(0,r.jsx)(L,{files:W,resource:e,editorTypes:M})});else if(!z&&K>1)return q;return z?t.push(Z):t.push(J),t})();return(0,r.jsx)(k.j,{autoHeight:!0,className:j.qN,dispatch:p,hidePointWhenContentOffScreen:!0,items:Q,lean:t,minWidth:280,onSelectItem:a.lQ,parentRect:m?.data.targetRect,rootAndSubmenuMaxWidth:280,showPoint:!1,subMenuClassName:j._3,type:D.it.MATCH_BACKGROUND})});return{dropdownIsShown:f,toggleSwitchEditorDropdown:(t,r)=>{let n=t.current?.getBoundingClientRect();n&&((void 0!==r?r:!f)?p(h.j7({type:U,data:{resourceId:e.id,viewContext:i,targetRect:n}})):p(h.oB()))},PluginTrySwitchEditorDropdown:P}}let U="PLUGIN_TRY_SWITCH_EDITOR_DROPDOWN"},616255:(e,t,i)=>{i.d(t,{nT:()=>c,Rx:()=>_,q9:()=>p,IY:()=>u});var r=i(239976),n=i(20002),s=i(942356),o=i(379141),a=i(450207),d=i(951633),l=i(624631);let c="ACCOUNT_SWITCHING_ADD_ACCOUNT_ONBOARDING_KEY";function u(e){let t=e=>{e.stopPropagation()};return(0,r.jsxs)("span",{className:"account_switching_onboarding--footerContainer--JPYtB",children:[(0,r.jsx)("span",{className:"account_switching_onboarding--steps--5A8bR",children:(0,o.tx)("rcs.account_switching.step_counter",{step:e.step,totalSteps:e.totalSteps})}),(0,r.jsx)(s.$n,{variant:"secondary",onClick:i=>{t(i),e.onClick()},htmlAttributes:{onMouseDown:t},children:e.step===e.totalSteps?(0,o.tx)("rcs.account_switching.done"):(0,o.tx)("rcs.account_switching.next")})]})}function _(e){let t=(0,n.wA)();return(0,r.jsxs)(d.NJ,{dismissModal:e.dismissModal,width:247,targetKey:c,alignPointerToLeft:!0,className:"account_switching_onboarding--accountSwitchingAddAccountViewPointerModal--jeeLL pointer_modal--pointerModalBlue--8BCUs pointer_modal--pointerModal--VrJy4",children:[(0,o.tx)("rcs.account_switching.this_is_where_you_access_account_settings_add_or_remove_accounts_and_see_your_figma_profiles"),(0,r.jsx)(u,{step:e.step,onClick:()=>{t(a.oB()),e.onClickPrimaryCta()},totalSteps:e.totalSteps})]})}function p(e){return(0,r.jsxs)(d.NJ,{dismissModal:e.dismissModal,width:208,targetKey:l.Ro,alignPointerToLeft:!0,children:[(0,o.tx)("rcs.account_switching.notifications_for_your_workspace_live_here"),(0,r.jsx)(u,{step:e.step,onClick:e.onClickPrimaryCta,totalSteps:e.totalSteps})]})}},879141:(e,t,i)=>{i.d(t,{ue:()=>N});var r=i(239976),n=i(105652),s=i(429921),o=i(379141),a=i(309742),d=i(393463),l=i(639184),c=i(859100),u=i(215496),_=i(289252),p=i(527205),g=i(816379),y=i(890305),m=i(213528),f=i(471500),h=i(271625),w=i(450255),I=i(822358);let x=(0,w.nh)(()=>u.N.SECONDARY_MODAL),T=(0,w.nh)(()=>m.d.isBrowserNotificationSupported()),v=(0,w.nh)(()=>m.d.isFirebaseInitialized());function N({registrationOrigin:e,fixedPositionProps:t}){let{complete:i,isShowing:u,show:w}=(0,c.e)({overlay:h.ueY,priority:x()});(0,a.h)(()=>{(async()=>{let e=await m.d.getPermissionPreference(),t=v()&&T()&&"prompt"===e.state;w({canShow:()=>t})})()}),n.useEffect(()=>{t?.setIsShowingOverlay?.(u)},[u,t]);let N=()=>{m.d.requestPushNotifications(e)},{calloutTitle:P,mediaPath:b,targetKey:E,arrowPosition:S}=function(e){let t,i,r,n;switch(e){case f.iX.NEW_COMMENT:t=(0,o.tx)("browser_notifications.onboarding_overlay.title.replies"),i=I.qH,r=I.UU,n=y.F_.BOTTOM;break;case f.iX.COMMENT_REPLY:t=(0,o.tx)("browser_notifications.onboarding_overlay.title.replies"),i=I.qH,r=I.ym,n=y.F_.RIGHT_TOP;break;default:t=(0,o.tx)("browser_notifications.onboarding_overlay.title.activity"),i=I.vH,r=I.fD,n=y.F_.RIGHT_TOP}return{calloutTitle:t,mediaPath:i,targetKey:r,arrowPosition:n}}(e),k={clickOutsideToHide:!0,description:(0,o.tx)("browser_notifications.onboarding_overlay.description"),disableHighlight:!0,isShowing:u,media:(0,r.jsx)(_.y,{alt:(0,o.t)("browser_notifications.onboarding_overlay.media.alt"),aspectRatio:I.mk,src:(0,d.ck)(b)}),onClose:i,primaryCta:{ctaTrackingDescriptor:l.c.NEXT,label:(0,o.tx)("browser_notifications.onboarding_overlay.primary_cta"),onClick:()=>{N(),i()},type:"button"},secondaryCta:{ctaTrackingDescriptor:l.c.CLOSE,label:(0,o.tx)("browser_notifications.onboarding_overlay.secondary_cta"),onClick:i,type:"button"},shouldHideArrow:!0,title:P,trackingContextName:"Browser Notifications Onboarding",width:I.V_,zIndex:g.R.MODAL};return(0,r.jsx)(s.o,{eventListeners:["onClick","onMouseDown"],children:t?.targetLocation?(0,r.jsx)(p.rq,{...k,fixedPosition:!0,location:t.targetLocation,innerRef:t.innerRef}):(0,r.jsx)(p.rq,{...k,arrowPosition:S,targetKey:E,zIndex:e===f.iX.NOTIFICATION_BELL?g.R.NOTIFICATION_MODAL:void 0})})}},670102:(e,t,i)=>{i.d(t,{g:()=>o});var r=i(270450),n=i(40297),s=i(526865);let o=(0,r.kc)().file_browser_sidebar_row_ui?(0,n.jz)(s.Hvv):(0,n.jz)(s.RQv)},711751:(e,t,i)=>{i.d(t,{S:()=>r.S});var r=i(165971)},165971:(e,t,i)=>{i.d(t,{S:()=>a,T:()=>d});let{open:r,close:n,useRegisterMenu:s}=(0,i(97452).K)(),o={open:r,close:n};function a(){return o}let d=s}}]);

//# debugId=18266557-ff9d-59fe-924b-a6c15228b8e5

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/db6f858d19cae8a5e6292b474baf535d4604fad1/7688-576648a1ec5ded4e.min.js.map