"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="aa4028af-f9c1-503a-a5b2-14611c430841")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[189],{727019:(e,t,n)=>{n.d(t,{$w:()=>l,D1:()=>o,Sl:()=>s,_0:()=>i,ft:()=>a,qT:()=>r});var l=(e=>(e.FocusedEditingMenu="focused_editing_inline_menu",e.FreeformEditingMenu="freeform_editing_inline_menu",e.FillSubmenu="fill_submenu",e.ImageCropSubmenu="image_crop_submenu",e.VideoVolumeControlSubmenu="video_volume_control_submenu",e.VideoTrimmingControlSubmenu="video_trimming_control_submenu",e.StrokeSubmenu="stroke_submenu",e.CornersSubmenu="corners_submenu",e.FontFamilySubmenu="font_family_submenu",e.TextAlignmentSubmenu="text_alignment_submenu",e.EffectsSubmenu="effects_submenu",e.AIActionSubmenu="ai_action_submenu",e.ActionOverflowSubmenu="action_overflow_submenu",e.AdjustImagePanel="adjust_image_panel",e.AdjustVideoPanel="adjust_video_panel",e.StrokeColorPickerPanel="stroke_color_picker_panel",e.FillColorPickerPanel="fill_color_picker_panel",e.ImageOverlayColorPickerPanel="image_overlay_color_picker_panel",e.TemplateVariantSwapPanel="template_variant_swap_panel",e.VariantSwapPanel="variant_swap_panel",e.InstanceSwapPanel="instance_swap_panel",e.PropsEditPanel="props_edit_panel",e.TemplateSetNudgeDesignModeMenu="template_set_nudge_design_mode_inline_menu",e.VariableModeSubmenu="variable_mode_submenu",e))(l||{}),i=(e=>(e.EditContent="edit_content",e.EditText="edit_text",e.RemoveEditingRestrictions="remove_editing_restrictions",e.TemplateTypeSelector="template_type_selector",e.MultiEditText="multi_edit_text",e.SelectMatching="select_matching",e.VariantSwapEntryPoint="variant_swap_entry_point",e.VariantTile="variant_tile",e.TemplateVariantTile="template_variant_tile",e.DetachInstance="detach_instance",e.VariableModeControl="variable_mode_control",e.FillControlEntryPoint="fill_control_entry_point",e.RotateGradient="rotate_gradient",e.FlipGradient="flip_gradient",e.StrokeControlEntryPoint="stroke_control_entry_point",e.StrokeWeightSlider="stroke_weight_slider",e.StrokeWeightInput="stroke_weight_input",e.StrokeDashPatternSelector="stroke_dash_pattern_selector",e.StrokePaintPicker="stroke_paint_picker",e.CustomColor="custom_color",e.ColorChit="color_chit",e.Gradient="gradient",e.LibraryColorPicker="library_color_picker",e.AdjustImageControl="adjust_image_control",e.UploadImage="upload_image",e.UploadMedia="upload_media",e.ImageCropEntryPoint="image_crop_entry_point",e.ImageCropSlider="image_crop_slider",e.ImageRotate="image_rotate",e.ImageFlipHorizontal="image_flip_horizontal",e.ImageFlipVertical="image_flip_vertical",e.VideoVolumeControl="video_volume_control",e.VideoTrimmingControl="video_trimming_control",e.AdjustVideoControl="adjust_video_control",e.VideoTrimmingPlayPause="video_trimming_play_pause",e.VideoTrimmingDurationInput="video_trimming_duration_input",e.VideoTrimmingApply="video_trimming_apply",e.VideoTrimmingCancel="video_trimming_cancel",e.CornersControlEntryPoint="corners_control_entry_point",e.CornersSlider="corners_slider",e.CornersInput="corners_input",e.FontFamilyControlEntryPoint="font_family_control_entry_point",e.FontPicker="font_picker",e.LibraryFontStyle="library_font_style",e.FontStyleSelector="font_style_selector",e.FontSizeInput="font_size_input",e.ToggleBold="toggle_bold",e.ToggleItalic="toggle_italic",e.ToggleUnderline="toggle_underline",e.TextAlignmentControlEntryPoint="text_alignment_control_entry_point",e.TextVerticalAlignmentSelector="text_vertical_alignment_selector",e.TextHorizontalAlignmentSelector="text_horizontal_alignment_selector",e.EffectsEntryPoint="effects_entry_point",e.OpacitySlider="opacity_slider",e.OpacityInput="opacity_input",e.ShadowSlider="shadow_slider",e.ShadowInput="shadow_input",e.BlurSlider="blur_slider",e.BlurInput="blur_input",e.OverlayOpacitySlider="overlay_opacity_slider",e.OverlayOpacityInput="overlay_opacity_input",e.OverlayColorPicker="overlay_color_picker",e.AIToolsEntryPoint="ai_tools_entry_point",e.AIShortenText="ai_shorten_text",e.AIRewriteText="ai_rewrite_text",e.AITranslateText="ai_translate_text",e.AIRemoveBackground="ai_remove_background",e.AIUpscaleImage="ai_upscale_image",e.AIEditImage="ai_edit_image",e.AIMakeImage="ai_make_image",e.ActionOverflowEntryPoint="action_overflow_entry_point",e.FontSpacingAndLineHeightEntryPoint="font_spacing_and_line_height_entry_point",e.FontSpacingInput="font_spacing_input",e.LineHeightInput="line_height_input",e.LayoutAlignmentEntryPoint="layout_alignment_entry_point",e.LayoutAlignmentSelector="layout_alignment_selector",e.UnorderedListStyle="unordered_list_style",e.OrderedListStyle="ordered_list_style",e.RemoveAutolayout="remove_autolayout",e.ToggleLock="toggle_lock",e.AdjustImageProperty="adjust_image_property",e.AdjustVideoProperty="adjust_video_property",e.SwitchToDesignMode="switch_to_design_mode",e))(i||{}),r=(e=>(e.ChooseMediaEntryPoint="choose_media_entry_point",e.BrowseStockPhotos="browse_stock_photos",e.UploadMedia="upload_media",e.AIMakeImage="ai_make_image",e))(r||{}),a=(e=>(e.AIImageToolsEntryPoint="ai_image_tools_entry_point",e.AIRemoveBackground="ai_remove_background",e.AIUpscaleImage="ai_upscale_image",e.AIEditImage="ai_edit_image",e))(a||{}),o=(e=>(e.AdjustImageControl="adjust_image_control",e.UploadMedia="upload_media",e))(o||{}),s=(e=>(e.BrowseTab="browse_tab",e.CustomizeTab="customize_tab",e.InstanceNeedsUpdateButton="instance_needs_update_button",e.GoToTemplateButton="go_to_template_button",e.GoToMainComponentButton="go_to_main_component_button",e.MoreOptionsButton="more_options_button",e))(s||{})},285143:(e,t,n)=>{n.d(t,{_:()=>z,k:()=>D});var l=n(239976),i=n(105652),r=n(20002),a=n(943360),o=n(442182),s=n(749447),c=n(833915),d=n(454705),p=n(692376),u=n(798913),_=n(379141),g=n(445019),m=n(224542),h=n.n(m),x=n(723850),v=n(979396),f=n(933870),y=n(617960),k=n(259714),C=n(727019),w=n(195884),E=n(725496),S=n(691661),T=n(452748),I=n(288990),b=n(959209),N=n(212198),j=n(421914),A=n(162251),R=n(236410),L=n(213214),O=n(598984);let P="template_type_dropdown_button--templateTypeScrollContainer--ffuhR",M="template_type_dropdown_button--endSection--KhPBF",B="template_type_dropdown_button--inactiveLabel--hFQJe raw_components--iconInsideBorderFocusWithin--xyTeR",F="template_type_dropdown_button--scrollIndicatorChevron--TS-EW";var H=n(354230),V=n(928333);let G="cooperInlineMenuTemplateTypeControl";function z(){return(0,l.jsx)(S.R,{children:(0,l.jsx)(v.E,{name:C._0.TemplateTypeSelector,children:(0,l.jsx)(D,{})})})}function D({isAssetPanel:e=!1}){let{isPopoverOpen:t,togglePopover:n,closePopover:r}=(0,E.j)(E.p.TEMPLATE_TYPE),s=(0,I.XH)(),c=i.useMemo(()=>p.fZl?.getAllCooperTemplateTypeGroups()||[],[]),u=i.useMemo(()=>({format:e=>{if((0,j.gl)(e))return(0,_.t)("common.mixed");for(let t of c){let n=t.types.find(t=>t.type===e);if(n)return n.name}return(0,_.t)("cooper.inline_menu.template_type.formatter_custom")}}),[c]),{hasInstanceSelected:g}=(0,b.Cl)();return(0,l.jsx)(O.A,{positionY:w.j,target:(0,l.jsx)("div",{className:"template_type_dropdown_button--templateTypeContainer--M9T0i","data-testid":"cooper-inline-template-type-control",children:(0,l.jsxs)(a.E,{className:h()("template_type_dropdown_button--templateTypeDropdownButton--cjgWc",e&&"template_type_dropdown_button--assetPanelTemplateTypeDropdownButtonOverride--qLsn2",{"template_type_dropdown_button--active--mpXn6":t}),onClick:n,recordingKey:G,disabled:g,"aria-expanded":t,"aria-label":(0,_.t)("cooper.inline_menu.template_type.dropdown_selection_button.aria_label"),children:[(0,l.jsx)("span",{className:"template_type_dropdown_button--templateTypeDropdownDisplayText--M4RdI ellipsis--ellipsis--70pHK",children:u.format(s)}),(0,l.jsx)(o.r,{})]})}),renderPopoverContents:()=>(0,l.jsx)(d.J,{brand:"cooper",mode:"dark",children:(0,l.jsx)(K,{templateGroups:c,isAssetPanel:e,onClose:r})}),isOpen:t,onClose:r,useDropdownZIndex:!0})}function K({templateGroups:e,isAssetPanel:t,onClose:n}){let r=(0,I.XH)(),[a,o]=i.useState(""),[s,c]=(0,g.fp)(T.Ku),d=(0,x.U)(),_=i.useCallback(e=>{(0,j.hS)(r)&&e!==r&&(d("cooper_template_asset_type_changed",{productType:"buzz",old_template_asset_type:(0,j.hS)(r)?r:null,new_template_asset_type:e}),u.l7.user("Convert Template Type",()=>{p.fZl?.convertSelectedNodesToCooperTemplateType(e),e===p.Z64.CUSTOM?c(!0):n(),p.Ez5?.cooperFocusView().isFocusedNodeViewEnabled()&&p.Ez5?.cooperFocusView().focusSelectedNodeInFocusedNodeView(!0)}))},[c,r,d,n]);return(0,l.jsxs)("div",{className:h()(t?"template_type_dropdown_button--assetPanelTemplateTypeDropdownContainerDimensions--iZVWB":"template_type_dropdown_button--inlineToolbarTemplateTypeDropdownContainerDimensions--VQY0c","template_type_dropdown_button--templateTypeDropdownContainer--lCauR"),children:[(0,l.jsx)(X,{searchQuery:a,onChange:o,clearSearch:()=>{o("")}}),a?(0,l.jsx)(U,{currentTemplateType:r,templateTypeGroups:e,handleTemplateTypeChange:_,searchQuery:a,isAssetPanel:t}):(0,l.jsx)(W,{currentTemplateType:r,templateTypeGroups:e,handleTemplateTypeChange:_,isAssetPanel:t})]})}function U({currentTemplateType:e,templateTypeGroups:t,handleTemplateTypeChange:n,searchQuery:r,isAssetPanel:a}){let o=i.useRef(null),s=i.useRef(null),c=q(e,t,a),{showTopScrollIndicator:d,showBotScrollIndicator:p,handleScroll:u,onScroll:_}=ee(s,a),g=RegExp(`${r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}`,"i");return(0,l.jsxs)(f.P,{ref:s,scrollContainerRef:o,className:P,hideScrollbar:!0,initialScrollTop:c,onScroll:u,children:[t.map(t=>{if("Custom"!==t.groupName)return(0,l.jsx)(i.Fragment,{children:t.types.map(t=>{if(t.name.match(g))return(0,l.jsx)(Y,{onClick:n,selected:t.type===e,metadata:t},t.type)})},t.groupName)}),(0,l.jsx)("div",{className:M}),(0,l.jsx)(J,{showTopIndicator:d,showBottomIndicator:p,onScroll:_})]})}function W({currentTemplateType:e,templateTypeGroups:t,handleTemplateTypeChange:n,isAssetPanel:r}){let a=i.useRef(null),o=i.useRef(null),{showTopScrollIndicator:s,showBotScrollIndicator:c,handleScroll:d,onScroll:u}=ee(o,r),_=q(e,t,r),{hasInstanceSelected:g}=(0,b.Cl)(),m=g||e!==p.Z64.CUSTOM;return(0,l.jsxs)(f.P,{ref:o,scrollContainerRef:a,className:P,hideScrollbar:!0,initialScrollTop:_,onScroll:d,children:[t.map(t=>t.types.some(e=>e.type===p.Z64.CUSTOM)?t.types.map(r=>(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(Y,{onClick:n,selected:r.type===e,metadata:r,hideDimensions:!0,isCustom:!0}),!m&&(0,l.jsx)(Q,{})]},t.groupName)):(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(Z,{}),t.types.map(t=>(0,l.jsx)(Y,{onClick:n,selected:t.type===e,metadata:t},t.type))]},t.groupName)),(0,l.jsx)("div",{className:M}),(0,l.jsx)(J,{showTopIndicator:s,showBottomIndicator:c,onScroll:u})]})}function X({searchQuery:e,onChange:t,clearSearch:n}){let[r,a]=i.useState(!1);return(0,l.jsx)("div",{className:"template_type_dropdown_button--templateTypeSearchBarContainer--dz2nj",children:(0,l.jsx)(y.IW,{className:h()("template_type_dropdown_button--templateTypeSearchBar--nGBlU",r&&"template_type_dropdown_button--templateTypeSearchBarBorder--qhPVB"),clearSearch:n,customClearSearchIcon:(0,l.jsx)(s.C,{style:{"--color-icon":"var(--color-icon-tertiary)",width:"16px",height:"16px"}}),focusOnMount:!0,onBlur:()=>a(!1),onChange:t,onFocus:()=>a(!0),query:e,withUI3Icon:!0})})}function Y({selected:e,hideDimensions:t=!1,metadata:n,onClick:i,isCustom:r}){var o;let s=n.dimension.x,d=n.dimension.y,u=n.name,g="",m=1;return o=n.type,[p.Z64.PRINT_US_LETTER,p.Z64.CARD_HORIZONTAL,p.Z64.CARD_VERTICAL,p.Z64.POSTER,p.Z64.NAME_TAG_LANDSCAPE,p.Z64.NAME_TAG_PORTRAIT].includes(o)&&((0,N.UK)().renderRulerUnitAsInches.getCopy()?(g=" in",m=72,r&&(u+=" (inches)")):(0,N.UK)().renderRulerUnitAsCentimeters.getCopy()&&(g=" cm",m=72/2.54,r&&(u+=" (cm)"))),1!==m&&(s=(s/m).toFixed(2)+g,d=(d/m).toFixed(2)+g),(0,l.jsxs)(a.E,{onClick:()=>i(n.type),className:"template_type_dropdown_button--templateTypeRow--M0Sgy",recordingKey:`${G}-${n.type}`,"aria-label":(0,_.t)("cooper.inline_menu.template_type.dropdown_selection_button.aria_label"),children:[(0,l.jsx)("div",{className:"template_type_dropdown_button--selectedIconContainer--p9w9u",children:e&&(0,l.jsx)(c.l,{})}),(0,l.jsxs)("div",{className:"template_type_dropdown_button--metaDataContainer--EtiMU",children:[(0,l.jsx)("div",{className:"template_type_dropdown_button--nameContainer--QWP5Z ellipsis--ellipsisAfter2Lines--akrXP ellipsis--_ellipsisAfterNLines--5f-ox",children:u}),!t&&(0,l.jsx)("div",{className:"template_type_dropdown_button--dimensionsContainer--0c1dk",children:`${s} x ${d}`})]})]},n.type)}function Z(){return(0,l.jsx)("div",{className:"template_type_dropdown_button--rowDividerContainer--k97ZG",children:(0,l.jsx)("div",{className:"template_type_dropdown_button--rowDivider--O58AD"})})}let $=e=>(0,N.UK)().renderRulerUnitAsInches.getCopy()?72*e:(0,N.UK)().renderRulerUnitAsCentimeters.getCopy()?72*e/2.54:e;function Q(){let e=(0,r.wA)(),[t,n]=(0,A.lJ)("width"),[a,o]=(0,A.lJ)("height"),s=25,c=10,d="number"==typeof t?t:0,g="number"==typeof a?a:0,m=1;(0,N.UK)().renderRulerUnitAsInches.getCopy()?(m=72,c=1):(0,N.UK)().renderRulerUnitAsCentimeters.getCopy()&&(m=72/2.54,c=1);let h=1!==m?d/m:d,x=1!==m?g/m:g;1!==m&&(s/=m);let v=i.useCallback(e=>{u.l7.user("Update Template Height",()=>{if(void 0!==e){let t=$(e);p.fZl?.resizeSelectedNodes(t,!1)}})},[]),f=i.useCallback(e=>{u.l7.user("Update Template Width",()=>{if(void 0!==e){let t=$(e);p.fZl?.resizeSelectedNodes(t,!0)}})},[]);return(0,l.jsxs)("div",{className:"template_type_dropdown_button--dimensionsControlContainer--RKeOk",children:[(0,l.jsx)(L.$j,{bigNudgeAmount:c,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.width"),"data-tooltip-type":R.Ib.TEXT,disabled:void 0===t||t===j.oV,dispatch:e,min:s,onValueChange:f,recordingKey:`${G}.width`,smallNudgeAmount:c,value:h,children:(0,l.jsx)("span",{className:`${B} svg`,children:(0,_.tx)("fullscreen.properties_panel.transform_panel.w")})}),(0,l.jsx)(L.$j,{bigNudgeAmount:c,"data-tooltip":(0,_.t)("fullscreen.properties_panel.transform_panel.height"),"data-tooltip-type":R.Ib.TEXT,disabled:void 0===a||a===j.oV,dispatch:e,min:s,onValueChange:v,recordingKey:`${G}.height`,smallNudgeAmount:c,value:x,children:(0,l.jsx)("span",{className:`${B} svg`,children:(0,_.tx)("fullscreen.properties_panel.transform_panel.h")})})]})}function q(e,t,n){let l=0,i=0,r=0,a=!1;return t.forEach((t,n)=>{0!==n&&!a&&l++,t.types.forEach(t=>{!a&&(i++,t.type===e&&(a=!0),t.name.length>23&&r++)})}),Math.max(16*l+24*i+16*r-(n?439:279)/2,0)}function J({showTopIndicator:e,showBottomIndicator:t,onScroll:n}){let r=i.useRef(null),a=i.useCallback(e=>t=>{r.current&&clearInterval(r.current),r.current=setInterval(()=>{n(e)},25)},[r,n]),o=i.useCallback(()=>{r.current&&clearInterval(r.current)},[r]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"template_type_dropdown_button--topScrollIndicator--JL6R1 template_type_dropdown_button--scrollIndicator--Xpaph",style:e?{}:{display:"none"},onMouseEnter:a(-8),onMouseLeave:o,children:(0,l.jsx)(k.B,{className:F,svg:V.A})}),(0,l.jsx)("div",{className:"template_type_dropdown_button--bottomScrollIndicator--b8cfQ template_type_dropdown_button--scrollIndicator--Xpaph",style:t?{}:{display:"none"},onMouseEnter:a(8),onMouseLeave:o,children:(0,l.jsx)(k.B,{className:F,svg:H.A})})]})}function ee(e,t){let[n,l]=i.useState(!1),[r,a]=i.useState(!1),o=i.useCallback(n=>{n>0?l(!0):l(!1);let i=e.current?.getScrollHeight(),r=t?439:279;i&&(n+r<i?a(!0):a(!1))},[l,a,e,t]),s=i.useCallback(n=>{if(e.current){let l=e.current.getScrollTop(),i=e.current.getScrollHeight();if(n>0){let r=Math.min(l+n,i-(t?439:279));e.current.scrollTo(r)}else{let t=Math.max(0,l+n);e.current.scrollTo(t)}}},[e,t]);return i.useEffect(()=>{if(e.current){let n=e.current.getScrollTop(),i=e.current.getScrollHeight(),r=t?439:279;n>0?l(!0):l(!1),i&&(n+r<i?a(!0):a(!1))}},[l,a,e,t]),{showTopScrollIndicator:n,showBotScrollIndicator:r,handleScroll:o,onScroll:s}}},195884:(e,t,n)=>{n.d(t,{j:()=>i});var l=n(806082);let i=(e,t)=>(0,l.DH)(e,t,12)},725496:(e,t,n)=>{n.d(t,{j:()=>o,p:()=>a});var l=n(105652),i=n(445019);let r=(0,n(640753).Wh)(()=>(0,i.eU)(null));var a=(e=>(e.CORNERS="corners",e.AI_ACTION_OVERFLOW="ai_action_overflow",e.MORE_ACTION_OVERFLOW="more_action_overflow",e.EFFECTS="effects",e.FILL="fill",e.STROKE="stroke",e.FONT_FAMILY="font_family",e.FONT_SPACING="font_spacing",e.IMAGE_CROP="image_crop",e.LAYOUT_ALIGNMENT="layout_alignment",e.TEMPLATE_TYPE="template_type",e.TEXT_ALIGNMENT="text_alignment",e.VOLUME_CONTROL="volume_control",e.TRIMMING_CONTROL="trimming_control",e.VARIABLE_MODE="variable_mode",e))(a||{});function o(e){let[t,n]=(0,i.fp)(r);return{isPopoverOpen:t===e,togglePopover:l.useCallback(()=>{n(t===e?null:e)},[t,e,n]),closePopover:l.useCallback(()=>{n(t=>t===e?null:t)},[e,n])}}},511108:(e,t,n)=>{n.d(t,{q:()=>z});var l=n(239976),i=n(105652),r=n(20002),a=n(796557),o=n(4245),s=n(692376),c=n(854225),d=n(370487),p=n(534108),u=n(379141),_=n(847923),g=n(445019),m=n(272439),h=n(916626),x=n(7857),v=n(499735),f=n(684170),y=n(27414),k=n(422572),C=n(772293),w=n(212198),E=n(421914),S=n(603163),T=n(223487),I=n(236410),b=n(604687),N=n(996066),j=n(58756),A=n(253173),R=n(887015),L=n(493247),O=n(690252),P=n(49066),M=n(290321),B=n(56436),F=n(557204),H=n(883264),V=n(943248);function G(e){let t="stroke-settings",[n,_]=(0,g.fp)(f.GI),h=(n.encodedPaints?(0,d.ri)(n.encodedPaints):n.paints)??[],x=(0,r.wA)(),w=i.useContext(N.zK),T=()=>null!=w,G=i.useRef(null),z=e=>{let t=(0,d.nc)(e);_({paints:e,encodedPaints:t}),S.Tm.clearCache()},D=e=>{let{strokeWeight:t,dashPattern:n,strokeBrushGuid:l,stretchStrokeSettings:i,scatterStrokeSettings:r,dynamicStrokeSettings:a}=e,o=(0,E.E7)(t);o&&_({strokeWeight:o});let s=(0,E.E7)(n);if(s&&_({dashPattern:s}),l){let e=(0,E.E7)((0,E.BI)(l));e&&_({strokeBrushGuid:e})}if(i&&_({stretchStrokeSettings:(0,E.E7)(i)}),r&&_({scatterStrokeSettings:(0,E.E7)(r)}),a){let e=(0,E.E7)((0,E.BI)(a));e&&_({dynamicStrokeSettings:{interval:e.frequency??p.Y4.frequency,wiggle:e.wiggle??p.Y4.wiggle,smoothen:e.smoothen??p.Y4.smoothen}})}},K=e=>{let t=h.filter((t,n)=>!e.has(n));0===t.length&&(t=[h[0]]),z(t)},U=(e,{fromSearch:t}={})=>{x(k.AV({style:e,inheritStyleKeyField:"inheritFillStyleKeyForStroke",fromSearch:t}))},W=!!n.styleId||h.length>0,X=e.pickerShown?.id===t,Y=!e.userFlags.dismissed_shift_to_draw_straight_lines_hint,Z=(0,F.A8)(f.GI),$=(0,P.eh)(f.GI),Q=n.strokeBrushGuid,q=(0,l.jsx)(R.v9,{strokeWeight:n.strokeWeight||H.wv,onChange:D,recordingKey:v.Pt(e,"weight")}),J=(0,l.jsx)("span",{children:(0,l.jsx)(M.ob,{value:(0,L.Hd)(n.strokeCap||"ROUND")||"ROUND",onChange:e=>{_({strokeCap:e})},recordingKey:v.Pt(e,"dashCap"),label:(0,u.t)("fullscreen.properties_panel.stroke_settings.end_points"),kind:"endCap"})}),ee=(0,l.jsx)("span",{className:"pencil_tool_panel--advancedStroke---PSJ9",children:(0,l.jsx)(a.d,{onClick:()=>{if(e.pickerShown?.id===t)x(y.XE());else{if(!G)return;let e=(0,b.cn)(G.current);x(y.u1({id:t,initialX:e.x,initialY:e.y}))}},"aria-expanded":X,"aria-label":(0,u.t)("fullscreen.pencil_tool.advanced_stroke_settings"),recordingKey:v.Pt(e,"more"),onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,u.t)("fullscreen.pencil_tool.advanced_stroke_settings"),children:(0,l.jsx)(o.J,{})})});return(0,l.jsxs)("div",{className:"pencil_tool_panel--pencilPanelContainer--fk-Yk",children:[(0,l.jsxs)(O.Zk,{children:[(0,l.jsx)(A.W4,{addProperty:()=>{C.Y5.triggerAction("add-stroke-to-selection")},currentSelectedProperty:e.currentSelectedProperty,defaultColor:S.rC,inheritStyleID:null,inheritStyleKey:n.styleId||null,inheritStyleKeyField:"inheritFillStyleKeyForStroke",library:e.library,modalShown:e.modalShown,onApplyStyle:U,onChange:z,onDeleteProperty:e=>K(e),onReorder:()=>{S.Tm.clearCache()},onToggleListLayout:()=>{x(y.Y({isListLayout:!e.stylePickerListLayout}))},openFile:e.openFile,propertyList:h,recordingKey:e.recordingKey,removeAllProperties:null,renderProperty:(t,n,i,r,a,o,s,d,p)=>{let u=T()?"preview-paint":"paint",_=S.Tm.getId(n,c.rrT.STROKE_PRESET,u),g=h.slice(0,n).some(e=>e.visible);return(0,l.jsx)(A.Gg,{colorFormat:e.colorFormat,currentSelectedGradientStop:e.currentSelectedGradientStop,currentTool:c.NLJ.VECTOR_PENCIL,defaultColor:S.Em,dispatch:x,dropdownShown:e.dropdownShown,editModeType:e.editModeType,hasFocus:a,hasVisiblePaintBelow:g,hideVisibilityToggle:1===h.length,id:_,index:n,inheritStyleKeyField:"inheritFillStyleKeyForStroke",isDragging:r,library:e.library,onApplyStyle:U,onChange:o,onMouseDown:s,onMouseMove:d,onMouseUp:p,onRemovePaint:h.length>1?()=>K(new Set([n])):void 0,openFile:e.openFile,paint:t,pickerInStyleCreationShown:e.pickerInStyleCreationShown,pickerShown:e.pickerShown,recordingKey:v.Pt(e,n),sceneGraphSelection:e.sceneGraphSelection,selected:e.stylePickerShown.isShown?e.pickerShown?.id===_:i,selectedPropertyType:c.rrT.STROKE_PRESET,singletonRow:1===h.length,stylePickerShown:e.stylePickerShown,variableBindingSurfaceId:"PENCIL_TOOL_PANEL",variableScopes:A.z1},`paint-${n}`)},sceneGraphSelection:e.sceneGraphSelection,selectedPropertyType:c.rrT.STROKE_PRESET,selectedStyleGuid:e.selectedStyleGuid,stylePickerListLayout:e.stylePickerListLayout,stylePickerShown:e.stylePickerShown,styleType:"FILL",title:(0,u.t)("fullscreen.pencil_tool.stroke")}),W&&(0,l.jsx)(m.fn,{ref:G,leftLabel:(0,u.tx)("fullscreen.properties_panel.section_stroke.label_weight"),leftInput:q,rightLabel:(0,u.tx)("fullscreen.properties_panel.section_stroke.label_end_cap"),rightInput:J,icon:ee})]}),Y&&(0,l.jsx)("div",{className:"pencil_tool_panel--hintPanel--5tmlk",children:(0,l.jsx)(j.u,{title:(0,u.t)("fullscreen.pencil_tool.hold_shift_to_draw_straight_lines"),icon_DEPRECATED:V.A,userFlag:"dismissed_shift_to_draw_straight_lines_hint",hintText:(0,u.t)("fullscreen.pencil_tool.now_vertical_horizontal_and_diagonal_lines_are_a_breeze")})}),X&&e.pickerShown&&(0,l.jsx)(B._2,{brushType:$,dashPattern:n.dashPattern,defaultStyleAtom:f.GI,dropdownShown:e.dropdownShown,maxStrokeWeight:n.strokeWeight||H.wv,onChange:D,pickerShown:e.pickerShown,recordingKey:v.Pt(e,"advanced"),setIndividualBorderOption:function(e){},strokeBrushGuid:Q,strokeCap:n.strokeCap||"ROUND",strokeJoin:"ROUND",strokePanelMode:s.yTM.PENCIL,strokePanelTerminalPointCount:2,strokeType:Z})]})}function z(e){return(0,l.jsx)(h.k,{id:"PencilToolPanel",children:(0,l.jsx)(x.u9,{label:"PencilToolPanel",children:(0,l.jsx)(D,{...e})})})}function D(e){let t=(0,w.Ku)(),n=(0,T.q5)(),i=(0,_.R)(e=>({currentSelectedGradientStop:e.mirror.appModel.currentSelectedGradientStop,library:e.library,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,colorPicker:e.colorPicker,styleSets:e.styleSets,reposById:e.repos,teams:e.teams,editModeType:e.mirror.appModel.activeCanvasEditModeType,currentTool:e.mirror.appModel.currentTool,sceneGraphSelection:e.mirror.sceneGraphSelection,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,inheritStyleKey:e.mirror.selectionProperties.inheritFillStyleKeyForStroke||null,stylePickerListLayout:e.stylePickerListLayout,userFlags:e.userFlags,selectedStyleGuid:e.mirror.selectedStyleProperties.guid||null}));return(0,l.jsx)(G,{...i,...e,openFile:n,colorFormat:t})}},391459:(e,t,n)=>{n.d(t,{A:()=>d,F:()=>c});var l=n(239976),i=n(105652),r=n(547557),a=n(323264),o=n(460166);let s={truncate:{k1xSpc:"x1rg5ohu",khDVqt:"xuxw1ft",kVQacm:"xb3r6kr",kXHlph:null,kORKVm:null,kg5iWk:"xlyipyv",kzqmXN:"xh8yej3",kXLuUW:"x3ajldb",$$css:!0}};function c({children:e,tooltip:t,styleXStyles:n=s.truncate}){let o=(0,i.useRef)(null),c=(0,r.R)(o);return(0,l.jsx)("span",{ref:o,...a.xk(n),"data-tooltip":c?t:void 0,"data-tooltip-type":c?"text":void 0,children:e})}let d=(0,i.forwardRef)(function({label:e,...t},n){return(0,l.jsx)(o.cS,{ref:n,label:(0,l.jsx)(c,{tooltip:e,children:e}),...t})})},746703:(e,t,n)=>{n.d(t,{D:()=>h});var l=n(239976),i=n(105652),r=n(799272),a=n(666534),o=n(273462),s=n(797181),c=n(281461),d=n(690252),p=n(846509),u=n(379283),_=n(791330);function g({slotPropertyDefinition:e}){let t=e.description,n=i.useMemo(()=>t?"lexical"===(0,_.j_)(t)?(0,_.El)(t):(0,u.At)(t):null,[t]);return n&&""!==n?(0,l.jsx)(p.LG,{appendedClassName:"slot_description_preview--descriptionRow--CoRch",label:null,input:(0,l.jsx)("div",{className:"slot_description_preview--description--z-MMY ellipsis--ellipsisAfter2Lines--akrXP ellipsis--_ellipsisAfterNLines--5f-ox",children:n})}):null}var m=n(500927);let h=i.memo(function({isInSelectionActionsPanel:e}){let t=(0,a.Xo)(),{slotPropertyDefinition:n,includesInstanceSublayer:i,selectedSlotGuids:u}=(0,s.yt)(),_=t?.id===o.ZV&&t.data&&n?.explicitDefID===t.data.defID;return(0,r.$)()&&n?(0,l.jsxs)(d.Zk,{className:"slot_panel--slotPanel--0vL7x",style:e?{paddingBottom:0,borderBottom:"none"}:void 0,"data-testid":"slot-panel",children:[(0,l.jsx)(g,{slotPropertyDefinition:n}),_&&(0,l.jsx)(o.pf,{pickerId:o.ZV,componentPropDef:n}),n&&i&&1===u.length&&u[0]&&(0,l.jsx)(p.cA,{appendedClassName:m.FG,leftLabel:null,rightLabel:null,icon:(0,l.jsx)(c.RL,{disabled:!1,selectedSlotInfo:{type:c.YR.SELECTED_SLOT_GUID,selectedSlotGuid:u[0]},typedPropDef:n}),leftInput:(0,l.jsx)("div",{className:"slot_panel--slotPropertyDefinitionName--7b9kR ellipsis--ellipsis--70pHK",children:n.name}),rightInput:(0,l.jsx)(c.UY,{isValueMixed:!1,selectedSlotInfo:{type:c.YR.SELECTED_SLOT_GUID,selectedSlotGuid:u[0]},typedPropDef:n})})]}):null})},816490:(e,t,n)=>{n.d(t,{Vy:()=>nq});var l=n(239976),i=n(105652),r=n(20002),a=n(942356),o=n(692376),s=n(559578),c=n(798913),d=n(379141),p=n(847923),u=n(272439),_=n(916626),g=n(723850),m=n(499735),h=n(979396),x=n(122313),v=n(259714),f=n(285143),y=n(90895),k=n(772293),C=n(162251),w=n(384203),E=n(236410),S=n(587412),T=n(590699),I=n(690252),b=n(318679),N=n(159773);let j=(0,i.memo)(function(e){return(0,N.O)()?(0,l.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,l.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M12 6a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-1 0v-11A.5.5 0 0 1 12 6M9 8a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1zm0 2V9H7v6h2zm9-1a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1zm-1 0v6h-2V9z",clipRule:"evenodd"})}):(0,l.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,l.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M11.5 6a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-1 0v-11a.5.5 0 0 1 .5-.5M9 8a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1zm0 2V9H7v6h2zm8-1a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1zm-1 0v6h-2V9z",clipRule:"evenodd"})})}),A=(0,i.memo)(function(e){return(0,N.O)()?(0,l.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,l.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M16 9a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 0h1V7H9v2zm4 2.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5M15 17a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1zm0-1H9v-2h6z",clipRule:"evenodd"})}):(0,l.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,l.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M16 9a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 0h1V7H9v2zm4 3a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5m-3 6a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1zm0-1H9v-2h6z",clipRule:"evenodd"})})});var R=n(901461),L=n(421914),O=n(819805),P=n(78320),M=n(748765),B=n(213214),F=n(938670),H=n(744358);function V(e){let t=(0,r.wA)(),n=(0,F.Xs)(),a=(0,C.kl)("detectedList"),o=(0,C.kl)("detectableListAxis"),s=(0,L.E7)(a),c=(0,O.Zr)("arrange-as-grid"),p=(0,i.useRef)(null);if(!s&&null==p.current&&!c&&null==o)return null;let _=s?.canvasSpacingBetweenItemsX!=null||"X"===o||c||p.current===R._0.X,g=s?.canvasSpacingBetweenItemsY!=null||"Y"===o||c||p.current===R._0.Y,h=(0,l.jsx)(B.gq,{dispatch:t,min:G(s,"X"),mixedMathHandler:new D(R._0.X),onScrubBegin:()=>{p.current=R._0.X},onScrubEnd:()=>{p.current=null},onValueChange:z(s,"X"),value:null==s?L.oV:s.canvasSpacingBetweenItemsX,...n,className:H.BP,"data-tooltip":(0,d.t)("fullscreen.properties_panel.transform_panel.list_spacing_x"),"data-tooltip-type":E.Ib.TEXT,dataTestId:"list-spacing-x",inputClassName:H.hF,recordingKey:m.Pt(e,"listSpacingX"),tooltipForScreenReadersOnly:!0,children:(0,l.jsx)(j,{className:H.QK,"aria-hidden":!0})}),x=(0,l.jsx)(B.gq,{dispatch:t,min:G(s,"Y"),mixedMathHandler:new D(R._0.Y),onScrubBegin:()=>{p.current=R._0.Y},onScrubEnd:()=>{p.current=null},onValueChange:z(s,"Y"),value:null==s?L.oV:s.canvasSpacingBetweenItemsY,...n,className:_?H.sC:H.BP,"data-tooltip":(0,d.t)("fullscreen.properties_panel.transform_panel.list_spacing_y"),"data-tooltip-type":E.Ib.TEXT,dataTestId:"list-spacing-y",inputClassName:H.hF,recordingKey:m.Pt(e,"listSpacingY"),tooltipForScreenReadersOnly:!0,children:(0,l.jsx)(A,{className:H.QK,"aria-hidden":!0})});return(0,l.jsx)(u.fn,{leftLabel:(0,d.tx)("properties.label.spacing"),leftInput:_?h:x,rightInput:g&&_?x:null,icon:null,rightLabel:null})}function G(e,t){return e?e.minItemSize?-e.minItemSize["X"===t?0:1]+1:0:-1/0}let z=(e,t)=>(n,l)=>{let i="X"===t?"canvasSpacingBetweenItemsX":"canvasSpacingBetweenItemsY";k.Y5.updateSelectionProperties({detectedList:{[i]:Math.max(n,G(e,t))}},{shouldCommit:l});let r="number"==typeof e?.canvasSpacingBetweenItemsX&&"number"==typeof e?.canvasSpacingBetweenItemsY;l&&P.F.trackFromFullscreen("magic_collections_list_spacing_changed",{source:"panel",spacing_did_change:!e||n!==e[i],was_mixed:!e,type:r?"grid":"list"})};class D{constructor(e){this.axis=e}getValue(){return o.glU.getCurrentListSpacing(this.axis)}onChange(e,t,n){let l=e.spacings.map(t);c.l7.user("update-list-spacing",()=>{o.glU.setCurrentListSpacing({...e,spacings:l},this.axis),n!==M.zk.NO&&o.glU.triggerAction("commit",{})})}}var K=n(354568),U=n(676391),W=n(525019),X=n(12908),Y=n(854733),Z=n(641653),$=n(254056),Q=n(141288),q=n(184743),J=n(145652);let ee=(0,J.ex)("autolayout_v3_migration_info",function(e){let{tooltipText:t}=e,n=(0,q.Gc)(e=>{e.stopPropagation(),Q.Ay.unsafeRedirect("https://help.figma.com/hc/articles/360040451373#Updates_to_Auto_Layout","_blank")});return(0,l.jsxs)("div",{className:"autolayout_v3_migration_info_tooltip--autolayoutMigration--vZgQh",children:[t,(0,l.jsx)($.N,{newTab:!0,trusted:!0,href:"https://help.figma.com/hc/articles/360040451373#Updates_to_Auto_Layout",htmlAttributes:{onMouseDown:n},children:(0,d.tx)("fullscreen.properties_panel.migration_tooltip_learn_more")})]})},e=>({tooltipText:e.getAttribute("data-tooltip-text")}));var et=n(424364),en=n(854225),el=n(270450),ei=n(577355),er=n(276571),ea=n(576116),eo=n(363198),es=n(425179),ec=n(733200),ed=n(224542),ep=n.n(ed),eu=n(719680);function e_({baselineAlign:e,spaceBetween:t,stackMode:n,isUi3:l}){return e&&t?l?[{tooltip:(0,d.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),below:!0}]:[(0,d.t)("fullscreen.properties_panel.stack_panel.align_baseline")]:e?[{tooltip:(0,d.t)("fullscreen.properties_panel.stack_panel.align_left_baseline"),below:l},{tooltip:(0,d.t)("fullscreen.properties_panel.stack_panel.align_center_baseline"),below:l},{tooltip:(0,d.t)("fullscreen.properties_panel.stack_panel.align_right_baseline"),below:l}]:t?"HORIZONTAL"===n?l?[(0,d.t)("fullscreen.properties_panel.stack_panel.align_top"),(0,d.t)("fullscreen.properties_panel.stack_panel.align_center"),{tooltip:(0,d.t)("fullscreen.properties_panel.stack_panel.align_bottom"),below:!0}]:[(0,d.t)("fullscreen.properties_panel.stack_panel.align_auto_top_gap"),(0,d.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),{tooltip:(0,d.t)("fullscreen.properties_panel.stack_panel.align_auto_bottom_gap"),below:!0}]:l?[(0,d.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,d.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,d.t)("fullscreen.properties_panel.stack_panel.align_right")]:[(0,d.t)("fullscreen.properties_panel.stack_panel.align_auto_left_gap"),(0,d.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),(0,d.t)("fullscreen.properties_panel.stack_panel.align_auto_right_gap")]:[(0,d.t)("fullscreen.properties_panel.stack_panel.align_top_left"),(0,d.t)("fullscreen.properties_panel.stack_panel.align_top_center"),(0,d.t)("fullscreen.properties_panel.stack_panel.align_top_right"),(0,d.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,d.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,d.t)("fullscreen.properties_panel.stack_panel.align_right"),{tooltip:(0,d.t)("fullscreen.properties_panel.stack_panel.align_bottom_left"),below:!0},{tooltip:(0,d.t)("fullscreen.properties_panel.stack_panel.align_bottom_center"),below:!0},{tooltip:(0,d.t)("fullscreen.properties_panel.stack_panel.align_bottom_right"),below:!0}]}function eg(e,t){if(e.startsWith("SPACE_BETWEEN"))return"SPACE_BETWEEN";if(e.endsWith("BASELINE"))return e.split("_")[0];switch(e){case"TOP_LEFT":return"MIN";case"TOP_CENTER":return"VERTICAL"===t?"MIN":"CENTER";case"TOP_RIGHT":return"VERTICAL"===t?"MIN":"MAX";case"LEFT":return"VERTICAL"===t?"CENTER":"MIN";case"CENTER":return"CENTER";case"RIGHT":return"VERTICAL"===t?"CENTER":"MAX";case"BOTTOM_LEFT":return"VERTICAL"===t?"MAX":"MIN";case"BOTTOM_CENTER":return"VERTICAL"===t?"MAX":"CENTER";case"BOTTOM_RIGHT":return"MAX"}}function em(e,t){if(e.startsWith("SPACE_BETWEEN"))return e.split("_")[2];if(e.endsWith("BASELINE"))return"BASELINE";switch(e){case"TOP_LEFT":return"MIN";case"TOP_CENTER":return"VERTICAL"===t?"CENTER":"MIN";case"TOP_RIGHT":return"VERTICAL"===t?"MAX":"MIN";case"LEFT":return"VERTICAL"===t?"MIN":"CENTER";case"CENTER":return"CENTER";case"RIGHT":return"VERTICAL"===t?"MAX":"CENTER";case"BOTTOM_LEFT":return"VERTICAL"===t?"MIN":"MAX";case"BOTTOM_CENTER":return"VERTICAL"===t?"CENTER":"MAX";case"BOTTOM_RIGHT":return"MAX"}}let eh="alignment_view_v4_ui3--grid3x3--tBdE0 alignment_view_v4_ui3--_centered--d0enw",ex="alignment_view_v4_ui3--mainContainer--HAjPG",ev="alignment_view_v4_ui3--tooltipGrid--m7343 alignment_view_v4_ui3--grid3x3--tBdE0 alignment_view_v4_ui3--_centered--d0enw",ef="alignment_view_v4_ui3--indicatorGridCell--ruDNz",ey="alignment_view_v4_ui3--indicatorGroup--aPwu6",ek="alignment_view_v4_ui3--wrap--LLg8o",eC="alignment_view_v4_ui3--indicatorBaseline--60VkV",ew="alignment_view_v4_ui3--counterCenter--oHFIb",eE="alignment_view_v4_ui3--baselineAlign--icEtX";function eS({onClick:e,onDoubleClick:t,onHover:n,onHoverWithValues:r,onChangeAlignment:a,...o}){let s=(0,eu.rO)(o.stackPrimaryAlignItems),c="BASELINE"===o.stackCounterAlignItems,d=(0,eu.c4)((0,L.E7)(o.stackMode))?"HORIZONTAL":"VERTICAL",p="WRAP"===o.stackWrap,u="HORIZONTAL"===d?"alignment_view_v4_ui3--horizontal--MsnG4":"alignment_view_v4_ui3--vertical--zcYNZ",_=s?"alignment_view_v4_ui3--spaceBetween--ASEY0":"alignment_view_v4_ui3--packed--auxlR",g=(0,L.hS)(o.stackPrimaryAlignItems)&&(0,L.hS)(o.stackCounterAlignItems),m=o.primaryHover&&o.counterHover,h=(0,i.useCallback)(e=>{let[n,l]=eF(e.target);if(s){let t=e.target.getBoundingClientRect();"HORIZONTAL"===d?n=Math.floor((e.clientX-t.x)/t.width*3):l=Math.floor((e.clientY-t.y)/t.height*3)}t(n,l)},[t,s,d]),x=(0,i.useCallback)(e=>n(...eF(e.target)),[n]),v=(0,i.useCallback)(e=>n(null,null),[n]);return(0,el.kc)().ce_tv_fpl_al_alignment_grid?(0,l.jsxs)("div",{className:ep()(o.className,ex,u,_,{[eE]:c}),"data-testid":"alignment-view",children:[(0,l.jsx)(eB,{}),m&&(0,l.jsx)(eT,{hover:!0,primaryAlign:o.primaryHover,counterAlign:o.counterHover,isStackWrap:p}),(0,l.jsx)(eL,{baselineAlign:c,counterAlign:o.stackCounterAlignItems,isStackWrap:p,onChangeAlignment:a,onDoubleClick:h,onHover:r,onKeyDown:o.onKeyDown,onMouseMove:x,onMouseOut:v,primaryAlign:o.stackPrimaryAlignItems,recordingKey:o.recordingKey,spaceBetween:s,stackMode:d}),c&&(0,l.jsx)("div",{className:eh,children:(0,l.jsx)(eR,{onClick:o.onRemoveBaseline})})]}):(0,l.jsxs)("div",{className:ep()(o.className,ex,u,_,{[eE]:c}),tabIndex:0,onKeyDown:o.onKeyDown,"data-testid":"alignment-view",children:[(0,l.jsx)(eB,{}),(0,l.jsx)(eO,{stackMode:d,spaceBetween:s,baselineAlign:c,onMouseMove:x,onMouseOut:v,onClick:e,onDoubleClick:h}),m&&(0,l.jsx)(eT,{hover:!0,primaryAlign:o.primaryHover,counterAlign:o.counterHover,isStackWrap:p}),g&&(0,l.jsx)(eT,{primaryAlign:o.stackPrimaryAlignItems,counterAlign:o.stackCounterAlignItems,isStackWrap:p}),c&&(0,l.jsx)("div",{className:eh,children:(0,l.jsx)(eR,{onClick:o.onRemoveBaseline})})]})}function eT({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:i}){function r(){let e=(0,eu.rO)(t);if("BASELINE"===n)return e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{"aria-hidden":!0,className:eC,children:"A"}),(0,l.jsx)("span",{"aria-hidden":!0,className:eC,children:"A"}),(0,l.jsx)("span",{"aria-hidden":!0,className:eC,children:"A"})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("span",{"aria-hidden":!0,className:eC,children:"A"})});let r=i&&!e?5:3;return(0,l.jsx)(eI,{n:r})}return(0,el.kc)().ce_tv_fpl_al_alignment_grid&&!e?(0,l.jsx)("div",{className:ep()(eA(t),eN(n),"alignment_view_v4_ui3--selectionIndicators--eFWYF"),children:"BASELINE"===n?r():(0,l.jsx)("div",{className:ef,children:(0,l.jsx)("div",{className:ep()(ey,{[ek]:i}),children:r()})})}):(0,l.jsx)("div",{className:ep()("alignment_view_v4_ui3--indicatorContainer--N0TT1 alignment_view_v4_ui3--tooltipGrid--m7343 alignment_view_v4_ui3--grid3x3--tBdE0 alignment_view_v4_ui3--_centered--d0enw",eA(t),eN(n),{"alignment_view_v4_ui3--hover--4mnq1":e}),children:"BASELINE"===n?r():(0,l.jsx)("div",{className:ef,children:(0,l.jsx)("div",{className:ep()(ey,{[ek]:i}),children:r()})})})}function eI({n:e}){return(0,l.jsx)(l.Fragment,{children:Array.from({length:e},(e,t)=>(0,l.jsx)("div",{className:"alignment_view_v4_ui3--indicator--eMYzP"},t))})}let eb={MIN:"alignment_view_v4_ui3--counterMin---SqJG",CENTER:ew,MAX:"alignment_view_v4_ui3--counterMax--0S5nW",BASELINE:ew};function eN(e){return e?eb[e]:void 0}let ej={MIN:"alignment_view_v4_ui3--primaryMin--lsehs",CENTER:"alignment_view_v4_ui3--primaryCenter--eymQG",MAX:"alignment_view_v4_ui3--primaryMax--1MqUR",SPACE_EVENLY:"",SPACE_BETWEEN:""};function eA(e){return e?ej[e]:void 0}function eR({onClick:e}){return(0,l.jsx)("button",{className:"alignment_view_v4_ui3--baselineControls--tznog alignment_view_v4_ui3--_centered--d0enw","data-tooltip-type":E.Ib.TEXT,"data-tooltip":(0,d.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),"aria-label":(0,d.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e,children:(0,l.jsx)("div",{className:"alignment_view_v4_ui3--baselineControlLine--Wg9lD"})})}function eL({spaceBetween:e,stackMode:t,baselineAlign:n,onHover:r,onMouseOut:a,onDoubleClick:o,onChangeAlignment:s,onKeyDown:c,primaryAlign:p,counterAlign:u,isStackWrap:_,recordingKey:g}){let m=e_({stackMode:t,baselineAlign:n,spaceBetween:e,isUi3:!0}),h=function({baselineAlign:e,spaceBetween:t}){return e&&t?["SPACE_BETWEEN_BASELINE"]:e?["MIN_BASELINE","CENTER_BASELINE","MAX_BASELINE"]:t?["SPACE_BETWEEN_MIN","SPACE_BETWEEN_CENTER","SPACE_BETWEEN_MAX"]:["TOP_LEFT","TOP_CENTER","TOP_RIGHT","LEFT","CENTER","RIGHT","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT"]}({baselineAlign:n,spaceBetween:e}),x=function(e,t,n){if((0,eu.rO)(e)&&"BASELINE"===t)return"SPACE_BETWEEN_BASELINE";if("BASELINE"===t)return`${e}_BASELINE`;if((0,eu.rO)(e))return`SPACE_BETWEEN_${t}`;switch(e){case"MIN":switch(t){case"MIN":return"TOP_LEFT";case"CENTER":return"VERTICAL"===n?"TOP_CENTER":"LEFT";case"MAX":return"VERTICAL"===n?"TOP_RIGHT":"BOTTOM_LEFT"}case"CENTER":switch(t){case"MIN":return"VERTICAL"===n?"LEFT":"TOP_CENTER";case"CENTER":return"CENTER";case"MAX":return"VERTICAL"===n?"RIGHT":"BOTTOM_CENTER"}case"MAX":switch(t){case"MIN":return"VERTICAL"===n?"BOTTOM_LEFT":"TOP_RIGHT";case"CENTER":return"VERTICAL"===n?"BOTTOM_CENTER":"RIGHT";case"MAX":return"BOTTOM_RIGHT"}}}(p??"MIN",u??"MIN",t),v=(0,i.useRef)(null),f=(0,i.useRef)(!1),y=()=>{f.current=!0};return(0,i.useLayoutEffect)(()=>{if(!f.current)return;f.current=!1;let e=v.current;if(!e)return;let t=e.querySelector(`input[type="radio"][value="${x}"]`);t?.focus()},[x]),(0,l.jsx)(es.bL,{ref:v,value:x,onChange:e=>{let n=eg(e,t),l=em(e,t);s?.(n,l)},legend:(0,l.jsx)(ec.q,{children:(0,d.t)("fullscreen.properties_panel.section_autoLayout.label_alignment")}),onMouseOut:a,onDoubleClick:e=>{y(),o(e)},onKeyDown:e=>{y(),c?.(e)},recordingKey:g,"data-hold-focus":!0,children:(0,l.jsx)("div",{className:ev,children:"HORIZONTAL"===t&&n&&e?(0,l.jsx)(eP,{tooltips:m,onHover:r}):h.map((e,n)=>{let i="string"==typeof m[n]?{tooltip:m[n],below:!1}:m[n];return(0,l.jsx)(es.c$,{value:e,"aria-label":i?.tooltip,onMouseEnter:()=>{r?.(eg(e,t),em(e,t))},"data-tooltip-show-above":!i?.below||void 0,children:x===e&&(0,l.jsx)(eT,{primaryAlign:p,counterAlign:u,isStackWrap:_})},e)})})})}function eO({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:i,onMouseOut:r,onClick:a,onDoubleClick:o}){let s=e_({stackMode:t,baselineAlign:n,spaceBetween:e,isUi3:!0});return(0,l.jsx)("div",{className:ev,onMouseMove:i,onMouseOut:r,onClick:a,onDoubleClick:o,children:"HORIZONTAL"===t&&n&&e?(0,l.jsx)(eP,{tooltips:s}):s.map((n,i)=>{let r=i%3,a=Math.floor(i/3);return"HORIZONTAL"===t&&e&&(a=r,r=0),(0,l.jsx)(eM,{x:r,y:a,..."string"==typeof n?{tooltip:n}:n},i)})})}function eP({tooltips:e,onHover:t}){let n=(0,i.useId)(),r=e[0];if(null==r)return null;let a="string"==typeof r?{tooltip:r}:r;return(0,el.kc)().ce_tv_fpl_al_alignment_grid?(0,l.jsx)(es.c$,{value:"SPACE_BETWEEN_BASELINE",className:"alignment_view_v4_ui3--spaceBetweenBaselineOption--ID6Ed","aria-label":"string"==typeof r?r:r?.tooltip,onMouseEnter:()=>{t?.("SPACE_BETWEEN","BASELINE")},children:(0,l.jsxs)("div",{className:"alignment_view_v4_ui3--spaceBetweenBaselineIndicators--qCM-O",children:[(0,l.jsx)("span",{"aria-hidden":!0,className:eC,children:"A"}),(0,l.jsx)("span",{"aria-hidden":!0,className:eC,children:"A"}),(0,l.jsx)("span",{"aria-hidden":!0,className:eC,children:"A"})]})},"SPACE_BETWEEN_BASELINE"):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{"data-tooltip-proxy-element-id":n}),(0,l.jsx)(eM,{id:n,x:1,y:1,...a}),(0,l.jsx)("div",{"data-tooltip-proxy-element-id":n})]})}function eM({id:e,x:t,y:n,tooltip:i,below:r}){return(0,l.jsx)("div",{id:e,"data-x":t,"data-y":n,"data-tooltip-type":E.Ib.TEXT,"data-tooltip":i,"data-tooltip-show-above":!r||void 0})}function eB(){return(0,l.jsx)("div",{className:"alignment_view_v4_ui3--dotGrid--5zjIL alignment_view_v4_ui3--grid3x3--tBdE0 alignment_view_v4_ui3--_centered--d0enw",children:Array.from({length:9},(e,t)=>(0,l.jsx)("div",{className:"alignment_view_v4_ui3--dotGridCell--sNypV",children:(0,l.jsx)("div",{className:"alignment_view_v4_ui3--dot--zLVJw"},t)},t))})}function eF(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}var eH=n(927259),eV=n(638731);let eG=["MIN","CENTER","MAX"];function ez({className:e,recordingKey:t}){let n=(0,C.kl)("stackMode"),a=(0,C.kl)("stackWrap"),[o,s]=(0,C.lJ)("stackPrimaryAlignItems"),[c,d]=(0,C.lJ)("stackCounterAlignItems"),[p,u]=(0,i.useState)(void 0),[_,x]=(0,i.useState)(void 0),v=(0,eV.sR)(),f=(0,eV.uV)(),y=(0,g.am)(),k=(0,r.d4)(ea.Sh),w=(0,eo.Vj)((0,er._6)()),E=(0,eu.rO)(o),S="BASELINE"===c,T=(0,i.useCallback)((e,t)=>{if(null==e||null==t){u(void 0),x(void 0);return}let l=eD(e,t,n,E,w),i=eK(e,t,n,S);u(l),x(i)},[n,S,E,u,x,w]),I=(0,i.useCallback)((e,t)=>{if(void 0===e||void 0===t){u(void 0),x(void 0);return}u(e),x(t)},[u,x]),b=m.rf(t,"click",(0,i.useCallback)(e=>{let t=p,n=_;e&&e.__interactionTest&&(t=e.primaryAlignItems,n=e.counterAlignItems),t&&n&&(E||s(t,M.zk.NO),d(n),y("Autolayout alignment grid used",{nodeIds:k}))},[p,_,E,d,y,s,k]),{recordMetadata:()=>({primaryAlignItems:p,counterAlignItems:_}),playbackMetadata:e=>({...e,__interactionTest:!0})}),N=(0,i.useCallback)((e,t)=>{void 0!==e&&void 0!==t&&(E||s(e,M.zk.NO),d(t),y("Autolayout alignment grid used",{nodeIds:k}))},[E,d,y,k,s]),{clearVariableConsumption:j}=(0,eH.O)("STACK_SPACING",en.rXF.FLOAT),A=(0,i.useCallback)((e,t)=>{f(void 0===t||t,e,M.zk.NO),j()},[f,j]),R=(0,i.useCallback)((e,t)=>{if(E){f(!1,"alignment double click",M.zk.NO);let l=eD(e,t,n,!1,w),i=eK(e,t,n,S);u(l),x(i),s(l,M.zk.NO),d(i),y("Autolayout spacing mode changed",{mode:l,doubleClick:!0})}else A("alignment double click"),d(eK(e,t,n,S))},[A,S,E,d,s,f,n,y,w]),O=(0,i.useCallback)(()=>{d("CENTER"),y("Disable baseline alignment",{source:"alignment grid"})},[d,y]),P=m.v_(t,"keydown",(0,i.useCallback)(e=>{function t(e){(0,eu.c4)((0,L.E7)(n))?s(e):d(e)}function l(e){"VERTICAL"===n?s(e):d(e)}function i(e,t){if((0,L.gl)(e))return"CENTER";let n=eG.indexOf(e);if(-1===n)return null;let l=(0,et.qE)(n+t,0,eG.length-1);return eG[l]}let r=(0,eu.c4)((0,L.E7)(n))?o:c,a="VERTICAL"===n?o:c;switch(e.keyCode){case q.Uz.ESCAPE:case q.Uz.ENTER:(0,el.kc)().ce_tv_fpl_al_alignment_grid?e.target.blur():e.currentTarget.blur();break;case q.Uz.UP_ARROW:{let e=i(a,-1);e&&l(e);break}case q.Uz.DOWN_ARROW:{let e=i(a,1);e&&l(e);break}case q.Uz.LEFT_ARROW:{let e=i(r,-1);e&&t(e);break}case q.Uz.RIGHT_ARROW:{let e=i(r,1);e&&t(e);break}case q.Uz.B:"HORIZONTAL"===n&&v("BASELINE"!==c,"alignment keyboard");break;case q.Uz.X:A("alignment keyboard",!(0,eu.rO)(o));break;case q.Uz.W:l("MIN");break;case q.Uz.A:t("MIN");break;case q.Uz.S:l("MAX");break;case q.Uz.D:t("MAX");break;case q.Uz.V:l("CENTER");break;case q.Uz.H:t("CENTER");break;default:(0,ei.jr)(e,ei.W0.YES,ei.VA.YES);return}e.preventDefault(),e.stopPropagation()},[A,c,o,v,d,s,n])),B=(0,l.jsx)(eS,{className:e,counterHover:_,onChangeAlignment:N,onClick:b,onDoubleClick:R,onHover:T,onHoverWithValues:I,onKeyDown:P,onRemoveBaseline:O,primaryHover:p,recordingKey:t,stackCounterAlignItems:c,stackMode:n,stackPrimaryAlignItems:o,stackWrap:a});return(0,l.jsx)(h.E,{name:"alignment_view",children:B})}function eD(e,t,n,l,i){return l?(0,el.kc)().ce_stack_justify_space_between||i?"SPACE_BETWEEN":"SPACE_EVENLY":eG["VERTICAL"===n?t:e]}function eK(e,t,n,l){return l?"BASELINE":eG["VERTICAL"===n?e:t]}var eU=n(865702);let eW=(0,i.memo)(function(e){return(0,l.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,l.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M9.653 6.008A1.5 1.5 0 0 1 11 7.5V10a.5.5 0 0 1-1 0V7.5a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5V14a.5.5 0 0 1 1 0v2.5a1.5 1.5 0 0 1-1.347 1.492L9.5 18h-2A1.5 1.5 0 0 1 6 16.5v-9A1.5 1.5 0 0 1 7.5 6h2zm7 0A1.5 1.5 0 0 1 18 7.5v9a1.5 1.5 0 0 1-1.347 1.492L16.5 18h-2a1.5 1.5 0 0 1-1.5-1.5V16a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 0-.5.5V8a.5.5 0 0 1-1 0v-.5A1.5 1.5 0 0 1 14.5 6h2zm-3.506 3.638a.5.5 0 0 1 .707 0l2 2a.5.5 0 0 1 0 .707l-2 2a.5.5 0 1 1-.707-.707l1.146-1.146H8.5a.5.5 0 0 1 0-1h5.793l-1.146-1.146a.5.5 0 0 1 0-.708"})})}),eX=(0,i.memo)(function(e){return(0,l.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,l.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M17.992 9.653A1.5 1.5 0 0 1 16.5 11H14a.5.5 0 0 1 0-1h2.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5H10a.5.5 0 0 1 0 1H7.5a1.5 1.5 0 0 1-1.492-1.347L6 9.5v-2A1.5 1.5 0 0 1 7.5 6h9A1.5 1.5 0 0 1 18 7.5v2zm0 7A1.5 1.5 0 0 1 16.5 18h-9a1.5 1.5 0 0 1-1.492-1.347L6 16.5v-2A1.5 1.5 0 0 1 7.5 13H8a.5.5 0 0 1 0 1h-.5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5H16a.5.5 0 0 1 0-1h.5a1.5 1.5 0 0 1 1.5 1.5v2zm-3.638-3.506a.5.5 0 0 1 0 .707l-2 2a.5.5 0 0 1-.707 0l-2-2a.5.5 0 1 1 .707-.707l1.146 1.146V8.5a.5.5 0 0 1 1 0v5.793l1.147-1.146a.5.5 0 0 1 .707 0"})})});var eY=n(485190),eZ=n(930532),e$=n(466082),eQ=n(284938),eq=n(98695),eJ=n(212198),e0=n(456556),e1=n(150292),e5=n(497503),e2=n(943360),e4=n(726577),e6=n(346524),e7=n(82219),e3=n(157750),e9=n(330116),e8=n(445019),te=n(610265),tt=n(309742),tn=n(393463),tl=n(639184),ti=n(859100),tr=n(574220),ta=n(215496),to=n(289252),ts=n(527205),tc=n(816379),td=n(355441),tp=n(271625);let tu="grid-hug-onboarding-key";function t_(e){let t=(0,e8.md)(tr.Fy),n=(0,e8.md)(tr.mp),{show:r,isShowing:a,complete:o}=(0,ti.e)({overlay:tp.ORG,priority:ta.N.DEFAULT_MODAL},[t,n]),{setIsShowing:s}=e;(0,i.useLayoutEffect)(()=>{s(a)},[a,s]),(0,tt.h)(()=>{(0,el.kc)().ce_tv_grid_ga&&r({canShow:(e,t)=>e&&null!=t&&(0,te.A)(t).isBefore("2025-11-01")})});let c=()=>{o()};return(0,l.jsx)(ts.rq,{arrowPosition:td.F_.RIGHT_BODY,description:(0,d.tx)("fullscreen.grid_hug_onboarding.body"),disableHighlight:!0,isShowing:a,media:(0,l.jsx)(to.y,{src:(0,tn.ck)("cb02e3a35f719dce3d06dd122be23fe4c4e2fcc2"),alt:"A GIF demonstrating new grid layout features",aspectRatio:16/9}),onClose:c,onTargetLost:c,pointToLeftEdge:!0,primaryCta:{label:(0,d.tx)("general.got_it"),type:"button",onClick:c,ctaTrackingDescriptor:tl.c.GOT_IT},secondaryCta:{label:(0,d.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/31289469907863",ctaTrackingDescriptor:tl.c.LEARN_MORE},targetKey:tu,title:(0,l.jsx)("p",{"data-testid":"grid-hug-onboarding-title",children:(0,d.tx)("fullscreen.grid_hug_onboarding.title")}),trackingContextName:"Grid Onboarding",zIndex:tc.R.MODAL})}let tg="grid_picker--cellVisual--B-735",tm="grid_picker--textSecondary--tBrvw",th="grid_picker--textDisabled--NWrpa",tx="grid_picker--gridBoxesContainer--Oh8K4",tv="grid_picker--gridBoxes--QMOtd",tf="grid_picker--gridCell--cgO6D",ty="grid_picker--selected--Ri4Ib",tk="grid_picker--initialSize--tYK8m",tC="grid_picker--gridCellWrapper--1RVNZ",tw="grid_picker--gridCellButton--o8lDq";var tE=n(139177),tS=n(179007),tT=n(900689);let tI=(e=!1)=>ep()(tg,{"grid_picker--cellVisualMixedSpan--OH-P4":e});function tb({recordingKey:e,disabled:t}){let[n,r]=(0,i.useState)(!1),[s,p]=(0,C.lJ)("gridColumnCount"),[u,_]=(0,C.lJ)("gridRowCount"),[g,h]=(0,i.useState)(!1),x=s&&(0,L.hS)(s)?s:null,v=u&&(0,L.hS)(u)?u:null,f=(0,i.useRef)(null),y=(0,e0.Fk)(e=>{let t=e.getDirectlySelectedNodes();return 0!==t.length&&t.every(e=>{if(!e)return!1;let t="GRID"===e.stackMode,n=0===e.childrenNodes.length;return t&&n})}),k=(0,e0.Fk)(()=>{let e=o.HV5?.getSingleSelectedPrimaryGridId();return e&&"-1:-1"!==e}),w=(0,el.kc)().ce_tv_grid_ga&&k,[E,S]=(0,i.useState)(null),T=(0,e3.J2)((0,eJ.UK)().showPropertyLabels),{getTriggerProps:I,getContainerProps:b}=e5.fP({isOpen:n,onOpenChange(e){(e||!g)&&(r(e),e?(o.Egt&&o.Egt.clearGridTrackOrCellSelection(),S({mode:"hover",hoveredIndex:null}),x&&v?f.current={cols:x,rows:v}:f.current=null):(S(null),f.current=null))},type:"dialog",placement:"bottom-start",offset:{mainAxis:T?-114:-96,crossAxis:-12},softDismiss:!0}),N=(e,t)=>{if(!y||null===e||null===t)return;let n=t>=1&&t<=100;if(!(e>=1&&e<=100)||!n)return;let l=e!==x,i=t!==v;(l||i)&&c.l7.user("grid-panel-empty-grid-immediate-resize",()=>{l&&p(e,M.zk.NO),i&&_(t,M.zk.NO)})},j=!s||!u||(0,L.gl)(s)||(0,L.gl)(u),A=0,O=0;!j&&x&&v?(A=x>10?10:x,O=v>8?8:v):j&&(A=2);let P=(e,t)=>{S(n=>{if(!n)return null;if("hover"===n.mode){let n={mode:"input",intermediateCols:"cols"===e?t:x,intermediateRows:"rows"===e?t:v};return N(n.intermediateCols,n.intermediateRows),n}if("input"===n.mode){let l="cols"===e?{...n,intermediateCols:t}:{...n,intermediateRows:t};return N(l.intermediateCols,l.intermediateRows),l}return n})},B=(e,t)=>{let n=null!==e&&e>=1&&e<=100&&e!==x,l=null!==t&&t>=1&&t<=100&&t!==v;n||l?c.l7.user("grid-panel-commit",()=>{let i=n&&!l?M.zk.YES:M.zk.NO;E?.mode==="hover"?o.HV5?.setDimensions(t,e):(n&&p(e,i),l&&_(t,M.zk.YES))}):c.l7.user("grid-panel-commit",()=>{_(t,M.zk.YES)})},F=(e,t)=>{let n="cols"===e?v:x;E?.mode==="input"&&(n="cols"===e?E.intermediateRows:E.intermediateCols),B("cols"===e?t:n,"rows"===e?t:n)},H=()=>{E?.mode==="hover"&&S({intermediateCols:x,intermediateRows:v,mode:"input"})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e2.E,{actionOnPointerDown:!0,...I({className:"grid_picker--gridWidget---ILVp",style:{"--cols":A}}),"aria-label":(0,d.t)("fullscreen.properties_panel.grid.open_grid_picker",{cols:null!==x?x:(0,d.t)("common.mixed"),rows:null!==v?v:(0,d.t)("common.mixed")}),recordingKey:m.Pt(e,"button"),"data-testid":"grid-picker-button",disabled:t,children:[(0,l.jsx)("div",{className:"grid_picker--gridWidgetLabel--rU7AG",children:j?(0,d.t)("common.mixed"):(0,l.jsxs)("span",{className:t?th:"",children:[String(x),(0,l.jsxs)("span",{className:t?th:tm,children:[" ","\xd7"," "]}),String(v)]})}),j?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:tI()}),(0,l.jsx)("div",{className:tI(!0)}),(0,l.jsx)("div",{className:tI()})]}):(0,et.M9)(A*O,e=>(0,l.jsx)("div",{className:tg},e))]}),n&&(0,l.jsx)(e5.mc,{...b({className:ep()("grid_picker--gridWidgetPopover--jurTD",{"grid_picker--gridWidgetPopoverWithEditButton--lNUL4":w}),style:{"--cols":12,"--rows":8}}),onKeyDown:e=>{if("Escape"===e.key){if(e.stopPropagation(),e.preventDefault(),y&&f.current){let e=f.current.cols,t=f.current.rows,n=x!==e,l=v!==t;(n||l)&&c.l7.user("grid-panel-revert-on-escape",()=>{n&&p(e,M.zk.NO),l&&_(t,M.zk.NO)})}S(null),r(!1)}"Enter"===e.key&&(S(null),r(!1))},children:(0,l.jsxs)(e4.i,{children:[(0,l.jsx)(tO,{recordingKey:e,value:s,onIntermediateChange:e=>P("cols",e),onCommit:e=>F("cols",e),onClick:H}),(0,l.jsx)("span",{className:tm,children:"\xd7"}),(0,l.jsx)(tP,{recordingKey:e,value:u,onIntermediateChange:e=>P("rows",e),onCommit:e=>F("rows",e),onClick:H}),(0,l.jsx)(tB,{gridState:E,setGridState:S,onReEnableHover:e=>{S({mode:"hover",hoveredIndex:e})},handleGridSelectionResizeAndCommit:({cols:e,rows:t})=>{E?.mode!=="input"&&(B(e,t),r(!1))},recordingKey:m.Pt(e,"gridBoxes"),initialGridSize:f.current}),w&&(0,l.jsx)("div",{className:"grid_picker--gridEditTracksButton--SAP26","data-onboarding-key":tu,children:(0,l.jsx)(a.IK,{variant:"secondary",onClick:()=>{o.HV5?.setGridTrackSelection([{index:0,axis:R._0.X}]),o.HV5?.trackEnteringGridTrackEditMenuFromUI()},children:(0,d.t)("fullscreen.properties_panel.grid.open_grid_settings")})}),(0,l.jsx)(e9.p,{children:(0,l.jsx)(t_,{setIsShowing:h})})]})})]})}function tN(e){return(0,l.jsx)(tb,{...e})}function tj(e,t){setTimeout(()=>{let n=e.target;if(n instanceof HTMLInputElement){let e=n.value,l=null;if(""===e)l=null;else{let t=parseInt(e,10);l=isNaN(t)?null:t}t(l)}},0)}class tA extends e7.M{constructor(e){super(),this.nodeField=e}getValueForNode(e){return e[this.nodeField]??0}setValueForNode(e,t){c.l7.user("set-grid-track-count",()=>{"gridRowCount"===this.nodeField?e.setGridRowCount(t,!0):"gridColumnCount"===this.nodeField&&e.setGridColumnCount(t,!0)})}}let tR=new tA("gridRowCount"),tL=new tA("gridColumnCount"),tO=i.memo(function({recordingKey:e,value:t,onIntermediateChange:n,onCommit:i,onClick:r}){return(0,l.jsx)(B.Ht,{className:tE.hF,"data-tooltip":(0,d.t)("fullscreen.properties_panel.grid.number_of_columns"),"data-tooltip-type":E.Ib.TEXT,dataTestId:"grid-columns",dispatch:eU.lQ,id:"grid-columns",inputClassName:tE.qE,max:100,min:1,mixedMathHandler:tL,onClick:r,onKeyDown:e=>{tj(e,n)},onValueChange:(e,t)=>{t?i(e):n(e)},recordingKey:m.Pt(e,"colInput"),value:t,children:(0,l.jsx)(v.B,{svg:tS.A,className:tE.QK})})}),tP=i.memo(function({recordingKey:e,value:t,onIntermediateChange:n,onCommit:i,onClick:r}){return(0,l.jsx)(B.Ht,{className:tE.hF,"data-tooltip":(0,d.t)("fullscreen.properties_panel.grid.number_of_rows"),"data-tooltip-type":E.Ib.TEXT,dataTestId:"grid-rows",dispatch:eU.lQ,id:"grid-rows",inputClassName:tE.qE,max:100,min:1,mixedMathHandler:tR,onClick:r,onKeyDown:e=>{tj(e,n)},onValueChange:(e,t)=>{t?i(e):n(e)},recordingKey:m.Pt(e,"rowInput"),value:t,children:(0,l.jsx)(v.B,{svg:tT.A,className:tE.QK})})});function tM({recordingKey:e,index:t,cellRow:n,cellCol:i,isLastRow:r,isHighlighted:a,isChecked:o,isInitialSize:s,mode:c,onReEnableHover:p,onCommit:u}){let _=(0,d.t)("fullscreen.properties_panel.grid.columns_and_rows",{cellCol:i,cellRow:n}),g=(0,d.t)("fullscreen.properties_panel.grid.columns_x_rows",{cellCol:i,cellRow:n}),h=m.rf(e,"click",()=>{"input"===c?p(t):"hover"===c&&u({cols:i,rows:n})});return(0,el.kc)().tv_grid_picker_radio?(0,l.jsx)(es.c$,{"aria-label":g,checked:o,className:tw,"data-idx":t,"data-tooltip":g,"data-tooltip-hide-immediately":!0,"data-tooltip-offset-y":4,"data-tooltip-timeout-delay":300,"data-tooltip-type":E.Ib.TEXT,onClick:h,value:`${i}x${n}`,children:(0,l.jsx)("div",{className:ep()(tC,{"grid_picker--cellWrapperPadding--XeH7n":(0,el.kc)().tv_grid_picker_radio&&!r}),children:(0,l.jsx)("div",{className:ep()(tf,{[ty]:a,[tk]:s})})})}):(0,l.jsxs)(e2.E,{className:tw,"data-idx":t,onClick:h,"data-tooltip":g,"data-tooltip-type":E.Ib.TEXT,"data-tooltip-offset-y":4,"data-tooltip-timeout-delay":300,"aria-pressed":o,children:[(0,l.jsx)("div",{className:tC,children:(0,l.jsx)("div",{className:ep()(tf,{[ty]:a,[tk]:s})})}),(0,l.jsx)(e6.E,{children:_})]})}let tB=i.memo(function({gridState:e,setGridState:t,onReEnableHover:n,handleGridSelectionResizeAndCommit:i,recordingKey:r,initialGridSize:a}){let o=(0,C.kl)("gridColumnCount"),s=(0,C.kl)("gridRowCount"),c=void 0!==o&&(0,L.hS)(o)?o:null,p=void 0!==s&&(0,L.hS)(s)?s:null,u=e?.mode==="hover"&&null!==e.hoveredIndex?e.hoveredIndex%12:-1,_=e?.mode==="hover"&&null!==e.hoveredIndex?Math.floor(e.hoveredIndex/12):-1,g=n=>{if(e?.mode!=="hover")return;let l=n.target,i=(0,el.kc)().tv_grid_picker_radio?l.closest("input[data-idx]"):l.closest("button[data-idx]");if(i){let n=i.getAttribute("data-idx");if(null!==n){let l=parseInt(n);isNaN(l)||l===e.hoveredIndex||t(e=>e?.mode==="hover"?{...e,hoveredIndex:l}:e)}}},h=t=>{e?.mode==="hover"&&g(t)},x=()=>{e?.mode==="hover"&&setTimeout(()=>{let e=null!==p?Math.min(p,8):null,n=null!==c?Math.min(c,12):null;t({mode:"hover",hoveredIndex:null!==e&&null!==n?(e-1)*12+n-1:null})},200)},v=e=>{let n=e.target;if(n.hasAttribute("data-idx")){let e=n.getAttribute("data-idx");if(null!==e){let n=parseInt(e);isNaN(n)||t(e=>e?"hover"===e.mode&&e.hoveredIndex!==n?{...e,hoveredIndex:n}:e:null)}}},f=n=>{let l=n.target.getAttribute("data-idx");if(!l)return;let r=parseInt(l),a=r%12,o=Math.floor(r/12),s=o,c=a;switch(n.code){case"KeyK":case"ArrowUp":s=Math.max(o-1,0);break;case"KeyJ":case"ArrowDown":s=Math.min(o+1,7);break;case"KeyH":case"ArrowLeft":c=Math.max(a-1,0);break;case"KeyL":case"ArrowRight":c=Math.min(a+1,11);break;case"Home":c=0;break;case"End":c=11;break;case"PageUp":s=0;break;case"PageDown":s=7;break;case"KeyX":{let e=s;s=c,c=e;break}case"Enter":if(e?.mode==="hover"){let e=Math.floor(r/12);i({cols:r%12+1,rows:e+1})}n.preventDefault(),n.stopPropagation();return;default:return}n.stopPropagation(),n.preventDefault();let d=12*s+c;t(e=>e?"hover"===e.mode?{...e,hoveredIndex:d}:"input"===e.mode?{mode:"hover",hoveredIndex:d}:e:null);let p=n.currentTarget.querySelector(`[data-idx='${d}']`);p?.focus()},y=(0,et.M9)(96,t=>{let c;let d=t%12,p=Math.floor(t/12),g=d===o&&p===s;if(e?.mode==="input"){let{intermediateCols:t,intermediateRows:n}=e;c="number"==typeof t&&t>0&&"number"==typeof n&&n>0&&d<t&&p<n}else c=e?.hoveredIndex!==null&&d<=u&&p<=_;let h=null!==a&&d<a.cols&&p<a.rows;return(0,l.jsx)(tM,{cellCol:d+1,cellRow:p+1,index:t,isChecked:g,isHighlighted:c,isInitialSize:h,isLastRow:7===p,mode:e?.mode||"hover",onCommit:i,onReEnableHover:n,recordingKey:m.Pt(r,p+1,d+1)},t)}),k=void 0!==o&&void 0!==s?`${o}x${s}`:void 0;return(0,el.kc)().tv_grid_picker_radio?(0,l.jsx)(es.bL,{value:k,className:tx,legend:(0,l.jsx)(ec.q,{children:(0,d.t)("fullscreen.properties_panel.grid.grid_dimensions")}),onPointerOver:h,onPointerLeave:x,onKeyDown:f,onFocusCapture:v,onChange:eU.lQ,children:(0,l.jsx)("div",{className:ep()(tv,{"grid_picker--gridBoxesRadio--ON43r":(0,el.kc)().tv_grid_picker_radio}),children:y})}):(0,l.jsx)("div",{className:ep()(tv,tx),onPointerOver:h,onPointerLeave:x,onKeyDown:f,onFocusCapture:v,children:y})});var tF=n(56107),tH=n(517478),tV=n(177102),tG=n(751543),tz=n(479420),tD=n(836038),tK=n(964731),tU=n(80053),tW=n(248046),tX=n(796557),tY=n(931547),tZ=n(943866),t$=n(27414),tQ=n(551492),tq=n(666534),tJ=n(604687),t0=n(503120);function t1({id:e,onClose:t,...n}){let a=(0,r.wA)(),o=(0,tq.kG)(e),s=(0,tZ.ZC)(o.showing),c=(0,t0.p)(),d=(0,i.useRef)(t);d.current=t,(0,i.useEffect)(()=>{s&&!o.showing&&d.current?.()},[o.showing,s]),(0,i.useEffect)(()=>()=>d.current?.(),[]);let p=()=>{o.showing&&(o.hide(),k.Y5.deselectProperty())},u=m.Pt(n,"trigger"),{x:_,y:g}=o.initialPosition;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t5,{name:n.buttonInteractableName,children:(0,l.jsx)(tX.d,{actionOnPointerDown:!0,onClick:t=>{if(t.stopPropagation(),o.showing){p();return}let{top:n}=t.currentTarget.getBoundingClientRect(),l=tJ.qo,i=c();i&&(l=window.innerWidth-i.getBoundingClientRect().left),a(t$.u1({id:e,initialX:l,initialY:n}))},"aria-expanded":!!o.showing,"aria-label":n.tooltip,recordingKey:u,htmlAttributes:{onPointerMove:()=>{o.showing&&a(tQ.jD())},"data-testid":u},children:n.icon})}),o.showing?(0,l.jsx)(t2,{name:n.windowTrackableName,children:(0,l.jsx)(tY.bL,{width:n.width,onClose:p,defaultPosition:{top:g,right:_},recordingKey:m.Pt(n,"window"),children:n.children})}):null]})}function t5({children:e,name:t}){return t?(0,l.jsx)(h.E,{name:t,children:e}):(0,l.jsx)(l.Fragment,{children:e})}function t2({children:e,name:t}){return t?(0,l.jsx)(x.k,{name:t,children:e}):(0,l.jsx)(l.Fragment,{children:e})}let t4="stack_layout_details_preview--stroke--vwnNY",t6="stack_layout_details_preview--strokeLight---VsUT",t7="stack_layout_details_preview--fill--y4wYS",t3="stack_layout_details_preview--fillWhite---Ejxr",t9="stack_layout_details_preview--fillTertiary--fhFQb",t8={reverseStackingOrder:function({enabled:e}){let t=[(0,l.jsxs)("g",{filter:"url(#reverse-stacking-order-filter)",children:[(0,l.jsx)("rect",{className:t3,x:"67",y:"40",width:"40",height:"40",rx:"20"}),(0,l.jsx)("path",{className:t7,d:"M88.4893 53.9091V67H87.294V55.1619H87.2173L84.1491 57.201V55.9609L87.2429 53.9091H88.4893Z"}),(0,l.jsx)("rect",{className:t4,x:"66.5",y:"39.5",width:"41",height:"41",rx:"20.5"})]},"1"),(0,l.jsxs)("g",{filter:"url(#reverse-stacking-order-filter)",children:[(0,l.jsx)("rect",{className:t3,x:"99",y:"40",width:"40",height:"40",rx:"20"}),(0,l.jsx)("path",{className:t7,d:"M114.964 67V66.1243L119.241 61.3175C119.799 60.6868 120.248 60.1477 120.589 59.7003C120.93 59.2528 121.177 58.8395 121.331 58.4602C121.488 58.081 121.567 57.6868 121.567 57.2777C121.567 56.7791 121.45 56.3445 121.216 55.9737C120.986 55.5987 120.668 55.3068 120.263 55.098C119.858 54.8892 119.402 54.7848 118.895 54.7848C118.358 54.7848 117.888 54.8999 117.483 55.13C117.082 55.3601 116.771 55.6754 116.549 56.076C116.328 56.4766 116.217 56.9368 116.217 57.4567H115.073C115.073 56.7322 115.239 56.0909 115.571 55.5327C115.908 54.9702 116.366 54.5291 116.946 54.2095C117.53 53.8899 118.19 53.7301 118.927 53.7301C119.656 53.7301 120.304 53.8878 120.87 54.2031C121.437 54.5142 121.883 54.9382 122.206 55.4751C122.53 56.0121 122.692 56.6129 122.692 57.2777C122.692 57.7592 122.607 58.2259 122.437 58.6776C122.27 59.1293 121.983 59.6321 121.574 60.1861C121.165 60.7401 120.598 61.4176 119.873 62.2188L116.626 65.843V65.9261H123.101V67H114.964Z"}),(0,l.jsx)("rect",{className:t4,x:"98.5",y:"39.5",width:"41",height:"41",rx:"20.5"})]},"2"),(0,l.jsxs)("g",{filter:"url(#reverse-stacking-order-filter)",children:[(0,l.jsx)("rect",{className:t3,x:"131",y:"40",width:"40",height:"40",rx:"20"}),(0,l.jsx)("path",{className:t7,d:"M151.048 67.179C150.243 67.179 149.522 67.0341 148.887 66.7443C148.252 66.4503 147.75 66.0433 147.379 65.5234C147.008 65.0036 146.812 64.4048 146.791 63.7273H147.999C148.02 64.2045 148.167 64.6222 148.44 64.9801C148.713 65.3338 149.075 65.6108 149.527 65.8111C149.978 66.0071 150.481 66.1051 151.035 66.1051C151.64 66.1051 152.173 65.9922 152.633 65.7663C153.098 65.5405 153.46 65.2315 153.72 64.8395C153.984 64.4432 154.116 63.9957 154.116 63.4972C154.116 62.9687 153.982 62.5021 153.713 62.0973C153.445 61.6925 153.059 61.3771 152.556 61.1513C152.058 60.9254 151.461 60.8125 150.767 60.8125H150V59.7386H150.767C151.333 59.7386 151.834 59.6364 152.269 59.4318C152.708 59.223 153.053 58.9311 153.304 58.5561C153.556 58.1811 153.681 57.7401 153.681 57.233C153.681 56.7514 153.573 56.3274 153.355 55.9609C153.138 55.5945 152.831 55.3068 152.435 55.098C152.043 54.8892 151.585 54.7848 151.061 54.7848C150.554 54.7848 150.089 54.8828 149.667 55.0788C149.245 55.2749 148.904 55.5518 148.645 55.9098C148.389 56.2678 148.252 56.6918 148.235 57.1818H147.078C147.096 56.5 147.283 55.9013 147.641 55.3857C148.003 54.8658 148.483 54.4609 149.079 54.1712C149.68 53.8771 150.345 53.7301 151.074 53.7301C151.845 53.7301 152.512 53.8878 153.074 54.2031C153.637 54.5185 154.071 54.9382 154.378 55.4624C154.689 55.9822 154.845 56.5554 154.845 57.1818C154.845 57.9276 154.642 58.5668 154.238 59.0994C153.833 59.6278 153.287 59.9943 152.601 60.1989V60.282C153.436 60.4482 154.093 60.8189 154.57 61.3942C155.051 61.9652 155.292 62.6662 155.292 63.4972C155.292 64.196 155.109 64.8246 154.743 65.3828C154.376 65.9368 153.873 66.3757 153.234 66.6996C152.599 67.0192 151.87 67.179 151.048 67.179Z"}),(0,l.jsx)("rect",{className:t4,x:"130.5",y:"39.5",width:"41",height:"41",rx:"20.5"})]},"3")];return e&&t.reverse(),(0,l.jsxs)("svg",{width:"240",height:"120",fill:"none",children:[t,(0,l.jsx)("rect",{className:t6,x:"58.5",y:"28.5",width:"123",height:"63",rx:"3.5",strokeDasharray:"4 2"}),(0,l.jsx)("defs",{children:(0,l.jsxs)("filter",{id:"reverse-stacking-order-filter",x:"-1px",y:"-1px",width:"44",height:"42",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB",children:[(0,l.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,l.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,l.jsx)("feOffset",{dx:"2"}),(0,l.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,l.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,l.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1112_23748"}),(0,l.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1112_23748",result:"shape"})]})})]})},alignToBaseline:function(){return(0,l.jsxs)("svg",{width:240,height:120,fill:"none",children:[(0,l.jsx)("path",{className:ep()("stack_layout_details_preview--alignToBaselineLine--oZDNc","stack_layout_details_preview--strokeAssistive--kDHg1"),d:"M38 60.5h164"}),(0,l.jsxs)("g",{className:"stack_layout_details_preview--alignToBaselineA--SuP1x",children:[(0,l.jsx)("path",{className:t7,d:"M63.8516 67L65.2514 63.0561H70.7486L72.1484 67H73.4013L68.6392 53.9091H67.3608L62.5987 67H63.8516ZM65.6349 61.9822L67.9553 55.4624H68.0447L70.3651 61.9822H65.6349Z"}),(0,l.jsx)("rect",{className:t4,x:46.5,y:38.5,width:43,height:43,rx:1.5})]}),(0,l.jsx)("rect",{className:ep()("stack_layout_details_preview--alignToBaselineEmpty--WsduM",t4),x:98.5,y:38.5,width:43,height:43,rx:1.5}),(0,l.jsxs)("g",{className:"stack_layout_details_preview--alignToBaselineG--WK-Hb",children:[(0,l.jsx)("path",{className:t7,d:"M171.843 68.8864C174.169 68.8864 175.895 67.7486 175.895 65.2557V55.1818H174.783V57.0547H174.668C174.265 56.1726 173.453 55.0476 171.651 55.0476C169.222 55.0476 167.592 57.0803 167.592 60.0653C167.592 63.076 169.279 64.8977 171.632 64.8977C173.396 64.8977 174.259 63.875 174.649 62.9737H174.751V65.1854C174.751 67.0135 173.581 67.8636 171.843 67.8636C170.161 67.8636 169.356 67.0518 168.941 66.304L168.007 66.9176C168.583 68.0426 169.835 68.8864 171.843 68.8864ZM171.766 63.8558C169.816 63.8558 168.736 62.2962 168.736 60.0462C168.736 57.8345 169.797 56.0831 171.766 56.0831C173.69 56.0831 174.77 57.745 174.77 60.0462C174.77 62.4176 173.658 63.8558 171.766 63.8558Z"}),(0,l.jsx)("rect",{className:t4,x:150.5,y:38.5,width:43,height:43,rx:1.5})]}),(0,l.jsx)("rect",{className:ep()("stack_layout_details_preview--alignToBaselineOutline--M728T",t6),x:38.5,y:30.5,width:163,height:59,rx:3.5,strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"})]})},bordersTakeSpace:function(){return(0,l.jsxs)("svg",{width:240,height:120,fill:"none",children:[(0,l.jsxs)("g",{className:"stack_layout_details_preview--bordersTakeSpaceLeft--EfeQs",children:[(0,l.jsx)("rect",{className:t9,x:"43",y:"37",width:"48",height:"48",rx:"2"}),(0,l.jsx)("rect",{className:t3,x:"49",y:"43",width:"36",height:"36",rx:"2"})]}),(0,l.jsxs)("g",{className:"stack_layout_details_preview--bordersTakeSpaceRight--dcLwV",children:[(0,l.jsx)("rect",{className:t9,x:"98",y:"37",width:"99",height:"48",rx:"2"}),(0,l.jsx)("rect",{className:t3,x:"104",y:"43",width:"87",height:"36",rx:"2"})]}),(0,l.jsx)("rect",{className:ep()("stack_layout_details_preview--bordersTakeSpaceOutline--JKaNz",t6),x:"48.5",y:"42.5",width:"143",height:"37",rx:"1.5",strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"})]})}};function ne({setting:e,enabled:t}){let n=e?t8[e]:null;return(0,l.jsx)("div",{className:ep()("stack_layout_details_preview--preview--z2lO-",{"stack_layout_details_preview--active--Z0iNA":t}),"data-non-interactive":!0,children:n?(0,l.jsx)(n,{enabled:t}):(0,l.jsx)("div",{className:"stack_layout_details_preview--previewText--SJKVZ",children:(0,d.tx)("fullscreen.properties_panel.stack_panel.preview")})})}let nt="stack_layout_details_modal--dropdownControl--dHgcR",nn="stack_layout_details_modal--input--SczvK",nl="stack_layout_details_modal--chevron--MODIu";function ni(e){let[t,n]=(0,i.useState)({enabled:!1}),r=(0,d.t)("fullscreen.properties_panel.section_autoLayout.settings");return(0,l.jsx)("span",{className:tE.Sj,children:(0,l.jsx)(t1,{id:"LAYOUT_DETAILS_PICKER",tooltip:r,buttonInteractableName:"open_stack_layout_details_modal_button",windowTrackableName:"stack_layout_details_modal",icon:(0,l.jsx)(tG.P,{}),recordingKey:e.recordingKey,children:(0,l.jsxs)(tH.vo,{children:[(0,l.jsx)(tH.Y9,{children:(0,l.jsx)(tH.hE,{children:r})}),(0,l.jsx)(tH.nB,{padding:0,children:(0,l.jsx)(nr,{hoveredSetting:t,setHoveredSetting:n,recordingKey:e.recordingKey})})]})})})}function nr({hoveredSetting:e,setHoveredSetting:t,recordingKey:n}){let i=(0,C.kl)("stackMode");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ne,{setting:e.setting,enabled:e.enabled}),(0,l.jsxs)("div",{className:"stack_layout_details_modal--controls--uPZoc",children:[(0,l.jsx)(ns,{updatePreview:t,recordingKey:n}),("HORIZONTAL"===i||"VERTICAL"===i||(0,L.gl)(i))&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(na,{updatePreview:t,recordingKey:n}),(0,l.jsx)(no,{updatePreview:t,recordingKey:n})]})]})]})}function na({updatePreview:e,recordingKey:t}){let n=(0,r.wA)(),a=(0,tK.Um)(),[o,s]=(0,C.lJ)("stackReverseZIndex"),c=(0,g.am)(),p=(0,r.d4)(ea.Sh),u=tD.Gq()?.getPrimaryLocale(!0)===tF.Locale.EN?120:180,_=(0,L.gl)(o),x=!0===o,v=i.useId();return(0,l.jsx)(h.E,{name:"stacking_order_control",children:(0,l.jsx)(tU.L,{label:(0,d.t)("fullscreen.properties_panel.stack_panel.canvas_stacking_order"),labelId:v,onMouseEnter:()=>e({setting:"reverseStackingOrder",enabled:x}),onMouseLeave:()=>e({enabled:!1}),children:(0,el.kc)().ce_tv_fpl_select?(0,l.jsx)("span",{className:nt,children:(0,l.jsxs)(tV.Root,{value:_?"Mixed":o?"TRUE":"FALSE",onChange:e=>{s("TRUE"===e),c(x?"Enable reverse zIndex":"Disable reverse zIndex",{nodeIds:p})},onSelectionChange:t=>e({setting:null!=t?"reverseStackingOrder":void 0,enabled:"TRUE"===t}),recordingKey:m.Pt(t,"reverseStackingOrder"),children:[(0,l.jsx)(tV.ManuallyLabeledTrigger,{id:v,width:"fill"}),(0,l.jsxs)(tV.Container,{children:[_&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(tV.Option,{value:"Mixed",disabled:!0,children:(0,d.t)("fullscreen.mixed")}),(0,l.jsx)(tV.Separator,{})]}),(0,l.jsx)(tV.Option,{value:"TRUE",children:nc.format(!0)}),(0,l.jsx)(tV.Option,{value:"FALSE",children:nc.format(!1)})]})]})}):(0,l.jsxs)(tW.l6,{ariaLabelledBy:v,chevronClassName:nl,className:nt,dispatch:n,dropdownAlignment:"right",dropdownShown:a,dropdownWidth:u,formatter:nc,id:"reverse-stacking-order-select",inputClassName:nn,onChange:e=>{s(e),c(e?"Enable reverse zIndex":"Disable reverse zIndex",{nodeIds:p})},onOptionFocus:t=>e({setting:null!=t?"reverseStackingOrder":void 0,enabled:!!t}),property:o,recordingKey:m.Pt(t,"reverseStackingOrder"),children:[(0,l.jsx)(tW.c$,{value:!0}),(0,l.jsx)(tW.c$,{value:!1})]})})})}function no({updatePreview:e,recordingKey:t}){let n=(0,C.kl)("stackMode"),i="BASELINE"===(0,C.kl)("stackCounterAlignItems"),r="HORIZONTAL"!==n,a=(0,eV.sR)();return(0,l.jsx)(h.E,{name:"baseline_alignment_control",children:(0,l.jsx)(tz.k,{label:(0,d.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),recordingKey:m.Pt(t,"alignToBaseline"),property:i,disabled:r,onChange:t=>{a(t,"modal"),e({setting:"alignToBaseline",enabled:t})},onFocus:t=>{e({setting:"alignToBaseline",enabled:i})},onHover:(t,n)=>{e({setting:"ENTER"===n?"alignToBaseline":void 0,enabled:t})},"data-tooltip":r?(0,d.t)("fullscreen.properties_panel.stack_panel.only_applicable_for_horizontal_layout"):void 0,"data-tooltip-type":E.Ib.TEXT})})}function ns({updatePreview:e,recordingKey:t}){let n=(0,r.wA)(),a=(0,tK.Um)(),[o,s]=(0,C.lJ)("bordersTakeSpace"),c=(0,g.am)(),p=(0,r.d4)(ea.Sh),u=(0,L.gl)(o),_=!0===o,x=i.useId();return(0,l.jsx)(h.E,{name:"borders_take_space_control",children:(0,l.jsx)(tU.L,{label:(0,d.t)("fullscreen.properties_panel.stack_panel.borders_take_space"),labelId:x,onMouseEnter:()=>e({setting:"bordersTakeSpace",enabled:_}),onMouseLeave:()=>e({enabled:!1}),children:(0,el.kc)().ce_tv_fpl_select?(0,l.jsx)("span",{className:nt,children:(0,l.jsxs)(tV.Root,{value:u?"Mixed":_?"TRUE":"FALSE",onChange:e=>{s("TRUE"===e),c("change_borders_take_space",{enabled:"TRUE"===e,source:"modal",nodeIds:p})},onSelectionChange:t=>e({setting:null!=t?"bordersTakeSpace":void 0,enabled:"TRUE"===t}),recordingKey:m.Pt(t,"bordersTakeSpace"),children:[(0,l.jsx)(tV.ManuallyLabeledTrigger,{id:x,width:"fill"}),(0,l.jsxs)(tV.Container,{children:[u&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(tV.Option,{value:"Mixed",disabled:!0,children:(0,d.t)("fullscreen.mixed")}),(0,l.jsx)(tV.Separator,{})]}),(0,l.jsx)(tV.Option,{value:"TRUE",children:nd.format(!0)}),(0,l.jsx)(tV.Option,{value:"FALSE",children:nd.format(!1)})]})]})}):(0,l.jsxs)(tW.l6,{ariaLabelledBy:x,chevronClassName:nl,className:nt,dispatch:n,dropdownShown:a,dropdownWidth:168,formatter:nd,id:"borders-take-space-select",inputClassName:nn,onChange:e=>{s(e),c("change_borders_take_space",{enabled:e,source:"modal",nodeIds:p})},onOptionFocus:t=>e({setting:null!=t?"bordersTakeSpace":void 0,enabled:!!t}),property:_,recordingKey:m.Pt(t,"bordersTakeSpace"),children:[(0,l.jsx)(tW.c$,{value:!0}),(0,l.jsx)(tW.c$,{value:!1})]})})})}let nc={format:e=>e?(0,d.t)("fullscreen.properties_panel.stack_panel.first_on_top"):(0,d.t)("fullscreen.properties_panel.stack_panel.last_on_top")},nd={format:e=>e?(0,d.t)("fullscreen.properties_panel.stack_panel.included"):(0,d.t)("fullscreen.properties_panel.stack_panel.excluded"),formatExtended:e=>({text:e?(0,d.t)("fullscreen.properties_panel.stack_panel.included_in_layout"):(0,d.t)("fullscreen.properties_panel.stack_panel.excluded_from_layout")})};var np=n(271445),nu=n(991279);function n_({recordingKey:e}){let t=function(e){let t=(0,r.d4)(ea.Sh),n=1===t.length&&t[0]?t[0]:"";return(0,e0.Fk)((t,n)=>{let l=t.get(n);return l?"PARENT"===e&&l.isGrid?n:"CHILD"===e&&l.isGridChild?n:null:null},n)}("CHILD"),n=(0,e0.Fk)((e,t)=>{if(!t)return null;let n=e.get(t);return n&&n.isGridChild?{rowAnchorIndex:n.gridRowAnchorIndex,columnAnchorIndex:n.gridColumnAnchorIndex,rowSpan:n.gridRowSpan,columnSpan:n.gridColumnSpan}:null},t),a=(0,i.useCallback)((e,t)=>{c.l7.user("grid-panel",()=>{o.HV5&&t>=0&&o.HV5.setTrackAnchor(e,t)})},[]),s=(0,i.useCallback)((e,n)=>{null!==t&&c.l7.user("grid-panel",()=>{let l=(0,e$.UN)(),i=l.get(t),r=i&&i.parentGuid&&l.get(i.parentGuid);i&&r&&n>=1&&(e===o.CXS.ROW?i.gridRowAnchorIndex+n<=r.gridRowCount&&(i.gridRowSpan=n):i.gridColumnAnchorIndex+n<=r.gridColumnCount&&(i.gridColumnSpan=n))})},[t]);return(0,eu.wx)()?null:t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.fn,{leftLabel:"Rows",rightLabel:"Columns",leftInput:(0,l.jsx)(B.Ht,{value:n?.rowAnchorIndex??void 0,onValueChange:e=>a(o.CXS.ROW,e),recordingKey:m.Pt(e,"grid-rows"),id:"grid-rows",dispatch:eU.lQ,"data-tooltip-type":E.Ib.TEXT,"data-tooltip":(0,d.t)("fullscreen.properties_panel.grid.row_index"),children:(0,l.jsx)("span",{className:`${tE.QK} svg`,children:(0,d.t)("fullscreen.properties_panel.grid_panel.r")})}),rightInput:(0,l.jsx)(B.Ht,{value:n?.columnAnchorIndex??void 0,onValueChange:e=>a(o.CXS.COLUMN,e),recordingKey:m.Pt(e,"grid-columns"),id:"grid-columns",dispatch:eU.lQ,"data-tooltip-type":E.Ib.TEXT,"data-tooltip":(0,d.t)("fullscreen.properties_panel.grid.column_index"),children:(0,l.jsx)("span",{className:`${tE.QK} svg`,children:(0,d.t)("fullscreen.properties_panel.grid_panel.c")})}),icon:null}),(0,l.jsx)(u.fn,{leftLabel:"Rows",rightLabel:"Columns",leftInput:(0,l.jsx)(B.Ht,{value:n?.rowSpan,onValueChange:e=>s(o.CXS.ROW,e),recordingKey:m.Pt(e,"grid-rows"),id:"grid-rows",dispatch:eU.lQ,"data-tooltip-type":E.Ib.TEXT,"data-tooltip":(0,d.t)("fullscreen.properties_panel.grid.vertical_span"),children:(0,l.jsx)(v.B,{svg:nu.A,className:tE.QK})}),rightInput:(0,l.jsx)(B.Ht,{value:n?.columnSpan,onValueChange:e=>s(o.CXS.COLUMN,e),recordingKey:m.Pt(e,"grid-columns"),id:"grid-columns",dispatch:eU.lQ,"data-tooltip-type":E.Ib.TEXT,"data-tooltip":(0,d.t)("fullscreen.properties_panel.grid.horizontal_span"),children:(0,l.jsx)(v.B,{svg:np.A,className:tE.QK})}),icon:null})]}):null}function ng({recordingKey:e}){let t=(0,e0.Fk)(e=>{let t=e.getDirectlySelectedNodes();if(1!==t.length)return null;let n=t[0];if(!n||!n.isGridChild||"ABSOLUTE"===n.stackPositioning)return null;let l=n.parentNode;if(!l||!l.isGrid)return null;let i=l.gridRowSizesInOrder[n.gridRowAnchorIndex],r=l.gridColumnSizesInOrder[n.gridColumnAnchorIndex];return i&&r?{gridChildId:n.guid,rowSpan:n.gridRowSpan,columnSpan:n.gridColumnSpan,maxRowSpan:l.gridRowCount-n.gridRowAnchorIndex,maxColumnSpan:l.gridColumnCount-n.gridColumnAnchorIndex}:null}),n=(0,eQ.S)({min:1,max:t?.maxColumnSpan}),r=(0,eQ.S)({min:1,max:t?.maxRowSpan}),a=(0,i.useCallback)((e,n,l)=>{null!==t&&null!==t.gridChildId&&c.l7.user("grid-panel",()=>{let i=(0,e$.UN)().get(t.gridChildId),r=i&&i.parentNode;i&&r&&(i.setSpanAndUpdateChildPositions(e,n),l&&k.Y5.triggerAction("commit"))})},[t]);return t?(0,l.jsx)(u.fn,{leftLabel:(0,d.t)("fullscreen.properties_panel.grid.column_span"),rightLabel:(0,d.t)("fullscreen.properties_panel.grid.row_span"),leftInput:(0,l.jsx)(eq.N,{"aria-label":(0,d.t)("fullscreen.properties_panel.grid.column_span"),formatter:n,value:t.columnSpan,onChange:(e,{commit:t})=>{a(R._0.X,e,t)},icon:(0,l.jsx)(eW,{}),recordingKey:m.Pt(e,"gridColumnSpan"),"data-testid":"grid-column-span-input"}),rightInput:(0,l.jsx)(eq.N,{"aria-label":(0,d.t)("fullscreen.properties_panel.grid.row_span"),formatter:r,value:t.rowSpan,onChange:(e,{commit:t})=>{a(R._0.Y,e,t)},icon:(0,l.jsx)(eX,{}),recordingKey:m.Pt(e,"gridRowSpan"),"data-testid":"grid-row-span-input"}),icon:null}):null}function nm({recordingKey:e,isSelectionStackOrGrid:t}){return(0,l.jsxs)(l.Fragment,{children:[(0,el.kc)().ce_tv_grid_ga&&(0,l.jsx)(ng,{recordingKey:e}),t&&(0,l.jsx)(nh,{recordingKey:e}),(0,el.kc)().ce_tv_grid_experimental&&(0,l.jsx)(n_,{recordingKey:e})]})}function nh({recordingKey:e}){let t=(0,C.kl)("isInstanceSelected"),n=(0,C.kl)("isNonEditableInstanceSublayerSelected");return"GRID"!==(0,C.kl)("stackMode")?null:(0,l.jsx)(Y.iZ,{leftLabel:(0,d.t)("fullscreen.properties_panel.stack_panel.grid"),rightLabel:(0,d.t)("fullscreen.properties_panel.section_autoLayout.label_gap"),leftInput:(0,l.jsx)(tN,{recordingKey:m.Pt(e,"gridPicker"),disabled:!!(t||n)}),topRightInput:(0,l.jsx)(nv,{recordingKey:m.Pt(e,"gridColumnSpacingControl")}),bottomRightInput:(0,l.jsx)(ny,{recordingKey:m.Pt(e,"gridRowSpacingControl")}),topIcon:(0,l.jsx)(ni,{recordingKey:m.Pt(e,"stackLayoutDetails")}),bottomIcon:null})}let nx=["GRID_COLUMN_GAP"];function nv({recordingKey:e}){let t=(0,eu.Wx)(),n=(0,eu.Y9)(),{bigNudgeAmount:r,smallNudgeAmount:a}=(0,eJ.sT)(),[s,p]=(0,C.lJ)("gridColumnGap"),u=i.useCallback((e,t)=>{c.l7.user("grid-panel",()=>{(0,L.SX)(e)||p(e,t)})},[p]),_=(0,l.jsx)(B.$j,{bigNudgeAmount:r,"data-tooltip":(0,d.t)("fullscreen.properties_panel.grid.gap_between_columns"),"data-tooltip-type":E.Ib.TEXT,dataTestId:"grid-col-spacing-control",dispatch:eU.lQ,inputClassName:tE.hF,isTokenizable:!0,noBorderOnHover:!0,onBlur:()=>t(o.RN9.SPACING,!1),onFocus:()=>t(o.RN9.SPACING,!0),onMouseEnter:()=>n(o.RN9.SPACING,!0),onMouseLeave:()=>n(o.RN9.SPACING,!1),onScrubBegin:()=>t(o.RN9.SPACING,!0),onScrubEnd:()=>t(o.RN9.SPACING,!1),onValueChange:u,recordingKey:e,smallNudgeAmount:a,value:s??0,children:(0,l.jsx)(eY.E,{className:tE.QK})});return(0,el.kc)().grid_gap_vars?(0,l.jsx)(e1.sA,{fields:nx,resolvedType:en.rXF.FLOAT,currentFieldValue:(0,L.hS)(s)?s:void 0,children:_}):_}let nf=["GRID_ROW_GAP"];function ny({recordingKey:e}){let t=(0,eu.Wx)(),n=(0,eu.Y9)(),{bigNudgeAmount:r,smallNudgeAmount:a}=(0,eJ.sT)(),[s,p]=(0,C.lJ)("gridRowGap"),u=i.useCallback((e,t)=>{c.l7.user("grid-panel",()=>{(0,L.SX)(e)||p(e,t)})},[p]),_=(0,l.jsx)(B.$j,{bigNudgeAmount:r,"data-tooltip":(0,d.t)("fullscreen.properties_panel.grid.gap_between_rows"),"data-tooltip-type":E.Ib.TEXT,dataTestId:"grid-row-spacing-control",dispatch:eU.lQ,inputClassName:tE.hF,isTokenizable:!0,noBorderOnHover:!0,onBlur:()=>t(o.RN9.COUNTER_SPACING,!1),onFocus:()=>t(o.RN9.COUNTER_SPACING,!0),onMouseEnter:()=>n(o.RN9.COUNTER_SPACING,!0),onMouseLeave:()=>n(o.RN9.COUNTER_SPACING,!1),onScrubBegin:()=>t(o.RN9.COUNTER_SPACING,!0),onScrubEnd:()=>t(o.RN9.COUNTER_SPACING,!1),onValueChange:u,recordingKey:e,smallNudgeAmount:a,value:s??0,children:(0,l.jsx)(eZ.W,{className:tE.QK})});return(0,el.kc)().grid_gap_vars?(0,l.jsx)(e1.sA,{fields:nf,resolvedType:en.rXF.FLOAT,currentFieldValue:(0,L.hS)(s)?s:void 0,children:_}):_}var nk=n(421837),nC=n(727640),nw=n(39899),nE=n(423407),nS=n(97388),nT=n(466284),nI=n(339838),nb=n(454705),nN=n(799272);let nj="grid-onboarding-key";function nA(){let e=(0,e8.md)(tr.Fy),t=(0,e8.md)(tr.mp),{show:n,isShowing:i,complete:r}=(0,ti.e)({overlay:tp.c$$,priority:ta.N.SECONDARY_MODAL},[e,t]);(0,tt.h)(()=>{n({canShow:(e,t)=>e&&null!=t&&(0,te.A)(t).isBefore("2025-05-07")})});let a=()=>{r()};return(0,l.jsx)(ts.rq,{arrowPosition:td.F_.RIGHT_BODY,description:(0,d.tx)("fullscreen.grid_onboarding.body"),disableHighlight:!0,isShowing:i,media:(0,l.jsx)(to.y,{src:(0,tn.ck)("2e525d09f6957555822a1b327dea20c644cea10d"),alt:"A GIF demonstrating a frame with grid layout applied.",aspectRatio:16/9}),onClose:a,onTargetLost:a,pointToLeftEdge:!0,primaryCta:{label:(0,d.tx)("general.got_it"),type:"button",onClick:a,ctaTrackingDescriptor:tl.c.GOT_IT},secondaryCta:{label:(0,d.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/31289469907863",ctaTrackingDescriptor:tl.c.LEARN_MORE},targetKey:nj,title:(0,l.jsx)("p",{"data-testid":"grid-onboarding-title",children:(0,d.tx)("fullscreen.grid_onboarding.title")}),trackingContextName:"Grid Onboarding"})}var nR=n(890926),nL=n(910496);function nO(){return(0,p.R)(e=>{let{mirror:{appModel:t,selectionProperties:{propertiesPanelShouldShowRemoveAutoLayout:n,propertiesPanelShouldShowAddAutoLayout:l,containsStacksNeedingAlignmentMigration:i,stackMode:r,stackWrap:a}}}=e;return{showMigrationUi:i,actionEnabledStackSelection:(0,nL.Yh)(t,"stack-selection"),actionEnabledMultiStackSelection:(0,nL.Yh)(t,"run-multi-stack-auto-layout"),actionEnabledUnstackSelection:(0,nL.Yh)(t,"unstack-selection"),propertiesPanelShouldShowRemoveAutoLayout:n,propertiesPanelShouldShowAddAutoLayout:l,wrappingEnabled:("HORIZONTAL"===r||(0,L.gl)(r))&&("WRAP"===a||(0,L.gl)(a))}})}var nP=n(65635),nM=n(198197),nB=n(93536);function nF({recordingKey:e,isSelectionStackOrGrid:t}){let n=(0,C.kl)("stackMode"),i=(0,r.d4)(ea.Sh),a=(0,T.b7)(),o=(0,r.d4)(e=>(0,T.aW)(void 0,e.mirror.selectionProperties,void 0)),s=(0,C.kl)("isInstanceSelected"),c=(0,C.kl)("isSlotSelected"),p=!!(0,C.kl)("isSlotDefinitionSelected"),_=(0,C.kl)("nodesAllAcceptLayoutChanges"),g=i.length>1,{propertiesPanelShouldShowAddAutoLayout:m,propertiesPanelShouldShowRemoveAutoLayout:h}=nO(),{isNoLayoutControlReadOnly:x,isStackControlReadOnly:f,isGridControlReadOnly:y}=function(){let e=(0,eo.cJ)(),t=(0,r.d4)(ea.F4),n=(0,e$.UN)(),l={isNoLayoutControlReadOnly:!1,isStackControlReadOnly:!1,isGridControlReadOnly:!1};if(!n||!e||!nR.e)return l;for(let e of t){if(e.isInPrimaryBreakpointFrame)return{isNoLayoutControlReadOnly:!1,isStackControlReadOnly:!1,isGridControlReadOnly:!1};{let t=e.primaryGluedNodeId;if(t){let i=n.get(t);if(i&&i.visible&&(e.isGrid?(l.isNoLayoutControlReadOnly=!0,l.isStackControlReadOnly=!0):(e.isStack?l.isNoLayoutControlReadOnly=!0:l.isStackControlReadOnly=!0,l.isGridControlReadOnly=!0),l.isNoLayoutControlReadOnly&&l.isStackControlReadOnly&&l.isGridControlReadOnly))break}}}return l}(),w=function(){let e=(0,C.kl)("isSlotDefinitionSelected"),t=(0,T.b7)(),n=(0,T._r)();return(0,nN.$)()&&e?{"data-tooltip":(0,d.t)("fullscreen.properties_panel.grid.disabled_for_slots"),"data-tooltip-type":E.Ib.TEXT}:!t&&n?{"data-tooltip":(0,d.t)("cms_binding.visual_bell.repeater_grid_not_supported"),"data-tooltip-type":E.Ib.TEXT}:{"data-tooltip":nV,"data-tooltip-type":E.Ib.SPECIAL}}();return(o||t)&&(_||s||c)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.DE,{input:(0,l.jsxs)(nC.bL,{value:g&&!a&&m&&!h?L.oV:n,readonly:!o,onChange:e=>{"NONE"===e?k.Y5.triggerActionInUserEditScope("unstack-selection",{source:"panel"}):k.Y5.triggerActionInUserEditScope("stack-selected-nodes",{source:"panel",stackMode:e})},recordingKey:"layout",legend:(0,l.jsx)(ec.q,{children:(0,d.t)("fullscreen.properties_panel.stack_panel.layout")}),"data-onboarding-key":nj,children:[(0,l.jsx)(nC.c$,{value:"NONE",readonly:!o||x||void 0,icon:(0,l.jsx)(nS.x,{"data-testid":"Icon24AlLayoutGridNoneSmall"}),"aria-label":(0,d.t)("fullscreen.properties_panel.stack_panel.freeform")}),(0,l.jsx)(nC.c$,{value:"VERTICAL",readonly:!o||f||void 0,icon:(0,l.jsx)(nT.z,{"data-testid":"Icon24AlLayoutGridVerticalSmall"}),"aria-label":(0,d.t)("fullscreen.properties_panel.stack_panel.vertical")}),(0,l.jsx)(nC.c$,{value:"HORIZONTAL",readonly:!o||f||void 0,icon:(0,l.jsx)(nI.Z,{"data-testid":"Icon24AlLayoutGridHorizontalSmall"}),"aria-label":(0,d.t)("fullscreen.properties_panel.stack_panel.horizontal")}),(0,l.jsx)(nC.c$,{value:"GRID",readonly:!o||!a||y||p||void 0,icon:(0,l.jsx)(v.B,{svgClassName:nP.m7,svg:nM.A,dataTestId:"gridLayoutIcon"}),"aria-label":(0,d.t)("fullscreen.properties_panel.stack_panel.grid"),...w})]}),icon:(0,l.jsx)(nH,{recordingKey:e}),label:(0,d.t)("fullscreen.properties_panel.grid.flow")}),(0,l.jsx)(e9.p,{children:(0,l.jsx)(nA,{})})]}):null}function nH(e){let t=(0,C.kl)("stackMode"),n=(0,C.kl)("stackWrap"),i=(0,g.am)(),a=(0,r.d4)(ea.Sh),s=(0,r.d4)(e=>(0,T.aW)(void 0,e.mirror.selectionProperties,void 0));return"HORIZONTAL"!==t?null:(0,l.jsx)(nw.f,{variant:"highlighted","aria-label":(0,d.t)("fullscreen.properties_panel.stack_panel.wrap"),checked:"WRAP"===n,disabled:!s,onIcon:(0,l.jsx)(v.B,{svg:nB.A}),offIcon:(0,l.jsx)(v.B,{svg:nB.A}),onChange:()=>{let e="WRAP"===n?"HORIZONTAL":"WRAP";i("Stack Mode Changed",{newStackWrap:e,nodeIds:a}),c.l7.user("set-stack-mode",()=>o.Qa7?.setStackModeAndFlipPrimaryAndCounterAxisValues(e))},recordingKey:m.Pt(e,"stackWrap")})}let nV=(0,J.ex)("grid_beta_special_tooltip",function({gridString:e,betaString:t}){return(0,l.jsxs)("span",{className:nP.Hh,children:[e,(0,l.jsx)(nb.J,{mode:"light",children:(0,l.jsx)(nE.E,{variant:"inverseFilled",children:t})})]})},e=>({gridString:(0,d.t)("fullscreen.properties_panel.stack_panel.grid"),betaString:(0,d.t)("general.beta")}));var nG=n(902208),nz=n(514566);function nD({recordingKey:e}){let[t,n]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),c=(0,nz.U)();(0,w.f4)(e=>{let{stackHorizontalPadding:t,stackPaddingRight:l,stackVerticalPadding:i,stackPaddingBottom:r}=e.mirror.selectionProperties,a=(0,L.q)(t,l),o=(0,L.q)(i,r);n((0,L.gl)(a)||(0,L.gl)(o)||c)});let p=(0,g.am)(),u=(0,r.d4)(ea.Sh),_=(0,l.jsx)(tX.d,{onClick:()=>{n(!t),o.Qa7?.setFocusStackPanelInput(o.RN9.PADDING_ALL,!1),p(t?"Disable autolayout independent padding":"Enable autolayout independent padding",{nodeIds:u})},"aria-expanded":t,actionOnPointerDown:!0,"aria-label":(0,d.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),recordingKey:m.Pt(e,"showAllPaddingControls"),"data-tooltip":(0,d.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),"data-tooltip-type":E.Ib.TEXT,"data-test-id":"stack-padding-toggle",children:(0,l.jsx)(nG.s,{})});return(0,l.jsx)(h.E,{name:"stack_padding_controls",children:(0,l.jsx)(nK,{showAllPaddingControls:t,showSinglePaddingControl:a,setShowSinglePaddingControl:s,recordingKey:e,handleClick:function(e){(0,q.Fo)(e)&&s(!0)},showAllPaddingControlsToggle:_})})}function nK({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:i,handleClick:r,showAllPaddingControlsToggle:a}){return(0,l.jsx)(Y.W7,{bottomIcon:null,collapsedLeftInput:(0,l.jsx)(nU,{paddingSelection:eu.mx.HORIZONTAL,onClick:r,recordingKey:i,inputTestId:"padding-horizontal"}),collapsedRightInput:(0,l.jsx)(nU,{paddingSelection:eu.mx.VERTICAL,onClick:r,recordingKey:i,inputTestId:"padding-vertical"}),expandedBottomLeftInput:(0,l.jsx)(nU,{paddingSelection:eu.mx.RIGHT,onClick:r,recordingKey:i}),expandedBottomRightInput:(0,l.jsx)(nU,{paddingSelection:eu.mx.BOTTOM,onClick:r,recordingKey:i}),expandedTopLeftInput:(0,l.jsx)(nU,{paddingSelection:eu.mx.LEFT,onClick:r,recordingKey:i}),expandedTopRightInput:(0,l.jsx)(nU,{paddingSelection:eu.mx.TOP,onClick:r,recordingKey:i}),leftLabel:(0,d.tx)("fullscreen.properties_panel.section_autoLayout.label_padding"),rightLabel:null,showAllPaddingControls:e,showSinglePaddingControl:t,singleInput:(0,l.jsx)(nU,{paddingSelection:eu.mx.ALL,focusOnMount:!0,recordingKey:i,setShowSinglePaddingControl:n}),topIcon:a})}function nU({className:e,paddingSelection:t,recordingKey:n,inputTestId:i,onClick:r,onBlur:a,focusOnMount:s,setShowSinglePaddingControl:c}){let d=(0,eu.Wx)(),p=(0,eu.Y9)();return(0,l.jsx)(nz.s,{focusOnMount:s,inputTestId:i,onBlur:e=>{o.Qa7?.setFocusStackPanelInput(t,!1),a?.(e)},onClick:r,onFocus:()=>o.Qa7?.setFocusStackPanelInput(t,!0),onMouseEnter:()=>p(t,!0),onMouseLeave:()=>p(t,!1),onNudge:()=>o.glU?.temporarilyHideOverlay(o.hJs.SELECTION),onScrubBegin:()=>d(t,!0),onScrubEnd:()=>d(t,!1),outerClassName:e,paddingSelection:t,recordingKey:m.Pt(n,"stackPadding",eu.mx[t]),setShowSinglePaddingControl:c,source:"panel"})}var nW=n(414888),nX=n(349722);function nY(e){let{propertiesPanelShouldShowRemoveAutoLayout:t}=nO(),n=t?(0,d.t)("fullscreen.properties_panel.stack_panel.remove_auto_layout"):(0,d.t)("fullscreen.properties_panel.stack_panel.use_auto_layout"),{actionEnabledStackSelection:r,actionEnabledUnstackSelection:a}=nO(),o=t?a:r,s=t?"unstack-selection":"stack-selection",c=(0,i.useCallback)(()=>{k.Y5.triggerActionInUserEditScope(s,{source:"panel"})},[s]);return(0,l.jsx)(nw.f,{"aria-label":(0,d.t)("fullscreen.accessibility.auto_layout_toggled"),checked:t,"data-tooltip":n,"data-tooltip-shortcut-key":s,"data-tooltip-type":E.Ib.TEXT,disabled:!o,offIcon:(0,l.jsx)(nZ,{}),onChange:c,onIcon:(0,l.jsx)(nZ,{}),recordingKey:m.Pt(e.recordingKey,t?"removeButton":"addButton"),variant:"highlighted"})}function nZ(){let{propertiesPanelShouldShowRemoveAutoLayout:e}=nO();return e?(0,l.jsx)(nX.v,{}):(0,l.jsx)(nW.Q,{})}var n$=n(814044),nQ=n(15171);function nq(e){return(0,l.jsx)(_.k,{id:"StackPanelV4",children:(0,l.jsx)(x.k,{name:"stack_panel",children:(0,l.jsx)("div",{className:"displayContents","data-test-id":"stack_panel",children:(0,l.jsx)(nJ,{...e})})})})}let nJ=i.memo(e=>(0,l.jsx)(n0,{...e}));function n0({onlyStacksAndGridsSelected:e,onlyShowResizingRow:t,hideToggleButton:n,recordingKey:i,disabled:a=!1,showBuzzTemplateType:o=!1}){let s=e?(0,d.tx)("fullscreen.properties_panel.stack_panel.auto_layout"):(0,d.tx)("fullscreen.properties_panel.stack_panel.layout"),c=(0,C.kl)("numSelectedByType"),p=!!c&&(0,y.Kl)(c,["CODE_INSTANCE","CODE_LAYER","CODE_COMPONENT","CODE_FILE","CODE_LIBRARY"]),u=(0,r.d4)(e=>(0,T.aW)(void 0,e.mirror.selectionProperties,void 0)),_=(0,T.Ti)();return(0,l.jsxs)(I.Zk,{"data-onboarding-key":Z.W,children:[(0,l.jsxs)(X.Wv,{titleTx:s,children:[_&&(0,l.jsx)(S.hw,{recordingKey:m.Pt(i,"frameFitButton")}),!n&&u&&(0,l.jsx)(nY,{recordingKey:i})]}),(0,l.jsx)(n1,{onlyStacksAndGridsSelected:e,onlyShowResizingRow:p||t,recordingKey:i,disabled:a,showBuzzTemplateType:o})]})}let n1=i.memo(function({onlyStacksAndGridsSelected:e,onlyShowResizingRow:t,recordingKey:n,disabled:a,showBuzzTemplateType:o}){let{showMigrationUi:s,wrappingEnabled:c}=nO(),p=(0,F.Df)(),_=(0,C.kl)("stackMode"),g=(0,i.useRef)(null),h=(0,eu.rX)(),{hasSelectedText:x,disableFontControls:v,enabledTypePanelControls:y,textAutoResize:k}=(0,W.SA)(),w=(0,r.d4)(e=>(0,T.aW)(void 0,e.mirror.selectionProperties,void 0)),E="transformPanel",S=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(U.Ws,{recordingKey:E,forwardedRef:g,disabled:a}),(0,l.jsx)(K.J,{visible:!!h,widthHeightRowRef:g})]}),I=p.fixedFrameOptions&&(0,l.jsx)(b.u,{recordingKey:n}),N=x&&(0,l.jsx)(W.fB,{disabled:v,enabledTypePanelControls:y,textAutoResize:k,recordingKey:n}),j=(0,eu.o0)(),A=(0,l.jsx)(V,{recordingKey:E}),R=(0,l.jsx)(nm,{recordingKey:n,isSelectionStackOrGrid:e}),L=(0,l.jsx)(nF,{recordingKey:n,isSelectionStackOrGrid:e}),O=o?(0,l.jsx)(u.DE,{icon:null,input:(0,l.jsx)(f.k,{isAssetPanel:!0}),label:(0,d.tx)("cooper.properties_panel.asset_size.title")}):null;return!e||t?(0,l.jsxs)(l.Fragment,{children:[w&&L,O,N,S,R,A,I]}):s?(0,l.jsx)(n2,{}):(0,l.jsxs)(l.Fragment,{children:[L,O,S,R,j&&(0,l.jsx)(Y.iZ,{leftLabel:(0,d.tx)("fullscreen.properties_panel.section_autoLayout.label_alignment"),leftInput:(0,l.jsx)(ez,{recordingKey:m.Pt(n,"alignment")}),rightLabel:(0,d.tx)("fullscreen.properties_panel.section_autoLayout.label_gap"),topRightInput:(0,l.jsx)(n4,{recordingKey:n}),bottomRightInput:c&&(0,l.jsx)(n6,{recordingKey:n}),topIcon:e&&(0,l.jsx)(ni,{recordingKey:m.Pt(n,"stackLayoutDetails")}),bottomIcon:null}),"NONE"!==_&&(0,l.jsx)(nD,{recordingKey:n}),A,(0,l.jsx)(b.u,{recordingKey:n})]})}),n5=!1;function n2(){let e;let t=(0,g.am)(),[n,r]=(0,i.useState)(!1),{isOrInInstance:u,containsComponents:_}=(0,p.R)(e=>{let{isInstanceSelected:t,isInstanceSublayerSelected:n,numSelectedByType:l}=e.mirror.selectionProperties;return{isOrInInstance:!!(t||n),containsComponents:!!l&&!!l.SYMBOL}});(0,i.useEffect)(()=>{n5||(t("stack_v2_migration_info_shown"),n5=!0)},[t]),(0,w.f4)(()=>{r(!1)});let m=(0,i.useCallback)(()=>{let e=s.Al?.getActiveCanvas();e&&o.Qa7&&o.Ez5&&c.l7.user("update-stack-to-alv3",()=>{o.Qa7?.updateStackToAutoLayoutV3(e,o.Ez5?.bigNudgeAmount()??0)}),k.Y5.triggerAction("commit"),r(!0),t("stack_v2_migration_updated")},[t]),h=(0,i.useCallback)(e=>{k.Y5.triggerActionInUserEditScope("undo"),r(!1)},[]);if(n)return(0,l.jsxs)(I.fI,{className:tE.A5,children:[(0,l.jsx)("span",{className:tE.Yv,children:(0,d.tx)("fullscreen.properties_panel.stack_panel.auto_layout_updated")}),(0,l.jsx)("span",{className:tE.QP,children:(0,l.jsx)(a.$n,{variant:"ghost",onClick:h,children:(0,d.tx)("fullscreen.properties_panel.stack_panel.undo")})})]});let x=s.Al?.getActiveCanvas(),f=x&&o.Qa7&&o.Qa7.isOrInInstanceWithDeprecatedAlignmentOverride(x);return e=u?f?(0,d.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance_overrides"):(0,d.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance"):_?(0,d.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_components"):(0,d.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version"),(0,l.jsxs)(I.fI,{className:tE.A5,children:[(0,l.jsxs)("div",{className:tE.Yv,children:[(0,d.tx)("fullscreen.properties_panel.stack_panel.new_auto_layout_version_available"),(0,l.jsx)(v.B,{className:tE.zp,svg:nQ.A,"data-tooltip-type":E.Ib.SPECIAL,"data-tooltip":ee,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-text":e})]}),(0,l.jsx)("span",{className:tE.Z6,children:(0,l.jsx)(a.IK,{variant:"secondary",onClick:m,disabled:u&&!f,children:(0,d.tx)("fullscreen.properties_panel.stack_panel.update")})})]})}function n4(e){let t=(0,eu.Wx)(),n=(0,eu.Y9)();return(0,l.jsx)(h.E,{name:"stack_spacing_control",children:(0,l.jsx)(n$.KI,{onBlur:()=>t(o.RN9.SPACING,!1),onFocus:()=>t(o.RN9.SPACING,!0),onMouseEnter:()=>n(o.RN9.SPACING,!0),onMouseLeave:()=>n(o.RN9.SPACING,!1),onNudge:()=>o.glU?.temporarilyHideOverlay(o.hJs.SELECTION),onScrubBegin:()=>t(o.RN9.SPACING,!0),onScrubEnd:()=>t(o.RN9.SPACING,!1),onboardingKey:"stack-spacing-input",recordingKey:m.Pt(e,"stackSpacing"),source:"panel"})})}function n6(e){let t=(0,eu.Wx)(),n=(0,eu.Y9)();return(0,l.jsx)(h.E,{name:"stack_counter_spacing_input",children:(0,l.jsx)(nk.q,{inputTestId:"stack-counter-spacing",onBlur:()=>t(o.RN9.COUNTER_SPACING,!1),onFocus:()=>t(o.RN9.COUNTER_SPACING,!0),onMouseEnter:()=>n(o.RN9.COUNTER_SPACING,!0),onMouseLeave:()=>n(o.RN9.COUNTER_SPACING,!1),onNudge:()=>o.glU?.temporarilyHideOverlay(o.hJs.SELECTION),onScrubBegin:()=>t(o.RN9.COUNTER_SPACING,!0),onScrubEnd:()=>t(o.RN9.COUNTER_SPACING,!1),recordingKey:m.Pt(e,"stackCounterSpacing"),source:"panel"})})}},354568:(e,t,n)=>{n.d(t,{J:()=>P});var l=n(239976),i=n(105652),r=n(303901),a=n(139783);let o=(0,i.memo)(function(e){return(0,l.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,l.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"m11.854 10.854 2-2a.5.5 0 0 0-.708-.708L12 9.293V5.5a.5.5 0 0 0-1 0v3.793L9.854 8.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0m0 3.292 2 2a.5.5 0 0 1-.708.708L12 15.707V19.5a.5.5 0 0 1-1 0v-3.793l-1.146 1.147a.5.5 0 0 1-.708-.708l2-2a.5.5 0 0 1 .708 0M5.5 12a.5.5 0 0 0 0 1h12a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})}),s=(0,i.memo)(function(e){return(0,l.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,l.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6.5 5a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1zm0 13a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1zm4.646-10.854a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1-.708.708L12 8.707v6.586l1.646-1.647a.5.5 0 0 1 .708.708l-2.5 2.5a.5.5 0 0 1-.708 0l-2.5-2.5a.5.5 0 0 1 .708-.708L11 15.293V8.707l-1.646 1.647a.5.5 0 0 1-.708-.708z",clipRule:"evenodd"})})});var c=n(692376),d=n(901461),p=n(854225),u=n(466082),_=n(379141),g=n(445019),m=n(272439),h=n(593749),x=n.n(h),v=n(117298),f=n.n(v),y=n(499735),k=n(772293),C=n(421914),w=n(82219),E=n(162251),S=n(384203),T=n(748765),I=n(663592),b=n(248046),N=n(927259),j=n(719680),A=n(814044),R=n(817676),L=n(758263),O=n(744358);function P(e){let t=(0,j.Wr)(),n=function(){let[e,t]=(0,g.fp)(j.Kl),n=(0,j.Wr)(),l=(0,S.KH)(),r=(0,i.useMemo)(()=>({selection:l,height:{max:n.height.max.value,min:n.height.min.value},width:{max:n.width.max.value,min:n.width.min.value},visibleState:e}),[n.height.max.value,n.height.min.value,n.width.max.value,n.width.min.value,l,e]),a=function(e){let t=(0,i.useRef)(e),n=t.current;return t.current=e,n}(r),o=(0,E.kl)("aspectRatioLockToggled"),s=(0,i.useMemo)(()=>{if(a.selection!==r.selection||!o)return e;let t=x()(e);for(let e of["min","max"]){let n=!r.visibleState.height[e]&&a.visibleState.height[e]||!r.visibleState.width[e]&&a.visibleState.width[e];if(o&&n){t.height[e]=!1,t.width[e]=!1;continue}let l=r.visibleState.width[e]||r.visibleState.height[e];if(o&&l){t.height[e]=!0,t.width[e]=!0;continue}let i=r.height[e]&&r.height[e]!==a.height[e]&&!r.visibleState.height[e],s=r.width[e]&&r.width[e]!==a.width[e]&&!r.visibleState.width[e];if(i||s){t.height[e]=!0,t.width[e]=!0;continue}}return t},[r,a,o,e]);return(0,i.useEffect)(()=>{f()(s,e)||t(s)},[s,e,t]),s}(),r=(0,g.md)(j.Md),a=(0,j.Fp)(),o=(0,i.useRef)(null),s=!e.visible||!(0,j.tH)(n),c=(0,E.kl)("aspectRatioLockToggled");if((0,j.Nu)(!s,()=>a("minmax",null,j.qi.YES),o,e.widthHeightRowRef),s)return null;let d=0,p=0,u=[];function h(e){let t=null!=r&&r.widthOrHeight===e.widthOrHeight&&r.minOrMax===e.minOrMax;return"width"===e.widthOrHeight&&c?(0,l.jsxs)("div",{className:O.BG,children:[(0,l.jsx)(R.W,{shouldAnimateIn:!1}),(0,l.jsx)(B,{minMaxApi:e,shouldFocus:t,recordingKey:`minMaxDropdown.${e.minOrMax}${e.widthOrHeight}`},`${e.widthOrHeight}-${e.minOrMax}`)]}):(0,l.jsx)(B,{minMaxApi:e,shouldFocus:t,recordingKey:`minMaxDropdown.${e.minOrMax}${e.widthOrHeight}`},`${e.widthOrHeight}-${e.minOrMax}`)}function v(e){switch(e.minOrMaxWidthOrHeight){case"minWidth":return(0,_.tx)("properties.label.min_width");case"maxWidth":return(0,_.tx)("properties.label.max_width");case"minHeight":return(0,_.tx)("properties.label.min_height");case"maxHeight":return(0,_.tx)("properties.label.max_height")}}n.width.min&&(d++,u.push(t.width.min)),n.width.max&&(d++,u.push(t.width.max)),n.height.min&&(p++,u.push(t.height.min)),n.height.max&&(p++,u.push(t.height.max));let y=u.map(h),k=u.map(v);if(d+p===1){let e=1===d;return(0,l.jsx)(m.fn,{ref:o,leftLabel:e?k[0]:null,leftInput:e?y[0]:null,rightLabel:e?null:k[0],rightInput:e?null:y[0],icon:null})}if(1===d&&1===p)return(0,l.jsx)(m.fn,{ref:o,leftLabel:k[0],leftInput:y[0],rightLabel:k[1],rightInput:y[1],icon:null});if(d+p===2){let e=2===d;return(0,l.jsxs)("div",{ref:o,children:[(0,l.jsx)(m.fn,{ref:o,leftLabel:e?k[0]:null,leftInput:e?y[0]:null,rightLabel:e?null:k[0],rightInput:e?null:y[0],icon:null}),(0,l.jsx)(m.fn,{ref:o,leftLabel:e?k[1]:null,leftInput:e?y[1]:null,rightLabel:e?null:k[1],rightInput:e?null:y[1],icon:null})]})}return(0,l.jsxs)("div",{ref:o,children:[(0,l.jsx)(m.fn,{leftLabel:v(t.width.min),leftInput:h(t.width.min),rightLabel:v(t.height.min),rightInput:h(t.height.min),icon:null}),(0,l.jsx)(m.fn,{leftLabel:v(t.width.max),leftInput:h(t.width.max),rightLabel:v(t.height.max),rightInput:h(t.height.max),icon:null})]})}function M(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?(0,_.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_tt"):(0,_.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_tt");case"height":return"min"===e.minOrMax?(0,_.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_tt"):(0,_.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_tt")}}function B(e){let t;let{minMaxApi:n,shouldFocus:m}=e,h=(0,E.kl)("isNonEditableInstanceSublayerSelected"),x=(0,E.kl)(n.widthOrHeight),v=(0,E.kl)(n.minOrMaxWidthOrHeight),f=(0,j.Fp)(),S=(0,i.useRef)(0),R=(0,i.useRef)(new Map),P=(0,g.Xr)(j.Md),[B,F]=(0,g.fp)(j.Kl),H=[];x!==n.value&&H.push(j.vC),H.push(j.Bn);let V=H.map(t=>{let n=(0,C.gl)(x);return(0,l.jsx)(b.c$,{recordingKey:y.Pt(e.recordingKey,"select",t),value:t,disabled:!!h||t===j.vC&&n},t)}),G=i.useRef(null),z=function(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?"MIN_WIDTH":"MAX_WIDTH";case"height":return"min"===e.minOrMax?"MIN_HEIGHT":"MAX_HEIGHT"}}(n);switch(n.widthOrHeight){case"width":t="min"===n.minOrMax?(0,l.jsx)(r.l,{}):(0,l.jsx)(a.R,{});break;case"height":t="min"===n.minOrMax?(0,l.jsx)(o,{}):(0,l.jsx)(s,{})}let D="width"===n.widthOrHeight?d._0.X:d._0.Y;i.useEffect(()=>{m&&(G.current?.focus(),G.current?.select())},[m]);let K=(0,j.VY)(n),{clearVariableConsumption:U}=(0,N.O)(z,p.rXF.FLOAT),W=(0,i.useCallback)((e,t=T.zk.YES)=>{if(U(T.zk.NO),e===j.vC)"number"==typeof x&&n.set(x||null,T.zk.NO);else if(e===j.Bn){n.set(null,T.zk.NO);let e={[n.widthOrHeight]:{...B[n.widthOrHeight],[n.minOrMax]:!1}};F({...B,...e}),P(null)}else("number"==typeof e||null==e)&&n.set(e,T.zk.NO,S.current);t===T.zk.YES&&k.Y5.triggerAction("commit")},[U,x,n,B,F,P]);class X extends w.M{getValueForNode(e){return c.Egt.getNodeTransformProperties(e.guid)[n.minOrMaxWidthOrHeight]}setValueForNode(e,t,l){let i={[n.minOrMaxWidthOrHeight]:t};if(l&&R.current.has(e.guid)){let l=R.current.get(e.guid);i[n.widthOrHeight]=l;let r=(0,j.jz)(e,l,t,n.widthOrHeight);r!==l&&(i[n.widthOrHeight]=r),i.sizeChangeIsAutomatic=!0}c.Egt.setNodeTransformProperties(e.guid,i)}}return(0,l.jsx)(I.ow,{value:{select:A.pW,inputComponent:A.gm},children:(0,l.jsx)(b.tV,{value:{chevron:L.t},children:(0,l.jsx)(N.S,{allowEmpty:!0,"aria-label":M(n),"data-tooltip-max-width":200,dropdownAlignment:"width"===n.widthOrHeight?"left":"right",dropdownWidth:162,formatter:K,icon:t,iconId:`icon-${e.minMaxApi.widthOrHeight}-${e.minMaxApi.minOrMax}`,id:`minMaxDropdown.${e.minMaxApi.minOrMax}${e.minMaxApi.widthOrHeight}`,inputRef:G,inputTestId:`transform-${e.minMaxApi.widthOrHeight}-${e.minMaxApi.minOrMax}`,mixedMathHandler:new X,noBorderOnFocus:!0,omitValueFromDropdown:!0,onBlur:()=>{f("minmax",{axis:D,renderLabels:!0},j.qi.YES_ONLY_MIN_MAX),P(null)},onChange:W,onFocus:()=>f("minmax",{axis:D,renderLabels:!0},j.qi.YES),onMouseEnter:()=>f("minmax",{axis:D,renderLabels:!0}),onMouseLeave:()=>f("minmax",null),onScrubBegin:()=>{(0,C.gl)(v)?(0,u.UN)().getDirectlySelectedNodes().forEach(e=>{R.current.set(e.guid,e.size[D===d._0.X?"x":"y"])}):"number"==typeof x?S.current=x:S.current=0},onScrubEnd:()=>{R.current.clear(),S.current=0},openBelowTarget:!0,options:V,outerClassName:"width"===n.widthOrHeight?O.Kw:O.X8,placeholder:function(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?(0,_.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_short"):(0,_.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_short");case"height":return"min"===e.minOrMax?(0,_.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_short"):(0,_.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_short")}}(n),recordingKey:e.recordingKey,shiftVariableOptionToAlign:!0,shouldFocus:m,showTooltipOnTargetOnly:!0,source:"panel",tooltipText:M(n),value:n.value,variableField:z})})})}},339838:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(105652),i=n(239976);let r=(0,l.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M15.147 13.147a.5.5 0 0 1 .707 0l2 2a.5.5 0 0 1 0 .707l-2 2a.5.5 0 0 1-.707-.707L16.293 16H6.5l-.101-.01a.5.5 0 0 1 0-.98L6.5 15h9.793l-1.146-1.146a.5.5 0 0 1 0-.707m-5.493-7.14A1.5 1.5 0 0 1 11 7.5v2l-.007.153a1.5 1.5 0 0 1-1.34 1.34L9.5 11h-2l-.153-.008a1.5 1.5 0 0 1-1.339-1.339L6 9.5v-2a1.5 1.5 0 0 1 1.347-1.492L7.5 6h2zm7 0A1.5 1.5 0 0 1 18 7.5v2l-.007.153a1.5 1.5 0 0 1-1.34 1.34L16.5 11h-2l-.153-.008a1.5 1.5 0 0 1-1.339-1.339L13 9.5v-2a1.5 1.5 0 0 1 1.347-1.492L14.5 6h2zM14.5 7a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5zm-7 0a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"})})})},97388:(e,t,n)=>{n.d(t,{x:()=>r});var l=n(105652),i=n(239976);let r=(0,l.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M11.653 13.008A1.5 1.5 0 0 1 13 14.5v2l-.008.153a1.5 1.5 0 0 1-1.339 1.34L11.5 18h-2l-.153-.008a1.5 1.5 0 0 1-1.34-1.339L8 16.5v-2a1.5 1.5 0 0 1 1.347-1.492L9.5 13h2zM9.5 14a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5zm7.153-5.992A1.5 1.5 0 0 1 18 9.5v2l-.008.153a1.5 1.5 0 0 1-1.339 1.34L16.5 13h-2l-.153-.008a1.5 1.5 0 0 1-1.34-1.339L13 11.5v-2a1.5 1.5 0 0 1 1.347-1.492L14.5 8h2zM14.5 9a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5zM9.653 6.008A1.5 1.5 0 0 1 11 7.5v2l-.008.153a1.5 1.5 0 0 1-1.339 1.34L9.5 11h-2l-.153-.008a1.5 1.5 0 0 1-1.34-1.339L6 9.5v-2a1.5 1.5 0 0 1 1.347-1.492L7.5 6h2zM7.5 7a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"})})})},466284:(e,t,n)=>{n.d(t,{z:()=>r});var l=n(105652),i=n(239976);let r=(0,l.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M9.654 13.008A1.5 1.5 0 0 1 11 14.5v2l-.008.153a1.5 1.5 0 0 1-1.338 1.34L9.5 18h-2l-.153-.008a1.5 1.5 0 0 1-1.339-1.339L6 16.5v-2a1.5 1.5 0 0 1 1.347-1.492L7.5 13h2zM15.5 6a.5.5 0 0 1 .49.4l.01.1v9.794l1.146-1.146a.501.501 0 0 1 .708.707l-2 2a.5.5 0 0 1-.707 0l-2-2a.5.5 0 0 1 .707-.707L15 16.294V6.5l.01-.1a.5.5 0 0 1 .49-.4m-8 8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5zm2.154-7.992A1.5 1.5 0 0 1 11 7.5v2l-.008.153a1.5 1.5 0 0 1-1.338 1.34L9.5 11h-2l-.153-.008a1.5 1.5 0 0 1-1.339-1.339L6 9.5v-2a1.5 1.5 0 0 1 1.347-1.492L7.5 6h2zM7.5 7a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"})})})}}]);

//# debugId=aa4028af-f9c1-503a-a5b2-14611c430841

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/9cf2e3f7fa488791f05d390310bf8d9847823bbf/189-b78f77171ce6371f.min.js.map