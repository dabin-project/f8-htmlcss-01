"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="efd8bd45-fded-5363-9eba-7e75400762a8")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[4391],{328779:(e,n,t)=>{t.d(n,{T:()=>u});var o=t(239976),s=t(105652),r=t(931547),i=t(517478),a=t(536493),c=t(249563),l=t(566567),d=t(269751),_=t(942356),p=t(379141);function u({onClose:e,defaultPosition:n,setShowRulesPopout:t,draftUserRules:u,setDraftUserRules:m,savedUserRules:h,onSave:g}){let f=h!==u,b=u.length>5e4,v=(0,s.useRef)(!1),[x,w]=(0,s.useState)("");return(0,s.useEffect)(()=>{b&&!v.current?(v.current=!0,w("Character limit exceeded. Maximum 50,000 characters allowed.")):!b&&v.current&&(v.current=!1,w(""))},[b]),(0,o.jsx)(r._L,{onClose:({source:n})=>{"outside"===n&&f||e()},defaultPosition:n,defaultWidth:358,defaultHeight:400,constraints:{minHeight:300},children:(0,o.jsxs)(i.vo,{children:[(0,o.jsx)(i.Y9,{children:(0,o.jsx)(i.hE,{children:(0,p.t)("dev_handoff.component_browser.mcp.rules_header")})}),(0,o.jsxs)(i.nB,{className:"component_browser_edit_rules_window--rulesContainer--kxG7N",children:[(0,o.jsx)("div",{className:"component_browser_edit_rules_window--rulesHelp--l3R8F",children:(0,p.t)("dev_handoff.component_browser.mcp.help.description")}),b&&(0,o.jsx)("div",{className:"component_browser_edit_rules_window--errorBanner--krIxj",children:(0,o.jsx)(a.$y,{variant:"danger",children:(0,o.jsx)(c.Q,{children:(0,p.t)("dev_handoff.component_browser.mcp.character_limit_exceeded")})})}),(0,o.jsx)("div",{className:"component_browser_edit_rules_window--rulesTextarea---WVwr",children:(0,o.jsx)(l.T,{id:"user-rules",value:u,onChange:m,size:"lg","aria-label":(0,p.t)("dev_handoff.component_browser.mcp.rules_aria_label"),placeholder:(0,p.t)("dev_handoff.component_browser.mcp.rules_placeholder")})}),(0,o.jsx)(d.T,{role:"status",screenReaderOnly:!0,children:x})]}),(0,o.jsx)(i.wi,{children:(0,o.jsxs)(i.jk,{children:[(0,o.jsx)(_.$n,{onClick:()=>t(!1),variant:"secondary",children:(0,p.t)("dev_handoff.component_browser.mcp.cancel_rules")}),(0,o.jsx)(_.$n,{onClick:()=>g(u),variant:"primary",disabled:!f||b,children:(0,p.t)("dev_handoff.component_browser.mcp.save_rules")})]})})]})})}},297331:(e,n,t)=>{t.d(n,{W:()=>l});var o=t(105652),s=t(391596),r=t(781703),i=t(226775),a=t(587420),c=t(864314);function l({libraryKey:e,componentKey:n,defaultFilter:t,entrypoint:l}){let d=function({libraryKey:e,componentKey:n,defaultFilter:t}){let[r,l]=(0,s.IT)((0,a.t2)(e),{enabled:!0}),d=(0,o.useMemo)(()=>r.data?(0,c.h)(r.data):null,[r.data]);return{...(0,i.y)({libraryKey:e,componentKey:n,componentsAndStateGroups:d,defaultFilter:t,scope:"file"}),status:r.status,refetch:l.refetch}}({libraryKey:e,componentKey:n,defaultFilter:t});return{...(0,r.z)({displayedComponent:d.displayedComponent,filteredComponents:d.filteredComponents,componentBrowserListRowData:d.componentBrowserListRowData,setComponentBrowserListRowData:d.setComponentBrowserListRowData,bulkSuggestions:d.bulkSuggestions.suggestions,entrypoint:l}),...d}}},699546:(e,n,t)=>{t.d(n,{E:()=>i});var o=t(105652),s=t(522568),r=t(682488);function i(e,n,t){let[i,a]=(0,o.useState)(!1),c=(0,o.useMemo)(()=>(0,r.y)(e?.component?.code_connect_info?.v1?.figmadoc??""),[e?.component?.code_connect_info?.v1?.figmadoc]),l=c?.user_rules??"",[d,_]=(0,o.useState)(l),p=(0,o.useRef)({x:0,y:0});return(0,o.useEffect)(()=>{_(l)},[l]),{showRulesPopout:i,setShowRulesPopout:a,savedUserRules:l,draftUserRules:d,setDraftUserRules:_,defaultPosition:p.current,handleOpenRulesWindow:e=>{(0,s.sx)("component_browser.component_details_edit_user_rules_clicked",{componentBrowserEntrypoint:n,nodeId:t}),a(!0),p.current={x:e.clientX+100,y:e.clientY-50}}}}},221482:(e,n,t)=>{t.d(n,{D:()=>i});var o=t(270450),s=t(445019);let r=(0,s.E3)("component_browser_show_suggestions_debug",!0);function i(){let e=(0,o.kc)().dt_component_browser_suggestions_debug,[n,t]=(0,s.fp)(r);return{isSuggestionsDebugUngated:e,showSuggestionsDebug:e&&n,setShowSuggestionsDebug:t}}},446125:(e,n,t)=>{t.d(n,{o:()=>ey,W:()=>ej});var o=t(239976),s=t(105652),r=t(20002),i=t(254056),a=t(378721),c=t(346524),l=t(942356),d=t(780833),_=t(379063),p=t(566227),u=t(731112),m=t(454705),h=t(379141),g=t(270450),f=t(224542),b=t.n(f),v=t(522568),x=t(75962),w=t(938892),j=t(328779),y=t(699546),C=t(781691),I=t(892925),k=t(909196),N=t(536493),S=t(249563),D=t(585066);function T({savedUserRules:e,onOpenRulesWindow:n}){return(0,o.jsx)("div",{className:"component_browser_edit_rules_button--rulesContainer--yHhgs",children:(0,o.jsx)(l.$n,{variant:"secondary",onClick:n,children:e?(0,h.t)("dev_handoff.component_browser.mcp.edit_rules"):(0,h.t)("dev_handoff.component_browser.mcp.add_rules")})})}var E=t(367877),L=t(587420),P=t(2962),M=t(854225),R=t(421914),B=t(712022),O=t(880197),F=t(682488),K=t(384203),H=t(276571),A=t(538349),V=t(421564),U=t(397875),G=t(722363),W=t(391596),$=t(319565),q=t(173943);t(309742),t(329603);var z=t(742629);let J="component_browser_mcp_preview--mcpPreviewContainer--fK1Q7";function Q({data:e,repositoryId:n,playgroundData:t,onOpenRulesWindow:r,savedUserRules:i}){let a=(0,s.useMemo)(()=>(0,F.y)(e.component.code_connect_info.v1.figmadoc),[e.component.code_connect_info.v1.figmadoc]);if(e.component?.code_connect_info?.v1?.type==="figmadoc"&&a){let e=t?.nodeData?.playgroundGUID;return(0,o.jsx)("div",{className:J,children:e&&(0,o.jsx)(q.Q,{playgroundGUID:e,showCodeOnly:!0})})}return(0,o.jsxs)("div",{className:J,children:[t?(0,o.jsx)(Y,{data:e,repositoryId:n,savedUserRules:i,playgroundData:t}):null,(0,o.jsx)(T,{savedUserRules:i,onOpenRulesWindow:r})]})}function Y({data:e,repositoryId:n,savedUserRules:t,playgroundData:r}){let{sourceCode:i,language:a,queryStatus:c,errorReason:l}=function({snippetType:e="instance_specific",libraryKey:n,repositoryId:t,userRules:o,playgroundData:r,data:i}){var a,c;let l=function({data:e,repositoryId:n}){let t=e.component.code_connect_info.v1.figmadoc,o=!!(0,g.kc)().dt_component_browser_mcp_debug,r=function(e,n){let[t]=(0,W.IT)((0,$.sN)(e),{enabled:n});function o(e){try{let n=e.match(/github\.com\/([^\/]+)\/([^\/]+)/);if(n&&n[2])return n[2]}catch(e){}}return(0,s.useCallback)(e=>t.data?.availableRepositories.find(n=>n.name===o(e))?.id||t.data?.availableRepositories.find(n=>n.name.includes(o(e)||""))?.id,[t.data])}(e.component.library_key,o),i=e=>{let n=e.match(/github\.com\/([^\/]+\/[^\/]+)\/(blob|tree)\/[^\/]+\/(.+)/);return n?n[3]??void 0:e},a=e.selectedFile?.metadata?.path;return(0,s.useMemo)(()=>{try{let s=(0,F.y)(t),c=o&&s?.source?r(s.source):n,l=s?.repository?.id&&s?.repository?.id.length>0?s?.repository?.id:c;if(l)return{name:e.selectedComponent?.title,repositoryId:l,filePath:a?i(a):void 0}}catch(e){return{errorMessage:(0,h.t)("dev_handoff.component_browser.error_retrieving_component_path_and_repository"),error:e}}},[t,o,r,n,e.selectedComponent?.title,a])}({data:i,repositoryId:t}),d=function(){let e=(0,K.T3)();return(0,s.useCallback)(n=>{let t=e.get(n);if(!t)throw Error(`Node with id ${n} not found in playground scenegraph`);return(0,G.T)(t,{usePlaygroundScene:!0,productType:"mcp",designToReactOptions:{preset:"mcp",variantSerializationMode:"used",disableExtractFrames:!0,svgHandling:"pathImport",diffBasedVariants:(0,g.kc)().d2r_diff_based_variants??!1}})},[e])}(),_=(0,K.T3)(),p=(0,s.useMemo)(()=>{if(!(0,g.kc)().dt_component_browser_snippet_nested_components)return[];let e=r.nodeData?.playgroundGUID;return e?(0,F.R)(e,_):[]},[r.nodeData?.playgroundGUID]),[u,m]=(0,s.useState)(""),f=l?.repositoryId||"",b=l?.filePath||"",v=(0,s.useMemo)(()=>{let e=r.nodeData;if(!e)return{};let{playgroundGUID:n,componentProps:t}=e;return n&&t?function(e,n,t){if(!e)return{};let o=e[n];if(!o||!o.backingSymbol)return{};let s=e[o.backingSymbol];if(!s||!s.defs)return{};let r={};return Object.entries(s.defs).forEach(([e,n])=>{let s=n.name,i=o.assignments?.[e],a=i&&"value"in i?i.value:n.defaultValue;if(n.type===M.J0O.INSTANCE_SWAP){if(a&&"MIXED"!==a){let e=(0,O.wd)([a],t);a=e&&(0,R.hS)(e)?(0,B.kH)(e.name):"None"}}else n.type===M.J0O.IMAGE||n.type===M.J0O.SLOT?a="N/A":a&&"object"==typeof a&&"type"in a&&"value"in a&&(a=`[Variable: ${a.value}]`);r[s]=a}),o.stateVariantProps?.propertyValues&&Object.entries(o.stateVariantProps.propertyValues).forEach(([e,n])=>{r[e]=n}),r}(t,n,_):{}},[r]),x=i.component.code_connect_info?.v1?.label,w={snippetType:e,libraryKey:n,repositoryId:f,componentDefinitionPaths:b?[b]:[],...(0,g.kc)().dt_component_browser_snippet_nested_components&&{nestedComponents:p},label:x??void 0,userRules:o,instancePropertyValues:v,d2rCode:u,codeComponentName:i.selectedComponent?.title},[j]=(0,A.IT)((0,L.BR)(w),{enabled:!!w.repositoryId&&w.componentDefinitionPaths.length>0&&!!w.d2rCode}),y=(0,H._6)().componentKey,C=(0,U.K)(),I=C?.type===V.PW.COMPONENT||C?.type===V.PW.STATE_GROUP,k=r.nodeData?.playgroundGUID,[N,S]=(0,s.useState)(!1);s.useEffect(()=>{k&&(y||I)&&(S(!1),d(k).then(e=>{if(!e)return;let{files:n}=e;0===n.length&&(E.vF.error("No files in generated D2R for MCP preview"),S(!0)),m(n[0].contents)}).catch(e=>{E.vF.error("Error generating D2R for MCP preview",e),S(!0)}))},[d,k,y,I]);let D=(a=j.data?.language,(c=j.data?.file_extension)&&P.hq.has(c)?c:P.hq.has(a)?a:"plaintext"),T=j.errors&&!Array.isArray(j.errors)?j.errors:void 0,q=(0,s.useMemo)(()=>{if(!w.repositoryId)return(0,h.t)("dev_handoff.component_browser.mcp_preview_error.no_repository");if(T?.status===403)return(0,h.t)("dev_handoff.component_browser.mcp_preview_error.missing_permission");switch(T?.message){case"repository_not_available":return(0,h.t)("dev_handoff.component_browser.mcp_preview_error.repository_not_available");case"unable_to_access_repository":return(0,h.t)("dev_handoff.component_browser.mcp_preview_error.unable_to_access_repository");case"repository_not_found":return(0,h.t)("dev_handoff.component_browser.mcp_preview_error.repository_not_found");case"files_not_found":return(0,h.t)("dev_handoff.component_browser.mcp_preview_error.file_not_found");case"repository_api_error":return(0,h.t)("dev_handoff.component_browser.mcp_preview_error.repository_api_error");case"snippet_generation_failed":return(0,h.t)("dev_handoff.component_browser.mcp_preview_error.generic_error")}return N||T?.message?(0,h.t)("dev_handoff.component_browser.mcp_preview_error.generic_error"):null},[w.repositoryId,T?.message,T?.status,N]);return{sourceCode:j.data?.source_code||"",language:D,queryStatus:j.status,errorReason:q}}({libraryKey:e.component.library_key,repositoryId:n,userRules:t,playgroundData:r,data:e}),d=(0,s.useRef)({sourceCode:"",language:""});i&&a&&(d.current={sourceCode:i,language:a});let _=i||d.current.sourceCode,p=a||d.current.language,u=(0,s.useMemo)(()=>({lines:(_?.split("\n")??[]).map((e,n)=>{let t=Math.floor((e.match(/^(\s*)/)?.[1]||"").length/2);return{code:e,lineNumber:n+1,indent:t}}),language:p,name:""}),[_,p]);return l&&"loading"!==c?(0,o.jsx)("div",{children:(0,o.jsx)(N.Cs,{variant:"danger",children:(0,o.jsx)(S.Q,{children:l})})}):"loading"!==c&&"disabled"!==c||d.current.sourceCode?(0,o.jsx)(z.U,{includeMargin:!1,hideHeader:!0,section:u,code:[u],copyAllActionEnabled:!0,loadingBannerContent:"loading"===c?(0,h.t)("dev_handoff.component_browser.mcp.help.generating_preview"):null}):(0,o.jsx)("div",{className:"component_browser_mcp_preview--spinnerWrapper--scSXM",children:(0,o.jsx)(D.k,{size:"lg"})})}var X=t(702990),Z=t(217328),ee=t(382367),en=t(466082),et=t(187445),eo=t(111864),es=t(879708),er=t(355723),ei=t(236410),ea=t(753562);let ec="component_browser_playground_panel--playgroundPanel--uL0rd",el="component_browser_playground_panel--imageContainer--hD7ZR",ed="component_browser_playground_panel--playgroundToolbar--dU4Qu",e_="component_browser_playground_panel--imageWrapper--f4Bo6",ep="component_browser_playground_panel--playgroundContainer--ToZS7",eu=s.memo(({playgroundData:e,entrypoint:n,nodeId:t})=>{let r=e?.nodeData?.playgroundGUID,[i,p]=s.useState(!1),[u,g]=s.useState(""),f=(0,et.wS)(),w="loaded"===f.status&&"temp-scene"===f.result.dataLocation?f.result:void 0,j=s.useMemo(()=>new en.qo(w?M.juq.DETACHED_COMPONENTS:M.juq.PLAYGROUND),[w]),y=s.useMemo(()=>{if(!e)return"";if("loaded"===f.status)return f.result.isVariant?f.result.dataStateGroupId??f.result.dataComponentId:f.result.dataComponentId;let n=e.nodeData?.playgroundGUID;return n?((0,O.Yi)([n],j)||(0,O.k4)([n],j))??"":""},[e,j,f]),{theme:C,invertTheme:I}=(0,eo.I)(r??y),[k,N]=s.useState(!1),S=s.useCallback(e=>{N(e.currentTarget.scrollTop>0)},[]),D=s.useCallback(()=>{(0,v.sx)("component_browser.component_details_change_background_clicked",{componentBrowserEntrypoint:n,nodeId:t}),I();let e="light"===C?"dark":"light",o=(0,h.t)("light"===e?"dev_handoff.component_browser.theme_changed_to_light":"dev_handoff.component_browser.theme_changed_to_dark");g(u.endsWith(" ")?o:o+" ")},[n,t,I,C,u," "]),T=s.useRef(e?.nodeData?.componentProps),E=s.useCallback(()=>{let o=e?.nodeData?.componentProps,s=T.current;s!==o&&(s&&o&&s!==o&&(0,v.sx)("component_browser.component_details_playground_property_changed",{componentBrowserEntrypoint:n,nodeId:t}),T.current=o)},[n,t,e?.nodeData?.componentProps]);if(!e||!e.nodeData||!e.thumbnailData)return(0,o.jsx)(em,{theme:C});let{thumbnailData:L,nodeData:{playgroundGUID:P,componentProps:R,modeData:B}}=e,F=j.get(P);return(0,o.jsxs)("div",{className:ec,children:[(0,o.jsxs)("div",{className:ep,children:[(0,o.jsx)(m.J,{mode:C,children:(0,o.jsxs)("div",{className:b()("component_browser_playground_panel--playgroundPreviewContainer--da3HH",{"component_browser_playground_panel--withBorderBottom---afJy":i}),children:[(0,o.jsx)("div",{className:ed,children:(0,o.jsx)("h2",{children:(0,h.t)("dev_handoff.component_browser.design_component")})}),(0,o.jsx)("div",{className:el,children:(0,o.jsx)("div",{className:e_,children:(0,o.jsx)(x.oW,{className:"component_browser_playground_panel--componentImage--rhWLK",src:L.src,alt:(0,h.t)("design_systems.playground.thumbnail_alt"),"data-testid":"playground-thumbnail"})})}),!i&&(0,o.jsxs)("div",{className:b()(ed,"component_browser_playground_panel--bottomPlaygroundToolbar--cp7K9"),children:[(0,o.jsx)(l.$n,{onClick:()=>{(0,v.sx)("component_browser.component_details_playground_opened",{componentBrowserEntrypoint:n,nodeId:t}),p(!0)},variant:"secondary",children:(0,h.t)("dev_handoff.component_browser.mcp.change_properties")}),(0,o.jsx)(a.K,{onClick:D,"aria-label":(0,h.t)("dev_handoff.component_browser.mcp.change_background"),children:"light"===C?(0,o.jsx)(d.c,{}):(0,o.jsx)(_.G,{})})]})]})}),i&&(0,o.jsxs)("div",{className:"component_browser_playground_panel--propsContainer--D9dQD",children:[(0,o.jsxs)("div",{className:b()("component_browser_playground_panel--propsContainerHeader--OoUrl",{"component_browser_playground_panel--propsContainerHeaderOverlay--kDcVE":k}),children:[(0,o.jsx)("h3",{className:"component_browser_playground_panel--propsContainerHeaderText--Bv7EL ellipsis--ellipsis--70pHK",children:(0,h.t)("dev_handoff.component_browser.component_properties")}),(0,o.jsxs)("div",{className:"component_browser_playground_panel--propsContainerHeaderButtons--uOKV4",children:[(0,o.jsx)(a.K,{onClick:()=>e?.resetNodedata(),"aria-label":(0,h.t)("design_systems.playground.reset_properties"),disabled:!e.hasChangesToReset,recordingKey:"resetPlaygroundProps","data-tooltip":(0,h.t)("design_systems.playground.reset_properties"),"data-tooltip-type":ei.Ib.TEXT,children:(0,o.jsx)(Z.m,{})}),(0,o.jsx)(a.K,{onClick:()=>p(!1),"aria-label":(0,h.t)("dev_handoff.component_browser.mcp.hide_component_props"),children:(0,o.jsx)(ee.f,{})})]})]}),(0,o.jsx)("div",{className:"component_browser_playground_panel--scrollablePropsContainerOuter--jDf8N",children:(0,o.jsx)(X.P,{fill:!0,scroll:"y",onScroll:S,children:(0,o.jsx)("div",{className:"component_browser_playground_panel--scrollablePropsContainer--mjpPb",children:(0,o.jsxs)(K.q0.Provider,{value:j,children:[(0,o.jsx)("div",{className:"component_browser_playground_panel--propsSectionContainer--HISHN",children:(0,o.jsx)(er.x,{containerWidth:O.O2.UNBOUNDED,componentProps:R,playgroundGUID:P,productComponentGUID:y,sceneGraph:j,viewOnlyMode:F?.isState?ea.BK.VARIANT_PROPS:void 0,recordingKey:"playgroundPicker",onTypedPropChange:E,onSelectedPropertyValueHistoryChange:E})}),(0,o.jsx)("div",{className:"component_browser_playground_panel--modesSectionContainer--FGTt4",children:(0,o.jsx)(es.b,{modes:B||{}})})]})})})})]})]}),(0,o.jsx)(c.E,{children:(0,o.jsx)("span",{"aria-live":"polite","aria-atomic":"true",children:u})})]})});function em({theme:e}){return(0,o.jsx)("div",{className:ec,children:(0,o.jsx)("div",{className:ep,children:(0,o.jsx)(m.J,{mode:e,children:(0,o.jsxs)("div",{className:el,children:[(0,o.jsx)("div",{className:ed,children:(0,o.jsx)("h2",{children:(0,h.t)("dev_handoff.component_browser.design_component")})}),(0,o.jsx)("div",{className:e_,children:(0,o.jsx)(D.k,{})})]})})})})}var eh=t(395413),eg=t(71268);let ef="component_browser_detail_view--codeComponentHeader--ri8nP",eb="component_browser_detail_view--componentDetailSection--9r-rL",ev="component_browser_detail_view--fullHeight--fo1iK";function ex({data:e,repositoryId:n,onOpenRulesWindow:t,savedUserRules:s,playgroundData:r,mcpUserRulesEnabled:a,isConnected:c}){let l=e.component?.code_connect_info?.v1?.type==="figmadoc";return a&&c?(0,o.jsxs)("div",{className:"component_browser_detail_view--sourceCodeSection--ag3TH",children:[(0,o.jsxs)("div",{className:"component_browser_detail_view--codeHeaderContainer--t-AV0",children:[(0,o.jsx)("h2",{className:"component_browser_detail_view--codeHeader--mPzuL",children:(0,h.t)("dev_handoff.component_browser.mcp.mcp_preview_header")}),(0,o.jsx)("div",{className:"component_browser_detail_view--codeDescription--HSKwp",children:l?(0,h.t)("dev_handoff.component_browser.mcp.mcp_preview_description_cli"):(0,o.jsxs)(o.Fragment,{children:[(0,h.t)("dev_handoff.component_browser.mcp.mcp_preview_description")," ",(0,o.jsx)(i.N,{newTab:!0,trusted:!0,href:"https://help.figma.com/hc/articles/32132100833559-Guide-to-the-Figma-MCP-server",children:(0,h.t)("dev_handoff.component_browser.learn_more")})]})})]}),(0,o.jsx)(Q,{data:e,repositoryId:n,playgroundData:r,onOpenRulesWindow:t,savedUserRules:s})]}):null}function ew({data:e}){let n=(0,u.G)(),[t,r]=(0,s.useState)(n.color),[i,l]=(0,s.useState)("");return(0,s.useEffect)(()=>{r(n.color)},[n.color]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.J,{mode:t,children:(0,o.jsxs)("div",{className:"component_browser_detail_view--componentThumbnailPanel--KPOUi",children:[(0,o.jsx)("div",{className:"component_browser_detail_view--componentOverlay--cKWZT",children:(0,o.jsx)("h2",{className:"component_browser_detail_view--componentOverlayText--m3lng",children:(0,h.t)("dev_handoff.component_browser.design_component")})}),(0,o.jsx)("div",{className:"component_browser_detail_view--imageWrapper--JBC0j",children:(0,o.jsx)(x.oW,{className:"component_browser_detail_view--componentImage--hUm07",src:e.component.thumbnail_url??"",alt:(0,h.t)("dev_handoff.component_browser.component_alt_text",{component:e.component.name})})}),(0,o.jsx)("div",{className:"component_browser_detail_view--themeToggle--ZlPF6",children:(0,o.jsx)(a.K,{size:"lg",variant:"secondary","aria-label":(0,h.t)("dev_handoff.component_browser.change_theme"),onClick:()=>{let e="light"===t?"dark":"light";r(e);let n=(0,h.t)("light"===e?"dev_handoff.component_browser.theme_changed_to_light":"dev_handoff.component_browser.theme_changed_to_dark");l(i.endsWith(" ")?n:n+" ")},children:"light"===t?(0,o.jsx)(d.c,{}):(0,o.jsx)(_.G,{})})})]})}),(0,o.jsx)(c.E,{children:(0,o.jsx)("span",{"aria-live":"polite","aria-atomic":"true",children:i})})]})}function ej({data:e,fullWidth:n,isIgnored:t,isConnected:r,repositoryId:i,onIgnoreMapping:a,onDeleteMapping:c,updateConnection:d,sourceIndex:_,entrypoint:p,isLoadingSuggestions:u,suggestions:m,onActiveRowChange:g,onComponentChanged:f,onConfirmConnection:v,onConfirmSuggestion:x,onFileChanged:w,onValueChange:j,onOpenRulesWindow:y,savedUserRules:C,playgroundData:I,mcpUserRulesEnabled:k}){let[N,S]=(0,s.useState)(void 0);return(0,eg.G)({data:[e],bulkSuggestions:{suggestions:{[e.assetKey]:m},tracking:{}},location:"side_sheet",entrypoint:p}),(0,o.jsxs)("div",{className:b()("component_browser_detail_view--componentDetailPanel--dB8kI",{"component_browser_detail_view--fullWidthPanel--cQCxR":n}),children:[!t&&(0,o.jsxs)("div",{className:b()(eb,{[ev]:r}),children:[(0,o.jsx)("div",{className:ef,children:(0,o.jsx)("h2",{className:"component_browser_detail_view--codeComponentHeaderText--UFGtW",children:r?(0,h.t)("dev_handoff.component_browser.code_component"):(0,h.t)("dev_handoff.component_browser.connect_component")})}),(0,o.jsx)("div",{className:"component_browser_detail_view--inputCellContainer--pCOoE",children:(0,o.jsx)(eh.uI,{component:e.component,currentRowIndex:_,entrypoint:p,hasEditButton:!0,inputRef:N,isLoadingSuggestions:u,isRowActive:!0,isRowHovered:!0,item:e,libraryKey:e.component.library_key,location:"side_sheet",onActiveRowChange:g,onComponentChanged:f,onConfirmConnection:v,onConfirmSuggestion:x,onDeleteMapping:c,onFileChanged:w,onSetInputRef:S,onValueChange:j,sourceIndex:_,spacing:"compact",suggestions:m,updateConnection:d})}),(0,o.jsx)(ex,{data:e,isConnected:r,mcpUserRulesEnabled:k,onOpenRulesWindow:y,playgroundData:I,repositoryId:i,savedUserRules:C})]}),!t&&!r&&(0,o.jsxs)("div",{className:"component_browser_detail_view--skipDescriptionSection--R5q8i",children:[(0,o.jsx)("h2",{children:(0,h.t)("dev_handoff.component_browser.skip_description")}),(0,o.jsx)("div",{className:"component_browser_detail_view--buttonContainer--hdfhb",children:(0,o.jsx)(l.$n,{variant:"secondary",onClick:()=>a({row:{assetKey:e.assetKey,sourceIndex:_,component:e.component,selectedFile:e.selectedFile,selectedComponent:e.selectedComponent,sourceGuid:e.sourceGuid},trackingProps:{location:"side_sheet",entrypoint:p}}),children:(0,h.t)("dev_handoff.component_browser.skip")})})]}),t&&(0,o.jsxs)("div",{className:b()(eb,ev),children:[(0,o.jsx)("div",{className:ef,children:(0,o.jsx)("h2",{className:"component_browser_detail_view--skippedCodeComponentHeaderText--1ku9s",children:(0,h.t)("dev_handoff.component_browser.code_component")})}),(0,o.jsxs)("div",{className:"component_browser_detail_view--centerSkippedContent--zbsDG",children:[(0,h.t)("dev_handoff.component_browser.not_connected_to_design_component"),(0,o.jsx)(l.$n,{variant:"secondary",onClick:()=>c({codeConnectId:e.component.code_connect_info.v1.id,row:{assetKey:e.assetKey,sourceIndex:_,component:e.component,selectedFile:e.selectedFile,selectedComponent:e.selectedComponent,sourceGuid:e.sourceGuid},trackingProps:{location:"side_sheet",entrypoint:p}}),children:(0,h.t)("dev_handoff.component_browser.connect_now")})]})]})]})}function ey({data:e,shouldAnimate:n,sourceIndex:t,onClose:i,onRequestNextComponent:c,onRequestPreviousComponent:l,onDeleteMapping:d,onIgnoreMapping:_,onActiveRowChange:u,onConfirmConnection:m,onConfirmSuggestion:f,onComponentChanged:b,onFileChanged:x,updateConnection:N,onValueChange:S,onUpdateUserRules:D,repositoryId:T,isWindowed:E=!1,entrypoint:L,isLoadingSuggestions:P,suggestions:M}){let R=(0,r.d4)(e=>e.openFile),[B,O]=(0,s.useState)(null),[F,K]=(0,s.useState)(null),H=s.useRef(null),[A,V]=(0,s.useState)(!1),U=e?.component?.code_connect_info?.v1?.state==="connected",G=e?.component?.code_connect_info?.v1?.state==="ignored",W=(0,I.ER)(R,(0,g.kc)().dt_code_connect_ai_new_permission?e?.component?.can_use_dev_mode_ai:void 0),$=(0,k.HC)(A&&W?e.sourceGuid??"":"",!0),q=W?$:void 0;(0,s.useEffect)(()=>{O(e?.selectedFile??null),K(e?.selectedComponent??null)},[e]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{V(!0)},n?C.SLIDE_ANIMATION_DURATION:0);return()=>clearTimeout(e)},[n]);let{showRulesPopout:z,setShowRulesPopout:J,savedUserRules:Q,draftUserRules:Y,setDraftUserRules:X,defaultPosition:Z,handleOpenRulesWindow:ee}=(0,y.E)(e,L,e.sourceGuid??""),en=(0,o.jsx)(ej,{data:e,entrypoint:L,isConnected:U,isIgnored:G,isLoadingSuggestions:P,mcpUserRulesEnabled:W,onActiveRowChange:u,onComponentChanged:b,onConfirmConnection:m,onConfirmSuggestion:f,onDeleteMapping:d,onFileChanged:x,onIgnoreMapping:_,onOpenRulesWindow:ee,onValueChange:S,playgroundData:q,repositoryId:T,savedUserRules:Q,sourceIndex:t,suggestions:M,updateConnection:N});return(0,o.jsxs)(w.n.div,{ref:H,className:"component_browser_detail_view--wrapper--a-VQM",onKeyDown:function(n){switch(n.key){case"ArrowUp":l?.();break;case"ArrowDown":c?.();break;case"Escape":i();break;case"Backspace":n.shiftKey&&_({row:{assetKey:e.assetKey,sourceIndex:t,component:e.component,selectedFile:B,selectedComponent:F,sourceGuid:e.sourceGuid},trackingProps:{location:"side_sheet",entrypoint:L}})}},tabIndex:-1,children:[(0,o.jsxs)("div",{className:"component_browser_detail_view--content--MHoFG",children:[!E&&(0,o.jsx)("div",{className:"component_browser_detail_view--titleContainer--YTBwT",children:!E&&(0,o.jsx)(a.K,{"aria-label":(0,h.t)("dev_handoff.component_browser.close_component_browser"),onClick:()=>i(),children:(0,o.jsx)(p.O,{})})}),(0,o.jsx)("div",{className:"component_browser_detail_view--panels--bq4PM",children:(0,o.jsxs)(o.Fragment,{children:[W?(0,o.jsx)(eu,{playgroundData:q,entrypoint:L,nodeId:e.sourceGuid??""}):(0,o.jsx)(ew,{data:e}),en]})})]}),z&&(0,o.jsx)(j.T,{onClose:()=>J(!1),defaultPosition:Z,setShowRulesPopout:J,draftUserRules:Y,setDraftUserRules:X,savedUserRules:Q,onSave:n=>{(0,v.sx)("component_browser.component_details_user_rules_saved",{componentBrowserEntrypoint:L,nodeId:e.sourceGuid??"",userRulesLength:n.length}),D({row:e,userRules:n})}})]})}},395413:(e,n,t)=>{t.d(n,{gP:()=>eH,uI:()=>eO});var o=t(239976),s=t(105652),r=t(556581),i=t(943360),a=t(254056),c=t(942356),l=t(271650),d=t(474164),_=t(524924),p=t(951740),u=t(379141),m=t(270450),h=t(224542),g=t.n(h),f=t(723850),b=t(393463),v=t(7857),x=t(577225),w=t(75962),j=t(221482),y=t(20002),C=t(888903);let I="component-browser-bulk-actions";function k({selectedCount:e,onBulkConnectComponents:n,onBulkIgnoreComponents:t,onDismiss:o}){let r=(0,y.wA)();return(0,s.useEffect)(()=>{if(0===e){r(C.F.dequeue({matchType:I}));return}r(C.F.enqueue({type:I,message:(0,u.t)("dev_handoff.component_browser.bulk_mapping.selected_components_bell.description",{count:e}),button:{primary:{text:(0,u.t)("dev_handoff.component_browser.bulk_mapping.selected_components_bell.action_connect"),action:()=>(n(),!0)},secondary:{text:(0,u.t)("dev_handoff.component_browser.bulk_mapping.selected_components_bell.action_ignore"),action:()=>(t(),!0)}},onDismiss:()=>{o?.()},timeoutOverride:1/0}))},[e,n,t,o,r]),null}var N=t(141692),S=t(777645),D=t(437575),T=t(682488),E=t(617852),L=t(985791),P=t(363638),M=t(323264),R=t(971340),B=t(505846);let O="component_browser_component_list--compact--mDg9V",F="component_browser_component_list--componentsListLoadingContainer--AR9oQ",K="component_browser_component_list--spacious--hYvKf",H="component_browser_component_list--sidesheet--4Fs01",A="component_browser_component_list--componentsListTableCell--ghJut",V="component_browser_component_list--designCell--iI9jP",U="component_browser_component_list--decoratorCell--Lthg-",G="component_browser_component_list--fileCell--0rOSn",W="component_browser_component_list--variantsCell--fSFIa",$="component_browser_component_list--statusCell---pS-z",q="component_browser_component_list--chevronCell--0CMxi",z="component_browser_component_list--codeConnectionStatus--XPYMr",J="component_browser_component_list--componentsListEmptyState--pveeK",Q="component_browser_component_list--checkboxCell--PP4sU";function Y({icon:e,color:n,tooltip:t,ariaLabel:s,backgroundColor:r}){return P.v.getFeatureGate("dt_component_browser_one_to_many")?(0,o.jsx)("div",{...M.xk(ee.statusIcon(n,r)),"data-tooltip":t,"data-tooltip-type":"text",role:"img","aria-label":s,children:e}):(0,o.jsx)("div",{...M.xk(ee.iconWithColor(n)),"data-tooltip":t,"data-tooltip-type":"text",role:"img","aria-label":s,children:e})}function X({component:e,isLoading:n,isSuggestion:t}){let r=(0,m.kc)().dt_component_browser_improved_suggestions,i=(0,B.sD)(),a=(0,B.P8)(),c=e.code_connect_info.v1.state,l=(0,s.useMemo)(()=>{switch(c){case"connected":let{icon:e,color:n,backgroundColor:s}=a.connected;return(0,o.jsx)(Y,{icon:(0,o.jsx)(e,{"aria-hidden":"true"}),color:n,tooltip:i.connected,ariaLabel:i.connected,backgroundColor:s});case"ignored":let{icon:l,color:d,backgroundColor:_}=a.ignored;return(0,o.jsx)(Y,{icon:(0,o.jsx)(l,{"aria-hidden":"true"}),color:d,tooltip:i.ignored,ariaLabel:i.ignored,backgroundColor:_});default:{if(r&&t){let{icon:e,color:n,backgroundColor:t}=a.suggestionsAvailable;return(0,o.jsx)(Y,{icon:(0,o.jsx)(e,{"aria-hidden":"true"}),color:n,tooltip:i.suggestionsAvailable,ariaLabel:i.suggestionsAvailable,backgroundColor:t})}let{icon:e,color:n,backgroundColor:s}=a.notConnected;return(0,o.jsx)(Y,{icon:(0,o.jsx)(e,{"aria-hidden":"true"}),color:n,tooltip:i.notConnected,ariaLabel:i.notConnected,backgroundColor:s})}}},[c,i,a,t,r]);return n?(0,o.jsx)("span",{className:z,children:(0,o.jsx)(R.kt,{})}):(0,o.jsx)("span",{className:z,children:l})}let Z={kzqmXN:"xvy4d1p",kZKoxP:"xxk0z11",k1xSpc:"x78zum5",kGNEyG:"x6s0dn4",kjj79g:"xl56j7k",kaIpWk:"x137qmg1",krdFHd:"",kfmiAY:"",kVL7Gh:"",kT0f0o:"",kIxVMA:"",ksF3WI:"",kqGeR4:"",kYm2EN:"",kMwMTN:"xv1l7n4",kkrTdU:"xt0e3qv",$$css:!0},ee={iconWithColor:e=>[{"--color-icon":null!=e?"x1g56j85":e,$$css:!0},{"--x---color-icon":null!=e?e:void 0}],statusIcon:(e,n)=>[Z,{"--color-icon":null!=e?"x1g56j85":e,kWkggS:null!=n?"xl8spv7":n,$$css:!0},{"--x---color-icon":null!=e?e:void 0,"--x-backgroundColor":null!=n?n:void 0}]};var en=t(985836);function et({width:e=102,height:n=58,spacing:t="spacious"}){let s=Math.ceil((window.innerHeight-200)/49);return(0,o.jsx)("div",{className:g()("component_browser_component_list--componentListLoadingItems--S4-FY",{[O]:"compact"===t}),children:Array.from({length:s}).map((t,s)=>(0,o.jsxs)("div",{className:"component_browser_component_list--componentListLoadingRow--B9vTy",children:[(0,o.jsx)(en.Wi,{style:{width:e,height:n,borderRadius:4},animationType:en.JR.SHIMMER}),(0,o.jsx)(en.Wi,{style:{width:200},animationType:en.JR.SHIMMER}),(0,o.jsx)(en.Wi,{style:{flex:1},animationType:en.JR.SHIMMER}),(0,o.jsx)(en.Wi,{style:{width:120},animationType:en.JR.SHIMMER})]},s))})}var eo=t(71268),es=t(690418),er=t(865702),ei=t(299609),ea=t(632381),ec=t(77009),el=t(964622),ed=t(236410);function e_({tooltip:e}){return(0,o.jsx)("div",{"data-tooltip":e,"data-tooltip-show-above":!0,"data-tooltip-type":ed.Ib.TEXT,className:"component_browser_hotkey_indicator--hotkeyIcon--8zaPi","aria-label":e,role:"img",children:"\u21B5"})}function ep({shortcut:e,state:n,sourceIndex:t,isInputEmpty:s,selectedFile:r}){return"not_connected"!==n||void 0===t||!r&&s?null:(0,o.jsx)("div",{children:(0,o.jsx)(e_,{tooltip:e})})}var eu=t(391596),em=t(319565),eh=t(522568),eg=t(993423),ef=t(515217);let eb=(0,s.forwardRef)(({libraryKey:e,onClose:n},t)=>{let[r,i]=(0,s.useState)(!1),a=(0,L.B)(e).unwrapOr(null),l=(0,s.useCallback)(()=>{i(!0)},[]),d=(0,s.useCallback)(()=>{i(!1),n()},[n,i]);return a?(0,o.jsxs)("div",{tabIndex:0,className:"component_browser_input_github_dropdown--container--5rSQC",ref:t,children:[(0,o.jsx)("div",{className:"component_browser_input_github_dropdown--header--EJCmH",children:(0,u.t)("dev_handoff.component_browser.github_repo_dropdown.header",{libraryName:a})}),(0,o.jsx)("div",{className:"component_browser_input_github_dropdown--description--1rmWn",children:(0,u.t)("dev_handoff.component_browser.github_repo_dropdown.description")}),(0,o.jsx)(c.$n,{variant:"primary",onClick:l,children:(0,u.t)("dev_handoff.component_browser.github_repo_dropdown.button")}),r&&(0,o.jsx)(ef.A,{libraryKey:e,onClose:d,onBack:d})]}):null});var ev=t(735786),ex=t(378721),ew=t(757019),ej=t(4245),ey=t(154709),eC=t(962982),eI=t(961016);function ek({githubUrl:e,gitHubContents:n}){return e?(0,o.jsx)(ev.N_,{href:e,newTab:!0,children:n}):(0,o.jsx)(ev.q7,{disabled:!0,onClick:er.lQ,children:n})}function eN({data:e,isCliGenerated:n,onEdit:t,onDelete:r,location:i,entrypoint:a}){let{getTriggerProps:c,manager:l}=ev.b(),d=e.component.library_key,{selectedRepositories:_,queryStatus:p}=(0,el.OG)(d),m=e.component.code_connect_info.v1.figmadoc,h=(0,s.useMemo)(()=>(0,T.y)(m),[m]),g=e.selectedFile?.metadata?.path,f=(0,s.useMemo)(()=>{if(!g)return null;if(g.includes("github.com"))return g;if("loaded"!==p)return null;let e=h?.repository,n=_[0];if(e?.id&&n){let n=_.find(n=>n.id===e.id);if(n?.owner&&n?.name){let e=g.replace(/^\//,"");return`https://github.com/${n.owner}/${n.name}/blob/main/${e}`}}if(n?.owner&&n?.name){let e=g.replace(/^\//,"");return`https://github.com/${n.owner}/${n.name}/blob/main/${e}`}return null},[g,h,_,p]),b=r===er.lQ,v=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ev.Q$,{children:(0,o.jsx)(ew.z,{})}),(0,u.t)("dev_handoff.component_browser.more_actions_menu.open_in_github")]});return(0,o.jsxs)(ev.bL,{manager:l,children:[(0,o.jsx)(ex.K,{...c(),"aria-label":(0,u.t)("dev_handoff.component_browser.more_actions_menu.aria_label"),children:(0,o.jsx)(ej.J,{})}),(0,o.jsxs)(ev.mc,{children:[(0,o.jsxs)(ev.YJ,{children:[(0,o.jsxs)(ev.q7,{disabled:n,onClick:t,children:[(0,o.jsx)(ev.Q$,{children:(0,o.jsx)(ey.$,{})}),(0,u.t)("dev_handoff.component_browser.more_actions_menu.edit")]}),(0,o.jsxs)(ev.q7,{disabled:b,onClick:()=>{r({codeConnectId:e.component.code_connect_info.v1.id,row:e,trackingProps:{location:i,entrypoint:a}})},children:[(0,o.jsx)(ev.Q$,{children:(0,o.jsx)(eC.G,{})}),(0,u.t)("dev_handoff.component_browser.more_actions_menu.disconnect")]}),n&&(0,o.jsx)(ek,{githubUrl:f,gitHubContents:v})]}),!n&&(0,o.jsx)(ek,{githubUrl:f,gitHubContents:v}),n&&(0,o.jsxs)("div",{className:"component_browser_more_actions_menu--info--eOtHv",children:[(0,o.jsx)("div",{className:"component_browser_more_actions_menu--infoIconWrapper--VK0hU",children:(0,o.jsx)(eI.M,{})}),(0,o.jsx)("div",{className:"component_browser_more_actions_menu--infoText--tKmGP",children:(0,u.t)("dev_handoff.component_browser.more_actions_menu.code_connect_cli_only_message")})]})]})]})}var eS=t(227598),eD=t(158775),eT=(e=>(e.FILE="file",e.COMPONENT="component",e.CONFIRM="confirm",e))(eT||{});function eE({onConfirmConnection:e,showButton:n,disabled:t,children:s}){return(0,o.jsx)("div",{className:g()(eD.UD,{[eD.R]:!n}),children:(0,o.jsx)(c.WW,{onClick:t?er.lQ:e,variant:"primary",children:s??(0,u.t)("dev_handoff.component_browser.connect")})})}function eL({onEdit:e,showButton:n,disabled:t}){return(0,o.jsx)("div",{className:g()(eD.UD,{[eD.R]:!n}),children:(0,o.jsx)(c.$n,{onClick:e,"aria-disabled":t,variant:"secondary",children:(0,u.t)("dev_handoff.component_browser.edit")})})}function eP({onSave:e,onCancel:n,disabled:t}){return(0,o.jsxs)("div",{className:eD.UD,children:[(0,o.jsx)(c.$n,{onClick:n,"aria-disabled":t,variant:"secondary",children:(0,u.t)("dev_handoff.component_browser.cancel")}),(0,o.jsx)(c.$n,{onClick:e,"aria-disabled":t,variant:"primary",children:(0,u.t)("dev_handoff.component_browser.save")})]})}function eM({item:e,isRowHovered:n,isLoading:t,sourceIndex:r,currentRowIndex:i,libraryKey:a,onComponentChanged:c,onFileChanged:l,onValueChange:d,onConfirmConnection:_,onDeleteMapping:p,updateConnection:h,value:f="",selectedFile:b,selectedComponent:v,suggestions:x,inputRef:w,onSetInputRef:j,readonly:y=!1,autosave:C=!0,location:I,entrypoint:k,onBlur:N,isRowActive:S,onActiveRowChange:D,isLoadingSuggestions:T,hasEditButton:E,onConfirmSuggestion:L}){let[P,M]=(0,s.useState)([]),[R,B]=(0,s.useState)(!1),[O,F]=(0,s.useState)(void 0),[K,H]=(0,s.useState)(void 0),A=(0,s.useRef)(null),V=(0,s.useRef)(null),U=(0,el.OG)(a),{result:G,isLoading:W}=(0,eS.I)({searchTerm:f,libraryKey:a,suggestions:x}),{results:$,isLoading:q}=function({libraryKey:e,selectedFile:n,selectedComponent:t,searchTerm:o,suggestions:r}){let i=n?.metadata?.repository?.id,a=n?.metadata?.path,[c]=(0,eu.IT)((0,em.rt)({libraryKey:e,repository:i??"",path:a??""}),{enabled:!!n&&!!e&&!!i&&!!a&&!n?.metadata?.isCustomLink&&!t,key:`repositoryComponentsQuery-${a}`}),l="loading"===c.status,d="loaded"===c.status,_=c.data,p=(0,s.useMemo)(()=>d&&_?_.components:[],[d,_]),u=(0,s.useMemo)(()=>r?r.filter(e=>e.src_path===a):[],[r,a]),m=(0,s.useMemo)(()=>Array.from(new Set([...u.map(e=>e.name),...p])),[p,u]);return{results:(0,s.useMemo)(()=>m.length?m.filter(e=>e.toLowerCase().includes(o.toLowerCase())).map((e,n)=>({title:e,subtitle:"",metadata:{index:n}})):[],[o,m]),isLoading:l,searchTerm:o}}({libraryKey:a,selectedFile:b,selectedComponent:v,searchTerm:f,suggestions:x}),z=function({data:e}){let{component:n,inputValue:t,selectedFile:o,selectedComponent:r,sourceIndex:i}=e,a=n.code_connect_info.v1.state,{shortcut:c}=(0,s.useMemo)(()=>o?o&&!r&&t&&0===t.length?{shortcut:(0,u.t)("dev_handoff.component_browser.confirm_connection_shortcut")}:!r&&t&&t.length>0?{shortcut:(0,u.t)("dev_handoff.component_browser.connect_component_shortcut")}:{shortcut:(0,u.t)("dev_handoff.component_browser.confirm_connection_shortcut")}:{shortcut:(0,u.t)("dev_handoff.component_browser.connect_file_shortcut")},[o,r,t]),l=(0,s.useMemo)(()=>o||t&&t.length>0||r&&o,[o,t,r]);return{selectedFile:o,selectedComponent:r,shortcut:c,state:a,sourceIndex:i,canConnect:l,isInputEmpty:t?.length===0}}({data:e}),J=(0,s.useMemo)(()=>{let e=0===P.length,n=1===P.length;return e?{results:G.map(e=>({title:e.title,subtitle:e.subtitle,icon:(0,o.jsx)(ei.I,{})})),isLoading:W}:n?{results:$.map(e=>({title:e.title,subtitle:e.subtitle,icon:(0,o.jsx)(ea.P,{})})),isLoading:q}:{results:[],isLoading:!1}},[G,$,P.length,W,q]),[Q,Y]=(0,s.useState)({shouldBeVisible:!1,shouldShowGithubCTA:!1,selectedIndex:0,sessionId:"",lastItemsLength:0}),X=(0,s.useMemo)(()=>S&&Q.shouldBeVisible&&U.status===el.w6.NeedsInfo&&U.queryStatus===ec.H.LOADED,[Q.shouldBeVisible,U,S]);(0,s.useEffect)(()=>{let e=[],n=R?O:b,t=R?K:v;n&&e.push({value:n.subtitle??n.title}),t&&e.push({value:t.title}),M(e)},[b,v,R,O,K]),(0,s.useEffect)(()=>{Y(e=>({...e,selectedViaDropdown:!1}))},[r]),function({dropdownState:e,items:n,dropdownDataResultsLength:t,value:o,isRowActive:r,isLoadingSuggestions:i,isLoadingDropdownData:a,fileSearchResults:c,componentSearchResults:l,selectedFile:d,suggestions:_,location:p,entrypoint:u}){let m=(0,s.useRef)(null);(0,s.useEffect)(()=>{let s={sessionId:e.sessionId,itemsLength:n.length},h=m.current,g=e.shouldBeVisible&&t>0,f=!!e.sessionId,b=0===o.length,v=!h||h.sessionId!==e.sessionId||h.itemsLength!==n.length;if(g&&f&&b&&r&&v){let{aiCodebaseSuggestionsCount:t,lexicalSearchResultsCount:o,aiSuggestionConfidenceScores:r}=function(e,n,t,o,s){let r=0,i=0,a=[];return 0===e.length?n.forEach(e=>{let n=s?.find(n=>n.src_path===e.metadata?.path);n?(r++,a.push(n.score)):i++}):1===e.length&&t.forEach(e=>{let n=s?.find(n=>n.src_path===o?.metadata?.path&&n.name===e.title);n?(r++,a.push(n.score)):i++}),{aiCodebaseSuggestionsCount:r,lexicalSearchResultsCount:i,aiSuggestionConfidenceScores:a}}(n,c,l,d,_);(0,eh.sx)("component_browser.code_component_input_typeahead_displayed",{location:p,componentBrowserEntrypoint:u,sessionId:e.sessionId,aiCodebaseSuggestionsCount:t,lexicalSearchResultsCount:o,aiSuggestionConfidenceScores:r,hasCodebaseSuggestionsLoaded:!i,hasLexicalSearchLoaded:!a,queryId:_?.[0]?.tracking_query_id}),m.current=s}},[e.shouldBeVisible,e.sessionId,t,r,n.length,c,l,d,_,p,u,i,a,o.length,n])}({dropdownState:{shouldBeVisible:Q.shouldBeVisible,sessionId:Q.sessionId},items:P,dropdownDataResultsLength:J.results.length,value:f,isRowActive:S,isLoadingSuggestions:T,isLoadingDropdownData:J.isLoading,fileSearchResults:G,componentSearchResults:$,selectedFile:b??null,suggestions:x,location:I,entrypoint:k});let Z=U.status===el.w6.Connected,ee=x?.[0]?.tracking_query_id;(0,s.useEffect)(()=>{if(!Q.shouldBeVisible||!S)return;let e=e=>{let n=e.target;A.current&&n.contains(A.current)||Y(e=>({...e,shouldBeVisible:!1,selectedIndex:0}))};return window.addEventListener("scroll",e,!0),()=>{window.removeEventListener("scroll",e,!0)}},[Q.shouldBeVisible,S]);let en=(0,s.useCallback)(e=>{switch(e){case 0:return Z?(0,u.t)("dev_handoff.component_browser.input_placeholder_github_connected"):(0,u.t)("dev_handoff.component_browser.paste_code_link");case 1:return(0,u.t)("dev_handoff.component_browser.component_name")}},[Z]),et=(0,s.useCallback)(()=>{_({row:e,sourceIndex:r,currentRowIndex:i,trackingProps:{location:I,source:"manual",entrypoint:k,sessionId:Q.sessionId||crypto.randomUUID(),queryId:ee},focusNextInput:!0})},[_,e,r,i,I,k,Q.sessionId,ee]),eo=()=>{F(b),H(v),B(!0),Y(e=>({...e,shouldBeVisible:!0,selectedIndex:0,lastItemsLength:0,sourceOfLastInput:void 0}))},ed=()=>{Y(e=>({...e,selectedIndex:0}))};function e_(n,t){let o=0===P.length,s=1===P.length;if(Y(e=>({...e,selectedIndex:0,selectedViaDropdown:!0})),o){let e=G[t];if(e){let n=-1!==(x?x.findIndex(n=>n.src_path===e.metadata?.path):-1)?"ai_codebase_suggestion":"lexical_search_result";Y(e=>({...e,sourceOfLastInput:n})),l({save:C,sourceIndex:r,currentRowIndex:i,selectedFile:e,trackingProps:{location:I,source:n,entrypoint:k,sessionId:Q.sessionId||crypto.randomUUID(),queryId:ee}}),ed()}}else if(s&&$[t]){let t=-1!==(x?x.findIndex(t=>t.src_path===e.selectedFile?.metadata?.path&&t.name===n.title):-1)?"ai_codebase_suggestion":"lexical_search_result";Y(e=>({...e,sourceOfLastInput:t})),c({save:C,sourceIndex:r,currentRowIndex:i,selectedComponent:n,action:"create",trackingProps:{location:I,source:t,entrypoint:k,sessionId:Q.sessionId||crypto.randomUUID(),queryId:ee}}),ed()}w?.focus()}let ef="side_sheet"===I?"connected"!==z.state:n&&z.canConnect&&"connected"!==z.state,ev=E&&"connected"===e.component.code_connect_info.v1.state,ex=(0,s.useCallback)(()=>{if(e.isSelectedFromSuggestion){let n=Q.selectedViaDropdown?"typeahead_dropdown":"inline";L({filepath:e.selectedFile?.metadata?.path??"",componentName:e.selectedComponent?.title??"",item:e,currentRowIndex:i??0,sourceIndex:r,sessionId:e.sessionId,suggestionSelectionInterface:n})}else{let n=Q.selectedViaDropdown?"typeahead_dropdown":"inline";_({row:e,sourceIndex:r,currentRowIndex:i,trackingProps:{location:I,source:Q.sourceOfLastInput||"manual",entrypoint:k,sessionId:Q.sessionId||crypto.randomUUID(),queryId:ee,suggestionSelectionInterface:"ai_codebase_suggestion"===Q.sourceOfLastInput?n:void 0}})}},[_,L,e,i,r,Q.sourceOfLastInput,Q.sessionId,Q.selectedViaDropdown,k,I,ee]),ew=!R&&(y||"connected"===z.state);return(0,o.jsxs)("div",{className:g()(eD.kL,{[eD.w$]:ev||R,[eD.rA]:R}),onBlur:N,children:[(0,o.jsxs)("div",{className:eD.bd,children:[(0,o.jsxs)("div",{className:eD.Kf,children:[(0,o.jsx)(es.ls,{ref:j,disabled:t,isSuggestion:e.isSelectedFromSuggestion,items:P,maxItems:2,onAddItem:(e,n)=>{if(0===f.length&&b){et?.();return}if(R){switch(n){case 0:F({title:e.value,subtitle:e.value,metadata:{isCustomLink:!1,repository:{id:"",name:""},path:e.value}}),d({sourceIndex:r,value:""});break;case 1:H({title:e.value,subtitle:e.value,metadata:{index:n}}),d({sourceIndex:r,value:""})}return}switch(n){case 0:l({save:C,sourceIndex:r,currentRowIndex:i,selectedFile:{title:e.value,subtitle:e.value,metadata:{isCustomLink:!1,repository:{id:"",name:""},path:e.value}},trackingProps:{location:I,source:"manual",entrypoint:k,sessionId:Q.sessionId||crypto.randomUUID(),queryId:ee}});break;case 1:c({save:C,sourceIndex:r,currentRowIndex:i,selectedComponent:{title:e.value,subtitle:e.value,metadata:{index:n}},action:"create",trackingProps:{location:I,source:"manual",entrypoint:k,sessionId:Q.sessionId||crypto.randomUUID(),queryId:ee}})}},onBlur:e=>{let n=e.relatedTarget;n&&A.current?.contains(n)||V&&n&&V.current?.contains(n)||Y(e=>({...e,shouldBeVisible:!1,selectedIndex:0}))},onClearItems:()=>{if(R){F(null),H(null);return}l({save:C,sourceIndex:r,currentRowIndex:i,selectedFile:null,trackingProps:{location:I,source:e.isSelectedFromSuggestion?"ai_codebase_suggestion":"manual",entrypoint:k,sessionId:e.isSelectedFromSuggestion?e.sessionId:Q.sessionId||crypto.randomUUID(),queryId:ee}}),Y(e=>({...e,shouldBeVisible:!1,selectedIndex:0,lastItemsLength:0,sourceOfLastInput:void 0}))},onFocus:()=>{D(e.component.node_id),Y(e=>{let n=0===f.length&&0===P.length&&(e.lastItemsLength>0||!e.sessionId)?crypto.randomUUID():e.sessionId;return{...e,shouldBeVisible:!0,selectedIndex:0,sessionId:n,lastItemsLength:P.length}})},onKeyDown:e=>{if("ArrowDown"===e.key){if(Q.selectedIndex<J.results.length-1)return Y(e=>({...e,selectedIndex:e.selectedIndex+1})),e.preventDefault(),!0}else if("ArrowUp"===e.key){if(Q.selectedIndex>0)return Y(e=>({...e,selectedIndex:e.selectedIndex-1})),e.preventDefault(),!0}else if("Enter"===e.key){let n=J.results[Q.selectedIndex];if(n)return e_(n,Q.selectedIndex),e.preventDefault(),!0}else if("Escape"===e.key)return Y(e=>({...e,shouldBeVisible:!1,selectedIndex:0})),e.currentTarget.blur(),e.preventDefault(),e.stopPropagation(),!0;return!1},onMaxItemsReached:et,onRemoveLastItem:e=>{if(R){switch(e){case 0:F(null);break;case 1:H(null)}return}switch(e){case 0:l({save:C,sourceIndex:r,currentRowIndex:i,selectedFile:null,trackingProps:{location:I,source:"manual",entrypoint:k,sessionId:Q.sessionId||crypto.randomUUID(),queryId:ee}});break;case 1:c({save:C,sourceIndex:r,currentRowIndex:i,selectedComponent:null,action:"delete",trackingProps:{location:I,source:"manual",entrypoint:k,sessionId:Q.sessionId||crypto.randomUUID(),queryId:ee}})}},onRequestPlaceholder:en,onValueChange:e=>{d({sourceIndex:r,value:e})},readonly:ew,value:f,children:!R&&(0,o.jsx)(ep,{...z})}),X&&(0,o.jsx)(eb,{libraryKey:a,ref:V,onClose:()=>{Y(e=>({...e,shouldBeVisible:!1,selectedIndex:0}))}}),(0,o.jsx)(eg.O,{ref:A,shouldBeVisible:Q.shouldBeVisible&&S,isLoading:J.isLoading,items:J.results,selectedIndex:Q.selectedIndex,onItemSelect:e_,portal:!0,inputRef:w})]}),!R&&(0,o.jsxs)(o.Fragment,{children:[E&&ef?(0,o.jsx)(eE,{showButton:!!ef,disabled:!z.canConnect,onConfirmConnection:ex}):!E&&(0,o.jsx)(eE,{showButton:!!ef,disabled:!z.canConnect,onConfirmConnection:ex}),ev&&((0,m.kc)().dt_component_browser_more_actions_menu?(0,o.jsx)(eN,{isCliGenerated:e?.component?.code_connect_info?.v1?.type==="figmadoc",onEdit:eo,data:e,onDelete:p??er.lQ,location:I,entrypoint:k}):(0,o.jsx)(eL,{showButton:!!ev,disabled:!1,onEdit:eo}))]})]}),R&&(0,o.jsx)("div",{className:eD.hf,children:(0,o.jsx)(eP,{disabled:!z.canConnect,onSave:()=>{let n=K??null;if(f&&1===P.length&&(n={title:f,subtitle:f,metadata:{index:1}}),!O&&!n&&p){try{p({codeConnectId:e.component.code_connect_info.v1?.id,row:e,trackingProps:{location:I,entrypoint:k}}),d({sourceIndex:r,value:""}),F(null),H(null),B(!1),Y(e=>({...e,shouldBeVisible:!1,selectedIndex:0,lastItemsLength:0,sourceOfLastInput:void 0}))}catch(e){console.error("Failed to disconnect:",e)}return}if(O)try{let t={...e,selectedFile:O,selectedComponent:n,inputValue:""};h({row:t,sourceIndex:r,trackingProps:{location:I,source:Q.sourceOfLastInput||"manual",entrypoint:k,sessionId:Q.sessionId||crypto.randomUUID(),queryId:ee},save:!0}),d({sourceIndex:r,value:""}),B(!1),F(void 0),H(void 0),Y(e=>({...e,shouldBeVisible:!1,selectedIndex:0,lastItemsLength:0,sourceOfLastInput:void 0}))}catch(e){console.error("Failed to save connection:",e)}},onCancel:()=>{d({sourceIndex:r,value:""}),B(!1),F(void 0),H(void 0),Y(e=>({...e,shouldBeVisible:!1,selectedIndex:0,lastItemsLength:0,sourceOfLastInput:void 0}))}})})]})}function eR({suggestions:e,assetKey:n}){return(0,o.jsxs)("div",{className:"suggestions_debug--suggestionsDebug--ZrJKz",onClick:e=>{e.stopPropagation()},children:[(0,o.jsxs)("div",{children:["Asset key: ",(0,o.jsx)("code",{children:n})]}),(0,o.jsxs)("table",{className:"suggestions_debug--suggestionsDebugTable--dKzEF",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Index"}),(0,o.jsx)("th",{children:"Filepath"}),(0,o.jsx)("th",{children:"Name"}),(0,o.jsx)("th",{children:"Score"}),(0,o.jsx)("th",{children:"Confidence"}),(0,o.jsx)("th",{children:"Session ID"})]})}),(0,o.jsx)("tbody",{children:0===e.length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:5,style:{textAlign:"center"},children:"(No suggestions)"})}):e.map((e,n)=>(0,o.jsxs)("tr",{"data-tooltip-type":ed.Ib.TEXT,"data-tooltip":JSON.stringify(e,null,2),children:[(0,o.jsx)("td",{children:n}),(0,o.jsx)("td",{children:e.src_path}),(0,o.jsx)("td",{children:e.name}),(0,o.jsx)("td",{children:e.score.toFixed(3)}),(0,o.jsx)("td",{children:e.confidence_level}),(0,o.jsx)("td",{children:e.session_id})]},e.codebase_component_id))})]})]})}function eB(e){let{currentRowIndex:n,inputRefs:t}=e,r=(0,s.useCallback)(e=>{e&&void 0!==n&&(t.current[n]=e)},[n,t]);return(0,o.jsx)(eO,{...e,onSetInputRef:r,inputRef:void 0!==n?t.current[n]:void 0})}function eO({spacing:e="spacious",isRowHovered:n,item:t,component:r,suggestions:i,isLoadingSuggestions:a,libraryKey:c,onComponentChanged:d,onConfirmConnection:_,onConfirmSuggestion:p,onDeleteMapping:h,updateConnection:f,onFileChanged:b,onValueChange:v,sourceIndex:x,currentRowIndex:w,location:y,entrypoint:C,onActiveRowChange:I,isRowActive:k,hasEditButton:N,componentName:S,inputRef:T,onSetInputRef:E}){let[L,P]=(0,s.useState)(!1),M=r?.code_connect_info.v1.state==="ignored",R="connected"===r.code_connect_info.v1.state,B=(0,m.kc)().dt_component_browser_bulk_mapping&&!(0,m.kc)().dt_component_browser_improved_suggestions&&!R&&!M&&i&&i.length>0&&!L,F=(0,s.useMemo)(()=>{if(B){let e=i[0],s=[e.src_path];return e.name&&s.push(e.name),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(es.l6,{emptyMessage:(0,u.t)("dev_handoff.component_browser.input_no_filepath"),items:s,icon:l.C,isSuggestion:!0,onClick:e=>{P(!0),I(t.component.node_id),e.stopPropagation()},tooltipProps:(0,D.f$)({componentName:e.name,filepath:e.src_path})}),(0,o.jsx)(eE,{onConfirmConnection:n=>{p({filepath:e.src_path,componentName:e.name,item:t,currentRowIndex:w,sourceIndex:x,sessionId:e.session_id,aiSuggestionConfidenceScore:e.score,suggestionSelectionInterface:"inline"}),n.stopPropagation()},showButton:n,children:(0,u.t)("dev_handoff.component_browser.confirm")})]})}if(M)return(0,o.jsx)("span",{className:"component_browser_component_list--noCodeEquivalent--qtuJb",children:(0,u.t)("dev_handoff.component_browser.no_code_equivalent")});let e=i?.[0];return(0,o.jsx)(eM,{autosave:!1,currentRowIndex:w,entrypoint:C,hasEditButton:N,inputRef:T,isLoading:t.isLoading??!1,isLoadingSuggestions:a,isRowActive:k,isRowHovered:n,item:t,libraryKey:c,location:y,onActiveRowChange:I,onBlur:e?()=>P(!1):void 0,onComponentChanged:d,onConfirmConnection:_,onConfirmSuggestion:p,onDeleteMapping:h,onFileChanged:b,onSetInputRef:E,onValueChange:v,readonly:t?.component?.code_connect_info?.v1?.state==="connected",selectedComponent:t.selectedComponent,selectedFile:t.selectedFile,sourceIndex:x,suggestions:i,updateConnection:f,value:t.inputValue??""})},[N,B,M,i,w,C,T,t,a,k,n,c,y,I,d,_,h,f,b,v,x,p,E]),{showSuggestionsDebug:K}=(0,j.D)();return(0,o.jsxs)("td",{"aria-label":S?(0,u.t)("dev_handoff.component_browser.file_cell_aria_label",{componentName:S}):(0,u.t)("dev_handoff.component_browser.file_cell_aria_label_default"),className:g()(A,G,{"component_browser_component_list--suggestionsDebug--27hmS":K,[O]:"compact"===e}),onClick:e=>{R||M||B||e.stopPropagation()},children:[F,K&&(0,o.jsx)(eR,{suggestions:i,assetKey:t.assetKey})]})}function eF(e){return(0,o.jsx)(v.u9,{label:"TableRow",children:(0,o.jsx)(eK,{...e})})}function eK({item:e,currentRowIndex:n,onSelectComponent:t,columns:a,spacing:c,onConfirmConnection:l,onConfirmSuggestion:p,suggestions:m,isLoadingSuggestions:h,selectedComponent:b,inputRefs:v,onComponentChanged:x,onFileChanged:y,onValueChange:C,onDeleteMapping:I,updateConnection:k,showExpandChevron:S,showLibraryNames:D,location:P,entrypoint:M,onActiveRowChange:R,isRowActive:B,selectedRows:F,onRowSelectionChange:K,style:H,libraryKey:G}){let z=(0,f.hC)(),[J,Y]=(0,s.useState)(!1),Z=e.component,ee=(0,L.B)(Z.library_key).unwrapOr(null),en=(0,E.b)({libraryKey:Z.library_key,nodeId:Z.node_id,isDevHandoff:!0}),et=Z.library_key===G,eo=ee&&D&&!et,es=en.data?.link,er=e.sourceIndex,{isSelected:ei}=(e=>{let n=null;if("connected"===e.code_connect_info.v1.state)try{n=(0,T.y)(e.code_connect_info.v1.figmadoc)}catch(e){}let t=b&&(0,N.I)(e)===(0,N.I)(b),o=null,s=null;if("connected"===e.code_connect_info.v1.state&&n){let e=n.source;e&&(o=e.substring(e.lastIndexOf("/")+1)),s=n.component}return{isSelected:t,fileName:o,componentName:s}})(Z),ea=!!F&&F.has(Z.node_id),ec=(0,s.useCallback)(e=>{if(!K||!F)return;let n=new Set(F);e?n.add(Z.node_id):n.delete(Z.node_id),K(n)},[Z.node_id,F,K]),{showSuggestionsDebug:el}=(0,j.D)(),ed=(0,s.useCallback)(()=>{z("component_browser.clicked_list_item",{componentBrowserEntrypoint:M,itemIdx:n,isIgnored:Z?.code_connect_info.v1.state==="ignored",isCodeConnectCli:"figmadoc"===Z.code_connect_info.v1.type,isConnected:"connected"===Z.code_connect_info.v1.state}),t(e),R(Z.node_id)},[z,M,n,Z,e,t,R]);return(0,o.jsxs)("tr",{onMouseEnter:()=>Y(!0),onMouseLeave:()=>Y(!1),className:g()("component_browser_component_list--componentsListTableRow--DQKfK",{"component_browser_component_list--isSelected--I7Mbt":ei,"component_browser_component_list--suggestionDebug---wOhM":el,"js-is-selected":ei}),onClick:ed,style:H,children:[a.includes("checkbox")&&(0,o.jsx)("td",{className:g()(A,Q),onClick:e=>e.stopPropagation(),children:(0,o.jsx)(r.W,{checked:ea,muted:!0,onChange:e=>ec(e),"aria-label":`Select ${Z.name}`,id:e.component.node_id})}),a.includes("design")&&(0,o.jsxs)("td",{className:g()(A,V,{[O]:"compact"===c}),children:[Z.thumbnail_url&&(0,o.jsx)("div",{className:"component_browser_component_list--componentItemImageContainer--AiVzw",children:(0,o.jsx)(w.oW,{className:"component_browser_component_list--componentItemImage--Vci7p",src:Z.thumbnail_url,alt:(0,u.t)("dev_handoff.component_browser.component_alt_text",{component:Z.name})})}),(0,o.jsxs)("div",{className:"component_browser_component_list--nameBlock--0--L8",children:[(0,o.jsx)("div",{className:"component_browser_component_list--componentName--LFAeo",children:Z.name}),eo&&es&&(0,o.jsx)("div",{className:"component_browser_component_list--libraryName---t-Q-",children:ee})]})]}),a.includes("decorator")&&(0,o.jsx)("td",{"aria-label":(0,u.t)("dev_handoff.component_browser.decorator_cell_aria_label",{componentName:Z.name}),className:g()(A,U),children:(0,o.jsx)(d.H,{className:"component_browser_component_list--decoratorIcon--cXjoC","aria-hidden":"true"})}),a.includes("status")&&(0,o.jsx)("td",{"aria-label":(0,u.t)("dev_handoff.component_browser.status_cell_aria_label",{componentName:Z.name,status:Z.code_connect_info.v1.state}),className:g()(A,$),children:(0,o.jsx)(X,{component:Z,isLoading:e.isLoading??!1,isSuggestion:e.isSelectedFromSuggestion??!1})}),a.includes("file")&&(0,o.jsx)(eB,{component:Z,componentName:Z.name,currentRowIndex:n,entrypoint:M,hasEditButton:!1,inputRefs:v,isLoadingSuggestions:h,isRowActive:B,isRowHovered:J,item:e,libraryKey:Z.library_key,location:P,onActiveRowChange:R,onComponentChanged:x,onConfirmConnection:l,onConfirmSuggestion:p,onDeleteMapping:I,onFileChanged:y,onValueChange:C,sourceIndex:er,suggestions:m,updateConnection:k}),a.includes("variants")&&(0,o.jsx)("td",{"aria-label":(0,u.t)("dev_handoff.component_browser.variants_cell_aria_label",{componentName:Z.name,count:"variants"in Z?Z.variants.length:0}),className:g()(A,W),children:"variants"in Z?(0,o.jsx)("div",{className:"component_browser_component_list--countItemNumber--IIOIQ","aria-hidden":"true",children:Z.variants.length}):(0,o.jsx)("span",{"aria-hidden":"true",children:"--"})}),a.includes("chevron")&&(0,o.jsx)("td",{className:g()(A,q),children:S&&(0,o.jsx)(i.E,{className:"component_browser_component_list--tableRowExpandChevron--v6LgX",onClick:e=>{e.stopPropagation(),ed()},"aria-label":(0,u.t)("dev_handoff.component_browser.chevron_cell_aria_label",{componentName:Z.name}),children:(0,o.jsx)(_.a,{})})})]},Z.node_id)}function eH({libraryKey:e,data:n,selectedComponent:t,onSelectComponent:i,onFileChanged:l,onComponentChanged:d,onConfirmConnection:_,onConfirmSuggestion:m,onValueChange:h,onDeleteMapping:f,updateConnection:v,isLoading:w,isLoadingSuggestions:j,inputRefs:y,searchQuery:C,columns:I,spacing:D="spacious",showExpandChevron:T=!1,showTableHeader:E=!0,showLibraryNames:L=!1,bulkSuggestions:P,location:M,entrypoint:R,selectedRows:B,onRowSelectionChange:z,onBulkConfirmSuggestions:Y,isShowingSideSheet:X,onActiveRowChange:Z,activeRowKey:ee,hasConnections:en,dropdownFilter:es,setDropdownFilter:er,onVisibleItemsChange:ei,expandVisibleItemsBy:ea}){let{Sprig:ec}=(0,x.A)();(0,s.useEffect)(()=>{w||ec("track",S.s)},[w,ec]),(0,eo.G)({data:n,bulkSuggestions:P,location:M,entrypoint:R});let el=0===n.length,ed=(0,s.useRef)(null),e_=(0,p.Te)({count:n.length,getScrollElement:()=>ed.current,estimateSize:()=>85,overscan:5});!function({virtualizer:e,data:n,expandVisibleItemsBy:t,onVisibleItemsChange:o}){let r=(0,s.useRef)(e.isScrolling),i=(0,s.useCallback)(()=>{let o=e.getVirtualItems();if(0===o.length)return[];let s=t??0,r=o[0]?.index??0,i=o[o.length-1]?.index??0,a=Math.max(0,r-s),c=Math.min(n.length-1,i+s),l=[];for(let e=a;e<=c;e++){let t=n[e];void 0!==t&&l.push(t)}return l},[e,n,t]);(0,s.useEffect)(()=>{if(n.length>0){let e=i();o?.(e)}},[n.length,i,o]),(0,s.useEffect)(()=>{let n=r.current,t=e.isScrolling;if(n&&!t){let e=i();o?.(e)}r.current=t},[e.isScrolling,i,o])}({virtualizer:e_,data:n,expandVisibleItemsBy:ea??0,onVisibleItemsChange:ei});let ep=t?(0,N.I)(t):null;return((0,s.useEffect)(()=>{if(ep){let e=n.findIndex(e=>(0,N.I)(e.component)===ep);-1!==e&&e_.scrollToIndex(e,{align:"auto"})}},[ep,n,e_]),w)?(0,o.jsx)("div",{className:F,children:(0,o.jsx)(et,{spacing:D})}):el?en&&"notConnected"===es?(0,o.jsxs)("div",{className:J,children:[(0,o.jsx)("div",{className:"component_browser_component_list--componentsListNothingToConnectTitle--KcQpF",children:(0,u.t)("dev_handoff.component_browser.all_connected")}),(0,o.jsx)("div",{className:"component_browser_component_list--componentsListNothingToConnectSubtext--KH8qp",children:(0,u.t)("dev_handoff.component_browser.all_connected_subtext")})]}):(0,o.jsx)("div",{className:J,children:C.length>0?(0,o.jsx)("span",{children:(0,u.t)("dev_handoff.component_browser.no_components_search_result",{searchQuery:C})}):"suggestionsAvailable"===es&&j?(0,o.jsx)("div",{className:F,children:(0,o.jsx)(et,{spacing:D})}):({connected:{title:"dev_handoff.component_browser.start_connecting_components",description:"dev_handoff.component_browser.start_connecting_components_description",primaryButton:"dev_handoff.component_browser.get_started"},notConnected:{title:"dev_handoff.component_browser.nothing_to_see_here",description:"dev_handoff.component_browser.no_unconnected_components_description"},ignored:{title:"dev_handoff.component_browser.nothing_to_see_here",description:"dev_handoff.component_browser.no_ignored_components_description"}})[es]?(0,o.jsxs)("div",{className:"component_browser_component_list--listEmptyContainer--dR-Bu",children:[(0,o.jsx)("span",{className:"component_browser_component_list--listEmptyContainerTitle--vmnzF",children:(e=>{switch(e){case"connected":return(0,u.t)("dev_handoff.component_browser.start_connecting_components");case"notConnected":case"ignored":return(0,u.t)("dev_handoff.component_browser.nothing_to_see_here");default:return""}})(es)}),(0,o.jsx)("span",{className:"component_browser_component_list--listEmptyContainerSubtext---faOH",children:(e=>{switch(e){case"connected":return(0,u.t)("dev_handoff.component_browser.start_connecting_components_description");case"notConnected":return(0,u.t)("dev_handoff.component_browser.no_unconnected_components_description");case"ignored":return(0,u.t)("dev_handoff.component_browser.no_ignored_components_description");default:return""}})(es)}),(0,o.jsxs)("div",{className:"component_browser_component_list--listEmptyContainerButtons--u3Hms",children:["notConnected"!==es&&(0,o.jsx)(a.N.Button,{variant:"secondary",newTab:!0,href:`${(0,b.TJ)()}/docs/code-connect/code-connect-ui-setup/`,children:(0,u.t)("dev_handoff.component_browser.learn_more")}),"connected"===es&&(0,o.jsx)(c.$n,{variant:"primary",onClick:()=>er?.("all"),children:(0,u.t)("dev_handoff.component_browser.get_started")})]})]}):(0,u.t)("dev_handoff.component_browser.no_results_found")}):(0,o.jsx)("div",{className:"component_browser_component_list--componentsList--jirzp",ref:ed,children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{height:`${e_.getTotalSize()}px`},children:(0,o.jsxs)("table",{"aria-label":(0,u.t)("dev_handoff.component_browser.component_list"),className:g()("component_browser_component_list--componentsListTable--jt-fM",{[K]:"spacious"===D,[O]:"compact"===D}),children:[E&&(0,o.jsx)("thead",{className:g()("component_browser_component_list--componentsListTableHeader--vlnff",{[K]:"spacious"===D,[O]:"compact"===D,[H]:X}),children:(0,o.jsxs)("tr",{className:"component_browser_component_list--componentsListTableHeaderRow--Ki3uc",children:[I.includes("checkbox")&&(0,o.jsx)("th",{scope:"col",className:g()(A,Q),children:(0,o.jsx)(r.W,{checked:!!B&&B.size>0&&B.size===n.length,mixed:!!B&&B.size>0&&B.size<n.length,muted:!0,onChange:e=>{z&&(e?z(new Set(n.map(e=>e.component.node_id))):z(new Set))},id:"select-all-checkbox"})}),I.includes("design")&&(0,o.jsx)("th",{scope:"col",className:g()(A,V),children:(0,o.jsx)("div",{children:(0,u.t)("dev_handoff.component_browser.design_component")})}),I.includes("decorator")&&(0,o.jsx)("th",{scope:"col",className:g()(A,U)}),I.includes("file")&&(0,o.jsx)("th",{scope:"col",className:g()(A,G,{[O]:"compact"===D}),children:(0,o.jsx)("div",{children:(0,u.t)("dev_handoff.component_browser.code_file_column")})}),I.includes("variants")&&(0,o.jsx)("th",{scope:"col",className:g()(A,W),children:(0,o.jsx)("div",{children:(0,u.t)("dev_handoff.component_browser.variants")})}),I.includes("status")&&(0,o.jsx)("th",{scope:"col",className:g()(A,$),children:(0,o.jsx)("div",{children:(0,u.t)("dev_handoff.component_browser.status")})}),I.includes("chevron")&&(0,o.jsx)("th",{scope:"col",className:g()(A,q)})]})}),(0,o.jsx)("tbody",{className:g()("component_browser_component_list--componentsListTableBody--Vm8VO",{[K]:"spacious"===D,[O]:"compact"===D,[H]:X}),children:e_.getVirtualItems().map((s,r)=>{let a=n[s.index];if(!a)return null;let c=P.suggestions[a.assetKey]||[];return(0,o.jsx)(eF,{columns:I,currentRowIndex:s.index,"data-index":s.index,entrypoint:R,inputRefs:y,isLoadingSuggestions:j,isRowActive:ee===a.component.node_id,item:a,libraryKey:e,location:M,onActiveRowChange:Z,onComponentChanged:d,onConfirmConnection:_,onConfirmSuggestion:m,onDeleteMapping:f,onFileChanged:l,onRowSelectionChange:z,onSelectComponent:i,onValueChange:h,selectedComponent:t,selectedRows:B,showExpandChevron:T,showLibraryNames:L,spacing:D,style:{height:`${s.size}px`,transform:`translateY(${s.start-r*s.size}px)`},suggestions:c,updateConnection:v},s.key)})})]})}),(0,o.jsx)(k,{selectedCount:(B??new Set).size,onBulkConnectComponents:()=>{(Y??(()=>{}))({selectedComponents:n.filter(e=>(B??new Set).has(e.component.node_id)),bulkSuggestions:P.suggestions,trackingProps:{location:M,source:"ai_codebase_suggestion",entrypoint:R,sessionId:crypto.randomUUID()}}),z?.(new Set)},onBulkIgnoreComponents:()=>{(Y??(()=>{}))({selectedComponents:n.filter(e=>(B??new Set).has(e.component.node_id)),bulkSuggestions:P.suggestions,trackingProps:{location:M,source:"ai_codebase_suggestion",entrypoint:R,sessionId:crypto.randomUUID()},ignore:!0}),z?.(new Set)},onDismiss:()=>{z?.(new Set)}})]})})}},71268:(e,n,t)=>{t.d(n,{G:()=>r});var o=t(105652),s=t(522568);function r({data:e,bulkSuggestions:n,location:t,entrypoint:r}){let i=(0,o.useRef)(new Set);(0,o.useEffect)(()=>{let o=new Map;for(let t of e)if(t.isSelectedFromSuggestion&&t.sessionId){if(i.current.has(t.sessionId))continue;let e=n.tracking[t.sessionId];e&&o.set(t.sessionId,{componentsWithSuggestionsCount:e.numComponentsWithSuggestions,totalSuggestionsCount:e.totalSuggestionsCount,totalComponentsCount:e.numOfComponents,totalComponentsWithoutSuggestions:e.numComponentsWithoutSuggestions,confidenceScores:e.confidenceScores})}o.forEach((e,n)=>{e.componentsWithSuggestionsCount>0&&(0,s.sx)("component_browser.code_component_inline_suggestions_displayed",{location:"in_context_list_view"===t?"list_view":t,componentBrowserEntrypoint:r,componentsWithSuggestionsCount:e.componentsWithSuggestionsCount,totalSuggestionsCount:e.totalSuggestionsCount,totalComponentsCount:e.totalComponentsCount,totalComponentsWithoutSuggestions:e.totalComponentsWithoutSuggestions,confidenceScores:JSON.stringify(e.confidenceScores),sessionId:n}),i.current.add(n)})},[e,n,t,r])}},781691:(e,n,t)=>{t.r(n),t.d(n,{ComponentBrowserWindowDetailHeader:()=>e4,SLIDE_ANIMATION_DURATION:()=>eZ,default:()=>nn});var o=t(239976),s=t(105652),r=t(942356),i=t(378721),a=t(423407),c=t(517478),l=t(402731),d=t(839733),_=t(23437),p=t(22291),u=t(379141),m=t(270450),h=t(224542),g=t.n(h),f=t(723850),b=t(297331),v=t(964622),x=t(21698),w=t(719749),j=t(610604),y=t(221482),C=t(446125),I=t(395413),k=t(20002),N=t(735786),S=t(796557),D=t(497503),T=t(254056),E=t(943360),L=t(4245),P=t(179189),M=t(524924),R=t(365094),B=t(580664);let O=(0,s.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,o.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M12 16a1 1 0 1 1 0 2 1 1 0 0 1 0-2m0-5a1 1 0 1 1 0 2 1 1 0 0 1 0-2m1-4a1 1 0 1 0-2 0 1 1 0 0 0 2 0",clipRule:"evenodd"})})});var F=t(172871),K=t(109307),H=t(813928),A=t(404269),V=t(312884),U=t(610265),G=t(391596),W=t(77009),$=t(423083),q=t(585066),z=t(485571),J=t(301849),Q=t(587420),Y=t(684603),X=t(494432),Z=t(193397),ee=t(943866),en=t(774480);let et="component_browser_window_push_container--panel--PaU57";function eo({children:e,dataTestId:n,derenderTimeout:t=300,animate:r,animationDuration:i=200}){let a=s.useMemo(()=>e.flat().filter(e=>!!e),[e]),c=a.length-1,l=(0,ee.ZC)(c),d=(0,ee.ZC)(a),[_,p]=s.useState([]),u=(0,Z.$)(c);s.useLayoutEffect(function(){u&&(void 0!==l&&d&&l>c?(p(d.slice(c+1)),null!==t&&setTimeout(()=>p([]),t)):l!==c&&p([]))},[e,t,c,u,d,l]);let m=s.useMemo(()=>a.concat(_),[a,_]),h=s.useMemo(()=>{let e=(0,X.decimalToPercent)(-c),n=`translateX(${e})`;return{transform:n,WebkitTransform:n,width:"100%",height:"100%",transition:r?`transform ${i}ms ease-in-out`:"none"}},[c,r,i]);return(0,o.jsx)("div",{style:h,className:"component_browser_window_push_container--container--YE-41",children:m.map((e,s)=>(0,o.jsx)(es,{current:s===c,dataTestId:n,timeout:t,children:e},s))})}function es({children:e,current:n,dataTestId:t,timeout:r}){let i=(0,Z.h)(n),[a,c]=s.useState(!1);s.useLayoutEffect(()=>{i&&(n||null===r?c(!1):setTimeout(()=>{c(!0)},r))},[n,i,r]);let l={width:"100%",height:"100%"};return(0,o.jsx)(en.H,{isHidden:!n,children:(0,o.jsx)("div",{"aria-hidden":!n,style:l,className:et,"data-testid":n?t??"push-container-current-panel":void 0,children:(0,o.jsx)("div",{style:{...l,display:a?"none":void 0},className:et,children:e})})})}var er=t(892925),ei=t(450207),ea=t(617852),ec=t(223487),el=t(276571),ed=t(985791),e_=t(319349),ep=t(236410),eu=t(865420);let em="github_settings_popover--githubContentWrapper--Hrovt",eh="github_settings_popover--githubConnectedHeading--UWzGt",eg="github_settings_popover--githubConnectedHeadingRow--9v-5t",ef="github_settings_popover--githubConnectedItemRow--fkXtd",eb="github_settings_popover--itemText--gdArG",ev="github_settings_popover--githubBody--aWTF6",ex="github_settings_popover--libraryRow--AExIY",ew="github_settings_popover--currentFileSettingsHeader--usxd3",ej="github_settings_popover--libraryName--YQUQR",ey="github_settings_popover--ingestionDetail--oeCaR";function eC({handleManageGitHub:e}){let{getTriggerProps:n,manager:t}=N.b();return(0,o.jsxs)(N.bL,{manager:t,children:[(0,o.jsx)(S.d,{"aria-label":(0,u.t)("dev_handoff.component_browser.github_settings.more_options"),variant:"ghost",...n(),children:(0,o.jsx)(L.J,{})}),(0,o.jsx)(N.mc,{children:(0,o.jsx)(N.q7,{onClick:e,children:(0,u.t)("dev_handoff.component_browser.settings.open_in_github")})})]})}function eI({libraryKey:e,name:n,leadingButton:t,actionButton:s,additionalClassName:r}){return(0,o.jsxs)("div",{className:g()(ex,r),children:[t,(0,o.jsx)(P.l,{}),(0,o.jsx)("span",{className:ej,children:n}),(0,o.jsx)(eE,{libraryKey:e}),s]})}function ek({libraryKey:e,canEdit:n,onSelectLibrary:t}){let s=(0,ed.B)(e).unwrapOr(null),r=(0,ea.b)({libraryKey:e,isDevHandoff:!0,isDevModeComponentBrowser:!0,showGithubPopover:!0}),a=(0,k.wA)(),c=n&&t?(0,o.jsx)(i.K,{"aria-label":(0,u.t)("dev_handoff.component_browser.github_settings.go_to_settings"),onClick:t,children:(0,o.jsx)(M.a,{})}):(0,o.jsx)(i.K,{"aria-label":(0,u.t)("dev_handoff.component_browser.github_settings.go_to_library"),onClick:()=>{let e=r.data?.link;e&&a(z.V3({url:e}))},children:(0,o.jsx)(R.V,{})});return(0,o.jsx)(eI,{libraryKey:e,name:s,actionButton:c})}function eN({externalLibraryKeysInFile:e,canEditForCurrentFile:n,onSelectCurrentFile:t,onSelectExternalLibrary:r,libraryKey:a}){let c=s.useMemo(()=>Array.from(e),[e]),l=function(e){let n=s.useMemo(()=>e.map(e=>({libraryKey:e})),[e]),t=(0,w.p)(j.iAs,n,{enabled:e.length>0});return s.useMemo(()=>{let e=new Map;return t.forEach(({args:n,result:t})=>{let o=t.data?.libraryKeyToFile?.fileCanAccess?.canEditV3??!1;e.set(n.libraryKey,o)}),e},[t])}(c);return(0,o.jsxs)("div",{children:[n&&(0,o.jsx)(eI,{libraryKey:a,name:(0,u.t)("dev_handoff.component_browser.github_settings.this_file"),actionButton:(0,o.jsx)(i.K,{"aria-label":(0,u.t)("dev_handoff.component_browser.github_settings.go_to_settings"),onClick:t,children:(0,o.jsx)(M.a,{})})}),c.map(e=>(0,o.jsx)(ek,{libraryKey:e,canEdit:l.get(e)??!1,onSelectLibrary:()=>{r(e)}},e))]})}function eS({position:e,getContainerProps:n,libraryKey:t,externalLibraryKeysInFile:r,scope:i}){let a=(0,v.OG)(t),[c,l]=(0,s.useState)(null),d=(0,s.useCallback)(()=>{(0,V.FJ)((0,Y.D)())},[]),_=s.useMemo(()=>[t,...r],[t,r]),[p]=(0,G.IT)((0,Q.YU)({libraryKeys:_}),{enabled:_.length>0}),m=a?.selectedRepositories?.[0],{directories:h}=(0,J.v)({libraryKey:t,repositoryId:m?.id||""}),f=a.status===v.w6.Connected&&h.length,b="page_or_selection"===i&&r.size>0,{title:x,accountType:w}=(0,s.useMemo)(()=>{let e="loaded"===p.status?p.data?.libraries:null;if(!e)return{title:(0,u.t)("dev_handoff.component_browser.github_settings.title")};let n=new Map;if(!c){let t=new Set;for(let o of _){let s=e[o]?.installation;if(!s?.owner)return{title:(0,u.t)("dev_handoff.component_browser.github_settings.title")};t.add(s.owner),n.set(s.owner,s.account_type)}if(1===t.size){let[e]=t;return{title:e??(0,u.t)("dev_handoff.component_browser.github_settings.title"),accountType:e?n.get(e):void 0}}}if(c){let n=e[c]?.installation;if(n?.owner)return{title:n.owner??(0,u.t)("dev_handoff.component_browser.github_settings.title"),accountType:n.account_type}}return{title:(0,u.t)("dev_handoff.component_browser.github_settings.title")}},[p,_,c]);return(0,o.jsxs)(D.mc,{...n(),className:"github_settings_popover--container--KFTOG",style:{top:`${e.y+24+8}px`,left:`${e.x+e.width-320}px`,width:"320px"},children:[(0,o.jsxs)("div",{className:g()("github_settings_popover--githubDialogHeader--H6f6r",{"github_settings_popover--bordered--wsbq4":b||f}),children:[(0,o.jsxs)("div",{className:"github_settings_popover--githubDialogHeaderLeft--JT-c4",children:[(0,o.jsx)("div",{className:"github_settings_popover--githubDialogHeaderLogo--8fUBF",children:(0,o.jsx)($.f,{})}),(0,o.jsxs)("div",{className:"github_settings_popover--githubDialogHeaderTitle--89IJ0",children:[x,(w===eu.Z.Organization||w===eu.Z.User)&&(0,o.jsx)("span",{className:"github_settings_popover--githubDialogHeaderAccountType--rq9JN",children:w===eu.Z.Organization?(0,u.t)("dev_handoff.component_browser.github_settings.organization_account_type"):(0,u.t)("dev_handoff.component_browser.github_settings.user_account_type")})]})]}),(0,o.jsxs)("div",{className:"github_settings_popover--githubDialogHeaderRight--ui9QE",children:[!b&&(0,o.jsx)(eE,{libraryKey:t}),a.status===v.w6.Connected&&(0,o.jsx)(eC,{handleManageGitHub:d})]})]}),b?(0,o.jsx)(eD,{externalLibraryKeysInFile:r,libraryKey:t,setSelectedLibraryKey:l,selectedLibraryKey:c}):(0,o.jsx)(eP,{libraryKey:t,page:"single-library"})]})}function eD({externalLibraryKeysInFile:e,libraryKey:n,setSelectedLibraryKey:t,selectedLibraryKey:r}){let a=(0,ec.q5)(),c=(0,er.Yg)(a),l=r===n,_=null!==r&&r!==n,p=(0,s.useMemo)(()=>{let s=[(0,o.jsx)(eN,{externalLibraryKeysInFile:e,canEditForCurrentFile:c,onSelectCurrentFile:()=>t(n),onSelectExternalLibrary:t,libraryKey:n},"library-github-settings-select")];return l?s.push((0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:g()(ex,ew),children:[(0,o.jsx)(i.K,{"aria-label":(0,u.t)("dev_handoff.component_browser.github_settings.go_back"),onClick:()=>t(null),children:(0,o.jsx)(d.t,{})}),(0,o.jsx)("span",{className:ej,children:(0,u.t)("dev_handoff.component_browser.github_settings.this_file")}),(0,o.jsx)(eE,{libraryKey:n})]}),(0,o.jsx)(eP,{libraryKey:n,page:"multi-library"})]},"current-file-github-settings")):_&&r&&s.push((0,o.jsx)(eT,{libraryKey:r,onGoBack:()=>t(null)},"external-library-github-settings")),s},[c,e,n,r,t,l,_]);return(0,o.jsx)(eo,{animate:!0,derenderTimeout:300,children:p})}function eT({libraryKey:e,onGoBack:n}){let t=(0,ed.B)(e).unwrapOr(null);return(0,o.jsxs)("div",{children:[(0,o.jsx)(eI,{libraryKey:e,name:t,leadingButton:(0,o.jsx)(i.K,{"aria-label":(0,u.t)("dev_handoff.component_browser.github_settings.go_back"),onClick:n,children:(0,o.jsx)(d.t,{})}),additionalClassName:ew}),(0,o.jsx)(eP,{libraryKey:e,page:"multi-library"})]})}function eE({libraryKey:e}){let n=(0,v.s7)({libraryKey:e});return n?(0,o.jsx)(a.E,{variant:n.badgeVariant,children:n.statusString}):null}var eL=(e=>(e.SingleLibrary="single-library",e.MultiLibrary="multi-library",e))(eL||{});function eP({libraryKey:e,page:n}){let t=(0,f.hC)(),i=function(){let e=(0,k.wA)(),n=(0,k.d4)(e=>e.selectedView);return(0,s.useCallback)((t,o)=>{"fullscreen"===n.view&&e((0,ei.sf)({...n,showDevModeComponentBrowser:!1,showComponentBrowserGitHubSettings:!0,showComponentBrowserGitHubPopover:!1,githubRepositorySelectorMode:t,githubSettingsLibraryKey:o??n.githubSettingsLibraryKey}))},[e,n])}(),a=(0,v.OG)(e),c=a?.selectedRepositories?.[0],l=(0,G.n_)(Q.cQ),d=(0,s.useCallback)(()=>{(0,V.FJ)((0,Y.D)())},[]),_=(0,s.useCallback)(()=>{i(e_.e6.REPO_SELECTOR,e)},[i,e]),p=(0,s.useCallback)(()=>{i(e_.e6.DIRECTORY_SELECTOR,e),t("component_browser.clicked_change_directories",{location:"options_menu"})},[i,t,e]),h=(0,s.useCallback)(()=>{c?.id&&l.mutate({libraryKey:e,repositoryId:c.id})},[l,e,c?.id]),b=(0,v.s7)({libraryKey:e}),x=(0,s.useCallback)(()=>{i(e_.e6.INITIAL_SETUP,e)},[i,e]),w=s.useMemo(()=>{switch(a.status){case v.w6.Connected:return p;case v.w6.NeedsInfo:return _;case v.w6.Pending:return d;case v.w6.NotSetup:default:return x}},[p,_,d,x,a.status]),j=a?.queryStatus===W.H.LOADING,{directories:y,isLoading:C}=(0,J.v)({libraryKey:e,repositoryId:c?.id||""}),I=a.status===v.w6.Connected&&(y.length>0||(0,m.kc)().dt_component_browser_improved_suggestions),N=s.useMemo(()=>j||C||!b?(0,o.jsx)("div",{className:g()(em,{"github_settings_popover--padded--dkldx":"multi-library"===n}),children:(0,o.jsx)("div",{className:"github_settings_popover--spinnerWrapper--oIDzL",children:(0,o.jsx)(q.k,{size:"lg"})})}):I?(0,o.jsx)(eR,{libraryKey:e,library:a,directories:y,handleChangeRepository:_,handleChangeDirectories:p,handleRemoveRepository:h}):!1===b.showBody?null:(0,o.jsxs)("div",{className:g()(em,{"github_settings_popover--multiLibrary--fuxju":"multi-library"===n}),children:[(0,o.jsx)("div",{className:"github_settings_popover--githubHeading--ru3lK",children:b.heading}),(0,o.jsx)("div",{className:ev,children:b.body}),(0,o.jsx)(r.IK,{variant:"secondary",onClick:w,children:b.cta})]}),[j,C,n,w,b,a,y,_,p,h,I,e]),S=(0,v.Pw)();return(0,o.jsxs)(o.Fragment,{children:[N,a.status===v.w6.Pending&&S&&(0,o.jsx)("div",{className:"github_settings_popover--footer--J6dhf",children:(0,u.tx)("dev_handoff.component_browser.github_settings.connected.find_admins",{link:(0,o.jsx)(T.N,{href:S,newTab:!0,children:(0,u.t)("dev_handoff.component_browser.github_settings.connected.find_admins_link_text")})})})]})}function eM({directories:e}){let[n,t]=(0,s.useState)(!1),r=e.length>4,i=n?e:e.slice(0,4),a=e.length-4;return(0,o.jsxs)(o.Fragment,{children:[i.map((e,n)=>(0,o.jsxs)("div",{className:ef,children:[(0,o.jsx)(B.e,{})," ",(0,o.jsx)("span",{className:eb,children:e})]},n)),r&&!n&&(0,o.jsxs)(E.E,{className:"github_settings_popover--showMoreDirectoriesButton--gb7Rc",onClick:()=>t(!0),children:[(0,o.jsx)(O,{}),(0,u.t)("dev_handoff.component_browser.github_settings.connected.show_more_directories",{count:a})]})]})}function eR({libraryKey:e,library:n,directories:t,handleChangeRepository:s,handleChangeDirectories:i,handleRemoveRepository:a}){let c=n?.selectedRepositories?.[0],l=n?.availableRepositories?.length&&n.availableRepositories.length>1,{getTriggerProps:d,manager:_}=N.b(),{getTriggerProps:p,manager:h}=N.b(),[f]=(0,G.IT)((0,Q.wP)(e)),b=(0,m.kc)().dt_component_browser_improved_suggestions&&"loaded"===f.status&&f.data&&t.length>0;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:g()(em,{"github_settings_popover--withIndexingStatus--Oeikx":b}),children:[(0,o.jsxs)("div",{className:eg,children:[(0,o.jsx)("h2",{className:eh,children:(0,u.t)("dev_handoff.component_browser.github_settings.connected.repository")}),l&&(0,o.jsxs)(N.bL,{manager:_,children:[(0,o.jsx)(S.d,{"aria-label":(0,u.t)("dev_handoff.component_browser.github_settings.more_options"),variant:"ghost",...d(),children:(0,o.jsx)(L.J,{})}),(0,o.jsxs)(N.mc,{children:[(0,o.jsx)(N.q7,{onClick:s,children:(0,u.t)("dev_handoff.component_browser.settings.change_repository")}),(0,o.jsx)(N.q7,{onClick:a,children:(0,u.t)("dev_handoff.component_browser.settings.remove_repository")})]})]})]}),(0,o.jsxs)("div",{className:ef,children:[(0,o.jsx)(F.v,{})," ",(0,o.jsx)("span",{className:eb,children:c?.name})]}),t.length>0?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:eg,children:[(0,o.jsx)("h2",{className:eh,children:(0,u.t)("dev_handoff.component_browser.github_settings.connected.directories")}),(0,o.jsxs)(N.bL,{manager:h,children:[(0,o.jsx)(S.d,{"aria-label":(0,u.t)("dev_handoff.component_browser.github_settings.more_options"),variant:"ghost",...p(),children:(0,o.jsx)(L.J,{})}),(0,o.jsx)(N.mc,{children:(0,o.jsx)(N.q7,{onClick:i,children:(0,u.t)("dev_handoff.component_browser.settings.change_github_directories")})})]})]}),(0,o.jsx)(eM,{directories:t})]}):(0,m.kc)().dt_component_browser_improved_suggestions&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:eg,children:(0,o.jsx)("h2",{className:eh,children:(0,u.t)("dev_handoff.component_browser.github_settings.connected.directories")})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:ev,children:(0,u.t)("dev_handoff.component_browser.github_settings.body.add_directories_cta")}),(0,o.jsx)(r.IK,{variant:"secondary",onClick:i,children:(0,u.t)("dev_handoff.component_browser.github_settings.cta.connected")})]})]})]}),b&&(0,o.jsx)("div",{className:"github_settings_popover--indexingStatusContainer--oyGxS",children:(0,o.jsx)(eB,{completedAt:f.data?.completed_at,ingestionStatus:f.data?.ingestion_status})})]})}function eB({completedAt:e,ingestionStatus:n}){switch(n){case"completed":let t=(e=>{let n;if(!e)return(0,u.t)("dev_handoff.component_browser.github_settings.indexing_completed");let t=(0,U.A)(e),o=(0,U.A)(),s=o.startOf("day").diff(t.startOf("day"),"day"),r=t.format("h.mma").toLowerCase();return n=0===s?(0,u.t)("dev_handoff.component_browser.github_settings.indexing_today"):1===s?(0,u.t)("dev_handoff.component_browser.github_settings.indexing_yesterday"):t.year()===o.year()?t.format("MMM D"):t.format("MMM D, YYYY"),(0,u.t)("dev_handoff.component_browser.github_settings.indexing_completed_at",{date:n,time:r})})(e);return(0,o.jsxs)("div",{className:ey,children:[(0,o.jsx)(K.g,{className:"github_settings_popover--ingestionCompletedIcon--ld-eA"}),(0,o.jsx)("span",{children:t})]});case"in_progress":return(0,o.jsxs)("div",{className:ey,children:[(0,o.jsx)(q.k,{size:"sm"}),(0,o.jsx)("span",{children:(0,u.t)("dev_handoff.component_browser.github_settings.indexing_in_progress")})]});case"failed":return(0,o.jsxs)("div",{className:ey,children:[(0,o.jsx)(H.i,{className:"github_settings_popover--ingestionFailedIcon--SnA-M"}),(0,o.jsx)("span",{children:(0,u.t)("dev_handoff.component_browser.github_settings.indexing_failed")})]});case"not_connected":return(0,o.jsx)("span",{children:(0,u.t)("dev_handoff.component_browser.github_settings.indexing_not_connected")})}}function eO({libraryKey:e,externalLibraryKeysInFile:n,scope:t}){let i=s.useRef(null),[a,c]=function(){let e=(0,el._6)(),n=e.showComponentBrowserGitHubPopover||!1,t=(0,k.wA)();return[n,(0,s.useCallback)(n=>{t((0,ei.sf)({...e,showComponentBrowserGitHubPopover:n}))},[e,t])]}(),{getTriggerProps:l,getContainerProps:d}=D.fP({isOpen:a,onOpenChange:c,type:"menu",softDismiss:!0}),_=(0,v.OG)(e);if(_.status===v.w6.Error){let e=_.errorMessage??(0,u.t)("dev_handoff.component_browser.github_settings.error_getting_information");return(0,o.jsx)(r.$n,{disabled:!0,iconPrefix:(0,o.jsx)(A.n,{}),"aria-label":e,"data-tooltip":e,"data-tooltip-type":ep.Ib.TEXT,children:(0,u.t)("dev_handoff.component_browser.github_settings.cta.not_setup")})}let p=_.status===v.w6.NeedsInfo||_.status===v.w6.Pending,m=_.status===v.w6.NotSetup;return _.isInstallationStatusLoaded?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"github_settings_popover--settingsButtonContainer--lI-2N",ref:i,children:[m?(0,o.jsx)(r.$n,{iconPrefix:(0,o.jsx)(A.n,{}),onClick:e=>l().onClick(e),"aria-label":(0,u.t)("dev_handoff.component_browser.github_settings.open_settings"),"aria-haspopup":"menu","aria-expanded":a,"data-tooltip":(0,u.t)("dev_handoff.component_browser.github_settings.open_settings"),"data-tooltip-type":ep.Ib.TEXT,children:(0,u.t)("dev_handoff.component_browser.github_settings.cta.not_setup")}):(0,o.jsx)(S.d,{...l(),"aria-label":(0,u.t)("dev_handoff.component_browser.settings"),"data-tooltip":(0,u.t)("dev_handoff.component_browser.github_settings.cta.not_setup"),"data-tooltip-type":ep.Ib.TEXT,children:(0,o.jsx)(A.n,{})}),p&&(0,o.jsx)("div",{className:"github_settings_popover--warningIcon--htraz"})]}),(0,o.jsx)(eS,{externalLibraryKeysInFile:n,getContainerProps:d,position:i.current?.getBoundingClientRect()??{y:0,x:0,width:0,height:0},libraryKey:e,scope:t})]}):null}var eF=t(652154),eK=t(598066),eH=t(776888),eA=t(456556),eV=t(207742),eU=t(321204),eG=t(270166),eW=t(565699),e$=t(177102),eq=t(288350),ez=t(141692),eJ=t(505846);function eQ({currentSort:e,onSortChange:n,dropdownFilter:t,setDropdownFilter:s,scope:r}){let i=[{value:"status",label:(0,u.t)("dev_handoff.component_browser.sort_by_status"),disabled:!1},{value:"alphabetically",label:(0,u.t)("dev_handoff.component_browser.sort_alphabetically"),disabled:!1},{value:"insertions",label:(0,u.t)("dev_handoff.component_browser.sort_by_insertions"),disabled:!("file"===r&&(0,m.kc)().dt_component_browser_sort_by_usage)}],a=(0,eJ.sD)(),c=(0,m.kc)().dt_component_browser_bulk_mapping,l=(0,m.kc)().dt_component_browser_inline_suggestions,d=Object.entries(ez.W).filter(([e])=>c||l||"suggestionsAvailable"!==e).map(([e,{value:n}])=>({value:n,label:a[n]}));return(0,o.jsxs)("div",{className:"component_browser_filter_and_sort_by--container--CvkLP",children:[(0,o.jsxs)(e$.Root,{value:t,onChange:e=>{e&&s(e)},children:[(0,o.jsx)(e$.Trigger,{width:"hug",label:(0,o.jsx)(eq.h,{children:(0,u.t)("dev_handoff.component_browser.filter")}),"data-testid":"component_browser_filter"}),(0,o.jsx)(e$.Container,{children:d.map(e=>(0,o.jsx)(e$.Option,{value:e.value,children:e.label},e.value))})]}),(0,o.jsxs)(e$.Root,{value:e,onChange:e=>{e&&n(e)},children:[(0,o.jsx)(e$.Trigger,{width:"hug",label:(0,o.jsx)(eq.h,{children:(0,u.t)("dev_handoff.component_browser.sort")}),"data-testid":"component_browser_sort"}),(0,o.jsx)(e$.Container,{children:i.map(e=>(0,o.jsx)(e$.Option,{value:e.value,disabled:e.disabled,children:e.label},e.value))})]})]})}function eY({searchQuery:e,setSearchQuery:n,dropdownFilter:t,setDropdownFilter:s,sortBy:r,setSortBy:a,scope:c}){return(0,o.jsxs)("div",{className:"component_browser_window_filters--filtersBar--m8o-B",children:[(0,o.jsxs)("div",{className:"component_browser_window_filters--searchBar--iUSr5",children:[(0,o.jsx)(eU.W,{}),(0,o.jsx)(eW.i,{placeholder:(0,u.t)("dev_handoff.component_browser.search_placeholder"),value:e,onChange:e=>{n(e.currentTarget.value)},className:"component_browser_window_filters--searchInput--q28Re text--fontPos11--rO47d text--_fontBase--VaHfk",spellCheck:!1}),!!e&&(0,o.jsx)("div",{children:(0,o.jsx)(i.K,{onClick:()=>n(""),"aria-label":(0,u.t)("dev_handoff.component_browser.clear_search"),"data-tooltip":(0,u.t)("dev_handoff.component_browser.clear_search"),"data-tooltip-type":ep.Ib.TEXT,children:(0,o.jsx)(eG.A,{})})})]}),(0,o.jsx)(eQ,{currentSort:r,onSortChange:a,dropdownFilter:t,setDropdownFilter:s,scope:c})]})}var eX=t(397048);let eZ=200;function e0({activeRowKey:e,canAccessLibrary:n,dropdownFilter:t,filteredComponents:r,inputRefs:i,onActiveRowChange:a,onComponentChanged:c,onConfirmConnection:l,onConfirmSuggestion:d,onDeleteMapping:_,updateConnection:u,onFileChanged:m,onIgnoreMapping:h,onSelectComponent:g,onValueChange:b,openFileLibraryKey:v,queryStatus:x,searchQuery:w,bulkSuggestions:j,entrypoint:y,setDropdownFilter:C,onVisibleItemsChange:k,isLoadingSuggestions:N}){let S=(0,f.hC)(),D=(0,p.l)(v??"");return s.useEffect(()=>{S("component_browser.in_context.window_seen",{componentBrowserEntrypoint:y})},[S,y]),(0,o.jsx)(I.gP,{activeRowKey:e,bulkSuggestions:j,columns:["design","status","file","chevron"],data:r,dropdownFilter:t,entrypoint:y,expandVisibleItemsBy:25,inputRefs:i,isLoading:"loading"===n||"loading"===x,isLoadingSuggestions:N,libraryKey:D,location:"in_context_list_view",onActiveRowChange:a,onComponentChanged:c,onConfirmConnection:l,onConfirmSuggestion:d,onDeleteMapping:_,onFileChanged:m,onSelectComponent:g,onValueChange:b,onVisibleItemsChange:k,searchQuery:w,setDropdownFilter:C,showExpandChevron:!0,showLibraryNames:!0,showTableHeader:!1,spacing:"compact",updateConnection:u})}function e1({displayedComponent:e,shouldAnimate:n,onActiveRowChange:t,onComponentChanged:s,onConfirmConnection:r,onConfirmSuggestion:i,onDeleteMapping:a,updateConnection:c,onFileChanged:l,onIgnoreMapping:d,onSelectComponent:_,onValueChange:u,onUpdateUserRules:m,openFileLibraryKey:h,entrypoint:g,suggestions:f,isLoadingSuggestions:b}){let x=(0,p.l)(h??""),w=(0,v.OG)(x),j=w?.selectedRepositories[0]?.id;return(0,o.jsx)(C.o,{data:e,entrypoint:g,isLoadingSuggestions:b,isWindowed:!0,onActiveRowChange:t,onClose:()=>_(null),onComponentChanged:s,onConfirmConnection:r,onConfirmSuggestion:i,onDeleteMapping:a,onFileChanged:l,onIgnoreMapping:d,onUpdateUserRules:m,onValueChange:u,repositoryId:j,shouldAnimate:n,sourceIndex:e?.sourceIndex,suggestions:f,updateConnection:c})}var e2=(e=>(e.list="list",e.detail="detail",e))(e2||{});function e5({breadcrumbs:e}){return(0,o.jsx)("nav",{"aria-label":(0,u.t)("dev_handoff.component_browser.breadcrumb_aria_label"),className:eX.DD,children:(0,o.jsx)("ol",{className:eX.mq,children:e.map((n,t)=>(0,o.jsxs)("li",{className:g()(eX.QF,t===e.length-1&&eX.HV),"aria-current":t===e.length-1?"page":void 0,children:[t>0&&(0,o.jsx)(l.k,{className:eX.Vh}),(0,o.jsx)("span",{className:eX.b,children:n})]},`${n}-${t}`))})})}function e6({componentCounts:e,scope:n,libraryKey:t,externalLibraryKeysInFile:i}){let a=(0,eH.nn)(),c=function(){let e=(0,eK.hA)(),n=(0,eF.Tv)(),t=e||n?.[0]||null;return(0,eA.Fk)((e,n)=>{let t=e.get(n??"");return t?.type==="SECTION"||t?.type==="FRAME"?t.name:null},t)}(),l=(0,s.useMemo)(()=>{let e=[(0,u.t)("dev_handoff.component_browser.title")];return"file"===n?e.push((0,u.t)("dev_handoff.component_browser.all_pages_title")):(e.push(a??(0,u.t)("dev_handoff.component_browser.title.this_page")),"page_or_selection"===n&&c&&e.push(c)),e},[a,c,n]),{isSuggestionsDebugUngated:d,showSuggestionsDebug:_,setShowSuggestionsDebug:p}=(0,y.D)();return(0,o.jsxs)("div",{className:eX.gn,children:[(0,o.jsx)(e5,{breadcrumbs:l}),(0,o.jsxs)("div",{className:eX.Q$,children:[d&&(0,o.jsxs)(r.$n,{variant:"secondary",onClick:()=>{p(!_)},children:[_?"Hide":"Show"," Suggestions Debug"]}),(0,o.jsx)(eV.O,{componentCounts:e}),(0,m.kc)().dt_github_app&&(0,o.jsx)("div",{className:eX.jI,children:(0,o.jsx)(eO,{libraryKey:t,externalLibraryKeysInFile:i,scope:n})})]})]})}function e4({onSelectComponent:e,selectedComponent:n}){return(0,o.jsxs)("div",{className:eX.gn,children:[(0,o.jsx)(i.K,{"aria-label":(0,u.t)("dev_handoff.component_browser.close_component_browser"),onClick:()=>e(null),children:(0,o.jsx)(d.t,{})}),(0,o.jsx)("h1",{className:eX.DD,tabIndex:0,children:n.name}),(0,o.jsx)(e7,{component:n})]})}function e7({component:e}){switch(e.code_connect_info.v1.state){case"connected":let n=e.code_connect_info.v1,t=n.author_name&&n.created_at?(0,u.t)("dev_handoff.component_browser.connected_tooltip",{date:new Date(n.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),author:n.author_name}):(0,u.t)("dev_handoff.component_browser.connected");return(0,o.jsx)(a.E,{variant:"componentOutline","data-tooltip-type":ep.Ib.TEXT,"data-tooltip":t,children:(0,u.t)("dev_handoff.component_browser.connected")});case"not_connected":return(0,o.jsx)(a.E,{variant:"inactiveOutline",children:(0,u.t)("dev_handoff.component_browser.not_connected_to_code")});case"ignored":return(0,o.jsx)(a.E,{variant:"inactiveOutline",children:(0,u.t)("dev_handoff.component_browser.no_code_equivalent")});default:return null}}function e3({onBulkConfirmSuggestions:e,suggestionsAvailableComponents:n,filteredComponents:t,bulkSuggestions:s,dropdownFilter:i,setDropdownFilter:a,entrypoint:l}){return"bulk_suggestions"===function({suggestionsAvailableComponents:e}){return(0,m.kc)().dt_component_browser_bulk_mapping&&e.length>0?"bulk_suggestions":null}({suggestionsAvailableComponents:n})?(0,o.jsxs)(c.wi,{children:[(0,o.jsxs)("div",{className:eX.KB,children:[(0,o.jsx)(_.N,{}),(0,o.jsx)("span",{children:(0,u.t)("dev_handoff.component_browser.possible_matches",{count:n.length})})]}),(0,o.jsx)(c.jk,{children:(0,o.jsx)(r.$n,{variant:"secondary",onClick:()=>{e({selectedComponents:t,bulkSuggestions:s,trackingProps:{location:"in_context_list_view",source:"ai_codebase_suggestion",entrypoint:l}}),("suggestionsAvailable"===i||"notConnected"===i)&&a("connected")},children:(0,u.t)("dev_handoff.component_browser.confirm_all_matches")})})]}):null}function e9({scope:e,entrypoint:n,listState:t}){let r=(0,ec._G)(),i=r??(0,p.l)(""),{activeRowKey:a,displayedComponent:l,inputRefs:d,status:_,onFileChanged:u,onComponentChanged:m,onActiveRowChange:h,onConfirmConnection:g,onConfirmSuggestion:f,onBulkConfirmSuggestions:b,onValueChange:v,onUpdateUserRules:x,onDisplayedComponentChanged:y,externalLibraryKeysInFile:C,onDeleteMapping:I,onIgnoreMapping:k,updateConnection:N,filteredComponents:S,searchQuery:D,setSearchQuery:T,sortBy:E,setSortBy:L,dropdownFilter:P,setDropdownFilter:M,componentCounts:R,bulkSuggestions:B,suggestionsAvailableComponents:O,isLoadingSuggestions:F,onVisibleItemsChange:K}=t,H=(0,el._6)(),A=function(e){let n=(0,w.bc)((0,j.iAs)({libraryKey:e??""}),{enabled:!!e});return!!e&&"errors"!==n.status&&("loading"===n.status?"loading":!!n.data?.libraryKeyToFile?.fileCanAccess)}(i??(0,p.l)("")),V=s.useRef(H.componentKey),[U,G]=s.useState(!1);s.useEffect(()=>{H.componentKey!==V.current&&G(!0)},[H.componentKey]);let W=!V.current||U,$=l&&!0===A?"detail":"list",q=(0,s.useMemo)(()=>{let t=[];return t.push((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eY,{searchQuery:D,setSearchQuery:T,dropdownFilter:P,setDropdownFilter:M,sortBy:E,setSortBy:L,scope:e}),(0,o.jsx)(e0,{activeRowKey:a,bulkSuggestions:B,canAccessLibrary:A,dropdownFilter:P,entrypoint:n,filteredComponents:S,inputRefs:d,isLoadingSuggestions:F,onActiveRowChange:h,onComponentChanged:m,onConfirmConnection:g,onConfirmSuggestion:f,onDeleteMapping:I,onFileChanged:u,onIgnoreMapping:k,onSelectComponent:y,onValueChange:v,onVisibleItemsChange:K,openFileLibraryKey:r,queryStatus:_,searchQuery:D,setDropdownFilter:M,updateConnection:N},"list-view")]})),"detail"===$&&l&&t.push((0,o.jsx)(e1,{displayedComponent:l,entrypoint:n,isLoadingSuggestions:F,onActiveRowChange:h,onComponentChanged:m,onConfirmConnection:g,onConfirmSuggestion:f,onDeleteMapping:I,onFileChanged:u,onIgnoreMapping:k,onSelectComponent:y,onUpdateUserRules:x,onValueChange:v,openFileLibraryKey:r,shouldAnimate:W,suggestions:B.suggestions[l.assetKey]||[],updateConnection:N},"detail-view")),t},[D,T,P,M,E,L,e,a,B,A,n,S,d,h,m,g,f,I,u,k,y,v,r,_,N,$,l,x,W,K,F]);return(0,o.jsxs)(c.vo,{children:[(0,o.jsx)(c.Y9,{children:"list"===$?(0,o.jsx)(e6,{componentCounts:R,scope:e,libraryKey:i,externalLibraryKeysInFile:C}):l&&(0,o.jsx)(e4,{onSelectComponent:y,selectedComponent:l.component})}),(0,o.jsx)(c.nB,{padding:0,className:eX.O,children:(0,o.jsx)(eo,{animate:W,derenderTimeout:300,animationDuration:eZ,children:q})}),"list"===$&&(0,o.jsx)(e3,{onBulkConfirmSuggestions:b,suggestionsAvailableComponents:O,filteredComponents:S,bulkSuggestions:B.suggestions,dropdownFilter:P,setDropdownFilter:M,entrypoint:n})]})}function e8({entrypoint:e,libraryKey:n,componentKey:t}){let s=(0,b.W)({libraryKey:n,defaultFilter:"all",componentKey:t,entrypoint:e});return(0,o.jsx)(e9,{scope:"file",entrypoint:e,listState:s})}function ne({entrypoint:e,libraryKey:n,componentKey:t}){let s=(0,x.Zh)({libraryKey:n,defaultFilter:"all",componentKey:t,entrypoint:e});return(0,o.jsx)(e9,{scope:"page_or_selection",entrypoint:e,listState:s})}function nn({scope:e,entrypoint:n}){let t=(0,ec._G)()??(0,p.l)(""),s=(0,el._6)();switch(e){case"file":return(0,o.jsx)(e8,{entrypoint:n,libraryKey:t,componentKey:s.componentKey});case"page_or_selection":return(0,o.jsx)(ne,{entrypoint:n,libraryKey:t,componentKey:s.componentKey});default:throw Error(`Unhandled scope: ${e}`)}}}}]);

//# debugId=efd8bd45-fded-5363-9eba-7e75400762a8

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/dc903e616f39b1ad184d48520877c9329a445fea/4391-e5567ba1fc6b4da2.min.js.map